import require$$1$4,{providers as providers$1}from"ethers";import require$$0$5 from"http";import require$$1$3 from"https";import require$$2$3 from"os";class BaseConnector{constructor(ee,te,ne){this._chains={},this._externalAccountChangedHandlers=[],this._externalChainChangedHandlers=[],this._externalDisconnectHandlers=[],this._checkConnectionDelayMs=500,this.name=te,this.logger=ee,ne.forEach(se=>this._chains[se.chainId]=se)}async CheckConnection(){await this.isConnected||(this._timerId&&(clearInterval(this._timerId),this.logger.debug(`${this.name}Connector. CheckConnection stopped`)),this._externalDisconnectHandlers.forEach(ee=>ee(void 0)),this._externalDisconnectHandlers=[])}initListeners(ee){this.logger.debug("initListeners");const te=this;this.accountsChangedHandler=ne=>{this.logger.debug(`${this.name}.accountsChangedHandler`),te._externalAccountChangedHandlers.forEach(se=>se(ne))},this.chainChangedHandler=ne=>{this.logger.debug(`${this.name}.chainChangedHandler`),te._externalChainChangedHandlers.forEach(se=>se(ne))},this.disconnectHandler=ne=>{this.logger.debug(`${this.name}.disconnectHandler ${JSON.stringify(ne)}`),te._externalDisconnectHandlers.forEach(se=>se(ne))},ee.on("accountsChanged",this.accountsChangedHandler),ee.on("chainChanged",this.chainChangedHandler)}removeListeners_(ee){ee.removeListener("accountsChanged",this.accountsChangedHandler),ee.removeListener("chainChanged",this.chainChangedHandler),this._externalAccountChangedHandlers=[],this._externalChainChangedHandlers=[],this._externalDisconnectHandlers=[]}onAccountsChanged(ee){this._externalAccountChangedHandlers.push(ee)}onChainChanged(ee){this._externalChainChangedHandlers.push(ee)}onDisconnect(ee){if(!this._timerId){const te=this;this._timerId=setInterval(()=>te.CheckConnection(),this._checkConnectionDelayMs)}this._externalDisconnectHandlers.push(ee)}async getSigner(){return new providers$1.Web3Provider(await this.getRawProvider()).getSigner()}}const c$2="cur_connector",s$3=()=>{const re=localStorage.getItem(c$2);return re?JSON.parse(re):void 0},a$3=re=>localStorage.setItem(c$2,JSON.stringify(re)),C$2=()=>localStorage.removeItem(c$2);class ConnectorProvider{constructor(ee,te){this.connectorsByName={},this._logger=ee,this.WaitInitialisationAsync=this.InitAsync(te,s$3())}async InitAsync(ee,te){let ne;for(let se=0;se<ee.length;se++){const ie=ee[se];this.connectorsByName[ie.name]=ie,ie.name===te?.name&&await ie.isConnected&&(ne=ie)}ne&&await ne.connect(te.chainId)&&(this._curConnector=ne,this._logger.debug(`Current connector is ${this._curConnector.name}`))}get CurConnector(){return this._curConnector}async connect(ee,te){await this.WaitInitialisationAsync;const ne=this.connectorsByName[te];await ne.connect(ee)&&(a$3({chainId:ee,name:te}),this._curConnector=ne)}async disconnect(){var ee;await((ee=this._curConnector)==null?void 0:ee.disconnect()),C$2(),this._curConnector=void 0}}var ConnectorNames=(re=>(re.Undefined="",re.Injected="Injected",re.WalletConnect="WalletConnect",re.FaceWallet="FaceWallet",re))(ConnectorNames||{});const n$1={UserReject:4001,UnknownChain:4902};class InjectedConnector extends BaseConnector{constructor(ee,te){super(ee,ConnectorNames.Injected,te),this.addEthereumChain=async(ne,se)=>{try{const ie=this._chains[ne],fe=ie.blockExplorer?[ie.blockExplorer]:void 0;await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:se,chainName:ie.name,rpcUrls:[ie.rpcUrl],nativeCurrency:ie.nativeCurrency,blockExplorerUrls:fe}]})}catch(ie){if(ie.code===n$1.UserReject)return!1;throw ie}return!0},this._ethRequestAccounts=void 0,this.isInstalled&&this.initListeners(window.ethereum)}get canSwitchChain(){return!!window.ethereum.isMetaMask}disconnect(){return super.removeListeners_(window.ethereum),Promise.resolve()}async connect(ee){if(this._ethRequestAccounts)return this.logger.debug("InjectedConnector.enable already called"),await this._ethRequestAccounts;this.logger.debug("InjectedConnector.enable"),this._ethRequestAccounts=this.prvEnable();const te=await this._ethRequestAccounts;return this._ethRequestAccounts=void 0,await(await this.getSigner()).getChainId()!==ee&&await this.switchChain(ee),te}async switchChain(ee){const te=`0x${ee.toString(16)}`;try{if(!this._chains[ee])throw new Error(`Chain ${ee} not supported`);await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:te}]})}catch(ne){if(ne.code===n$1.UnknownChain)return await this.addEthereumChain(ee,te);if(ne.code===n$1.UserReject)return!1;throw ne}return!0}get isConnected(){return this.isConnectedAsync()}get isInstalled(){return!!window.ethereum}get installUrl(){return"https://metamask.io/download"}getRawProvider(){return Promise.resolve(window.ethereum)}async prvEnable(){try{await window.ethereum.request({method:"eth_requestAccounts"})}catch(ee){return ee.code===n$1.UserReject?this.logger.warn("Please connect to MetaMask."):this.logger.error(ee),!1}return!0}async isConnectedAsync(){return(await window.ethereum.request({method:"eth_accounts"})).length>0}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(re){var ee=re.default;if(typeof ee=="function"){var te=function(){return ee.apply(this,arguments)};te.prototype=ee.prototype}else te={};return Object.defineProperty(te,"__esModule",{value:!0}),Object.keys(re).forEach(function(ne){var se=Object.getOwnPropertyDescriptor(re,ne);Object.defineProperty(te,ne,se.get?se:{enumerable:!0,get:function(){return re[ne]}})}),te}var cjs$3={},cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getCrypto_1=cjs$2.getCrypto=getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=getLocationOrThrow_1=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindow_1=cjs$2.getFromWindow=void 0;function getFromWindow$1(re){let ee;return typeof window<"u"&&typeof window[re]<"u"&&(ee=window[re]),ee}var getFromWindow_1=cjs$2.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(re){const ee=getFromWindow$1(re);if(!ee)throw new Error(`${re} is not defined in Window`);return ee}var getFromWindowOrThrow_1=cjs$2.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$2.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$2.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$2.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$2.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$2.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$2.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$2.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$2.getLocalStorage=getLocalStorage$1,Object.defineProperty(cjs$3,"__esModule",{value:!0});var getWindowMetadata_1=cjs$3.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let re,ee;try{re=window_getters_1.getDocumentOrThrow(),ee=window_getters_1.getLocationOrThrow()}catch{return null}function te(){const Me=re.getElementsByTagName("link"),Pe=[];for(let Ne=0;Ne<Me.length;Ne++){const je=Me[Ne],Ue=je.getAttribute("rel");if(Ue&&Ue.toLowerCase().indexOf("icon")>-1){const Ce=je.getAttribute("href");if(Ce)if(Ce.toLowerCase().indexOf("https:")===-1&&Ce.toLowerCase().indexOf("http:")===-1&&Ce.indexOf("//")!==0){let Be=ee.protocol+"//"+ee.host;if(Ce.indexOf("/")===0)Be+=Ce;else{const He=ee.pathname.split("/");He.pop(),Be+=He.join("/")+"/"+Ce}Pe.push(Be)}else if(Ce.indexOf("//")===0){const Be=ee.protocol+Ce;Pe.push(Be)}else Pe.push(Ce)}}return Pe}function ne(...Me){const Pe=re.getElementsByTagName("meta");for(let Ne=0;Ne<Pe.length;Ne++){const je=Pe[Ne],Ue=["itemprop","property","name"].map(Ce=>je.getAttribute(Ce)).filter(Ce=>Ce?Me.includes(Ce):!1);if(Ue.length&&Ue){const Ce=je.getAttribute("content");if(Ce)return Ce}}return""}function se(){let Me=ne("name","og:site_name","og:title","twitter:title");return Me||(Me=re.title),Me}function ie(){return ne("description","og:description","twitter:description","keywords")}const fe=se(),ue=ie(),xe=ee.origin,Ee=te();return{description:ue,url:xe,icons:Ee,name:fe}}getWindowMetadata_1=cjs$3.getWindowMetadata=getWindowMetadata;var __spreadArrays=function(){for(var re=0,ee=0,te=arguments.length;ee<te;ee++)re+=arguments[ee].length;for(var ne=Array(re),se=0,ee=0;ee<te;ee++)for(var ie=arguments[ee],fe=0,ue=ie.length;fe<ue;fe++,se++)ne[se]=ie[fe];return ne},BrowserInfo=function(){function re(ee,te,ne){this.name=ee,this.version=te,this.os=ne,this.type="browser"}return re}(),NodeInfo=function(){function re(ee){this.version=ee,this.type="node",this.name="node",this.os=process.platform}return re}(),SearchBotDeviceInfo=function(){function re(ee,te,ne,se){this.name=ee,this.version=te,this.os=ne,this.bot=se,this.type="bot-device"}return re}(),BotInfo=function(){function re(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return re}(),ReactNativeInfo=function(){function re(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return re}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(re){return re?parseUserAgent(re):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(re){return re!==""&&userAgentRules.reduce(function(ee,te){var ne=te[0],se=te[1];if(ee)return ee;var ie=se.exec(re);return!!ie&&[ne,ie]},!1)}function parseUserAgent(re){var ee=matchUserAgent(re);if(!ee)return null;var te=ee[0],ne=ee[1];if(te==="searchbot")return new BotInfo;var se=ne[1]&&ne[1].split(/[._]/).slice(0,3);se?se.length<REQUIRED_VERSION_PARTS&&(se=__spreadArrays(se,createVersionParts(REQUIRED_VERSION_PARTS-se.length))):se=[];var ie=se.join("."),fe=detectOS$1(re),ue=SEARCHBOT_OS_REGEX.exec(re);return ue&&ue[1]?new SearchBotDeviceInfo(te,ie,fe,ue[1]):new BrowserInfo(te,ie,fe)}function detectOS$1(re){for(var ee=0,te=operatingSystemRules.length;ee<te;ee++){var ne=operatingSystemRules[ee],se=ne[0],ie=ne[1],fe=ie.exec(re);if(fe)return se}return null}function getNodeVersion(){var re=typeof process<"u"&&process.version;return re?new NodeInfo(process.version.slice(1)):null}function createVersionParts(re){for(var ee=[],te=0;te<re;te++)ee.push("0");return ee}function detectEnv(re){return detect(re)}function detectOS(){const re=detectEnv();return re&&re.os?re.os:void 0}function isAndroid(){const re=detectOS();return re?re.toLowerCase().includes("android"):!1}function isIOS(){const re=detectOS();return re?re.toLowerCase().includes("ios")||re.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function isNode$2(){const re=detectEnv();return re&&re.name?re.name.toLowerCase()==="node":!1}function isBrowser$1(){return!isNode$2()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(re){if(typeof re!="string")throw new Error(`Cannot safe json parse value of type ${typeof re}`);try{return JSON.parse(re)}catch{return re}}function safeJsonStringify$1(re){return typeof re=="string"?re:JSON.stringify(re)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(re,ee){const te=safeJsonStringify(ee),ne=getLocalStorage();ne&&ne.setItem(re,te)}function getLocal(re){let ee=null,te=null;const ne=getLocalStorage();return ne&&(te=ne.getItem(re)),ee=te&&safeJsonParse(te),ee}function removeLocal(re){const ee=getLocalStorage();ee&&ee.removeItem(re)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(re,ee){const te=encodeURIComponent(re);return ee.universalLink?`${ee.universalLink}/wc?uri=${te}`:ee.deepLink?`${ee.deepLink}${ee.deepLink.endsWith(":")?"//":"/"}wc?uri=${te}`:""}function saveMobileLinkInfo(re){const ee=re.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},re),{href:ee}))}function getMobileRegistryEntry(re,ee){return re.filter(te=>te.name.toLowerCase().includes(ee.toLowerCase()))[0]}function getMobileLinkRegistry(re,ee){let te=re;return ee&&(te=ee.map(ne=>getMobileRegistryEntry(re,ne)).filter(Boolean)),te}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(re,ee="mobile"){var te;return{name:re.name||"",shortName:re.metadata.shortName||"",color:re.metadata.colors.primary||"",logo:(te=re.image_url.sm)!==null&&te!==void 0?te:"",universalLink:re[ee].universal||"",deepLink:re[ee].native||""}}function formatMobileRegistry(re,ee="mobile"){return Object.values(re).filter(te=>!!te[ee].universal||!!te[ee].native).map(te=>formatMobileRegistryEntry(te,ee))}var esm=Object.freeze({__proto__:null,detectEnv,detectOS,isAndroid,isIOS,isMobile,isNode:isNode$2,isBrowser:isBrowser$1,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry});const reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn$5={exports:{}},_nodeResolve_empty={},nodeCrypto=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$0$4=getAugmentedNamespace(nodeCrypto);(function(re){(function(ee,te){function ne(Qe,Se){if(!Qe)throw new Error(Se||"Assertion failed")}function se(Qe,Se){Qe.super_=Se;var $e=function(){};$e.prototype=Se.prototype,Qe.prototype=new $e,Qe.prototype.constructor=Qe}function ie(Qe,Se,$e){if(ie.isBN(Qe))return Qe;this.negative=0,this.words=null,this.length=0,this.red=null,Qe!==null&&((Se==="le"||Se==="be")&&($e=Se,Se=10),this._init(Qe||0,Se||10,$e||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{fe=require$$0$4.Buffer}catch{}ie.isBN=function(Se){return Se instanceof ie?!0:Se!==null&&typeof Se=="object"&&Se.constructor.wordSize===ie.wordSize&&Array.isArray(Se.words)},ie.max=function(Se,$e){return Se.cmp($e)>0?Se:$e},ie.min=function(Se,$e){return Se.cmp($e)<0?Se:$e},ie.prototype._init=function(Se,$e,pe){if(typeof Se=="number")return this._initNumber(Se,$e,pe);if(typeof Se=="object")return this._initArray(Se,$e,pe);$e==="hex"&&($e=16),ne($e===($e|0)&&$e>=2&&$e<=36),Se=Se.toString().replace(/\s+/g,"");var oe=0;Se[0]==="-"&&oe++,$e===16?this._parseHex(Se,oe):this._parseBase(Se,$e,oe),Se[0]==="-"&&(this.negative=1),this.strip(),pe==="le"&&this._initArray(this.toArray(),$e,pe)},ie.prototype._initNumber=function(Se,$e,pe){Se<0&&(this.negative=1,Se=-Se),Se<67108864?(this.words=[Se&67108863],this.length=1):Se<4503599627370496?(this.words=[Se&67108863,Se/67108864&67108863],this.length=2):(ne(Se<9007199254740992),this.words=[Se&67108863,Se/67108864&67108863,1],this.length=3),pe==="le"&&this._initArray(this.toArray(),$e,pe)},ie.prototype._initArray=function(Se,$e,pe){if(ne(typeof Se.length=="number"),Se.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Se.length/3),this.words=new Array(this.length);for(var oe=0;oe<this.length;oe++)this.words[oe]=0;var ce,le,ge=0;if(pe==="be")for(oe=Se.length-1,ce=0;oe>=0;oe-=3)le=Se[oe]|Se[oe-1]<<8|Se[oe-2]<<16,this.words[ce]|=le<<ge&67108863,this.words[ce+1]=le>>>26-ge&67108863,ge+=24,ge>=26&&(ge-=26,ce++);else if(pe==="le")for(oe=0,ce=0;oe<Se.length;oe+=3)le=Se[oe]|Se[oe+1]<<8|Se[oe+2]<<16,this.words[ce]|=le<<ge&67108863,this.words[ce+1]=le>>>26-ge&67108863,ge+=24,ge>=26&&(ge-=26,ce++);return this.strip()};function ue(Qe,Se,$e){for(var pe=0,oe=Math.min(Qe.length,$e),ce=Se;ce<oe;ce++){var le=Qe.charCodeAt(ce)-48;pe<<=4,le>=49&&le<=54?pe|=le-49+10:le>=17&&le<=22?pe|=le-17+10:pe|=le&15}return pe}ie.prototype._parseHex=function(Se,$e){this.length=Math.ceil((Se.length-$e)/6),this.words=new Array(this.length);for(var pe=0;pe<this.length;pe++)this.words[pe]=0;var oe,ce,le=0;for(pe=Se.length-6,oe=0;pe>=$e;pe-=6)ce=ue(Se,pe,pe+6),this.words[oe]|=ce<<le&67108863,this.words[oe+1]|=ce>>>26-le&4194303,le+=24,le>=26&&(le-=26,oe++);pe+6!==$e&&(ce=ue(Se,$e,pe+6),this.words[oe]|=ce<<le&67108863,this.words[oe+1]|=ce>>>26-le&4194303),this.strip()};function xe(Qe,Se,$e,pe){for(var oe=0,ce=Math.min(Qe.length,$e),le=Se;le<ce;le++){var ge=Qe.charCodeAt(le)-48;oe*=pe,ge>=49?oe+=ge-49+10:ge>=17?oe+=ge-17+10:oe+=ge}return oe}ie.prototype._parseBase=function(Se,$e,pe){this.words=[0],this.length=1;for(var oe=0,ce=1;ce<=67108863;ce*=$e)oe++;oe--,ce=ce/$e|0;for(var le=Se.length-pe,ge=le%oe,ye=Math.min(le,le-ge)+pe,me=0,ve=pe;ve<ye;ve+=oe)me=xe(Se,ve,ve+oe,$e),this.imuln(ce),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me);if(ge!==0){var he=1;for(me=xe(Se,ve,Se.length,$e),ve=0;ve<ge;ve++)he*=$e;this.imuln(he),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me)}},ie.prototype.copy=function(Se){Se.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)Se.words[$e]=this.words[$e];Se.length=this.length,Se.negative=this.negative,Se.red=this.red},ie.prototype.clone=function(){var Se=new ie(null);return this.copy(Se),Se},ie.prototype._expand=function(Se){for(;this.length<Se;)this.words[this.length++]=0;return this},ie.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ie.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ee=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ae=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Me=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(Se,$e){Se=Se||10,$e=$e|0||1;var pe;if(Se===16||Se==="hex"){pe="";for(var oe=0,ce=0,le=0;le<this.length;le++){var ge=this.words[le],ye=((ge<<oe|ce)&16777215).toString(16);ce=ge>>>24-oe&16777215,ce!==0||le!==this.length-1?pe=Ee[6-ye.length]+ye+pe:pe=ye+pe,oe+=2,oe>=26&&(oe-=26,le--)}for(ce!==0&&(pe=ce.toString(16)+pe);pe.length%$e!==0;)pe="0"+pe;return this.negative!==0&&(pe="-"+pe),pe}if(Se===(Se|0)&&Se>=2&&Se<=36){var me=Ae[Se],ve=Me[Se];pe="";var he=this.clone();for(he.negative=0;!he.isZero();){var ae=he.modn(ve).toString(Se);he=he.idivn(ve),he.isZero()?pe=ae+pe:pe=Ee[me-ae.length]+ae+pe}for(this.isZero()&&(pe="0"+pe);pe.length%$e!==0;)pe="0"+pe;return this.negative!==0&&(pe="-"+pe),pe}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var Se=this.words[0];return this.length===2?Se+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Se+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Se:Se},ie.prototype.toJSON=function(){return this.toString(16)},ie.prototype.toBuffer=function(Se,$e){return ne(typeof fe<"u"),this.toArrayLike(fe,Se,$e)},ie.prototype.toArray=function(Se,$e){return this.toArrayLike(Array,Se,$e)},ie.prototype.toArrayLike=function(Se,$e,pe){var oe=this.byteLength(),ce=pe||Math.max(1,oe);ne(oe<=ce,"byte array longer than desired length"),ne(ce>0,"Requested array length <= 0"),this.strip();var le=$e==="le",ge=new Se(ce),ye,me,ve=this.clone();if(le){for(me=0;!ve.isZero();me++)ye=ve.andln(255),ve.iushrn(8),ge[me]=ye;for(;me<ce;me++)ge[me]=0}else{for(me=0;me<ce-oe;me++)ge[me]=0;for(me=0;!ve.isZero();me++)ye=ve.andln(255),ve.iushrn(8),ge[ce-me-1]=ye}return ge},Math.clz32?ie.prototype._countBits=function(Se){return 32-Math.clz32(Se)}:ie.prototype._countBits=function(Se){var $e=Se,pe=0;return $e>=4096&&(pe+=13,$e>>>=13),$e>=64&&(pe+=7,$e>>>=7),$e>=8&&(pe+=4,$e>>>=4),$e>=2&&(pe+=2,$e>>>=2),pe+$e},ie.prototype._zeroBits=function(Se){if(Se===0)return 26;var $e=Se,pe=0;return($e&8191)===0&&(pe+=13,$e>>>=13),($e&127)===0&&(pe+=7,$e>>>=7),($e&15)===0&&(pe+=4,$e>>>=4),($e&3)===0&&(pe+=2,$e>>>=2),($e&1)===0&&pe++,pe},ie.prototype.bitLength=function(){var Se=this.words[this.length-1],$e=this._countBits(Se);return(this.length-1)*26+$e};function Pe(Qe){for(var Se=new Array(Qe.bitLength()),$e=0;$e<Se.length;$e++){var pe=$e/26|0,oe=$e%26;Se[$e]=(Qe.words[pe]&1<<oe)>>>oe}return Se}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Se=0,$e=0;$e<this.length;$e++){var pe=this._zeroBits(this.words[$e]);if(Se+=pe,pe!==26)break}return Se},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(Se){return this.negative!==0?this.abs().inotn(Se).iaddn(1):this.clone()},ie.prototype.fromTwos=function(Se){return this.testn(Se-1)?this.notn(Se).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(Se){for(;this.length<Se.length;)this.words[this.length++]=0;for(var $e=0;$e<Se.length;$e++)this.words[$e]=this.words[$e]|Se.words[$e];return this.strip()},ie.prototype.ior=function(Se){return ne((this.negative|Se.negative)===0),this.iuor(Se)},ie.prototype.or=function(Se){return this.length>Se.length?this.clone().ior(Se):Se.clone().ior(this)},ie.prototype.uor=function(Se){return this.length>Se.length?this.clone().iuor(Se):Se.clone().iuor(this)},ie.prototype.iuand=function(Se){var $e;this.length>Se.length?$e=Se:$e=this;for(var pe=0;pe<$e.length;pe++)this.words[pe]=this.words[pe]&Se.words[pe];return this.length=$e.length,this.strip()},ie.prototype.iand=function(Se){return ne((this.negative|Se.negative)===0),this.iuand(Se)},ie.prototype.and=function(Se){return this.length>Se.length?this.clone().iand(Se):Se.clone().iand(this)},ie.prototype.uand=function(Se){return this.length>Se.length?this.clone().iuand(Se):Se.clone().iuand(this)},ie.prototype.iuxor=function(Se){var $e,pe;this.length>Se.length?($e=this,pe=Se):($e=Se,pe=this);for(var oe=0;oe<pe.length;oe++)this.words[oe]=$e.words[oe]^pe.words[oe];if(this!==$e)for(;oe<$e.length;oe++)this.words[oe]=$e.words[oe];return this.length=$e.length,this.strip()},ie.prototype.ixor=function(Se){return ne((this.negative|Se.negative)===0),this.iuxor(Se)},ie.prototype.xor=function(Se){return this.length>Se.length?this.clone().ixor(Se):Se.clone().ixor(this)},ie.prototype.uxor=function(Se){return this.length>Se.length?this.clone().iuxor(Se):Se.clone().iuxor(this)},ie.prototype.inotn=function(Se){ne(typeof Se=="number"&&Se>=0);var $e=Math.ceil(Se/26)|0,pe=Se%26;this._expand($e),pe>0&&$e--;for(var oe=0;oe<$e;oe++)this.words[oe]=~this.words[oe]&67108863;return pe>0&&(this.words[oe]=~this.words[oe]&67108863>>26-pe),this.strip()},ie.prototype.notn=function(Se){return this.clone().inotn(Se)},ie.prototype.setn=function(Se,$e){ne(typeof Se=="number"&&Se>=0);var pe=Se/26|0,oe=Se%26;return this._expand(pe+1),$e?this.words[pe]=this.words[pe]|1<<oe:this.words[pe]=this.words[pe]&~(1<<oe),this.strip()},ie.prototype.iadd=function(Se){var $e;if(this.negative!==0&&Se.negative===0)return this.negative=0,$e=this.isub(Se),this.negative^=1,this._normSign();if(this.negative===0&&Se.negative!==0)return Se.negative=0,$e=this.isub(Se),Se.negative=1,$e._normSign();var pe,oe;this.length>Se.length?(pe=this,oe=Se):(pe=Se,oe=this);for(var ce=0,le=0;le<oe.length;le++)$e=(pe.words[le]|0)+(oe.words[le]|0)+ce,this.words[le]=$e&67108863,ce=$e>>>26;for(;ce!==0&&le<pe.length;le++)$e=(pe.words[le]|0)+ce,this.words[le]=$e&67108863,ce=$e>>>26;if(this.length=pe.length,ce!==0)this.words[this.length]=ce,this.length++;else if(pe!==this)for(;le<pe.length;le++)this.words[le]=pe.words[le];return this},ie.prototype.add=function(Se){var $e;return Se.negative!==0&&this.negative===0?(Se.negative=0,$e=this.sub(Se),Se.negative^=1,$e):Se.negative===0&&this.negative!==0?(this.negative=0,$e=Se.sub(this),this.negative=1,$e):this.length>Se.length?this.clone().iadd(Se):Se.clone().iadd(this)},ie.prototype.isub=function(Se){if(Se.negative!==0){Se.negative=0;var $e=this.iadd(Se);return Se.negative=1,$e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Se),this.negative=1,this._normSign();var pe=this.cmp(Se);if(pe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var oe,ce;pe>0?(oe=this,ce=Se):(oe=Se,ce=this);for(var le=0,ge=0;ge<ce.length;ge++)$e=(oe.words[ge]|0)-(ce.words[ge]|0)+le,le=$e>>26,this.words[ge]=$e&67108863;for(;le!==0&&ge<oe.length;ge++)$e=(oe.words[ge]|0)+le,le=$e>>26,this.words[ge]=$e&67108863;if(le===0&&ge<oe.length&&oe!==this)for(;ge<oe.length;ge++)this.words[ge]=oe.words[ge];return this.length=Math.max(this.length,ge),oe!==this&&(this.negative=1),this.strip()},ie.prototype.sub=function(Se){return this.clone().isub(Se)};function Ne(Qe,Se,$e){$e.negative=Se.negative^Qe.negative;var pe=Qe.length+Se.length|0;$e.length=pe,pe=pe-1|0;var oe=Qe.words[0]|0,ce=Se.words[0]|0,le=oe*ce,ge=le&67108863,ye=le/67108864|0;$e.words[0]=ge;for(var me=1;me<pe;me++){for(var ve=ye>>>26,he=ye&67108863,ae=Math.min(me,Se.length-1),be=Math.max(0,me-Qe.length+1);be<=ae;be++){var ze=me-be|0;oe=Qe.words[ze]|0,ce=Se.words[be]|0,le=oe*ce+he,ve+=le/67108864|0,he=le&67108863}$e.words[me]=he|0,ye=ve|0}return ye!==0?$e.words[me]=ye|0:$e.length--,$e.strip()}var je=function(Se,$e,pe){var oe=Se.words,ce=$e.words,le=pe.words,ge=0,ye,me,ve,he=oe[0]|0,ae=he&8191,be=he>>>13,ze=oe[1]|0,Ie=ze&8191,We=ze>>>13,ft=oe[2]|0,nt=ft&8191,at=ft>>>13,Ht=oe[3]|0,dt=Ht&8191,gt=Ht>>>13,Jt=oe[4]|0,yt=Jt&8191,Mt=Jt>>>13,it=oe[5]|0,Le=it&8191,De=it>>>13,ct=oe[6]|0,ot=ct&8191,lt=ct>>>13,Pt=oe[7]|0,Et=Pt&8191,St=Pt>>>13,ar=oe[8]|0,Tt=ar&8191,Re=ar>>>13,we=oe[9]|0,_e=we&8191,ke=we>>>13,Ze=ce[0]|0,Je=Ze&8191,tt=Ze>>>13,zt=ce[1]|0,_t=zt&8191,vt=zt>>>13,nr=ce[2]|0,xt=nr&8191,Nt=nr>>>13,Ar=ce[3]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ce[4]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ce[5]|0,Ot=_r&8191,$t=_r>>>13,Sr=ce[6]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ce[7]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ce[8]|0,Te=et&8191,Ye=et>>>13,bt=ce[9]|0,st=bt&8191,ut=bt>>>13;pe.negative=Se.negative^$e.negative,pe.length=19,ye=Math.imul(ae,Je),me=Math.imul(ae,tt),me=me+Math.imul(be,Je)|0,ve=Math.imul(be,tt);var qt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(qt>>>26)|0,qt&=67108863,ye=Math.imul(Ie,Je),me=Math.imul(Ie,tt),me=me+Math.imul(We,Je)|0,ve=Math.imul(We,tt),ye=ye+Math.imul(ae,_t)|0,me=me+Math.imul(ae,vt)|0,me=me+Math.imul(be,_t)|0,ve=ve+Math.imul(be,vt)|0;var At=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(At>>>26)|0,At&=67108863,ye=Math.imul(nt,Je),me=Math.imul(nt,tt),me=me+Math.imul(at,Je)|0,ve=Math.imul(at,tt),ye=ye+Math.imul(Ie,_t)|0,me=me+Math.imul(Ie,vt)|0,me=me+Math.imul(We,_t)|0,ve=ve+Math.imul(We,vt)|0,ye=ye+Math.imul(ae,xt)|0,me=me+Math.imul(ae,Nt)|0,me=me+Math.imul(be,xt)|0,ve=ve+Math.imul(be,Nt)|0;var wt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(wt>>>26)|0,wt&=67108863,ye=Math.imul(dt,Je),me=Math.imul(dt,tt),me=me+Math.imul(gt,Je)|0,ve=Math.imul(gt,tt),ye=ye+Math.imul(nt,_t)|0,me=me+Math.imul(nt,vt)|0,me=me+Math.imul(at,_t)|0,ve=ve+Math.imul(at,vt)|0,ye=ye+Math.imul(Ie,xt)|0,me=me+Math.imul(Ie,Nt)|0,me=me+Math.imul(We,xt)|0,ve=ve+Math.imul(We,Nt)|0,ye=ye+Math.imul(ae,Lt)|0,me=me+Math.imul(ae,Ft)|0,me=me+Math.imul(be,Lt)|0,ve=ve+Math.imul(be,Ft)|0;var lr=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(lr>>>26)|0,lr&=67108863,ye=Math.imul(yt,Je),me=Math.imul(yt,tt),me=me+Math.imul(Mt,Je)|0,ve=Math.imul(Mt,tt),ye=ye+Math.imul(dt,_t)|0,me=me+Math.imul(dt,vt)|0,me=me+Math.imul(gt,_t)|0,ve=ve+Math.imul(gt,vt)|0,ye=ye+Math.imul(nt,xt)|0,me=me+Math.imul(nt,Nt)|0,me=me+Math.imul(at,xt)|0,ve=ve+Math.imul(at,Nt)|0,ye=ye+Math.imul(Ie,Lt)|0,me=me+Math.imul(Ie,Ft)|0,me=me+Math.imul(We,Lt)|0,ve=ve+Math.imul(We,Ft)|0,ye=ye+Math.imul(ae,kt)|0,me=me+Math.imul(ae,Bt)|0,me=me+Math.imul(be,kt)|0,ve=ve+Math.imul(be,Bt)|0;var Wt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ye=Math.imul(Le,Je),me=Math.imul(Le,tt),me=me+Math.imul(De,Je)|0,ve=Math.imul(De,tt),ye=ye+Math.imul(yt,_t)|0,me=me+Math.imul(yt,vt)|0,me=me+Math.imul(Mt,_t)|0,ve=ve+Math.imul(Mt,vt)|0,ye=ye+Math.imul(dt,xt)|0,me=me+Math.imul(dt,Nt)|0,me=me+Math.imul(gt,xt)|0,ve=ve+Math.imul(gt,Nt)|0,ye=ye+Math.imul(nt,Lt)|0,me=me+Math.imul(nt,Ft)|0,me=me+Math.imul(at,Lt)|0,ve=ve+Math.imul(at,Ft)|0,ye=ye+Math.imul(Ie,kt)|0,me=me+Math.imul(Ie,Bt)|0,me=me+Math.imul(We,kt)|0,ve=ve+Math.imul(We,Bt)|0,ye=ye+Math.imul(ae,Ot)|0,me=me+Math.imul(ae,$t)|0,me=me+Math.imul(be,Ot)|0,ve=ve+Math.imul(be,$t)|0;var tr=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(tr>>>26)|0,tr&=67108863,ye=Math.imul(ot,Je),me=Math.imul(ot,tt),me=me+Math.imul(lt,Je)|0,ve=Math.imul(lt,tt),ye=ye+Math.imul(Le,_t)|0,me=me+Math.imul(Le,vt)|0,me=me+Math.imul(De,_t)|0,ve=ve+Math.imul(De,vt)|0,ye=ye+Math.imul(yt,xt)|0,me=me+Math.imul(yt,Nt)|0,me=me+Math.imul(Mt,xt)|0,ve=ve+Math.imul(Mt,Nt)|0,ye=ye+Math.imul(dt,Lt)|0,me=me+Math.imul(dt,Ft)|0,me=me+Math.imul(gt,Lt)|0,ve=ve+Math.imul(gt,Ft)|0,ye=ye+Math.imul(nt,kt)|0,me=me+Math.imul(nt,Bt)|0,me=me+Math.imul(at,kt)|0,ve=ve+Math.imul(at,Bt)|0,ye=ye+Math.imul(Ie,Ot)|0,me=me+Math.imul(Ie,$t)|0,me=me+Math.imul(We,Ot)|0,ve=ve+Math.imul(We,$t)|0,ye=ye+Math.imul(ae,Dt)|0,me=me+Math.imul(ae,Ct)|0,me=me+Math.imul(be,Dt)|0,ve=ve+Math.imul(be,Ct)|0;var rr=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(rr>>>26)|0,rr&=67108863,ye=Math.imul(Et,Je),me=Math.imul(Et,tt),me=me+Math.imul(St,Je)|0,ve=Math.imul(St,tt),ye=ye+Math.imul(ot,_t)|0,me=me+Math.imul(ot,vt)|0,me=me+Math.imul(lt,_t)|0,ve=ve+Math.imul(lt,vt)|0,ye=ye+Math.imul(Le,xt)|0,me=me+Math.imul(Le,Nt)|0,me=me+Math.imul(De,xt)|0,ve=ve+Math.imul(De,Nt)|0,ye=ye+Math.imul(yt,Lt)|0,me=me+Math.imul(yt,Ft)|0,me=me+Math.imul(Mt,Lt)|0,ve=ve+Math.imul(Mt,Ft)|0,ye=ye+Math.imul(dt,kt)|0,me=me+Math.imul(dt,Bt)|0,me=me+Math.imul(gt,kt)|0,ve=ve+Math.imul(gt,Bt)|0,ye=ye+Math.imul(nt,Ot)|0,me=me+Math.imul(nt,$t)|0,me=me+Math.imul(at,Ot)|0,ve=ve+Math.imul(at,$t)|0,ye=ye+Math.imul(Ie,Dt)|0,me=me+Math.imul(Ie,Ct)|0,me=me+Math.imul(We,Dt)|0,ve=ve+Math.imul(We,Ct)|0,ye=ye+Math.imul(ae,Fe)|0,me=me+Math.imul(ae,Ge)|0,me=me+Math.imul(be,Fe)|0,ve=ve+Math.imul(be,Ge)|0;var ir=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(ir>>>26)|0,ir&=67108863,ye=Math.imul(Tt,Je),me=Math.imul(Tt,tt),me=me+Math.imul(Re,Je)|0,ve=Math.imul(Re,tt),ye=ye+Math.imul(Et,_t)|0,me=me+Math.imul(Et,vt)|0,me=me+Math.imul(St,_t)|0,ve=ve+Math.imul(St,vt)|0,ye=ye+Math.imul(ot,xt)|0,me=me+Math.imul(ot,Nt)|0,me=me+Math.imul(lt,xt)|0,ve=ve+Math.imul(lt,Nt)|0,ye=ye+Math.imul(Le,Lt)|0,me=me+Math.imul(Le,Ft)|0,me=me+Math.imul(De,Lt)|0,ve=ve+Math.imul(De,Ft)|0,ye=ye+Math.imul(yt,kt)|0,me=me+Math.imul(yt,Bt)|0,me=me+Math.imul(Mt,kt)|0,ve=ve+Math.imul(Mt,Bt)|0,ye=ye+Math.imul(dt,Ot)|0,me=me+Math.imul(dt,$t)|0,me=me+Math.imul(gt,Ot)|0,ve=ve+Math.imul(gt,$t)|0,ye=ye+Math.imul(nt,Dt)|0,me=me+Math.imul(nt,Ct)|0,me=me+Math.imul(at,Dt)|0,ve=ve+Math.imul(at,Ct)|0,ye=ye+Math.imul(Ie,Fe)|0,me=me+Math.imul(Ie,Ge)|0,me=me+Math.imul(We,Fe)|0,ve=ve+Math.imul(We,Ge)|0,ye=ye+Math.imul(ae,Te)|0,me=me+Math.imul(ae,Ye)|0,me=me+Math.imul(be,Te)|0,ve=ve+Math.imul(be,Ye)|0;var ur=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(ur>>>26)|0,ur&=67108863,ye=Math.imul(_e,Je),me=Math.imul(_e,tt),me=me+Math.imul(ke,Je)|0,ve=Math.imul(ke,tt),ye=ye+Math.imul(Tt,_t)|0,me=me+Math.imul(Tt,vt)|0,me=me+Math.imul(Re,_t)|0,ve=ve+Math.imul(Re,vt)|0,ye=ye+Math.imul(Et,xt)|0,me=me+Math.imul(Et,Nt)|0,me=me+Math.imul(St,xt)|0,ve=ve+Math.imul(St,Nt)|0,ye=ye+Math.imul(ot,Lt)|0,me=me+Math.imul(ot,Ft)|0,me=me+Math.imul(lt,Lt)|0,ve=ve+Math.imul(lt,Ft)|0,ye=ye+Math.imul(Le,kt)|0,me=me+Math.imul(Le,Bt)|0,me=me+Math.imul(De,kt)|0,ve=ve+Math.imul(De,Bt)|0,ye=ye+Math.imul(yt,Ot)|0,me=me+Math.imul(yt,$t)|0,me=me+Math.imul(Mt,Ot)|0,ve=ve+Math.imul(Mt,$t)|0,ye=ye+Math.imul(dt,Dt)|0,me=me+Math.imul(dt,Ct)|0,me=me+Math.imul(gt,Dt)|0,ve=ve+Math.imul(gt,Ct)|0,ye=ye+Math.imul(nt,Fe)|0,me=me+Math.imul(nt,Ge)|0,me=me+Math.imul(at,Fe)|0,ve=ve+Math.imul(at,Ge)|0,ye=ye+Math.imul(Ie,Te)|0,me=me+Math.imul(Ie,Ye)|0,me=me+Math.imul(We,Te)|0,ve=ve+Math.imul(We,Ye)|0,ye=ye+Math.imul(ae,st)|0,me=me+Math.imul(ae,ut)|0,me=me+Math.imul(be,st)|0,ve=ve+Math.imul(be,ut)|0;var or=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(or>>>26)|0,or&=67108863,ye=Math.imul(_e,_t),me=Math.imul(_e,vt),me=me+Math.imul(ke,_t)|0,ve=Math.imul(ke,vt),ye=ye+Math.imul(Tt,xt)|0,me=me+Math.imul(Tt,Nt)|0,me=me+Math.imul(Re,xt)|0,ve=ve+Math.imul(Re,Nt)|0,ye=ye+Math.imul(Et,Lt)|0,me=me+Math.imul(Et,Ft)|0,me=me+Math.imul(St,Lt)|0,ve=ve+Math.imul(St,Ft)|0,ye=ye+Math.imul(ot,kt)|0,me=me+Math.imul(ot,Bt)|0,me=me+Math.imul(lt,kt)|0,ve=ve+Math.imul(lt,Bt)|0,ye=ye+Math.imul(Le,Ot)|0,me=me+Math.imul(Le,$t)|0,me=me+Math.imul(De,Ot)|0,ve=ve+Math.imul(De,$t)|0,ye=ye+Math.imul(yt,Dt)|0,me=me+Math.imul(yt,Ct)|0,me=me+Math.imul(Mt,Dt)|0,ve=ve+Math.imul(Mt,Ct)|0,ye=ye+Math.imul(dt,Fe)|0,me=me+Math.imul(dt,Ge)|0,me=me+Math.imul(gt,Fe)|0,ve=ve+Math.imul(gt,Ge)|0,ye=ye+Math.imul(nt,Te)|0,me=me+Math.imul(nt,Ye)|0,me=me+Math.imul(at,Te)|0,ve=ve+Math.imul(at,Ye)|0,ye=ye+Math.imul(Ie,st)|0,me=me+Math.imul(Ie,ut)|0,me=me+Math.imul(We,st)|0,ve=ve+Math.imul(We,ut)|0;var cr=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(cr>>>26)|0,cr&=67108863,ye=Math.imul(_e,xt),me=Math.imul(_e,Nt),me=me+Math.imul(ke,xt)|0,ve=Math.imul(ke,Nt),ye=ye+Math.imul(Tt,Lt)|0,me=me+Math.imul(Tt,Ft)|0,me=me+Math.imul(Re,Lt)|0,ve=ve+Math.imul(Re,Ft)|0,ye=ye+Math.imul(Et,kt)|0,me=me+Math.imul(Et,Bt)|0,me=me+Math.imul(St,kt)|0,ve=ve+Math.imul(St,Bt)|0,ye=ye+Math.imul(ot,Ot)|0,me=me+Math.imul(ot,$t)|0,me=me+Math.imul(lt,Ot)|0,ve=ve+Math.imul(lt,$t)|0,ye=ye+Math.imul(Le,Dt)|0,me=me+Math.imul(Le,Ct)|0,me=me+Math.imul(De,Dt)|0,ve=ve+Math.imul(De,Ct)|0,ye=ye+Math.imul(yt,Fe)|0,me=me+Math.imul(yt,Ge)|0,me=me+Math.imul(Mt,Fe)|0,ve=ve+Math.imul(Mt,Ge)|0,ye=ye+Math.imul(dt,Te)|0,me=me+Math.imul(dt,Ye)|0,me=me+Math.imul(gt,Te)|0,ve=ve+Math.imul(gt,Ye)|0,ye=ye+Math.imul(nt,st)|0,me=me+Math.imul(nt,ut)|0,me=me+Math.imul(at,st)|0,ve=ve+Math.imul(at,ut)|0;var sr=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(sr>>>26)|0,sr&=67108863,ye=Math.imul(_e,Lt),me=Math.imul(_e,Ft),me=me+Math.imul(ke,Lt)|0,ve=Math.imul(ke,Ft),ye=ye+Math.imul(Tt,kt)|0,me=me+Math.imul(Tt,Bt)|0,me=me+Math.imul(Re,kt)|0,ve=ve+Math.imul(Re,Bt)|0,ye=ye+Math.imul(Et,Ot)|0,me=me+Math.imul(Et,$t)|0,me=me+Math.imul(St,Ot)|0,ve=ve+Math.imul(St,$t)|0,ye=ye+Math.imul(ot,Dt)|0,me=me+Math.imul(ot,Ct)|0,me=me+Math.imul(lt,Dt)|0,ve=ve+Math.imul(lt,Ct)|0,ye=ye+Math.imul(Le,Fe)|0,me=me+Math.imul(Le,Ge)|0,me=me+Math.imul(De,Fe)|0,ve=ve+Math.imul(De,Ge)|0,ye=ye+Math.imul(yt,Te)|0,me=me+Math.imul(yt,Ye)|0,me=me+Math.imul(Mt,Te)|0,ve=ve+Math.imul(Mt,Ye)|0,ye=ye+Math.imul(dt,st)|0,me=me+Math.imul(dt,ut)|0,me=me+Math.imul(gt,st)|0,ve=ve+Math.imul(gt,ut)|0;var Zt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ye=Math.imul(_e,kt),me=Math.imul(_e,Bt),me=me+Math.imul(ke,kt)|0,ve=Math.imul(ke,Bt),ye=ye+Math.imul(Tt,Ot)|0,me=me+Math.imul(Tt,$t)|0,me=me+Math.imul(Re,Ot)|0,ve=ve+Math.imul(Re,$t)|0,ye=ye+Math.imul(Et,Dt)|0,me=me+Math.imul(Et,Ct)|0,me=me+Math.imul(St,Dt)|0,ve=ve+Math.imul(St,Ct)|0,ye=ye+Math.imul(ot,Fe)|0,me=me+Math.imul(ot,Ge)|0,me=me+Math.imul(lt,Fe)|0,ve=ve+Math.imul(lt,Ge)|0,ye=ye+Math.imul(Le,Te)|0,me=me+Math.imul(Le,Ye)|0,me=me+Math.imul(De,Te)|0,ve=ve+Math.imul(De,Ye)|0,ye=ye+Math.imul(yt,st)|0,me=me+Math.imul(yt,ut)|0,me=me+Math.imul(Mt,st)|0,ve=ve+Math.imul(Mt,ut)|0;var er=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(er>>>26)|0,er&=67108863,ye=Math.imul(_e,Ot),me=Math.imul(_e,$t),me=me+Math.imul(ke,Ot)|0,ve=Math.imul(ke,$t),ye=ye+Math.imul(Tt,Dt)|0,me=me+Math.imul(Tt,Ct)|0,me=me+Math.imul(Re,Dt)|0,ve=ve+Math.imul(Re,Ct)|0,ye=ye+Math.imul(Et,Fe)|0,me=me+Math.imul(Et,Ge)|0,me=me+Math.imul(St,Fe)|0,ve=ve+Math.imul(St,Ge)|0,ye=ye+Math.imul(ot,Te)|0,me=me+Math.imul(ot,Ye)|0,me=me+Math.imul(lt,Te)|0,ve=ve+Math.imul(lt,Ye)|0,ye=ye+Math.imul(Le,st)|0,me=me+Math.imul(Le,ut)|0,me=me+Math.imul(De,st)|0,ve=ve+Math.imul(De,ut)|0;var Yt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ye=Math.imul(_e,Dt),me=Math.imul(_e,Ct),me=me+Math.imul(ke,Dt)|0,ve=Math.imul(ke,Ct),ye=ye+Math.imul(Tt,Fe)|0,me=me+Math.imul(Tt,Ge)|0,me=me+Math.imul(Re,Fe)|0,ve=ve+Math.imul(Re,Ge)|0,ye=ye+Math.imul(Et,Te)|0,me=me+Math.imul(Et,Ye)|0,me=me+Math.imul(St,Te)|0,ve=ve+Math.imul(St,Ye)|0,ye=ye+Math.imul(ot,st)|0,me=me+Math.imul(ot,ut)|0,me=me+Math.imul(lt,st)|0,ve=ve+Math.imul(lt,ut)|0;var Xt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,ye=Math.imul(_e,Fe),me=Math.imul(_e,Ge),me=me+Math.imul(ke,Fe)|0,ve=Math.imul(ke,Ge),ye=ye+Math.imul(Tt,Te)|0,me=me+Math.imul(Tt,Ye)|0,me=me+Math.imul(Re,Te)|0,ve=ve+Math.imul(Re,Ye)|0,ye=ye+Math.imul(Et,st)|0,me=me+Math.imul(Et,ut)|0,me=me+Math.imul(St,st)|0,ve=ve+Math.imul(St,ut)|0;var Qt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ye=Math.imul(_e,Te),me=Math.imul(_e,Ye),me=me+Math.imul(ke,Te)|0,ve=Math.imul(ke,Ye),ye=ye+Math.imul(Tt,st)|0,me=me+Math.imul(Tt,ut)|0,me=me+Math.imul(Re,st)|0,ve=ve+Math.imul(Re,ut)|0;var Gt=(ge+ye|0)+((me&8191)<<13)|0;ge=(ve+(me>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,ye=Math.imul(_e,st),me=Math.imul(_e,ut),me=me+Math.imul(ke,st)|0,ve=Math.imul(ke,ut);var Rt=(ge+ye|0)+((me&8191)<<13)|0;return ge=(ve+(me>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,le[0]=qt,le[1]=At,le[2]=wt,le[3]=lr,le[4]=Wt,le[5]=tr,le[6]=rr,le[7]=ir,le[8]=ur,le[9]=or,le[10]=cr,le[11]=sr,le[12]=Zt,le[13]=er,le[14]=Yt,le[15]=Xt,le[16]=Qt,le[17]=Gt,le[18]=Rt,ge!==0&&(le[19]=ge,pe.length++),pe};Math.imul||(je=Ne);function Ue(Qe,Se,$e){$e.negative=Se.negative^Qe.negative,$e.length=Qe.length+Se.length;for(var pe=0,oe=0,ce=0;ce<$e.length-1;ce++){var le=oe;oe=0;for(var ge=pe&67108863,ye=Math.min(ce,Se.length-1),me=Math.max(0,ce-Qe.length+1);me<=ye;me++){var ve=ce-me,he=Qe.words[ve]|0,ae=Se.words[me]|0,be=he*ae,ze=be&67108863;le=le+(be/67108864|0)|0,ze=ze+ge|0,ge=ze&67108863,le=le+(ze>>>26)|0,oe+=le>>>26,le&=67108863}$e.words[ce]=ge,pe=le,le=oe}return pe!==0?$e.words[ce]=pe:$e.length--,$e.strip()}function Ce(Qe,Se,$e){var pe=new Be;return pe.mulp(Qe,Se,$e)}ie.prototype.mulTo=function(Se,$e){var pe,oe=this.length+Se.length;return this.length===10&&Se.length===10?pe=je(this,Se,$e):oe<63?pe=Ne(this,Se,$e):oe<1024?pe=Ue(this,Se,$e):pe=Ce(this,Se,$e),pe};function Be(Qe,Se){this.x=Qe,this.y=Se}Be.prototype.makeRBT=function(Se){for(var $e=new Array(Se),pe=ie.prototype._countBits(Se)-1,oe=0;oe<Se;oe++)$e[oe]=this.revBin(oe,pe,Se);return $e},Be.prototype.revBin=function(Se,$e,pe){if(Se===0||Se===pe-1)return Se;for(var oe=0,ce=0;ce<$e;ce++)oe|=(Se&1)<<$e-ce-1,Se>>=1;return oe},Be.prototype.permute=function(Se,$e,pe,oe,ce,le){for(var ge=0;ge<le;ge++)oe[ge]=$e[Se[ge]],ce[ge]=pe[Se[ge]]},Be.prototype.transform=function(Se,$e,pe,oe,ce,le){this.permute(le,Se,$e,pe,oe,ce);for(var ge=1;ge<ce;ge<<=1)for(var ye=ge<<1,me=Math.cos(2*Math.PI/ye),ve=Math.sin(2*Math.PI/ye),he=0;he<ce;he+=ye)for(var ae=me,be=ve,ze=0;ze<ge;ze++){var Ie=pe[he+ze],We=oe[he+ze],ft=pe[he+ze+ge],nt=oe[he+ze+ge],at=ae*ft-be*nt;nt=ae*nt+be*ft,ft=at,pe[he+ze]=Ie+ft,oe[he+ze]=We+nt,pe[he+ze+ge]=Ie-ft,oe[he+ze+ge]=We-nt,ze!==ye&&(at=me*ae-ve*be,be=me*be+ve*ae,ae=at)}},Be.prototype.guessLen13b=function(Se,$e){var pe=Math.max($e,Se)|1,oe=pe&1,ce=0;for(pe=pe/2|0;pe;pe=pe>>>1)ce++;return 1<<ce+1+oe},Be.prototype.conjugate=function(Se,$e,pe){if(!(pe<=1))for(var oe=0;oe<pe/2;oe++){var ce=Se[oe];Se[oe]=Se[pe-oe-1],Se[pe-oe-1]=ce,ce=$e[oe],$e[oe]=-$e[pe-oe-1],$e[pe-oe-1]=-ce}},Be.prototype.normalize13b=function(Se,$e){for(var pe=0,oe=0;oe<$e/2;oe++){var ce=Math.round(Se[2*oe+1]/$e)*8192+Math.round(Se[2*oe]/$e)+pe;Se[oe]=ce&67108863,ce<67108864?pe=0:pe=ce/67108864|0}return Se},Be.prototype.convert13b=function(Se,$e,pe,oe){for(var ce=0,le=0;le<$e;le++)ce=ce+(Se[le]|0),pe[2*le]=ce&8191,ce=ce>>>13,pe[2*le+1]=ce&8191,ce=ce>>>13;for(le=2*$e;le<oe;++le)pe[le]=0;ne(ce===0),ne((ce&-8192)===0)},Be.prototype.stub=function(Se){for(var $e=new Array(Se),pe=0;pe<Se;pe++)$e[pe]=0;return $e},Be.prototype.mulp=function(Se,$e,pe){var oe=2*this.guessLen13b(Se.length,$e.length),ce=this.makeRBT(oe),le=this.stub(oe),ge=new Array(oe),ye=new Array(oe),me=new Array(oe),ve=new Array(oe),he=new Array(oe),ae=new Array(oe),be=pe.words;be.length=oe,this.convert13b(Se.words,Se.length,ge,oe),this.convert13b($e.words,$e.length,ve,oe),this.transform(ge,le,ye,me,oe,ce),this.transform(ve,le,he,ae,oe,ce);for(var ze=0;ze<oe;ze++){var Ie=ye[ze]*he[ze]-me[ze]*ae[ze];me[ze]=ye[ze]*ae[ze]+me[ze]*he[ze],ye[ze]=Ie}return this.conjugate(ye,me,oe),this.transform(ye,me,be,le,oe,ce),this.conjugate(be,le,oe),this.normalize13b(be,oe),pe.negative=Se.negative^$e.negative,pe.length=Se.length+$e.length,pe.strip()},ie.prototype.mul=function(Se){var $e=new ie(null);return $e.words=new Array(this.length+Se.length),this.mulTo(Se,$e)},ie.prototype.mulf=function(Se){var $e=new ie(null);return $e.words=new Array(this.length+Se.length),Ce(this,Se,$e)},ie.prototype.imul=function(Se){return this.clone().mulTo(Se,this)},ie.prototype.imuln=function(Se){ne(typeof Se=="number"),ne(Se<67108864);for(var $e=0,pe=0;pe<this.length;pe++){var oe=(this.words[pe]|0)*Se,ce=(oe&67108863)+($e&67108863);$e>>=26,$e+=oe/67108864|0,$e+=ce>>>26,this.words[pe]=ce&67108863}return $e!==0&&(this.words[pe]=$e,this.length++),this},ie.prototype.muln=function(Se){return this.clone().imuln(Se)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(Se){var $e=Pe(Se);if($e.length===0)return new ie(1);for(var pe=this,oe=0;oe<$e.length&&$e[oe]===0;oe++,pe=pe.sqr());if(++oe<$e.length)for(var ce=pe.sqr();oe<$e.length;oe++,ce=ce.sqr())$e[oe]!==0&&(pe=pe.mul(ce));return pe},ie.prototype.iushln=function(Se){ne(typeof Se=="number"&&Se>=0);var $e=Se%26,pe=(Se-$e)/26,oe=67108863>>>26-$e<<26-$e,ce;if($e!==0){var le=0;for(ce=0;ce<this.length;ce++){var ge=this.words[ce]&oe,ye=(this.words[ce]|0)-ge<<$e;this.words[ce]=ye|le,le=ge>>>26-$e}le&&(this.words[ce]=le,this.length++)}if(pe!==0){for(ce=this.length-1;ce>=0;ce--)this.words[ce+pe]=this.words[ce];for(ce=0;ce<pe;ce++)this.words[ce]=0;this.length+=pe}return this.strip()},ie.prototype.ishln=function(Se){return ne(this.negative===0),this.iushln(Se)},ie.prototype.iushrn=function(Se,$e,pe){ne(typeof Se=="number"&&Se>=0);var oe;$e?oe=($e-$e%26)/26:oe=0;var ce=Se%26,le=Math.min((Se-ce)/26,this.length),ge=67108863^67108863>>>ce<<ce,ye=pe;if(oe-=le,oe=Math.max(0,oe),ye){for(var me=0;me<le;me++)ye.words[me]=this.words[me];ye.length=le}if(le!==0)if(this.length>le)for(this.length-=le,me=0;me<this.length;me++)this.words[me]=this.words[me+le];else this.words[0]=0,this.length=1;var ve=0;for(me=this.length-1;me>=0&&(ve!==0||me>=oe);me--){var he=this.words[me]|0;this.words[me]=ve<<26-ce|he>>>ce,ve=he&ge}return ye&&ve!==0&&(ye.words[ye.length++]=ve),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ie.prototype.ishrn=function(Se,$e,pe){return ne(this.negative===0),this.iushrn(Se,$e,pe)},ie.prototype.shln=function(Se){return this.clone().ishln(Se)},ie.prototype.ushln=function(Se){return this.clone().iushln(Se)},ie.prototype.shrn=function(Se){return this.clone().ishrn(Se)},ie.prototype.ushrn=function(Se){return this.clone().iushrn(Se)},ie.prototype.testn=function(Se){ne(typeof Se=="number"&&Se>=0);var $e=Se%26,pe=(Se-$e)/26,oe=1<<$e;if(this.length<=pe)return!1;var ce=this.words[pe];return!!(ce&oe)},ie.prototype.imaskn=function(Se){ne(typeof Se=="number"&&Se>=0);var $e=Se%26,pe=(Se-$e)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=pe)return this;if($e!==0&&pe++,this.length=Math.min(pe,this.length),$e!==0){var oe=67108863^67108863>>>$e<<$e;this.words[this.length-1]&=oe}return this.strip()},ie.prototype.maskn=function(Se){return this.clone().imaskn(Se)},ie.prototype.iaddn=function(Se){return ne(typeof Se=="number"),ne(Se<67108864),Se<0?this.isubn(-Se):this.negative!==0?this.length===1&&(this.words[0]|0)<Se?(this.words[0]=Se-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Se),this.negative=1,this):this._iaddn(Se)},ie.prototype._iaddn=function(Se){this.words[0]+=Se;for(var $e=0;$e<this.length&&this.words[$e]>=67108864;$e++)this.words[$e]-=67108864,$e===this.length-1?this.words[$e+1]=1:this.words[$e+1]++;return this.length=Math.max(this.length,$e+1),this},ie.prototype.isubn=function(Se){if(ne(typeof Se=="number"),ne(Se<67108864),Se<0)return this.iaddn(-Se);if(this.negative!==0)return this.negative=0,this.iaddn(Se),this.negative=1,this;if(this.words[0]-=Se,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var $e=0;$e<this.length&&this.words[$e]<0;$e++)this.words[$e]+=67108864,this.words[$e+1]-=1;return this.strip()},ie.prototype.addn=function(Se){return this.clone().iaddn(Se)},ie.prototype.subn=function(Se){return this.clone().isubn(Se)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(Se,$e,pe){var oe=Se.length+pe,ce;this._expand(oe);var le,ge=0;for(ce=0;ce<Se.length;ce++){le=(this.words[ce+pe]|0)+ge;var ye=(Se.words[ce]|0)*$e;le-=ye&67108863,ge=(le>>26)-(ye/67108864|0),this.words[ce+pe]=le&67108863}for(;ce<this.length-pe;ce++)le=(this.words[ce+pe]|0)+ge,ge=le>>26,this.words[ce+pe]=le&67108863;if(ge===0)return this.strip();for(ne(ge===-1),ge=0,ce=0;ce<this.length;ce++)le=-(this.words[ce]|0)+ge,ge=le>>26,this.words[ce]=le&67108863;return this.negative=1,this.strip()},ie.prototype._wordDiv=function(Se,$e){var pe=this.length-Se.length,oe=this.clone(),ce=Se,le=ce.words[ce.length-1]|0,ge=this._countBits(le);pe=26-ge,pe!==0&&(ce=ce.ushln(pe),oe.iushln(pe),le=ce.words[ce.length-1]|0);var ye=oe.length-ce.length,me;if($e!=="mod"){me=new ie(null),me.length=ye+1,me.words=new Array(me.length);for(var ve=0;ve<me.length;ve++)me.words[ve]=0}var he=oe.clone()._ishlnsubmul(ce,1,ye);he.negative===0&&(oe=he,me&&(me.words[ye]=1));for(var ae=ye-1;ae>=0;ae--){var be=(oe.words[ce.length+ae]|0)*67108864+(oe.words[ce.length+ae-1]|0);for(be=Math.min(be/le|0,67108863),oe._ishlnsubmul(ce,be,ae);oe.negative!==0;)be--,oe.negative=0,oe._ishlnsubmul(ce,1,ae),oe.isZero()||(oe.negative^=1);me&&(me.words[ae]=be)}return me&&me.strip(),oe.strip(),$e!=="div"&&pe!==0&&oe.iushrn(pe),{div:me||null,mod:oe}},ie.prototype.divmod=function(Se,$e,pe){if(ne(!Se.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var oe,ce,le;return this.negative!==0&&Se.negative===0?(le=this.neg().divmod(Se,$e),$e!=="mod"&&(oe=le.div.neg()),$e!=="div"&&(ce=le.mod.neg(),pe&&ce.negative!==0&&ce.iadd(Se)),{div:oe,mod:ce}):this.negative===0&&Se.negative!==0?(le=this.divmod(Se.neg(),$e),$e!=="mod"&&(oe=le.div.neg()),{div:oe,mod:le.mod}):(this.negative&Se.negative)!==0?(le=this.neg().divmod(Se.neg(),$e),$e!=="div"&&(ce=le.mod.neg(),pe&&ce.negative!==0&&ce.isub(Se)),{div:le.div,mod:ce}):Se.length>this.length||this.cmp(Se)<0?{div:new ie(0),mod:this}:Se.length===1?$e==="div"?{div:this.divn(Se.words[0]),mod:null}:$e==="mod"?{div:null,mod:new ie(this.modn(Se.words[0]))}:{div:this.divn(Se.words[0]),mod:new ie(this.modn(Se.words[0]))}:this._wordDiv(Se,$e)},ie.prototype.div=function(Se){return this.divmod(Se,"div",!1).div},ie.prototype.mod=function(Se){return this.divmod(Se,"mod",!1).mod},ie.prototype.umod=function(Se){return this.divmod(Se,"mod",!0).mod},ie.prototype.divRound=function(Se){var $e=this.divmod(Se);if($e.mod.isZero())return $e.div;var pe=$e.div.negative!==0?$e.mod.isub(Se):$e.mod,oe=Se.ushrn(1),ce=Se.andln(1),le=pe.cmp(oe);return le<0||ce===1&&le===0?$e.div:$e.div.negative!==0?$e.div.isubn(1):$e.div.iaddn(1)},ie.prototype.modn=function(Se){ne(Se<=67108863);for(var $e=(1<<26)%Se,pe=0,oe=this.length-1;oe>=0;oe--)pe=($e*pe+(this.words[oe]|0))%Se;return pe},ie.prototype.idivn=function(Se){ne(Se<=67108863);for(var $e=0,pe=this.length-1;pe>=0;pe--){var oe=(this.words[pe]|0)+$e*67108864;this.words[pe]=oe/Se|0,$e=oe%Se}return this.strip()},ie.prototype.divn=function(Se){return this.clone().idivn(Se)},ie.prototype.egcd=function(Se){ne(Se.negative===0),ne(!Se.isZero());var $e=this,pe=Se.clone();$e.negative!==0?$e=$e.umod(Se):$e=$e.clone();for(var oe=new ie(1),ce=new ie(0),le=new ie(0),ge=new ie(1),ye=0;$e.isEven()&&pe.isEven();)$e.iushrn(1),pe.iushrn(1),++ye;for(var me=pe.clone(),ve=$e.clone();!$e.isZero();){for(var he=0,ae=1;($e.words[0]&ae)===0&&he<26;++he,ae<<=1);if(he>0)for($e.iushrn(he);he-- >0;)(oe.isOdd()||ce.isOdd())&&(oe.iadd(me),ce.isub(ve)),oe.iushrn(1),ce.iushrn(1);for(var be=0,ze=1;(pe.words[0]&ze)===0&&be<26;++be,ze<<=1);if(be>0)for(pe.iushrn(be);be-- >0;)(le.isOdd()||ge.isOdd())&&(le.iadd(me),ge.isub(ve)),le.iushrn(1),ge.iushrn(1);$e.cmp(pe)>=0?($e.isub(pe),oe.isub(le),ce.isub(ge)):(pe.isub($e),le.isub(oe),ge.isub(ce))}return{a:le,b:ge,gcd:pe.iushln(ye)}},ie.prototype._invmp=function(Se){ne(Se.negative===0),ne(!Se.isZero());var $e=this,pe=Se.clone();$e.negative!==0?$e=$e.umod(Se):$e=$e.clone();for(var oe=new ie(1),ce=new ie(0),le=pe.clone();$e.cmpn(1)>0&&pe.cmpn(1)>0;){for(var ge=0,ye=1;($e.words[0]&ye)===0&&ge<26;++ge,ye<<=1);if(ge>0)for($e.iushrn(ge);ge-- >0;)oe.isOdd()&&oe.iadd(le),oe.iushrn(1);for(var me=0,ve=1;(pe.words[0]&ve)===0&&me<26;++me,ve<<=1);if(me>0)for(pe.iushrn(me);me-- >0;)ce.isOdd()&&ce.iadd(le),ce.iushrn(1);$e.cmp(pe)>=0?($e.isub(pe),oe.isub(ce)):(pe.isub($e),ce.isub(oe))}var he;return $e.cmpn(1)===0?he=oe:he=ce,he.cmpn(0)<0&&he.iadd(Se),he},ie.prototype.gcd=function(Se){if(this.isZero())return Se.abs();if(Se.isZero())return this.abs();var $e=this.clone(),pe=Se.clone();$e.negative=0,pe.negative=0;for(var oe=0;$e.isEven()&&pe.isEven();oe++)$e.iushrn(1),pe.iushrn(1);do{for(;$e.isEven();)$e.iushrn(1);for(;pe.isEven();)pe.iushrn(1);var ce=$e.cmp(pe);if(ce<0){var le=$e;$e=pe,pe=le}else if(ce===0||pe.cmpn(1)===0)break;$e.isub(pe)}while(!0);return pe.iushln(oe)},ie.prototype.invm=function(Se){return this.egcd(Se).a.umod(Se)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(Se){return this.words[0]&Se},ie.prototype.bincn=function(Se){ne(typeof Se=="number");var $e=Se%26,pe=(Se-$e)/26,oe=1<<$e;if(this.length<=pe)return this._expand(pe+1),this.words[pe]|=oe,this;for(var ce=oe,le=pe;ce!==0&&le<this.length;le++){var ge=this.words[le]|0;ge+=ce,ce=ge>>>26,ge&=67108863,this.words[le]=ge}return ce!==0&&(this.words[le]=ce,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(Se){var $e=Se<0;if(this.negative!==0&&!$e)return-1;if(this.negative===0&&$e)return 1;this.strip();var pe;if(this.length>1)pe=1;else{$e&&(Se=-Se),ne(Se<=67108863,"Number is too big");var oe=this.words[0]|0;pe=oe===Se?0:oe<Se?-1:1}return this.negative!==0?-pe|0:pe},ie.prototype.cmp=function(Se){if(this.negative!==0&&Se.negative===0)return-1;if(this.negative===0&&Se.negative!==0)return 1;var $e=this.ucmp(Se);return this.negative!==0?-$e|0:$e},ie.prototype.ucmp=function(Se){if(this.length>Se.length)return 1;if(this.length<Se.length)return-1;for(var $e=0,pe=this.length-1;pe>=0;pe--){var oe=this.words[pe]|0,ce=Se.words[pe]|0;if(oe!==ce){oe<ce?$e=-1:oe>ce&&($e=1);break}}return $e},ie.prototype.gtn=function(Se){return this.cmpn(Se)===1},ie.prototype.gt=function(Se){return this.cmp(Se)===1},ie.prototype.gten=function(Se){return this.cmpn(Se)>=0},ie.prototype.gte=function(Se){return this.cmp(Se)>=0},ie.prototype.ltn=function(Se){return this.cmpn(Se)===-1},ie.prototype.lt=function(Se){return this.cmp(Se)===-1},ie.prototype.lten=function(Se){return this.cmpn(Se)<=0},ie.prototype.lte=function(Se){return this.cmp(Se)<=0},ie.prototype.eqn=function(Se){return this.cmpn(Se)===0},ie.prototype.eq=function(Se){return this.cmp(Se)===0},ie.red=function(Se){return new rt(Se)},ie.prototype.toRed=function(Se){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),Se.convertTo(this)._forceRed(Se)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(Se){return this.red=Se,this},ie.prototype.forceRed=function(Se){return ne(!this.red,"Already a number in reduction context"),this._forceRed(Se)},ie.prototype.redAdd=function(Se){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,Se)},ie.prototype.redIAdd=function(Se){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Se)},ie.prototype.redSub=function(Se){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,Se)},ie.prototype.redISub=function(Se){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,Se)},ie.prototype.redShl=function(Se){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,Se)},ie.prototype.redMul=function(Se){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,Se),this.red.mul(this,Se)},ie.prototype.redIMul=function(Se){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,Se),this.red.imul(this,Se)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(Se){return ne(this.red&&!Se.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Se)};var He={k256:null,p224:null,p192:null,p25519:null};function Oe(Qe,Se){this.name=Qe,this.p=new ie(Se,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Oe.prototype._tmp=function(){var Se=new ie(null);return Se.words=new Array(Math.ceil(this.n/13)),Se},Oe.prototype.ireduce=function(Se){var $e=Se,pe;do this.split($e,this.tmp),$e=this.imulK($e),$e=$e.iadd(this.tmp),pe=$e.bitLength();while(pe>this.n);var oe=pe<this.n?-1:$e.ucmp(this.p);return oe===0?($e.words[0]=0,$e.length=1):oe>0?$e.isub(this.p):$e.strip(),$e},Oe.prototype.split=function(Se,$e){Se.iushrn(this.n,0,$e)},Oe.prototype.imulK=function(Se){return Se.imul(this.k)};function Ke(){Oe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Ke,Oe),Ke.prototype.split=function(Se,$e){for(var pe=4194303,oe=Math.min(Se.length,9),ce=0;ce<oe;ce++)$e.words[ce]=Se.words[ce];if($e.length=oe,Se.length<=9){Se.words[0]=0,Se.length=1;return}var le=Se.words[9];for($e.words[$e.length++]=le&pe,ce=10;ce<Se.length;ce++){var ge=Se.words[ce]|0;Se.words[ce-10]=(ge&pe)<<4|le>>>22,le=ge}le>>>=22,Se.words[ce-10]=le,le===0&&Se.length>10?Se.length-=10:Se.length-=9},Ke.prototype.imulK=function(Se){Se.words[Se.length]=0,Se.words[Se.length+1]=0,Se.length+=2;for(var $e=0,pe=0;pe<Se.length;pe++){var oe=Se.words[pe]|0;$e+=oe*977,Se.words[pe]=$e&67108863,$e=oe*64+($e/67108864|0)}return Se.words[Se.length-1]===0&&(Se.length--,Se.words[Se.length-1]===0&&Se.length--),Se};function qe(){Oe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(qe,Oe);function Ve(){Oe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(Ve,Oe);function Xe(){Oe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Xe,Oe),Xe.prototype.imulK=function(Se){for(var $e=0,pe=0;pe<Se.length;pe++){var oe=(Se.words[pe]|0)*19+$e,ce=oe&67108863;oe>>>=26,Se.words[pe]=ce,$e=oe}return $e!==0&&(Se.words[Se.length++]=$e),Se},ie._prime=function(Se){if(He[Se])return He[Se];var $e;if(Se==="k256")$e=new Ke;else if(Se==="p224")$e=new qe;else if(Se==="p192")$e=new Ve;else if(Se==="p25519")$e=new Xe;else throw new Error("Unknown prime "+Se);return He[Se]=$e,$e};function rt(Qe){if(typeof Qe=="string"){var Se=ie._prime(Qe);this.m=Se.p,this.prime=Se}else ne(Qe.gtn(1),"modulus must be greater than 1"),this.m=Qe,this.prime=null}rt.prototype._verify1=function(Se){ne(Se.negative===0,"red works only with positives"),ne(Se.red,"red works only with red numbers")},rt.prototype._verify2=function(Se,$e){ne((Se.negative|$e.negative)===0,"red works only with positives"),ne(Se.red&&Se.red===$e.red,"red works only with red numbers")},rt.prototype.imod=function(Se){return this.prime?this.prime.ireduce(Se)._forceRed(this):Se.umod(this.m)._forceRed(this)},rt.prototype.neg=function(Se){return Se.isZero()?Se.clone():this.m.sub(Se)._forceRed(this)},rt.prototype.add=function(Se,$e){this._verify2(Se,$e);var pe=Se.add($e);return pe.cmp(this.m)>=0&&pe.isub(this.m),pe._forceRed(this)},rt.prototype.iadd=function(Se,$e){this._verify2(Se,$e);var pe=Se.iadd($e);return pe.cmp(this.m)>=0&&pe.isub(this.m),pe},rt.prototype.sub=function(Se,$e){this._verify2(Se,$e);var pe=Se.sub($e);return pe.cmpn(0)<0&&pe.iadd(this.m),pe._forceRed(this)},rt.prototype.isub=function(Se,$e){this._verify2(Se,$e);var pe=Se.isub($e);return pe.cmpn(0)<0&&pe.iadd(this.m),pe},rt.prototype.shl=function(Se,$e){return this._verify1(Se),this.imod(Se.ushln($e))},rt.prototype.imul=function(Se,$e){return this._verify2(Se,$e),this.imod(Se.imul($e))},rt.prototype.mul=function(Se,$e){return this._verify2(Se,$e),this.imod(Se.mul($e))},rt.prototype.isqr=function(Se){return this.imul(Se,Se.clone())},rt.prototype.sqr=function(Se){return this.mul(Se,Se)},rt.prototype.sqrt=function(Se){if(Se.isZero())return Se.clone();var $e=this.m.andln(3);if(ne($e%2===1),$e===3){var pe=this.m.add(new ie(1)).iushrn(2);return this.pow(Se,pe)}for(var oe=this.m.subn(1),ce=0;!oe.isZero()&&oe.andln(1)===0;)ce++,oe.iushrn(1);ne(!oe.isZero());var le=new ie(1).toRed(this),ge=le.redNeg(),ye=this.m.subn(1).iushrn(1),me=this.m.bitLength();for(me=new ie(2*me*me).toRed(this);this.pow(me,ye).cmp(ge)!==0;)me.redIAdd(ge);for(var ve=this.pow(me,oe),he=this.pow(Se,oe.addn(1).iushrn(1)),ae=this.pow(Se,oe),be=ce;ae.cmp(le)!==0;){for(var ze=ae,Ie=0;ze.cmp(le)!==0;Ie++)ze=ze.redSqr();ne(Ie<be);var We=this.pow(ve,new ie(1).iushln(be-Ie-1));he=he.redMul(We),ve=We.redSqr(),ae=ae.redMul(ve),be=Ie}return he},rt.prototype.invm=function(Se){var $e=Se._invmp(this.m);return $e.negative!==0?($e.negative=0,this.imod($e).redNeg()):this.imod($e)},rt.prototype.pow=function(Se,$e){if($e.isZero())return new ie(1).toRed(this);if($e.cmpn(1)===0)return Se.clone();var pe=4,oe=new Array(1<<pe);oe[0]=new ie(1).toRed(this),oe[1]=Se;for(var ce=2;ce<oe.length;ce++)oe[ce]=this.mul(oe[ce-1],Se);var le=oe[0],ge=0,ye=0,me=$e.bitLength()%26;for(me===0&&(me=26),ce=$e.length-1;ce>=0;ce--){for(var ve=$e.words[ce],he=me-1;he>=0;he--){var ae=ve>>he&1;if(le!==oe[0]&&(le=this.sqr(le)),ae===0&&ge===0){ye=0;continue}ge<<=1,ge|=ae,ye++,!(ye!==pe&&(ce!==0||he!==0))&&(le=this.mul(le,oe[ge]),ye=0,ge=0)}me=26}return le},rt.prototype.convertTo=function(Se){var $e=Se.umod(this.m);return $e===Se?$e.clone():$e},rt.prototype.convertFrom=function(Se){var $e=Se.clone();return $e.red=null,$e},ie.mont=function(Se){return new mt(Se)};function mt(Qe){rt.call(this,Qe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se(mt,rt),mt.prototype.convertTo=function(Se){return this.imod(Se.ushln(this.shift))},mt.prototype.convertFrom=function(Se){var $e=this.imod(Se.mul(this.rinv));return $e.red=null,$e},mt.prototype.imul=function(Se,$e){if(Se.isZero()||$e.isZero())return Se.words[0]=0,Se.length=1,Se;var pe=Se.imul($e),oe=pe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ce=pe.isub(oe).iushrn(this.shift),le=ce;return ce.cmp(this.m)>=0?le=ce.isub(this.m):ce.cmpn(0)<0&&(le=ce.iadd(this.m)),le._forceRed(this)},mt.prototype.mul=function(Se,$e){if(Se.isZero()||$e.isZero())return new ie(0)._forceRed(this);var pe=Se.mul($e),oe=pe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ce=pe.isub(oe).iushrn(this.shift),le=ce;return ce.cmp(this.m)>=0?le=ce.isub(this.m):ce.cmpn(0)<0&&(le=ce.iadd(this.m)),le._forceRed(this)},mt.prototype.invm=function(Se){var $e=this.imod(Se._invmp(this.m).mul(this.r2));return $e._forceRed(this)}})(re,commonjsGlobal)})(bn$5);var BN$3=bn$5.exports,isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray,isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names$1={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(re){return isStrictTypedArray(re)||isLooseTypedArray(re)}function isStrictTypedArray(re){return re instanceof Int8Array||re instanceof Int16Array||re instanceof Int32Array||re instanceof Uint8Array||re instanceof Uint8ClampedArray||re instanceof Uint16Array||re instanceof Uint32Array||re instanceof Float32Array||re instanceof Float64Array}function isLooseTypedArray(re){return names$1[toString$1.call(re)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function(ee){if(isTypedArray(ee)){var te=Buffer.from(ee.buffer);return ee.byteLength!==ee.buffer.byteLength&&(te=te.slice(ee.byteOffset,ee.byteOffset+ee.byteLength)),te}else return Buffer.from(ee)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(re){return new Uint8Array(re)}function bufferToHex(re,ee=!1){const te=re.toString(ENC_HEX);return ee?addHexPrefix(te):te}function bufferToUtf8(re){return re.toString(ENC_UTF8)}function arrayToBuffer(re){return typedarrayToBuffer(re)}function arrayToHex(re,ee=!1){return bufferToHex(arrayToBuffer(re),ee)}function arrayToUtf8(re){return bufferToUtf8(arrayToBuffer(re))}function hexToBuffer(re){return Buffer.from(removeHexPrefix(re),ENC_HEX)}function hexToArray(re){return bufferToArray(hexToBuffer(re))}function utf8ToBuffer(re){return Buffer.from(re,ENC_UTF8)}function utf8ToArray(re){return bufferToArray(utf8ToBuffer(re))}function utf8ToHex(re,ee=!1){return bufferToHex(utf8ToBuffer(re),ee)}function isHexString$2(re,ee){return!(typeof re!="string"||!re.match(/^0x[0-9A-Fa-f]*$/)||ee&&re.length!==2+2*ee)}function concatArrays(...re){let ee=[];return re.forEach(te=>ee=ee.concat(Array.from(te))),new Uint8Array([...ee])}function calcByteLength(re,ee=8){const te=re%ee;return te?(re-te)/ee*ee+ee:re}function sanitizeBytes(re,ee=8,te=STRING_ZERO){return padLeft(re,calcByteLength(re.length,ee),te)}function padLeft(re,ee,te=STRING_ZERO){return padString(re,ee,!0,te)}function removeHexPrefix(re){return re.replace(/^0x/,"")}function addHexPrefix(re){return re.startsWith("0x")?re:`0x${re}`}function sanitizeHex$1(re){return re=removeHexPrefix(re),re=sanitizeBytes(re,2),re&&(re=addHexPrefix(re)),re}function removeHexLeadingZeros$1(re){const ee=re.startsWith("0x");return re=removeHexPrefix(re),re=re.startsWith(STRING_ZERO)?re.substring(1):re,ee?addHexPrefix(re):re}function padString(re,ee,te,ne=STRING_ZERO){const se=ee-re.length;let ie=re;if(se>0){const fe=ne.repeat(se);ie=te?fe+re:re+fe}return ie}function convertArrayBufferToBuffer(re){return arrayToBuffer(new Uint8Array(re))}function convertArrayBufferToHex(re,ee){return arrayToHex(new Uint8Array(re),!ee)}function convertBufferToArrayBuffer(re){return bufferToArray(re).buffer}function convertUtf8ToBuffer(re){return utf8ToBuffer(re)}function convertUtf8ToHex(re,ee){return utf8ToHex(re,!ee)}function convertHexToArrayBuffer(re){return hexToArray(re).buffer}function convertNumberToHex(re,ee){const te=removeHexPrefix(sanitizeHex$1(new BN$3(re).toString(16)));return ee?te:addHexPrefix(te)}var sha3$1={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(re){(function(){var ee="input is invalid type",te="finalize already called",ne=typeof window=="object",se=ne?window:{};se.JS_SHA3_NO_WINDOW&&(ne=!1);var ie=!ne&&typeof self=="object",fe=!se.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;fe?se=commonjsGlobal:ie&&(se=self);var ue=!se.JS_SHA3_NO_COMMON_JS&&!0&&re.exports,xe=!se.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Ee="0123456789abcdef".split(""),Ae=[31,7936,2031616,520093696],Me=[4,1024,262144,67108864],Pe=[1,256,65536,16777216],Ne=[6,1536,393216,100663296],je=[0,8,16,24],Ue=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Ce=[224,256,384,512],Be=[128,256],He=["hex","buffer","arrayBuffer","array","digest"],Oe={128:168,256:136};(se.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ie){return Object.prototype.toString.call(Ie)==="[object Array]"}),xe&&(se.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ie){return typeof Ie=="object"&&Ie.buffer&&Ie.buffer.constructor===ArrayBuffer});for(var Ke=function(Ie,We,ft){return function(nt){return new ae(Ie,We,Ie).update(nt)[ft]()}},qe=function(Ie,We,ft){return function(nt,at){return new ae(Ie,We,at).update(nt)[ft]()}},Ve=function(Ie,We,ft){return function(nt,at,Ht,dt){return oe["cshake"+Ie].update(nt,at,Ht,dt)[ft]()}},Xe=function(Ie,We,ft){return function(nt,at,Ht,dt){return oe["kmac"+Ie].update(nt,at,Ht,dt)[ft]()}},rt=function(Ie,We,ft,nt){for(var at=0;at<He.length;++at){var Ht=He[at];Ie[Ht]=We(ft,nt,Ht)}return Ie},mt=function(Ie,We){var ft=Ke(Ie,We,"hex");return ft.create=function(){return new ae(Ie,We,Ie)},ft.update=function(nt){return ft.create().update(nt)},rt(ft,Ke,Ie,We)},Qe=function(Ie,We){var ft=qe(Ie,We,"hex");return ft.create=function(nt){return new ae(Ie,We,nt)},ft.update=function(nt,at){return ft.create(at).update(nt)},rt(ft,qe,Ie,We)},Se=function(Ie,We){var ft=Oe[Ie],nt=Ve(Ie,We,"hex");return nt.create=function(at,Ht,dt){return!Ht&&!dt?oe["shake"+Ie].create(at):new ae(Ie,We,at).bytepad([Ht,dt],ft)},nt.update=function(at,Ht,dt,gt){return nt.create(Ht,dt,gt).update(at)},rt(nt,Ve,Ie,We)},$e=function(Ie,We){var ft=Oe[Ie],nt=Xe(Ie,We,"hex");return nt.create=function(at,Ht,dt){return new be(Ie,We,Ht).bytepad(["KMAC",dt],ft).bytepad([at],ft)},nt.update=function(at,Ht,dt,gt){return nt.create(at,dt,gt).update(Ht)},rt(nt,Xe,Ie,We)},pe=[{name:"keccak",padding:Pe,bits:Ce,createMethod:mt},{name:"sha3",padding:Ne,bits:Ce,createMethod:mt},{name:"shake",padding:Ae,bits:Be,createMethod:Qe},{name:"cshake",padding:Me,bits:Be,createMethod:Se},{name:"kmac",padding:Me,bits:Be,createMethod:$e}],oe={},ce=[],le=0;le<pe.length;++le)for(var ge=pe[le],ye=ge.bits,me=0;me<ye.length;++me){var ve=ge.name+"_"+ye[me];if(ce.push(ve),oe[ve]=ge.createMethod(ye[me],ge.padding),ge.name!=="sha3"){var he=ge.name+ye[me];ce.push(he),oe[he]=oe[ve]}}function ae(Ie,We,ft){this.blocks=[],this.s=[],this.padding=We,this.outputBits=ft,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Ie<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ft>>5,this.extraBytes=(ft&31)>>3;for(var nt=0;nt<50;++nt)this.s[nt]=0}ae.prototype.update=function(Ie){if(this.finalized)throw new Error(te);var We,ft=typeof Ie;if(ft!=="string"){if(ft==="object"){if(Ie===null)throw new Error(ee);if(xe&&Ie.constructor===ArrayBuffer)Ie=new Uint8Array(Ie);else if(!Array.isArray(Ie)&&(!xe||!ArrayBuffer.isView(Ie)))throw new Error(ee)}else throw new Error(ee);We=!0}for(var nt=this.blocks,at=this.byteCount,Ht=Ie.length,dt=this.blockCount,gt=0,Jt=this.s,yt,Mt;gt<Ht;){if(this.reset)for(this.reset=!1,nt[0]=this.block,yt=1;yt<dt+1;++yt)nt[yt]=0;if(We)for(yt=this.start;gt<Ht&&yt<at;++gt)nt[yt>>2]|=Ie[gt]<<je[yt++&3];else for(yt=this.start;gt<Ht&&yt<at;++gt)Mt=Ie.charCodeAt(gt),Mt<128?nt[yt>>2]|=Mt<<je[yt++&3]:Mt<2048?(nt[yt>>2]|=(192|Mt>>6)<<je[yt++&3],nt[yt>>2]|=(128|Mt&63)<<je[yt++&3]):Mt<55296||Mt>=57344?(nt[yt>>2]|=(224|Mt>>12)<<je[yt++&3],nt[yt>>2]|=(128|Mt>>6&63)<<je[yt++&3],nt[yt>>2]|=(128|Mt&63)<<je[yt++&3]):(Mt=65536+((Mt&1023)<<10|Ie.charCodeAt(++gt)&1023),nt[yt>>2]|=(240|Mt>>18)<<je[yt++&3],nt[yt>>2]|=(128|Mt>>12&63)<<je[yt++&3],nt[yt>>2]|=(128|Mt>>6&63)<<je[yt++&3],nt[yt>>2]|=(128|Mt&63)<<je[yt++&3]);if(this.lastByteIndex=yt,yt>=at){for(this.start=yt-at,this.block=nt[dt],yt=0;yt<dt;++yt)Jt[yt]^=nt[yt];ze(Jt),this.reset=!0}else this.start=yt}return this},ae.prototype.encode=function(Ie,We){var ft=Ie&255,nt=1,at=[ft];for(Ie=Ie>>8,ft=Ie&255;ft>0;)at.unshift(ft),Ie=Ie>>8,ft=Ie&255,++nt;return We?at.push(nt):at.unshift(nt),this.update(at),at.length},ae.prototype.encodeString=function(Ie){var We,ft=typeof Ie;if(ft!=="string"){if(ft==="object"){if(Ie===null)throw new Error(ee);if(xe&&Ie.constructor===ArrayBuffer)Ie=new Uint8Array(Ie);else if(!Array.isArray(Ie)&&(!xe||!ArrayBuffer.isView(Ie)))throw new Error(ee)}else throw new Error(ee);We=!0}var nt=0,at=Ie.length;if(We)nt=at;else for(var Ht=0;Ht<Ie.length;++Ht){var dt=Ie.charCodeAt(Ht);dt<128?nt+=1:dt<2048?nt+=2:dt<55296||dt>=57344?nt+=3:(dt=65536+((dt&1023)<<10|Ie.charCodeAt(++Ht)&1023),nt+=4)}return nt+=this.encode(nt*8),this.update(Ie),nt},ae.prototype.bytepad=function(Ie,We){for(var ft=this.encode(We),nt=0;nt<Ie.length;++nt)ft+=this.encodeString(Ie[nt]);var at=We-ft%We,Ht=[];return Ht.length=at,this.update(Ht),this},ae.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ie=this.blocks,We=this.lastByteIndex,ft=this.blockCount,nt=this.s;if(Ie[We>>2]|=this.padding[We&3],this.lastByteIndex===this.byteCount)for(Ie[0]=Ie[ft],We=1;We<ft+1;++We)Ie[We]=0;for(Ie[ft-1]|=2147483648,We=0;We<ft;++We)nt[We]^=Ie[We];ze(nt)}},ae.prototype.toString=ae.prototype.hex=function(){this.finalize();for(var Ie=this.blockCount,We=this.s,ft=this.outputBlocks,nt=this.extraBytes,at=0,Ht=0,dt="",gt;Ht<ft;){for(at=0;at<Ie&&Ht<ft;++at,++Ht)gt=We[at],dt+=Ee[gt>>4&15]+Ee[gt&15]+Ee[gt>>12&15]+Ee[gt>>8&15]+Ee[gt>>20&15]+Ee[gt>>16&15]+Ee[gt>>28&15]+Ee[gt>>24&15];Ht%Ie===0&&(ze(We),at=0)}return nt&&(gt=We[at],dt+=Ee[gt>>4&15]+Ee[gt&15],nt>1&&(dt+=Ee[gt>>12&15]+Ee[gt>>8&15]),nt>2&&(dt+=Ee[gt>>20&15]+Ee[gt>>16&15])),dt},ae.prototype.arrayBuffer=function(){this.finalize();var Ie=this.blockCount,We=this.s,ft=this.outputBlocks,nt=this.extraBytes,at=0,Ht=0,dt=this.outputBits>>3,gt;nt?gt=new ArrayBuffer(ft+1<<2):gt=new ArrayBuffer(dt);for(var Jt=new Uint32Array(gt);Ht<ft;){for(at=0;at<Ie&&Ht<ft;++at,++Ht)Jt[Ht]=We[at];Ht%Ie===0&&ze(We)}return nt&&(Jt[at]=We[at],gt=gt.slice(0,dt)),gt},ae.prototype.buffer=ae.prototype.arrayBuffer,ae.prototype.digest=ae.prototype.array=function(){this.finalize();for(var Ie=this.blockCount,We=this.s,ft=this.outputBlocks,nt=this.extraBytes,at=0,Ht=0,dt=[],gt,Jt;Ht<ft;){for(at=0;at<Ie&&Ht<ft;++at,++Ht)gt=Ht<<2,Jt=We[at],dt[gt]=Jt&255,dt[gt+1]=Jt>>8&255,dt[gt+2]=Jt>>16&255,dt[gt+3]=Jt>>24&255;Ht%Ie===0&&ze(We)}return nt&&(gt=Ht<<2,Jt=We[at],dt[gt]=Jt&255,nt>1&&(dt[gt+1]=Jt>>8&255),nt>2&&(dt[gt+2]=Jt>>16&255)),dt};function be(Ie,We,ft){ae.call(this,Ie,We,ft)}be.prototype=new ae,be.prototype.finalize=function(){return this.encode(this.outputBits,!0),ae.prototype.finalize.call(this)};var ze=function(Ie){var We,ft,nt,at,Ht,dt,gt,Jt,yt,Mt,it,Le,De,ct,ot,lt,Pt,Et,St,ar,Tt,Re,we,_e,ke,Ze,Je,tt,zt,_t,vt,nr,xt,Nt,Ar,Lt,Ft,Rr,kt,Bt,_r,Ot,$t,Sr,Dt,Ct,Mr,Fe,Ge,et,Te,Ye,bt,st,ut,qt,At,wt,lr,Wt,tr,rr,ir;for(nt=0;nt<48;nt+=2)at=Ie[0]^Ie[10]^Ie[20]^Ie[30]^Ie[40],Ht=Ie[1]^Ie[11]^Ie[21]^Ie[31]^Ie[41],dt=Ie[2]^Ie[12]^Ie[22]^Ie[32]^Ie[42],gt=Ie[3]^Ie[13]^Ie[23]^Ie[33]^Ie[43],Jt=Ie[4]^Ie[14]^Ie[24]^Ie[34]^Ie[44],yt=Ie[5]^Ie[15]^Ie[25]^Ie[35]^Ie[45],Mt=Ie[6]^Ie[16]^Ie[26]^Ie[36]^Ie[46],it=Ie[7]^Ie[17]^Ie[27]^Ie[37]^Ie[47],Le=Ie[8]^Ie[18]^Ie[28]^Ie[38]^Ie[48],De=Ie[9]^Ie[19]^Ie[29]^Ie[39]^Ie[49],We=Le^(dt<<1|gt>>>31),ft=De^(gt<<1|dt>>>31),Ie[0]^=We,Ie[1]^=ft,Ie[10]^=We,Ie[11]^=ft,Ie[20]^=We,Ie[21]^=ft,Ie[30]^=We,Ie[31]^=ft,Ie[40]^=We,Ie[41]^=ft,We=at^(Jt<<1|yt>>>31),ft=Ht^(yt<<1|Jt>>>31),Ie[2]^=We,Ie[3]^=ft,Ie[12]^=We,Ie[13]^=ft,Ie[22]^=We,Ie[23]^=ft,Ie[32]^=We,Ie[33]^=ft,Ie[42]^=We,Ie[43]^=ft,We=dt^(Mt<<1|it>>>31),ft=gt^(it<<1|Mt>>>31),Ie[4]^=We,Ie[5]^=ft,Ie[14]^=We,Ie[15]^=ft,Ie[24]^=We,Ie[25]^=ft,Ie[34]^=We,Ie[35]^=ft,Ie[44]^=We,Ie[45]^=ft,We=Jt^(Le<<1|De>>>31),ft=yt^(De<<1|Le>>>31),Ie[6]^=We,Ie[7]^=ft,Ie[16]^=We,Ie[17]^=ft,Ie[26]^=We,Ie[27]^=ft,Ie[36]^=We,Ie[37]^=ft,Ie[46]^=We,Ie[47]^=ft,We=Mt^(at<<1|Ht>>>31),ft=it^(Ht<<1|at>>>31),Ie[8]^=We,Ie[9]^=ft,Ie[18]^=We,Ie[19]^=ft,Ie[28]^=We,Ie[29]^=ft,Ie[38]^=We,Ie[39]^=ft,Ie[48]^=We,Ie[49]^=ft,ct=Ie[0],ot=Ie[1],Ct=Ie[11]<<4|Ie[10]>>>28,Mr=Ie[10]<<4|Ie[11]>>>28,tt=Ie[20]<<3|Ie[21]>>>29,zt=Ie[21]<<3|Ie[20]>>>29,Wt=Ie[31]<<9|Ie[30]>>>23,tr=Ie[30]<<9|Ie[31]>>>23,Ot=Ie[40]<<18|Ie[41]>>>14,$t=Ie[41]<<18|Ie[40]>>>14,Nt=Ie[2]<<1|Ie[3]>>>31,Ar=Ie[3]<<1|Ie[2]>>>31,lt=Ie[13]<<12|Ie[12]>>>20,Pt=Ie[12]<<12|Ie[13]>>>20,Fe=Ie[22]<<10|Ie[23]>>>22,Ge=Ie[23]<<10|Ie[22]>>>22,_t=Ie[33]<<13|Ie[32]>>>19,vt=Ie[32]<<13|Ie[33]>>>19,rr=Ie[42]<<2|Ie[43]>>>30,ir=Ie[43]<<2|Ie[42]>>>30,st=Ie[5]<<30|Ie[4]>>>2,ut=Ie[4]<<30|Ie[5]>>>2,Lt=Ie[14]<<6|Ie[15]>>>26,Ft=Ie[15]<<6|Ie[14]>>>26,Et=Ie[25]<<11|Ie[24]>>>21,St=Ie[24]<<11|Ie[25]>>>21,et=Ie[34]<<15|Ie[35]>>>17,Te=Ie[35]<<15|Ie[34]>>>17,nr=Ie[45]<<29|Ie[44]>>>3,xt=Ie[44]<<29|Ie[45]>>>3,_e=Ie[6]<<28|Ie[7]>>>4,ke=Ie[7]<<28|Ie[6]>>>4,qt=Ie[17]<<23|Ie[16]>>>9,At=Ie[16]<<23|Ie[17]>>>9,Rr=Ie[26]<<25|Ie[27]>>>7,kt=Ie[27]<<25|Ie[26]>>>7,ar=Ie[36]<<21|Ie[37]>>>11,Tt=Ie[37]<<21|Ie[36]>>>11,Ye=Ie[47]<<24|Ie[46]>>>8,bt=Ie[46]<<24|Ie[47]>>>8,Sr=Ie[8]<<27|Ie[9]>>>5,Dt=Ie[9]<<27|Ie[8]>>>5,Ze=Ie[18]<<20|Ie[19]>>>12,Je=Ie[19]<<20|Ie[18]>>>12,wt=Ie[29]<<7|Ie[28]>>>25,lr=Ie[28]<<7|Ie[29]>>>25,Bt=Ie[38]<<8|Ie[39]>>>24,_r=Ie[39]<<8|Ie[38]>>>24,Re=Ie[48]<<14|Ie[49]>>>18,we=Ie[49]<<14|Ie[48]>>>18,Ie[0]=ct^~lt&Et,Ie[1]=ot^~Pt&St,Ie[10]=_e^~Ze&tt,Ie[11]=ke^~Je&zt,Ie[20]=Nt^~Lt&Rr,Ie[21]=Ar^~Ft&kt,Ie[30]=Sr^~Ct&Fe,Ie[31]=Dt^~Mr&Ge,Ie[40]=st^~qt&wt,Ie[41]=ut^~At&lr,Ie[2]=lt^~Et&ar,Ie[3]=Pt^~St&Tt,Ie[12]=Ze^~tt&_t,Ie[13]=Je^~zt&vt,Ie[22]=Lt^~Rr&Bt,Ie[23]=Ft^~kt&_r,Ie[32]=Ct^~Fe&et,Ie[33]=Mr^~Ge&Te,Ie[42]=qt^~wt&Wt,Ie[43]=At^~lr&tr,Ie[4]=Et^~ar&Re,Ie[5]=St^~Tt&we,Ie[14]=tt^~_t&nr,Ie[15]=zt^~vt&xt,Ie[24]=Rr^~Bt&Ot,Ie[25]=kt^~_r&$t,Ie[34]=Fe^~et&Ye,Ie[35]=Ge^~Te&bt,Ie[44]=wt^~Wt&rr,Ie[45]=lr^~tr&ir,Ie[6]=ar^~Re&ct,Ie[7]=Tt^~we&ot,Ie[16]=_t^~nr&_e,Ie[17]=vt^~xt&ke,Ie[26]=Bt^~Ot&Nt,Ie[27]=_r^~$t&Ar,Ie[36]=et^~Ye&Sr,Ie[37]=Te^~bt&Dt,Ie[46]=Wt^~rr&st,Ie[47]=tr^~ir&ut,Ie[8]=Re^~ct&lt,Ie[9]=we^~ot&Pt,Ie[18]=nr^~_e&Ze,Ie[19]=xt^~ke&Je,Ie[28]=Ot^~Nt&Lt,Ie[29]=$t^~Ar&Ft,Ie[38]=Ye^~Sr&Ct,Ie[39]=bt^~Dt&Mr,Ie[48]=rr^~st&qt,Ie[49]=ir^~ut&At,Ie[0]^=Ue[nt],Ie[1]^=Ue[nt+1]};if(ue)re.exports=oe;else for(le=0;le<ce.length;++le)se[ce[le]]=oe[ce[le]]})()})(sha3$1);var sha3=sha3$1.exports,cjs$1={},crypto$5={};Object.defineProperty(crypto$5,"__esModule",{value:!0}),crypto$5.isBrowserCryptoAvailable=crypto$5.getSubtleCrypto=crypto$5.getBrowerCrypto=void 0;function getBrowerCrypto(){return commonjsGlobal?.crypto||commonjsGlobal?.msCrypto||{}}crypto$5.getBrowerCrypto=getBrowerCrypto;function getSubtleCrypto(){const re=getBrowerCrypto();return re.subtle||re.webkitSubtle}crypto$5.getSubtleCrypto=getSubtleCrypto;function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}crypto$5.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env$1={};Object.defineProperty(env$1,"__esModule",{value:!0}),env$1.isBrowser=env$1.isNode=env$1.isReactNative=void 0;function isReactNative(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env$1.isReactNative=isReactNative;function isNode$1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env$1.isNode=isNode$1;function isBrowser(){return!isReactNative()&&!isNode$1()}env$1.isBrowser=isBrowser,function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,se,ie,fe){fe===void 0&&(fe=ie),Object.defineProperty(ne,fe,{enumerable:!0,get:function(){return se[ie]}})}:function(ne,se,ie,fe){fe===void 0&&(fe=ie),ne[fe]=se[ie]}),te=commonjsGlobal&&commonjsGlobal.__exportStar||function(ne,se){for(var ie in ne)ie!=="default"&&!se.hasOwnProperty(ie)&&ee(se,ne,ie)};Object.defineProperty(re,"__esModule",{value:!0}),te(crypto$5,re),te(env$1,re)}(cjs$1);function payloadId$1(){const re=Date.now()*Math.pow(10,3),ee=Math.floor(Math.random()*Math.pow(10,3));return re+ee}function sanitizeHex(re){return sanitizeHex$1(re)}function removeHexLeadingZeros(re){return removeHexLeadingZeros$1(addHexPrefix(re))}const payloadId=payloadId$1;function uuid$2(){return((ee,te)=>{for(te=ee="";ee++<36;te+=ee*51&52?(ee^15?8^Math.random()*(ee^20?16:4):4).toString(16):"-");return te})()}function getInfuraRpcUrl(re,ee){let te;const ne=infuraNetworks[re];return ne&&(te=`https://${ne}.infura.io/v3/${ee}`),te}function getRpcUrl(re,ee){let te;const ne=getInfuraRpcUrl(re,ee.infuraId);return ee.custom&&ee.custom[re]?te=ee.custom[re]:ne&&(te=ne),te}function isEmptyString(re){return re===""||typeof re=="string"&&re.trim()===""}function isEmptyArray(re){return!(re&&re.length)}function isHexString$1(re,ee){return isHexString$2(re,ee)}function isJsonRpcRequest(re){return typeof re.method<"u"}function isJsonRpcResponseSuccess(re){return typeof re.result<"u"}function isJsonRpcResponseError(re){return typeof re.error<"u"}function isInternalEvent(re){return typeof re.event<"u"}function isReservedEvent(re){return reservedEvents.includes(re)||re.startsWith("wc_")}function isSilentPayload(re){return re.method.startsWith("wc_")?!0:!signingMethods.includes(re.method)}function toChecksumAddress(re){re=removeHexPrefix(re.toLowerCase());const ee=removeHexPrefix(sha3$1.exports.keccak_256(convertUtf8ToBuffer(re)));let te="";for(let ne=0;ne<re.length;ne++)parseInt(ee[ne],16)>7?te+=re[ne].toUpperCase():te+=re[ne];return addHexPrefix(te)}const isValidAddress=re=>re?re.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(re)?/^(0x)?[0-9a-f]{40}$/.test(re)||/^(0x)?[0-9A-F]{40}$/.test(re)?!0:re===toChecksumAddress(re):!1:!1;function parsePersonalSign(re){return!isEmptyArray(re)&&!isHexString$1(re[0])&&(re[0]=convertUtf8ToHex(re[0])),re}function parseTransactionData(re){if(typeof re.type<"u"&&re.type!=="0")return re;if(typeof re.from>"u"||!isValidAddress(re.from))throw new Error("Transaction object must include a valid 'from' value.");function ee(se){let ie=se;return(typeof se=="number"||typeof se=="string"&&!isEmptyString(se))&&(isHexString$1(se)?typeof se=="string"&&(ie=sanitizeHex(se)):ie=convertNumberToHex(se)),typeof ie=="string"&&(ie=removeHexLeadingZeros(ie)),ie}const te={from:sanitizeHex(re.from),to:typeof re.to>"u"?void 0:sanitizeHex(re.to),gasPrice:typeof re.gasPrice>"u"?"":ee(re.gasPrice),gas:typeof re.gas>"u"?typeof re.gasLimit>"u"?"":ee(re.gasLimit):ee(re.gas),value:typeof re.value>"u"?"":ee(re.value),nonce:typeof re.nonce>"u"?"":ee(re.nonce),data:typeof re.data>"u"?"":sanitizeHex(re.data)||"0x"},ne=["gasPrice","gas","value","nonce"];return Object.keys(te).forEach(se=>{(typeof te[se]>"u"||typeof te[se]=="string"&&!te[se].trim().length)&&ne.includes(se)&&delete te[se]}),te}function formatRpcError(re){const ee=re.message||"Failed or Rejected Request";let te=-32e3;if(re&&!re.code)switch(ee){case"Parse error":te=-32700;break;case"Invalid request":te=-32600;break;case"Method not found":te=-32601;break;case"Invalid params":te=-32602;break;case"Internal error":te=-32603;break;default:te=-32e3;break}const ne={code:te,message:ee};return re.data&&(ne.data=re.data),ne}var queryString={},strictUriEncode=re=>encodeURIComponent(re).replace(/[!'()*]/g,ee=>`%${ee.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(re,ee){try{return decodeURIComponent(re.join(""))}catch{}if(re.length===1)return re;ee=ee||1;var te=re.slice(0,ee),ne=re.slice(ee);return Array.prototype.concat.call([],decodeComponents(te),decodeComponents(ne))}function decode$3(re){try{return decodeURIComponent(re)}catch{for(var ee=re.match(singleMatcher),te=1;te<ee.length;te++)re=decodeComponents(ee,te).join(""),ee=re.match(singleMatcher);return re}}function customDecodeURIComponent(re){for(var ee={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},te=multiMatcher.exec(re);te;){try{ee[te[0]]=decodeURIComponent(te[0])}catch{var ne=decode$3(te[0]);ne!==te[0]&&(ee[te[0]]=ne)}te=multiMatcher.exec(re)}ee["%C2"]="\uFFFD";for(var se=Object.keys(ee),ie=0;ie<se.length;ie++){var fe=se[ie];re=re.replace(new RegExp(fe,"g"),ee[fe])}return re}var decodeUriComponent=function(re){if(typeof re!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof re+"`");try{return re=re.replace(/\+/g," "),decodeURIComponent(re)}catch{return customDecodeURIComponent(re)}},splitOnFirst=(re,ee)=>{if(!(typeof re=="string"&&typeof ee=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(ee==="")return[re];const te=re.indexOf(ee);return te===-1?[re]:[re.slice(0,te),re.slice(te+ee.length)]};(function(re){const ee=strictUriEncode,te=decodeUriComponent,ne=splitOnFirst,se=Ce=>Ce==null;function ie(Ce){switch(Ce.arrayFormat){case"index":return Be=>(He,Oe)=>{const Ke=He.length;return Oe===void 0||Ce.skipNull&&Oe===null||Ce.skipEmptyString&&Oe===""?He:Oe===null?[...He,[xe(Be,Ce),"[",Ke,"]"].join("")]:[...He,[xe(Be,Ce),"[",xe(Ke,Ce),"]=",xe(Oe,Ce)].join("")]};case"bracket":return Be=>(He,Oe)=>Oe===void 0||Ce.skipNull&&Oe===null||Ce.skipEmptyString&&Oe===""?He:Oe===null?[...He,[xe(Be,Ce),"[]"].join("")]:[...He,[xe(Be,Ce),"[]=",xe(Oe,Ce)].join("")];case"comma":case"separator":return Be=>(He,Oe)=>Oe==null||Oe.length===0?He:He.length===0?[[xe(Be,Ce),"=",xe(Oe,Ce)].join("")]:[[He,xe(Oe,Ce)].join(Ce.arrayFormatSeparator)];default:return Be=>(He,Oe)=>Oe===void 0||Ce.skipNull&&Oe===null||Ce.skipEmptyString&&Oe===""?He:Oe===null?[...He,xe(Be,Ce)]:[...He,[xe(Be,Ce),"=",xe(Oe,Ce)].join("")]}}function fe(Ce){let Be;switch(Ce.arrayFormat){case"index":return(He,Oe,Ke)=>{if(Be=/\[(\d*)\]$/.exec(He),He=He.replace(/\[\d*\]$/,""),!Be){Ke[He]=Oe;return}Ke[He]===void 0&&(Ke[He]={}),Ke[He][Be[1]]=Oe};case"bracket":return(He,Oe,Ke)=>{if(Be=/(\[\])$/.exec(He),He=He.replace(/\[\]$/,""),!Be){Ke[He]=Oe;return}if(Ke[He]===void 0){Ke[He]=[Oe];return}Ke[He]=[].concat(Ke[He],Oe)};case"comma":case"separator":return(He,Oe,Ke)=>{const Ve=typeof Oe=="string"&&Oe.split("").indexOf(Ce.arrayFormatSeparator)>-1?Oe.split(Ce.arrayFormatSeparator).map(Xe=>Ee(Xe,Ce)):Oe===null?Oe:Ee(Oe,Ce);Ke[He]=Ve};default:return(He,Oe,Ke)=>{if(Ke[He]===void 0){Ke[He]=Oe;return}Ke[He]=[].concat(Ke[He],Oe)}}}function ue(Ce){if(typeof Ce!="string"||Ce.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function xe(Ce,Be){return Be.encode?Be.strict?ee(Ce):encodeURIComponent(Ce):Ce}function Ee(Ce,Be){return Be.decode?te(Ce):Ce}function Ae(Ce){return Array.isArray(Ce)?Ce.sort():typeof Ce=="object"?Ae(Object.keys(Ce)).sort((Be,He)=>Number(Be)-Number(He)).map(Be=>Ce[Be]):Ce}function Me(Ce){const Be=Ce.indexOf("#");return Be!==-1&&(Ce=Ce.slice(0,Be)),Ce}function Pe(Ce){let Be="";const He=Ce.indexOf("#");return He!==-1&&(Be=Ce.slice(He)),Be}function Ne(Ce){Ce=Me(Ce);const Be=Ce.indexOf("?");return Be===-1?"":Ce.slice(Be+1)}function je(Ce,Be){return Be.parseNumbers&&!Number.isNaN(Number(Ce))&&typeof Ce=="string"&&Ce.trim()!==""?Ce=Number(Ce):Be.parseBooleans&&Ce!==null&&(Ce.toLowerCase()==="true"||Ce.toLowerCase()==="false")&&(Ce=Ce.toLowerCase()==="true"),Ce}function Ue(Ce,Be){Be=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Be),ue(Be.arrayFormatSeparator);const He=fe(Be),Oe=Object.create(null);if(typeof Ce!="string"||(Ce=Ce.trim().replace(/^[?#&]/,""),!Ce))return Oe;for(const Ke of Ce.split("&")){let[qe,Ve]=ne(Be.decode?Ke.replace(/\+/g," "):Ke,"=");Ve=Ve===void 0?null:["comma","separator"].includes(Be.arrayFormat)?Ve:Ee(Ve,Be),He(Ee(qe,Be),Ve,Oe)}for(const Ke of Object.keys(Oe)){const qe=Oe[Ke];if(typeof qe=="object"&&qe!==null)for(const Ve of Object.keys(qe))qe[Ve]=je(qe[Ve],Be);else Oe[Ke]=je(qe,Be)}return Be.sort===!1?Oe:(Be.sort===!0?Object.keys(Oe).sort():Object.keys(Oe).sort(Be.sort)).reduce((Ke,qe)=>{const Ve=Oe[qe];return Boolean(Ve)&&typeof Ve=="object"&&!Array.isArray(Ve)?Ke[qe]=Ae(Ve):Ke[qe]=Ve,Ke},Object.create(null))}re.extract=Ne,re.parse=Ue,re.stringify=(Ce,Be)=>{if(!Ce)return"";Be=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Be),ue(Be.arrayFormatSeparator);const He=Ve=>Be.skipNull&&se(Ce[Ve])||Be.skipEmptyString&&Ce[Ve]==="",Oe=ie(Be),Ke={};for(const Ve of Object.keys(Ce))He(Ve)||(Ke[Ve]=Ce[Ve]);const qe=Object.keys(Ke);return Be.sort!==!1&&qe.sort(Be.sort),qe.map(Ve=>{const Xe=Ce[Ve];return Xe===void 0?"":Xe===null?xe(Ve,Be):Array.isArray(Xe)?Xe.reduce(Oe(Ve),[]).join("&"):xe(Ve,Be)+"="+xe(Xe,Be)}).filter(Ve=>Ve.length>0).join("&")},re.parseUrl=(Ce,Be)=>{Be=Object.assign({decode:!0},Be);const[He,Oe]=ne(Ce,"#");return Object.assign({url:He.split("?")[0]||"",query:Ue(Ne(Ce),Be)},Be&&Be.parseFragmentIdentifier&&Oe?{fragmentIdentifier:Ee(Oe,Be)}:{})},re.stringifyUrl=(Ce,Be)=>{Be=Object.assign({encode:!0,strict:!0},Be);const He=Me(Ce.url).split("?")[0]||"",Oe=re.extract(Ce.url),Ke=re.parse(Oe,{sort:!1}),qe=Object.assign(Ke,Ce.query);let Ve=re.stringify(qe,Be);Ve&&(Ve=`?${Ve}`);let Xe=Pe(Ce.url);return Ce.fragmentIdentifier&&(Xe=`#${xe(Ce.fragmentIdentifier,Be)}`),`${He}${Ve}${Xe}`}})(queryString);function getQueryString(re){const ee=re.indexOf("?")!==-1?re.indexOf("?"):void 0;return typeof ee<"u"?re.substr(ee):""}function appendToQueryString(re,ee){let te=parseQueryString(re);return te=Object.assign(Object.assign({},te),ee),re=formatQueryString(te),re}function parseQueryString(re){return queryString.parse(re)}function formatQueryString(re){return queryString.stringify(re)}function isWalletConnectSession(re){return typeof re.bridge<"u"}function parseWalletConnectUri(re){const ee=re.indexOf(":"),te=re.indexOf("?")!==-1?re.indexOf("?"):void 0,ne=re.substring(0,ee),se=re.substring(ee+1,te);function ie(Me){const Pe="@",Ne=Me.split(Pe);return{handshakeTopic:Ne[0],version:parseInt(Ne[1],10)}}const fe=ie(se),ue=typeof te<"u"?re.substr(te):"";function xe(Me){const Pe=parseQueryString(Me);return{key:Pe.key||"",bridge:Pe.bridge||""}}const Ee=xe(ue);return Object.assign(Object.assign({protocol:ne},fe),Ee)}class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(ee,te){this._eventEmitters.push({event:ee,callback:te})}trigger(ee){let te=[];ee&&(te=this._eventEmitters.filter(ne=>ne.event===ee)),te.forEach(ne=>{ne.callback()})}}const WS=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class SocketTransport{constructor(ee){if(this.opts=ee,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=ee.protocol,this._version=ee.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=ee.subscriptions||[],this._netMonitor=ee.netMonitor||new NetworkMonitor,!ee.url||typeof ee.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=ee.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(ee){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(ee){}get connecting(){return this.readyState===0}set connected(ee){}get connected(){return this.readyState===1}set closing(ee){}get closing(){return this.readyState===2}set closed(ee){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(ee,te,ne){if(!te||typeof te!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:te,type:"pub",payload:ee,silent:!!ne})}subscribe(ee){this._socketSend({topic:ee,type:"sub",payload:"",silent:!0})}on(ee,te){this._events.push({event:ee,callback:te})}_socketCreate(){if(this._nextSocket)return;const ee=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(ee),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=te=>this._socketReceive(te),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=te=>this._socketError(te),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(ee){const te=JSON.stringify(ee);this._socket&&this._socket.readyState===1?this._socket.send(te):(this._setToQueue(ee),this._socketCreate())}async _socketReceive(ee){let te;try{te=JSON.parse(ee.data)}catch{return}if(this._socketSend({topic:te.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const ne=this._events.filter(se=>se.event==="message");ne&&ne.length&&ne.forEach(se=>se.callback(te))}}_socketError(ee){const te=this._events.filter(ne=>ne.event==="error");te&&te.length&&te.forEach(ne=>ne.callback(ee))}_queueSubscriptions(){this._subscriptions.forEach(te=>this._queue.push({topic:te,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(ee){this._queue.push(ee)}_pushQueue(){this._queue.forEach(te=>this._socketSend(te)),this._queue=[]}}function getWebSocketUrl(re,ee,te){var ne,se;const fe=(re.startsWith("https")?re.replace("https","wss"):re.startsWith("http")?re.replace("http","ws"):re).split("?"),ue=isBrowser$1()?{protocol:ee,version:te,env:"browser",host:((ne=getLocation())===null||ne===void 0?void 0:ne.host)||""}:{protocol:ee,version:te,env:((se=detectEnv())===null||se===void 0?void 0:se.name)||""},xe=appendToQueryString(getQueryString(fe[1]||""),ue);return fe[0]+"?"+xe}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(ee){this._eventEmitters.push(ee)}unsubscribe(ee){this._eventEmitters=this._eventEmitters.filter(te=>te.event!==ee)}trigger(ee){let te=[],ne;isJsonRpcRequest(ee)?ne=ee.method:isJsonRpcResponseSuccess(ee)||isJsonRpcResponseError(ee)?ne=`response:${ee.id}`:isInternalEvent(ee)?ne=ee.event:ne="",ne&&(te=this._eventEmitters.filter(se=>se.event===ne)),(!te||!te.length)&&!isReservedEvent(ne)&&!isInternalEvent(ne)&&(te=this._eventEmitters.filter(se=>se.event==="call_request")),te.forEach(se=>{if(isJsonRpcResponseError(ee)){const ie=new Error(ee.error.message);se.callback(ie,null)}else se.callback(null,ee)})}}class SessionStorage{constructor(ee="walletconnect"){this.storageId=ee}getSession(){let ee=null;const te=getLocal(this.storageId);return te&&isWalletConnectSession(te)&&(ee=te),ee}setSession(ee){return setLocal(this.storageId,ee),ee}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(re=>`https://${re}.bridge.walletconnect.org`);function extractHostname(re){let ee=re.indexOf("//")>-1?re.split("/")[2]:re.split("/")[0];return ee=ee.split(":")[0],ee=ee.split("?")[0],ee}function extractRootDomain(re){return extractHostname(re).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(re){return extractRootDomain(re)===domain}function getBridgeUrl(re){return shouldSelectRandomly(re)?selectRandomBridgeUrl():re}class Connector{constructor(ee){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||ee.connectorOpts.clientMeta||null,this._cryptoLib=ee.cryptoLib,this._sessionStorage=ee.sessionStorage||new SessionStorage(ee.connectorOpts.storageId),this._qrcodeModal=ee.connectorOpts.qrcodeModal,this._qrcodeModalOptions=ee.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,...ee.connectorOpts.signingMethods||[]],!ee.connectorOpts.bridge&&!ee.connectorOpts.uri&&!ee.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);ee.connectorOpts.bridge&&(this.bridge=getBridgeUrl(ee.connectorOpts.bridge)),ee.connectorOpts.uri&&(this.uri=ee.connectorOpts.uri);const te=ee.connectorOpts.session||this._getStorageSession();te&&(this.session=te),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=ee.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),ee.connectorOpts.uri&&this._subscribeToSessionRequest(),ee.pushServerOpts&&this._registerPushServer(ee.pushServerOpts)}set bridge(ee){!ee||(this._bridge=ee)}get bridge(){return this._bridge}set key(ee){if(!ee)return;const te=convertHexToArrayBuffer(ee);this._key=te}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(ee){!ee||(this._clientId=ee)}get clientId(){let ee=this._clientId;return ee||(ee=this._clientId=uuid$2()),this._clientId}set peerId(ee){!ee||(this._peerId=ee)}get peerId(){return this._peerId}set clientMeta(ee){}get clientMeta(){let ee=this._clientMeta;return ee||(ee=this._clientMeta=getClientMeta()),ee}set peerMeta(ee){this._peerMeta=ee}get peerMeta(){return this._peerMeta}set handshakeTopic(ee){!ee||(this._handshakeTopic=ee)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(ee){!ee||(this._handshakeId=ee)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(ee){if(!ee)return;const{handshakeTopic:te,bridge:ne,key:se}=this._parseUri(ee);this.handshakeTopic=te,this.bridge=ne,this.key=se}set chainId(ee){this._chainId=ee}get chainId(){return this._chainId}set networkId(ee){this._networkId=ee}get networkId(){return this._networkId}set accounts(ee){this._accounts=ee}get accounts(){return this._accounts}set rpcUrl(ee){this._rpcUrl=ee}get rpcUrl(){return this._rpcUrl}set connected(ee){}get connected(){return this._connected}set pending(ee){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(ee){!ee||(this._connected=ee.connected,this.accounts=ee.accounts,this.chainId=ee.chainId,this.bridge=ee.bridge,this.key=ee.key,this.clientId=ee.clientId,this.clientMeta=ee.clientMeta,this.peerId=ee.peerId,this.peerMeta=ee.peerMeta,this.handshakeId=ee.handshakeId,this.handshakeTopic=ee.handshakeTopic)}on(ee,te){const ne={event:ee,callback:te};this._eventManager.subscribe(ne)}off(ee){this._eventManager.unsubscribe(ee)}async createInstantRequest(ee){this._key=await this._generateKey();const te=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(ee)}]});this.handshakeId=te.id,this.handshakeTopic=uuid$2(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const ne=()=>{this.killSession()};try{const se=await this._sendCallRequest(te);return se&&ne(),se}catch(se){throw ne(),se}}async connect(ee){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(ee),new Promise(async(te,ne)=>{this.on("modal_closed",()=>ne(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(se,ie)=>{if(se)return ne(se);te(ie.params[0])})}))}async createSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const te=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:ee&&ee.chainId?ee.chainId:null}]});this.handshakeId=te.id,this.handshakeTopic=uuid$2(),this._sendSessionRequest(te,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const te={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},ne={id:this.handshakeId,jsonrpc:"2.0",result:te};this._sendResponse(ne),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(ee){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const te=ee&&ee.message?ee.message:ERROR_SESSION_REJECTED,ne=this._formatResponse({id:this.handshakeId,error:{message:te}});this._sendResponse(ne),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:te}]}),this._removeStorageSession()}updateSession(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=ee.chainId,this.accounts=ee.accounts,this.networkId=ee.networkId||0,this.rpcUrl=ee.rpcUrl||"";const te={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},ne=this._formatRequest({method:"wc_sessionUpdate",params:[te]});this._sendSessionRequest(ne,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(ee){const te=ee?ee.message:"Session Disconnected",ne={approved:!1,chainId:null,networkId:null,accounts:null},se=this._formatRequest({method:"wc_sessionUpdate",params:[ne]});await this._sendRequest(se),this._handleSessionDisconnect(te)}async sendTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const te=parseTransactionData(ee),ne=this._formatRequest({method:"eth_sendTransaction",params:[te]});return await this._sendCallRequest(ne)}async signTransaction(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const te=parseTransactionData(ee),ne=this._formatRequest({method:"eth_signTransaction",params:[te]});return await this._sendCallRequest(ne)}async signMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const te=this._formatRequest({method:"eth_sign",params:ee});return await this._sendCallRequest(te)}async signPersonalMessage(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);ee=parsePersonalSign(ee);const te=this._formatRequest({method:"personal_sign",params:ee});return await this._sendCallRequest(te)}async signTypedData(ee){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const te=this._formatRequest({method:"eth_signTypedData",params:ee});return await this._sendCallRequest(te)}async updateChain(ee){if(!this._connected)throw new Error("Session currently disconnected");const te=this._formatRequest({method:"wallet_updateChain",params:[ee]});return await this._sendCallRequest(te)}unsafeSend(ee,te){return this._sendRequest(ee,te),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:te}]}),new Promise((ne,se)=>{this._subscribeToResponse(ee.id,(ie,fe)=>{if(ie){se(ie);return}if(!fe)throw new Error(ERROR_MISSING_JSON_RPC);ne(fe)})})}async sendCustomRequest(ee,te){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(ee.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":ee.params&&(ee.params[0]=parseTransactionData(ee.params[0]));break;case"personal_sign":ee.params&&(ee.params=parsePersonalSign(ee.params));break}const ne=this._formatRequest(ee);return await this._sendCallRequest(ne,te)}approveRequest(ee){if(isJsonRpcResponseSuccess(ee)){const te=this._formatResponse(ee);this._sendResponse(te)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(ee){if(isJsonRpcResponseError(ee)){const te=this._formatResponse(ee);this._sendResponse(te)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(ee,te){const ne=this._formatRequest(ee),se=await this._encrypt(ne),ie=typeof te?.topic<"u"?te.topic:this.peerId,fe=JSON.stringify(se),ue=typeof te?.forcePushNotification<"u"?!te.forcePushNotification:isSilentPayload(ne);this._transport.send(fe,ie,ue)}async _sendResponse(ee){const te=await this._encrypt(ee),ne=this.peerId,se=JSON.stringify(te),ie=!0;this._transport.send(se,ne,ie)}async _sendSessionRequest(ee,te,ne){this._sendRequest(ee,ne),this._subscribeToSessionResponse(ee.id,te)}_sendCallRequest(ee,te){return this._sendRequest(ee,te),this._eventManager.trigger({event:"call_request_sent",params:[{request:ee,options:te}]}),this._subscribeToCallResponse(ee.id)}_formatRequest(ee){if(typeof ee.method>"u")throw new Error(ERROR_MISSING_METHOD);return{id:typeof ee.id>"u"?payloadId():ee.id,jsonrpc:"2.0",method:ee.method,params:typeof ee.params>"u"?[]:ee.params}}_formatResponse(ee){if(typeof ee.id>"u")throw new Error(ERROR_MISSING_ID);const te={id:ee.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(ee)){const ne=formatRpcError(ee.error);return Object.assign(Object.assign(Object.assign({},te),ee),{error:ne})}else if(isJsonRpcResponseSuccess(ee))return Object.assign(Object.assign({},te),ee);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(ee){const te=ee||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:te}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(ee,te){te?te.approved?(this._connected?(te.chainId&&(this.chainId=te.chainId),te.accounts&&(this.accounts=te.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,te.chainId&&(this.chainId=te.chainId),te.accounts&&(this.accounts=te.accounts),te.peerId&&!this.peerId&&(this.peerId=te.peerId),te.peerMeta&&!this.peerMeta&&(this.peerMeta=te.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(ee):this._handleSessionDisconnect(ee)}async _handleIncomingMessages(ee){if(![this.clientId,this.handshakeTopic].includes(ee.topic))return;let ne;try{ne=JSON.parse(ee.payload)}catch{return}const se=await this._decrypt(ne);se&&this._eventManager.trigger(se)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(ee,te){this.on(`response:${ee}`,te)}_subscribeToSessionResponse(ee,te){this._subscribeToResponse(ee,(ne,se)=>{if(ne){this._handleSessionResponse(ne.message);return}isJsonRpcResponseSuccess(se)?this._handleSessionResponse(te,se.result):se.error&&se.error.message?this._handleSessionResponse(se.error.message):this._handleSessionResponse(te)})}_subscribeToCallResponse(ee){return new Promise((te,ne)=>{this._subscribeToResponse(ee,(se,ie)=>{if(se){ne(se);return}isJsonRpcResponseSuccess(ie)?te(ie.result):ie.error&&ie.error.message?ne(ie.error):ne(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(ee,te)=>{const{request:ne}=te.params[0];if(isMobile()&&this._signingMethods.includes(ne.method)){const se=getLocal(mobileLinkChoiceKey);se&&(window.location.href=se.href)}}),this.on("wc_sessionRequest",(ee,te)=>{ee&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:ee.toString()}]}),this.handshakeId=te.id,this.peerId=te.params[0].peerId,this.peerMeta=te.params[0].peerMeta;const ne=Object.assign(Object.assign({},te),{method:"session_request"});this._eventManager.trigger(ne)}),this.on("wc_sessionUpdate",(ee,te)=>{ee&&this._handleSessionResponse(ee.message),this._handleSessionResponse("Session disconnected",te.params[0])})}_initTransport(){this._transport.on("message",ee=>this._handleIncomingMessages(ee)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const ee=this.protocol,te=this.handshakeTopic,ne=this.version,se=encodeURIComponent(this.bridge),ie=this.key;return`${ee}:${te}@${ne}?bridge=${se}&key=${ie}`}_parseUri(ee){const te=parseWalletConnectUri(ee);if(te.protocol===this.protocol){if(!te.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const ne=te.handshakeTopic;if(!te.bridge)throw Error("Invalid or missing bridge url parameter value");const se=decodeURIComponent(te.bridge);if(!te.key)throw Error("Invalid or missing key parameter value");const ie=te.key;return{handshakeTopic:ne,bridge:se,key:ie}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(ee){const te=this._key;return this._cryptoLib&&te?await this._cryptoLib.encrypt(ee,te):null}async _decrypt(ee){const te=this._key;return this._cryptoLib&&te?await this._cryptoLib.decrypt(ee,te):null}_getStorageSession(){let ee=null;return this._sessionStorage&&(ee=this._sessionStorage.getSession()),ee}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(ee){if(!ee.url||typeof ee.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!ee.type||typeof ee.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!ee.token||typeof ee.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const te={bridge:this.bridge,topic:this.clientId,type:ee.type,token:ee.token,peerName:"",language:ee.language||""};this.on("connect",async(ne,se)=>{if(ne)throw ne;if(ee.peerMeta){const ie=se.params[0].peerMeta.name;te.peerName=ie}try{if(!(await(await fetch(`${ee.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(te)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes$1(re){return cjs$1.getBrowerCrypto().getRandomValues(new Uint8Array(re))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(re){return re===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(re){return re===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(re,ee=AES_BROWSER_ALGO){return cjs$1.getSubtleCrypto().importKey("raw",re,getAlgo(ee),!0,getOps(ee))}async function browserAesEncrypt(re,ee,te){const ne=cjs$1.getSubtleCrypto(),se=await browserImportKey(ee,AES_BROWSER_ALGO),ie=await ne.encrypt({iv:re,name:AES_BROWSER_ALGO},se,te);return new Uint8Array(ie)}async function browserAesDecrypt(re,ee,te){const ne=cjs$1.getSubtleCrypto(),se=await browserImportKey(ee,AES_BROWSER_ALGO),ie=await ne.decrypt({iv:re,name:AES_BROWSER_ALGO},se,te);return new Uint8Array(ie)}async function browserHmacSha256Sign(re,ee){const te=cjs$1.getSubtleCrypto(),ne=await browserImportKey(re,HMAC_BROWSER),se=await te.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},ne,ee);return new Uint8Array(se)}function aesCbcEncrypt(re,ee,te){return browserAesEncrypt(re,ee,te)}function aesCbcDecrypt(re,ee,te){return browserAesDecrypt(re,ee,te)}async function hmacSha256Sign(re,ee){return await browserHmacSha256Sign(re,ee)}async function generateKey(re){const ee=(re||256)/8,te=randomBytes$1(ee);return convertBufferToArrayBuffer(arrayToBuffer(te))}async function verifyHmac(re,ee){const te=hexToArray(re.data),ne=hexToArray(re.iv),se=hexToArray(re.hmac),ie=arrayToHex(se,!1),fe=concatArrays(te,ne),ue=await hmacSha256Sign(ee,fe),xe=arrayToHex(ue,!1);return removeHexPrefix(ie)===removeHexPrefix(xe)}async function encrypt$1(re,ee,te){const ne=bufferToArray(convertArrayBufferToBuffer(ee)),se=te||await generateKey(128),ie=bufferToArray(convertArrayBufferToBuffer(se)),fe=arrayToHex(ie,!1),ue=JSON.stringify(re),xe=utf8ToArray(ue),Ee=await aesCbcEncrypt(ie,ne,xe),Ae=arrayToHex(Ee,!1),Me=concatArrays(Ee,ie),Pe=await hmacSha256Sign(ne,Me),Ne=arrayToHex(Pe,!1);return{data:Ae,hmac:Ne,iv:fe}}async function decrypt$2(re,ee){const te=bufferToArray(convertArrayBufferToBuffer(ee));if(!te)throw new Error("Missing key: required for decryption");if(!await verifyHmac(re,te))return null;const se=hexToArray(re.data),ie=hexToArray(re.iv),fe=await aesCbcDecrypt(ie,te,se),ue=arrayToUtf8(fe);let xe;try{xe=JSON.parse(ue)}catch{return null}return xe}var cryptoLib=Object.freeze({__proto__:null,generateKey,verifyHmac,encrypt:encrypt$1,decrypt:decrypt$2});class WalletConnect$1 extends Connector{constructor(ee,te){super({cryptoLib,connectorOpts:ee,pushServerOpts:te})}}var require$$0$3=getAugmentedNamespace(esm),browser$4={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(re){return toString.call(re)=="[object Array]"},isArray$1=isarray;function typedArraySupport(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},re.foo()===42}catch{return!1}}Buffer$2.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$2(re,ee,te){return!Buffer$2.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$2)?new Buffer$2(re,ee,te):typeof re=="number"?allocUnsafe(this,re):from(this,re,ee,te)}Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer$2[Symbol.species]===Buffer$2&&Object.defineProperty(Buffer$2,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(re){if(re>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return re|0}function isnan(re){return re!==re}function createBuffer(re,ee){var te;return Buffer$2.TYPED_ARRAY_SUPPORT?(te=new Uint8Array(ee),te.__proto__=Buffer$2.prototype):(te=re,te===null&&(te=new Buffer$2(ee)),te.length=ee),te}function allocUnsafe(re,ee){var te=createBuffer(re,ee<0?0:checked(ee)|0);if(!Buffer$2.TYPED_ARRAY_SUPPORT)for(var ne=0;ne<ee;++ne)te[ne]=0;return te}function fromString(re,ee){var te=byteLength$1(ee)|0,ne=createBuffer(re,te),se=ne.write(ee);return se!==te&&(ne=ne.slice(0,se)),ne}function fromArrayLike(re,ee){for(var te=ee.length<0?0:checked(ee.length)|0,ne=createBuffer(re,te),se=0;se<te;se+=1)ne[se]=ee[se]&255;return ne}function fromArrayBuffer(re,ee,te,ne){if(te<0||ee.byteLength<te)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<te+(ne||0))throw new RangeError("'length' is out of bounds");var se;return te===void 0&&ne===void 0?se=new Uint8Array(ee):ne===void 0?se=new Uint8Array(ee,te):se=new Uint8Array(ee,te,ne),Buffer$2.TYPED_ARRAY_SUPPORT?se.__proto__=Buffer$2.prototype:se=fromArrayLike(re,se),se}function fromObject(re,ee){if(Buffer$2.isBuffer(ee)){var te=checked(ee.length)|0,ne=createBuffer(re,te);return ne.length===0||ee.copy(ne,0,0,te),ne}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return typeof ee.length!="number"||isnan(ee.length)?createBuffer(re,0):fromArrayLike(re,ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return fromArrayLike(re,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes$1(re,ee){ee=ee||1/0;for(var te,ne=re.length,se=null,ie=[],fe=0;fe<ne;++fe){if(te=re.charCodeAt(fe),te>55295&&te<57344){if(!se){if(te>56319){(ee-=3)>-1&&ie.push(239,191,189);continue}else if(fe+1===ne){(ee-=3)>-1&&ie.push(239,191,189);continue}se=te;continue}if(te<56320){(ee-=3)>-1&&ie.push(239,191,189),se=te;continue}te=(se-55296<<10|te-56320)+65536}else se&&(ee-=3)>-1&&ie.push(239,191,189);if(se=null,te<128){if((ee-=1)<0)break;ie.push(te)}else if(te<2048){if((ee-=2)<0)break;ie.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;ie.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;ie.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return ie}function byteLength$1(re){if(Buffer$2.isBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;typeof re!="string"&&(re=""+re);var ee=re.length;return ee===0?0:utf8ToBytes$1(re).length}function blitBuffer(re,ee,te,ne){for(var se=0;se<ne&&!(se+te>=ee.length||se>=re.length);++se)ee[se+te]=re[se];return se}function utf8Write(re,ee,te,ne){return blitBuffer(utf8ToBytes$1(ee,re.length-te),re,te,ne)}function from(re,ee,te,ne){if(typeof ee=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?fromArrayBuffer(re,ee,te,ne):typeof ee=="string"?fromString(re,ee):fromObject(re,ee)}Buffer$2.prototype.write=function(ee,te,ne){te===void 0?(ne=this.length,te=0):ne===void 0&&typeof te=="string"?(ne=this.length,te=0):isFinite(te)&&(te=te|0,isFinite(ne)?ne=ne|0:ne=void 0);var se=this.length-te;if((ne===void 0||ne>se)&&(ne=se),ee.length>0&&(ne<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,ee,te,ne)},Buffer$2.prototype.slice=function(ee,te){var ne=this.length;ee=~~ee,te=te===void 0?ne:~~te,ee<0?(ee+=ne,ee<0&&(ee=0)):ee>ne&&(ee=ne),te<0?(te+=ne,te<0&&(te=0)):te>ne&&(te=ne),te<ee&&(te=ee);var se;if(Buffer$2.TYPED_ARRAY_SUPPORT)se=this.subarray(ee,te),se.__proto__=Buffer$2.prototype;else{var ie=te-ee;se=new Buffer$2(ie,void 0);for(var fe=0;fe<ie;++fe)se[fe]=this[fe+ee]}return se},Buffer$2.prototype.copy=function(ee,te,ne,se){if(ne||(ne=0),!se&&se!==0&&(se=this.length),te>=ee.length&&(te=ee.length),te||(te=0),se>0&&se<ne&&(se=ne),se===ne||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),ee.length-te<se-ne&&(se=ee.length-te+ne);var ie=se-ne,fe;if(this===ee&&ne<te&&te<se)for(fe=ie-1;fe>=0;--fe)ee[fe+te]=this[fe+ne];else if(ie<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(fe=0;fe<ie;++fe)ee[fe+te]=this[fe+ne];else Uint8Array.prototype.set.call(ee,this.subarray(ne,ne+ie),te);return ie},Buffer$2.prototype.fill=function(ee,te,ne){if(typeof ee=="string"){if(typeof te=="string"?(te=0,ne=this.length):typeof ne=="string"&&(ne=this.length),ee.length===1){var se=ee.charCodeAt(0);se<256&&(ee=se)}}else typeof ee=="number"&&(ee=ee&255);if(te<0||this.length<te||this.length<ne)throw new RangeError("Out of range index");if(ne<=te)return this;te=te>>>0,ne=ne===void 0?this.length:ne>>>0,ee||(ee=0);var ie;if(typeof ee=="number")for(ie=te;ie<ne;++ie)this[ie]=ee;else{var fe=Buffer$2.isBuffer(ee)?ee:new Buffer$2(ee),ue=fe.length;for(ie=0;ie<ne-te;++ie)this[ie+te]=fe[ie%ue]}return this},Buffer$2.concat=function(ee,te){if(!isArray$1(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return createBuffer(null,0);var ne;if(te===void 0)for(te=0,ne=0;ne<ee.length;++ne)te+=ee[ne].length;var se=allocUnsafe(null,te),ie=0;for(ne=0;ne<ee.length;++ne){var fe=ee[ne];if(!Buffer$2.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(se,ie),ie+=fe.length}return se},Buffer$2.byteLength=byteLength$1,Buffer$2.prototype._isBuffer=!0,Buffer$2.isBuffer=function(ee){return!!(ee!=null&&ee._isBuffer)},typedarrayBuffer.alloc=function(re){var ee=new Buffer$2(re);return ee.fill(0),ee},typedarrayBuffer.from=function(re){return new Buffer$2(re)};var utils$f={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$f.getSymbolSize=function(ee){if(!ee)throw new Error('"version" cannot be null or undefined');if(ee<1||ee>40)throw new Error('"version" should be in range from 1 to 40');return ee*4+17},utils$f.getSymbolTotalCodewords=function(ee){return CODEWORDS_COUNT[ee]},utils$f.getBCHDigit=function(re){for(var ee=0;re!==0;)ee++,re>>>=1;return ee},utils$f.setToSJISFunction=function(ee){if(typeof ee!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=ee},utils$f.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"},utils$f.toSJIS=function(ee){return toSJISFunction(ee)};var errorCorrectionLevel={};(function(re){re.L={bit:1},re.M={bit:0},re.Q={bit:3},re.H={bit:2};function ee(te){if(typeof te!="string")throw new Error("Param is not a string");var ne=te.toLowerCase();switch(ne){case"l":case"low":return re.L;case"m":case"medium":return re.M;case"q":case"quartile":return re.Q;case"h":case"high":return re.H;default:throw new Error("Unknown EC Level: "+te)}}re.isValid=function(ne){return ne&&typeof ne.bit<"u"&&ne.bit>=0&&ne.bit<4},re.from=function(ne,se){if(re.isValid(ne))return ne;try{return ee(ne)}catch{return se}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(re){var ee=Math.floor(re/8);return(this.buffer[ee]>>>7-re%8&1)===1},put:function(re,ee){for(var te=0;te<ee;te++)this.putBit((re>>>ee-te-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(re){var ee=Math.floor(this.length/8);this.buffer.length<=ee&&this.buffer.push(0),re&&(this.buffer[ee]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(re){if(!re||re<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=re,this.data=BufferUtil$4.alloc(re*re),this.reservedBit=BufferUtil$4.alloc(re*re)}BitMatrix$1.prototype.set=function(re,ee,te,ne){var se=re*this.size+ee;this.data[se]=te,ne&&(this.reservedBit[se]=!0)},BitMatrix$1.prototype.get=function(re,ee){return this.data[re*this.size+ee]},BitMatrix$1.prototype.xor=function(re,ee,te){this.data[re*this.size+ee]^=te},BitMatrix$1.prototype.isReserved=function(re,ee){return this.reservedBit[re*this.size+ee]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(re){var ee=utils$f.getSymbolSize;re.getRowColCoords=function(ne){if(ne===1)return[];for(var se=Math.floor(ne/7)+2,ie=ee(ne),fe=ie===145?26:Math.ceil((ie-13)/(2*se-2))*2,ue=[ie-7],xe=1;xe<se-1;xe++)ue[xe]=ue[xe-1]-fe;return ue.push(6),ue.reverse()},re.getPositions=function(ne){for(var se=[],ie=re.getRowColCoords(ne),fe=ie.length,ue=0;ue<fe;ue++)for(var xe=0;xe<fe;xe++)ue===0&&xe===0||ue===0&&xe===fe-1||ue===fe-1&&xe===0||se.push([ie[ue],ie[xe]]);return se}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$f.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(ee){var te=getSymbolSize(ee);return[[0,0],[te-FINDER_PATTERN_SIZE,0],[0,te-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(re){re.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ee={N1:3,N2:3,N3:40,N4:10};re.isValid=function(se){return se!=null&&se!==""&&!isNaN(se)&&se>=0&&se<=7},re.from=function(se){return re.isValid(se)?parseInt(se,10):void 0},re.getPenaltyN1=function(se){for(var ie=se.size,fe=0,ue=0,xe=0,Ee=null,Ae=null,Me=0;Me<ie;Me++){ue=xe=0,Ee=Ae=null;for(var Pe=0;Pe<ie;Pe++){var Ne=se.get(Me,Pe);Ne===Ee?ue++:(ue>=5&&(fe+=ee.N1+(ue-5)),Ee=Ne,ue=1),Ne=se.get(Pe,Me),Ne===Ae?xe++:(xe>=5&&(fe+=ee.N1+(xe-5)),Ae=Ne,xe=1)}ue>=5&&(fe+=ee.N1+(ue-5)),xe>=5&&(fe+=ee.N1+(xe-5))}return fe},re.getPenaltyN2=function(se){for(var ie=se.size,fe=0,ue=0;ue<ie-1;ue++)for(var xe=0;xe<ie-1;xe++){var Ee=se.get(ue,xe)+se.get(ue,xe+1)+se.get(ue+1,xe)+se.get(ue+1,xe+1);(Ee===4||Ee===0)&&fe++}return fe*ee.N2},re.getPenaltyN3=function(se){for(var ie=se.size,fe=0,ue=0,xe=0,Ee=0;Ee<ie;Ee++){ue=xe=0;for(var Ae=0;Ae<ie;Ae++)ue=ue<<1&2047|se.get(Ee,Ae),Ae>=10&&(ue===1488||ue===93)&&fe++,xe=xe<<1&2047|se.get(Ae,Ee),Ae>=10&&(xe===1488||xe===93)&&fe++}return fe*ee.N3},re.getPenaltyN4=function(se){for(var ie=0,fe=se.data.length,ue=0;ue<fe;ue++)ie+=se.data[ue];var xe=Math.abs(Math.ceil(ie*100/fe/5)-10);return xe*ee.N4};function te(ne,se,ie){switch(ne){case re.Patterns.PATTERN000:return(se+ie)%2===0;case re.Patterns.PATTERN001:return se%2===0;case re.Patterns.PATTERN010:return ie%3===0;case re.Patterns.PATTERN011:return(se+ie)%3===0;case re.Patterns.PATTERN100:return(Math.floor(se/2)+Math.floor(ie/3))%2===0;case re.Patterns.PATTERN101:return se*ie%2+se*ie%3===0;case re.Patterns.PATTERN110:return(se*ie%2+se*ie%3)%2===0;case re.Patterns.PATTERN111:return(se*ie%3+(se+ie)%2)%2===0;default:throw new Error("bad maskPattern:"+ne)}}re.applyMask=function(se,ie){for(var fe=ie.size,ue=0;ue<fe;ue++)for(var xe=0;xe<fe;xe++)ie.isReserved(xe,ue)||ie.xor(xe,ue,te(se,xe,ue))},re.getBestMask=function(se,ie){for(var fe=Object.keys(re.Patterns).length,ue=0,xe=1/0,Ee=0;Ee<fe;Ee++){ie(Ee),re.applyMask(Ee,se);var Ae=re.getPenaltyN1(se)+re.getPenaltyN2(se)+re.getPenaltyN3(se)+re.getPenaltyN4(se);re.applyMask(Ee,se),Ae<xe&&(xe=Ae,ue=Ee)}return ue}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(ee,te){switch(te){case ECLevel$1.L:return EC_BLOCKS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(ee-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function(ee,te){switch(te){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(ee-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(ee-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(ee-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(ee-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function(){for(var ee=1,te=0;te<255;te++)EXP_TABLE[te]=ee,LOG_TABLE[ee]=te,ee<<=1,ee&256&&(ee^=285);for(te=255;te<512;te++)EXP_TABLE[te]=EXP_TABLE[te-255]})(),galoisField.log=function(ee){if(ee<1)throw new Error("log("+ee+")");return LOG_TABLE[ee]},galoisField.exp=function(ee){return EXP_TABLE[ee]},galoisField.mul=function(ee,te){return ee===0||te===0?0:EXP_TABLE[LOG_TABLE[ee]+LOG_TABLE[te]]},function(re){var ee=typedarrayBuffer,te=galoisField;re.mul=function(se,ie){for(var fe=ee.alloc(se.length+ie.length-1),ue=0;ue<se.length;ue++)for(var xe=0;xe<ie.length;xe++)fe[ue+xe]^=te.mul(se[ue],ie[xe]);return fe},re.mod=function(se,ie){for(var fe=ee.from(se);fe.length-ie.length>=0;){for(var ue=fe[0],xe=0;xe<ie.length;xe++)fe[xe]^=te.mul(ie[xe],ue);for(var Ee=0;Ee<fe.length&&fe[Ee]===0;)Ee++;fe=fe.slice(Ee)}return fe},re.generateECPolynomial=function(se){for(var ie=ee.from([1]),fe=0;fe<se;fe++)ie=re.mul(ie,[1,te.exp(fe)]);return ie}}(polynomial);var buffer$2={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$3=0,len=code.length;i$3<len;++i$3)lookup[i$3]=code[i$3],revLookup[code.charCodeAt(i$3)]=i$3;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;function getLens(re){var ee=re.length;if(ee%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var te=re.indexOf("=");te===-1&&(te=ee);var ne=te===ee?0:4-te%4;return[te,ne]}function byteLength(re){var ee=getLens(re),te=ee[0],ne=ee[1];return(te+ne)*3/4-ne}function _byteLength(re,ee,te){return(ee+te)*3/4-te}function toByteArray(re){var ee,te=getLens(re),ne=te[0],se=te[1],ie=new Arr(_byteLength(re,ne,se)),fe=0,ue=se>0?ne-4:ne,xe;for(xe=0;xe<ue;xe+=4)ee=revLookup[re.charCodeAt(xe)]<<18|revLookup[re.charCodeAt(xe+1)]<<12|revLookup[re.charCodeAt(xe+2)]<<6|revLookup[re.charCodeAt(xe+3)],ie[fe++]=ee>>16&255,ie[fe++]=ee>>8&255,ie[fe++]=ee&255;return se===2&&(ee=revLookup[re.charCodeAt(xe)]<<2|revLookup[re.charCodeAt(xe+1)]>>4,ie[fe++]=ee&255),se===1&&(ee=revLookup[re.charCodeAt(xe)]<<10|revLookup[re.charCodeAt(xe+1)]<<4|revLookup[re.charCodeAt(xe+2)]>>2,ie[fe++]=ee>>8&255,ie[fe++]=ee&255),ie}function tripletToBase64(re){return lookup[re>>18&63]+lookup[re>>12&63]+lookup[re>>6&63]+lookup[re&63]}function encodeChunk(re,ee,te){for(var ne,se=[],ie=ee;ie<te;ie+=3)ne=(re[ie]<<16&16711680)+(re[ie+1]<<8&65280)+(re[ie+2]&255),se.push(tripletToBase64(ne));return se.join("")}function fromByteArray(re){for(var ee,te=re.length,ne=te%3,se=[],ie=16383,fe=0,ue=te-ne;fe<ue;fe+=ie)se.push(encodeChunk(re,fe,fe+ie>ue?ue:fe+ie));return ne===1?(ee=re[te-1],se.push(lookup[ee>>2]+lookup[ee<<4&63]+"==")):ne===2&&(ee=(re[te-2]<<8)+re[te-1],se.push(lookup[ee>>10]+lookup[ee>>4&63]+lookup[ee<<2&63]+"=")),se.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(re,ee,te,ne,se){var ie,fe,ue=se*8-ne-1,xe=(1<<ue)-1,Ee=xe>>1,Ae=-7,Me=te?se-1:0,Pe=te?-1:1,Ne=re[ee+Me];for(Me+=Pe,ie=Ne&(1<<-Ae)-1,Ne>>=-Ae,Ae+=ue;Ae>0;ie=ie*256+re[ee+Me],Me+=Pe,Ae-=8);for(fe=ie&(1<<-Ae)-1,ie>>=-Ae,Ae+=ne;Ae>0;fe=fe*256+re[ee+Me],Me+=Pe,Ae-=8);if(ie===0)ie=1-Ee;else{if(ie===xe)return fe?NaN:(Ne?-1:1)*(1/0);fe=fe+Math.pow(2,ne),ie=ie-Ee}return(Ne?-1:1)*fe*Math.pow(2,ie-ne)},ieee754.write=function(re,ee,te,ne,se,ie){var fe,ue,xe,Ee=ie*8-se-1,Ae=(1<<Ee)-1,Me=Ae>>1,Pe=se===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ne=ne?0:ie-1,je=ne?1:-1,Ue=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ue=isNaN(ee)?1:0,fe=Ae):(fe=Math.floor(Math.log(ee)/Math.LN2),ee*(xe=Math.pow(2,-fe))<1&&(fe--,xe*=2),fe+Me>=1?ee+=Pe/xe:ee+=Pe*Math.pow(2,1-Me),ee*xe>=2&&(fe++,xe/=2),fe+Me>=Ae?(ue=0,fe=Ae):fe+Me>=1?(ue=(ee*xe-1)*Math.pow(2,se),fe=fe+Me):(ue=ee*Math.pow(2,Me-1)*Math.pow(2,se),fe=0));se>=8;re[te+Ne]=ue&255,Ne+=je,ue/=256,se-=8);for(fe=fe<<se|ue,Ee+=se;Ee>0;re[te+Ne]=fe&255,Ne+=je,fe/=256,Ee-=8);re[te+Ne-je]|=Ue*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(re){var ee=base64Js,te=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;re.Buffer=ue,re.SlowBuffer=He,re.INSPECT_MAX_BYTES=50;var se=2147483647;re.kMaxLength=se,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{var it=new Uint8Array(1),Le={foo:function(){return 42}};return Object.setPrototypeOf(Le,Uint8Array.prototype),Object.setPrototypeOf(it,Le),it.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function fe(it){if(it>se)throw new RangeError('The value "'+it+'" is invalid for option "size"');var Le=new Uint8Array(it);return Object.setPrototypeOf(Le,ue.prototype),Le}function ue(it,Le,De){if(typeof it=="number"){if(typeof Le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Me(it)}return xe(it,Le,De)}ue.poolSize=8192;function xe(it,Le,De){if(typeof it=="string")return Pe(it,Le);if(ArrayBuffer.isView(it))return je(it);if(it==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof it);if(Jt(it,ArrayBuffer)||it&&Jt(it.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jt(it,SharedArrayBuffer)||it&&Jt(it.buffer,SharedArrayBuffer)))return Ue(it,Le,De);if(typeof it=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ct=it.valueOf&&it.valueOf();if(ct!=null&&ct!==it)return ue.from(ct,Le,De);var ot=Ce(it);if(ot)return ot;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof it[Symbol.toPrimitive]=="function")return ue.from(it[Symbol.toPrimitive]("string"),Le,De);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof it)}ue.from=function(it,Le,De){return xe(it,Le,De)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function Ee(it){if(typeof it!="number")throw new TypeError('"size" argument must be of type number');if(it<0)throw new RangeError('The value "'+it+'" is invalid for option "size"')}function Ae(it,Le,De){return Ee(it),it<=0?fe(it):Le!==void 0?typeof De=="string"?fe(it).fill(Le,De):fe(it).fill(Le):fe(it)}ue.alloc=function(it,Le,De){return Ae(it,Le,De)};function Me(it){return Ee(it),fe(it<0?0:Be(it)|0)}ue.allocUnsafe=function(it){return Me(it)},ue.allocUnsafeSlow=function(it){return Me(it)};function Pe(it,Le){if((typeof Le!="string"||Le==="")&&(Le="utf8"),!ue.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);var De=Oe(it,Le)|0,ct=fe(De),ot=ct.write(it,Le);return ot!==De&&(ct=ct.slice(0,ot)),ct}function Ne(it){for(var Le=it.length<0?0:Be(it.length)|0,De=fe(Le),ct=0;ct<Le;ct+=1)De[ct]=it[ct]&255;return De}function je(it){if(Jt(it,Uint8Array)){var Le=new Uint8Array(it);return Ue(Le.buffer,Le.byteOffset,Le.byteLength)}return Ne(it)}function Ue(it,Le,De){if(Le<0||it.byteLength<Le)throw new RangeError('"offset" is outside of buffer bounds');if(it.byteLength<Le+(De||0))throw new RangeError('"length" is outside of buffer bounds');var ct;return Le===void 0&&De===void 0?ct=new Uint8Array(it):De===void 0?ct=new Uint8Array(it,Le):ct=new Uint8Array(it,Le,De),Object.setPrototypeOf(ct,ue.prototype),ct}function Ce(it){if(ue.isBuffer(it)){var Le=Be(it.length)|0,De=fe(Le);return De.length===0||it.copy(De,0,0,Le),De}if(it.length!==void 0)return typeof it.length!="number"||yt(it.length)?fe(0):Ne(it);if(it.type==="Buffer"&&Array.isArray(it.data))return Ne(it.data)}function Be(it){if(it>=se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+se.toString(16)+" bytes");return it|0}function He(it){return+it!=it&&(it=0),ue.alloc(+it)}ue.isBuffer=function(Le){return Le!=null&&Le._isBuffer===!0&&Le!==ue.prototype},ue.compare=function(Le,De){if(Jt(Le,Uint8Array)&&(Le=ue.from(Le,Le.offset,Le.byteLength)),Jt(De,Uint8Array)&&(De=ue.from(De,De.offset,De.byteLength)),!ue.isBuffer(Le)||!ue.isBuffer(De))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Le===De)return 0;for(var ct=Le.length,ot=De.length,lt=0,Pt=Math.min(ct,ot);lt<Pt;++lt)if(Le[lt]!==De[lt]){ct=Le[lt],ot=De[lt];break}return ct<ot?-1:ot<ct?1:0},ue.isEncoding=function(Le){switch(String(Le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(Le,De){if(!Array.isArray(Le))throw new TypeError('"list" argument must be an Array of Buffers');if(Le.length===0)return ue.alloc(0);var ct;if(De===void 0)for(De=0,ct=0;ct<Le.length;++ct)De+=Le[ct].length;var ot=ue.allocUnsafe(De),lt=0;for(ct=0;ct<Le.length;++ct){var Pt=Le[ct];if(Jt(Pt,Uint8Array))lt+Pt.length>ot.length?ue.from(Pt).copy(ot,lt):Uint8Array.prototype.set.call(ot,Pt,lt);else if(ue.isBuffer(Pt))Pt.copy(ot,lt);else throw new TypeError('"list" argument must be an Array of Buffers');lt+=Pt.length}return ot};function Oe(it,Le){if(ue.isBuffer(it))return it.length;if(ArrayBuffer.isView(it)||Jt(it,ArrayBuffer))return it.byteLength;if(typeof it!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof it);var De=it.length,ct=arguments.length>2&&arguments[2]===!0;if(!ct&&De===0)return 0;for(var ot=!1;;)switch(Le){case"ascii":case"latin1":case"binary":return De;case"utf8":case"utf-8":return nt(it).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De*2;case"hex":return De>>>1;case"base64":return dt(it).length;default:if(ot)return ct?-1:nt(it).length;Le=(""+Le).toLowerCase(),ot=!0}}ue.byteLength=Oe;function Ke(it,Le,De){var ct=!1;if((Le===void 0||Le<0)&&(Le=0),Le>this.length||((De===void 0||De>this.length)&&(De=this.length),De<=0)||(De>>>=0,Le>>>=0,De<=Le))return"";for(it||(it="utf8");;)switch(it){case"hex":return me(this,Le,De);case"utf8":case"utf-8":return oe(this,Le,De);case"ascii":return ge(this,Le,De);case"latin1":case"binary":return ye(this,Le,De);case"base64":return pe(this,Le,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,Le,De);default:if(ct)throw new TypeError("Unknown encoding: "+it);it=(it+"").toLowerCase(),ct=!0}}ue.prototype._isBuffer=!0;function qe(it,Le,De){var ct=it[Le];it[Le]=it[De],it[De]=ct}ue.prototype.swap16=function(){var Le=this.length;if(Le%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var De=0;De<Le;De+=2)qe(this,De,De+1);return this},ue.prototype.swap32=function(){var Le=this.length;if(Le%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var De=0;De<Le;De+=4)qe(this,De,De+3),qe(this,De+1,De+2);return this},ue.prototype.swap64=function(){var Le=this.length;if(Le%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var De=0;De<Le;De+=8)qe(this,De,De+7),qe(this,De+1,De+6),qe(this,De+2,De+5),qe(this,De+3,De+4);return this},ue.prototype.toString=function(){var Le=this.length;return Le===0?"":arguments.length===0?oe(this,0,Le):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(Le){if(!ue.isBuffer(Le))throw new TypeError("Argument must be a Buffer");return this===Le?!0:ue.compare(this,Le)===0},ue.prototype.inspect=function(){var Le="",De=re.INSPECT_MAX_BYTES;return Le=this.toString("hex",0,De).replace(/(.{2})/g,"$1 ").trim(),this.length>De&&(Le+=" ... "),"<Buffer "+Le+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(Le,De,ct,ot,lt){if(Jt(Le,Uint8Array)&&(Le=ue.from(Le,Le.offset,Le.byteLength)),!ue.isBuffer(Le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Le);if(De===void 0&&(De=0),ct===void 0&&(ct=Le?Le.length:0),ot===void 0&&(ot=0),lt===void 0&&(lt=this.length),De<0||ct>Le.length||ot<0||lt>this.length)throw new RangeError("out of range index");if(ot>=lt&&De>=ct)return 0;if(ot>=lt)return-1;if(De>=ct)return 1;if(De>>>=0,ct>>>=0,ot>>>=0,lt>>>=0,this===Le)return 0;for(var Pt=lt-ot,Et=ct-De,St=Math.min(Pt,Et),ar=this.slice(ot,lt),Tt=Le.slice(De,ct),Re=0;Re<St;++Re)if(ar[Re]!==Tt[Re]){Pt=ar[Re],Et=Tt[Re];break}return Pt<Et?-1:Et<Pt?1:0};function Ve(it,Le,De,ct,ot){if(it.length===0)return-1;if(typeof De=="string"?(ct=De,De=0):De>2147483647?De=2147483647:De<-2147483648&&(De=-2147483648),De=+De,yt(De)&&(De=ot?0:it.length-1),De<0&&(De=it.length+De),De>=it.length){if(ot)return-1;De=it.length-1}else if(De<0)if(ot)De=0;else return-1;if(typeof Le=="string"&&(Le=ue.from(Le,ct)),ue.isBuffer(Le))return Le.length===0?-1:Xe(it,Le,De,ct,ot);if(typeof Le=="number")return Le=Le&255,typeof Uint8Array.prototype.indexOf=="function"?ot?Uint8Array.prototype.indexOf.call(it,Le,De):Uint8Array.prototype.lastIndexOf.call(it,Le,De):Xe(it,[Le],De,ct,ot);throw new TypeError("val must be string, number or Buffer")}function Xe(it,Le,De,ct,ot){var lt=1,Pt=it.length,Et=Le.length;if(ct!==void 0&&(ct=String(ct).toLowerCase(),ct==="ucs2"||ct==="ucs-2"||ct==="utf16le"||ct==="utf-16le")){if(it.length<2||Le.length<2)return-1;lt=2,Pt/=2,Et/=2,De/=2}function St(_e,ke){return lt===1?_e[ke]:_e.readUInt16BE(ke*lt)}var ar;if(ot){var Tt=-1;for(ar=De;ar<Pt;ar++)if(St(it,ar)===St(Le,Tt===-1?0:ar-Tt)){if(Tt===-1&&(Tt=ar),ar-Tt+1===Et)return Tt*lt}else Tt!==-1&&(ar-=ar-Tt),Tt=-1}else for(De+Et>Pt&&(De=Pt-Et),ar=De;ar>=0;ar--){for(var Re=!0,we=0;we<Et;we++)if(St(it,ar+we)!==St(Le,we)){Re=!1;break}if(Re)return ar}return-1}ue.prototype.includes=function(Le,De,ct){return this.indexOf(Le,De,ct)!==-1},ue.prototype.indexOf=function(Le,De,ct){return Ve(this,Le,De,ct,!0)},ue.prototype.lastIndexOf=function(Le,De,ct){return Ve(this,Le,De,ct,!1)};function rt(it,Le,De,ct){De=Number(De)||0;var ot=it.length-De;ct?(ct=Number(ct),ct>ot&&(ct=ot)):ct=ot;var lt=Le.length;ct>lt/2&&(ct=lt/2);for(var Pt=0;Pt<ct;++Pt){var Et=parseInt(Le.substr(Pt*2,2),16);if(yt(Et))return Pt;it[De+Pt]=Et}return Pt}function mt(it,Le,De,ct){return gt(nt(Le,it.length-De),it,De,ct)}function Qe(it,Le,De,ct){return gt(at(Le),it,De,ct)}function Se(it,Le,De,ct){return gt(dt(Le),it,De,ct)}function $e(it,Le,De,ct){return gt(Ht(Le,it.length-De),it,De,ct)}ue.prototype.write=function(Le,De,ct,ot){if(De===void 0)ot="utf8",ct=this.length,De=0;else if(ct===void 0&&typeof De=="string")ot=De,ct=this.length,De=0;else if(isFinite(De))De=De>>>0,isFinite(ct)?(ct=ct>>>0,ot===void 0&&(ot="utf8")):(ot=ct,ct=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var lt=this.length-De;if((ct===void 0||ct>lt)&&(ct=lt),Le.length>0&&(ct<0||De<0)||De>this.length)throw new RangeError("Attempt to write outside buffer bounds");ot||(ot="utf8");for(var Pt=!1;;)switch(ot){case"hex":return rt(this,Le,De,ct);case"utf8":case"utf-8":return mt(this,Le,De,ct);case"ascii":case"latin1":case"binary":return Qe(this,Le,De,ct);case"base64":return Se(this,Le,De,ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,Le,De,ct);default:if(Pt)throw new TypeError("Unknown encoding: "+ot);ot=(""+ot).toLowerCase(),Pt=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(it,Le,De){return Le===0&&De===it.length?ee.fromByteArray(it):ee.fromByteArray(it.slice(Le,De))}function oe(it,Le,De){De=Math.min(it.length,De);for(var ct=[],ot=Le;ot<De;){var lt=it[ot],Pt=null,Et=lt>239?4:lt>223?3:lt>191?2:1;if(ot+Et<=De){var St,ar,Tt,Re;switch(Et){case 1:lt<128&&(Pt=lt);break;case 2:St=it[ot+1],(St&192)===128&&(Re=(lt&31)<<6|St&63,Re>127&&(Pt=Re));break;case 3:St=it[ot+1],ar=it[ot+2],(St&192)===128&&(ar&192)===128&&(Re=(lt&15)<<12|(St&63)<<6|ar&63,Re>2047&&(Re<55296||Re>57343)&&(Pt=Re));break;case 4:St=it[ot+1],ar=it[ot+2],Tt=it[ot+3],(St&192)===128&&(ar&192)===128&&(Tt&192)===128&&(Re=(lt&15)<<18|(St&63)<<12|(ar&63)<<6|Tt&63,Re>65535&&Re<1114112&&(Pt=Re))}}Pt===null?(Pt=65533,Et=1):Pt>65535&&(Pt-=65536,ct.push(Pt>>>10&1023|55296),Pt=56320|Pt&1023),ct.push(Pt),ot+=Et}return le(ct)}var ce=4096;function le(it){var Le=it.length;if(Le<=ce)return String.fromCharCode.apply(String,it);for(var De="",ct=0;ct<Le;)De+=String.fromCharCode.apply(String,it.slice(ct,ct+=ce));return De}function ge(it,Le,De){var ct="";De=Math.min(it.length,De);for(var ot=Le;ot<De;++ot)ct+=String.fromCharCode(it[ot]&127);return ct}function ye(it,Le,De){var ct="";De=Math.min(it.length,De);for(var ot=Le;ot<De;++ot)ct+=String.fromCharCode(it[ot]);return ct}function me(it,Le,De){var ct=it.length;(!Le||Le<0)&&(Le=0),(!De||De<0||De>ct)&&(De=ct);for(var ot="",lt=Le;lt<De;++lt)ot+=Mt[it[lt]];return ot}function ve(it,Le,De){for(var ct=it.slice(Le,De),ot="",lt=0;lt<ct.length-1;lt+=2)ot+=String.fromCharCode(ct[lt]+ct[lt+1]*256);return ot}ue.prototype.slice=function(Le,De){var ct=this.length;Le=~~Le,De=De===void 0?ct:~~De,Le<0?(Le+=ct,Le<0&&(Le=0)):Le>ct&&(Le=ct),De<0?(De+=ct,De<0&&(De=0)):De>ct&&(De=ct),De<Le&&(De=Le);var ot=this.subarray(Le,De);return Object.setPrototypeOf(ot,ue.prototype),ot};function he(it,Le,De){if(it%1!==0||it<0)throw new RangeError("offset is not uint");if(it+Le>De)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(Le,De,ct){Le=Le>>>0,De=De>>>0,ct||he(Le,De,this.length);for(var ot=this[Le],lt=1,Pt=0;++Pt<De&&(lt*=256);)ot+=this[Le+Pt]*lt;return ot},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(Le,De,ct){Le=Le>>>0,De=De>>>0,ct||he(Le,De,this.length);for(var ot=this[Le+--De],lt=1;De>0&&(lt*=256);)ot+=this[Le+--De]*lt;return ot},ue.prototype.readUint8=ue.prototype.readUInt8=function(Le,De){return Le=Le>>>0,De||he(Le,1,this.length),this[Le]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(Le,De){return Le=Le>>>0,De||he(Le,2,this.length),this[Le]|this[Le+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(Le,De){return Le=Le>>>0,De||he(Le,2,this.length),this[Le]<<8|this[Le+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),(this[Le]|this[Le+1]<<8|this[Le+2]<<16)+this[Le+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),this[Le]*16777216+(this[Le+1]<<16|this[Le+2]<<8|this[Le+3])},ue.prototype.readIntLE=function(Le,De,ct){Le=Le>>>0,De=De>>>0,ct||he(Le,De,this.length);for(var ot=this[Le],lt=1,Pt=0;++Pt<De&&(lt*=256);)ot+=this[Le+Pt]*lt;return lt*=128,ot>=lt&&(ot-=Math.pow(2,8*De)),ot},ue.prototype.readIntBE=function(Le,De,ct){Le=Le>>>0,De=De>>>0,ct||he(Le,De,this.length);for(var ot=De,lt=1,Pt=this[Le+--ot];ot>0&&(lt*=256);)Pt+=this[Le+--ot]*lt;return lt*=128,Pt>=lt&&(Pt-=Math.pow(2,8*De)),Pt},ue.prototype.readInt8=function(Le,De){return Le=Le>>>0,De||he(Le,1,this.length),this[Le]&128?(255-this[Le]+1)*-1:this[Le]},ue.prototype.readInt16LE=function(Le,De){Le=Le>>>0,De||he(Le,2,this.length);var ct=this[Le]|this[Le+1]<<8;return ct&32768?ct|4294901760:ct},ue.prototype.readInt16BE=function(Le,De){Le=Le>>>0,De||he(Le,2,this.length);var ct=this[Le+1]|this[Le]<<8;return ct&32768?ct|4294901760:ct},ue.prototype.readInt32LE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),this[Le]|this[Le+1]<<8|this[Le+2]<<16|this[Le+3]<<24},ue.prototype.readInt32BE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),this[Le]<<24|this[Le+1]<<16|this[Le+2]<<8|this[Le+3]},ue.prototype.readFloatLE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),te.read(this,Le,!0,23,4)},ue.prototype.readFloatBE=function(Le,De){return Le=Le>>>0,De||he(Le,4,this.length),te.read(this,Le,!1,23,4)},ue.prototype.readDoubleLE=function(Le,De){return Le=Le>>>0,De||he(Le,8,this.length),te.read(this,Le,!0,52,8)},ue.prototype.readDoubleBE=function(Le,De){return Le=Le>>>0,De||he(Le,8,this.length),te.read(this,Le,!1,52,8)};function ae(it,Le,De,ct,ot,lt){if(!ue.isBuffer(it))throw new TypeError('"buffer" argument must be a Buffer instance');if(Le>ot||Le<lt)throw new RangeError('"value" argument is out of bounds');if(De+ct>it.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(Le,De,ct,ot){if(Le=+Le,De=De>>>0,ct=ct>>>0,!ot){var lt=Math.pow(2,8*ct)-1;ae(this,Le,De,ct,lt,0)}var Pt=1,Et=0;for(this[De]=Le&255;++Et<ct&&(Pt*=256);)this[De+Et]=Le/Pt&255;return De+ct},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(Le,De,ct,ot){if(Le=+Le,De=De>>>0,ct=ct>>>0,!ot){var lt=Math.pow(2,8*ct)-1;ae(this,Le,De,ct,lt,0)}var Pt=ct-1,Et=1;for(this[De+Pt]=Le&255;--Pt>=0&&(Et*=256);)this[De+Pt]=Le/Et&255;return De+ct},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,1,255,0),this[De]=Le&255,De+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,2,65535,0),this[De]=Le&255,this[De+1]=Le>>>8,De+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,2,65535,0),this[De]=Le>>>8,this[De+1]=Le&255,De+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,4,4294967295,0),this[De+3]=Le>>>24,this[De+2]=Le>>>16,this[De+1]=Le>>>8,this[De]=Le&255,De+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,4,4294967295,0),this[De]=Le>>>24,this[De+1]=Le>>>16,this[De+2]=Le>>>8,this[De+3]=Le&255,De+4},ue.prototype.writeIntLE=function(Le,De,ct,ot){if(Le=+Le,De=De>>>0,!ot){var lt=Math.pow(2,8*ct-1);ae(this,Le,De,ct,lt-1,-lt)}var Pt=0,Et=1,St=0;for(this[De]=Le&255;++Pt<ct&&(Et*=256);)Le<0&&St===0&&this[De+Pt-1]!==0&&(St=1),this[De+Pt]=(Le/Et>>0)-St&255;return De+ct},ue.prototype.writeIntBE=function(Le,De,ct,ot){if(Le=+Le,De=De>>>0,!ot){var lt=Math.pow(2,8*ct-1);ae(this,Le,De,ct,lt-1,-lt)}var Pt=ct-1,Et=1,St=0;for(this[De+Pt]=Le&255;--Pt>=0&&(Et*=256);)Le<0&&St===0&&this[De+Pt+1]!==0&&(St=1),this[De+Pt]=(Le/Et>>0)-St&255;return De+ct},ue.prototype.writeInt8=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,1,127,-128),Le<0&&(Le=255+Le+1),this[De]=Le&255,De+1},ue.prototype.writeInt16LE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,2,32767,-32768),this[De]=Le&255,this[De+1]=Le>>>8,De+2},ue.prototype.writeInt16BE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,2,32767,-32768),this[De]=Le>>>8,this[De+1]=Le&255,De+2},ue.prototype.writeInt32LE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,4,2147483647,-2147483648),this[De]=Le&255,this[De+1]=Le>>>8,this[De+2]=Le>>>16,this[De+3]=Le>>>24,De+4},ue.prototype.writeInt32BE=function(Le,De,ct){return Le=+Le,De=De>>>0,ct||ae(this,Le,De,4,2147483647,-2147483648),Le<0&&(Le=4294967295+Le+1),this[De]=Le>>>24,this[De+1]=Le>>>16,this[De+2]=Le>>>8,this[De+3]=Le&255,De+4};function be(it,Le,De,ct,ot,lt){if(De+ct>it.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("Index out of range")}function ze(it,Le,De,ct,ot){return Le=+Le,De=De>>>0,ot||be(it,Le,De,4),te.write(it,Le,De,ct,23,4),De+4}ue.prototype.writeFloatLE=function(Le,De,ct){return ze(this,Le,De,!0,ct)},ue.prototype.writeFloatBE=function(Le,De,ct){return ze(this,Le,De,!1,ct)};function Ie(it,Le,De,ct,ot){return Le=+Le,De=De>>>0,ot||be(it,Le,De,8),te.write(it,Le,De,ct,52,8),De+8}ue.prototype.writeDoubleLE=function(Le,De,ct){return Ie(this,Le,De,!0,ct)},ue.prototype.writeDoubleBE=function(Le,De,ct){return Ie(this,Le,De,!1,ct)},ue.prototype.copy=function(Le,De,ct,ot){if(!ue.isBuffer(Le))throw new TypeError("argument should be a Buffer");if(ct||(ct=0),!ot&&ot!==0&&(ot=this.length),De>=Le.length&&(De=Le.length),De||(De=0),ot>0&&ot<ct&&(ot=ct),ot===ct||Le.length===0||this.length===0)return 0;if(De<0)throw new RangeError("targetStart out of bounds");if(ct<0||ct>=this.length)throw new RangeError("Index out of range");if(ot<0)throw new RangeError("sourceEnd out of bounds");ot>this.length&&(ot=this.length),Le.length-De<ot-ct&&(ot=Le.length-De+ct);var lt=ot-ct;return this===Le&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(De,ct,ot):Uint8Array.prototype.set.call(Le,this.subarray(ct,ot),De),lt},ue.prototype.fill=function(Le,De,ct,ot){if(typeof Le=="string"){if(typeof De=="string"?(ot=De,De=0,ct=this.length):typeof ct=="string"&&(ot=ct,ct=this.length),ot!==void 0&&typeof ot!="string")throw new TypeError("encoding must be a string");if(typeof ot=="string"&&!ue.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);if(Le.length===1){var lt=Le.charCodeAt(0);(ot==="utf8"&&lt<128||ot==="latin1")&&(Le=lt)}}else typeof Le=="number"?Le=Le&255:typeof Le=="boolean"&&(Le=Number(Le));if(De<0||this.length<De||this.length<ct)throw new RangeError("Out of range index");if(ct<=De)return this;De=De>>>0,ct=ct===void 0?this.length:ct>>>0,Le||(Le=0);var Pt;if(typeof Le=="number")for(Pt=De;Pt<ct;++Pt)this[Pt]=Le;else{var Et=ue.isBuffer(Le)?Le:ue.from(Le,ot),St=Et.length;if(St===0)throw new TypeError('The value "'+Le+'" is invalid for argument "value"');for(Pt=0;Pt<ct-De;++Pt)this[Pt+De]=Et[Pt%St]}return this};var We=/[^+/0-9A-Za-z-_]/g;function ft(it){if(it=it.split("=")[0],it=it.trim().replace(We,""),it.length<2)return"";for(;it.length%4!==0;)it=it+"=";return it}function nt(it,Le){Le=Le||1/0;for(var De,ct=it.length,ot=null,lt=[],Pt=0;Pt<ct;++Pt){if(De=it.charCodeAt(Pt),De>55295&&De<57344){if(!ot){if(De>56319){(Le-=3)>-1&&lt.push(239,191,189);continue}else if(Pt+1===ct){(Le-=3)>-1&&lt.push(239,191,189);continue}ot=De;continue}if(De<56320){(Le-=3)>-1&&lt.push(239,191,189),ot=De;continue}De=(ot-55296<<10|De-56320)+65536}else ot&&(Le-=3)>-1&&lt.push(239,191,189);if(ot=null,De<128){if((Le-=1)<0)break;lt.push(De)}else if(De<2048){if((Le-=2)<0)break;lt.push(De>>6|192,De&63|128)}else if(De<65536){if((Le-=3)<0)break;lt.push(De>>12|224,De>>6&63|128,De&63|128)}else if(De<1114112){if((Le-=4)<0)break;lt.push(De>>18|240,De>>12&63|128,De>>6&63|128,De&63|128)}else throw new Error("Invalid code point")}return lt}function at(it){for(var Le=[],De=0;De<it.length;++De)Le.push(it.charCodeAt(De)&255);return Le}function Ht(it,Le){for(var De,ct,ot,lt=[],Pt=0;Pt<it.length&&!((Le-=2)<0);++Pt)De=it.charCodeAt(Pt),ct=De>>8,ot=De%256,lt.push(ot),lt.push(ct);return lt}function dt(it){return ee.toByteArray(ft(it))}function gt(it,Le,De,ct){for(var ot=0;ot<ct&&!(ot+De>=Le.length||ot>=it.length);++ot)Le[ot+De]=it[ot];return ot}function Jt(it,Le){return it instanceof Le||it!=null&&it.constructor!=null&&it.constructor.name!=null&&it.constructor.name===Le.name}function yt(it){return it!==it}var Mt=function(){for(var it="0123456789abcdef",Le=new Array(256),De=0;De<16;++De)for(var ct=De*16,ot=0;ot<16;++ot)Le[ct+ot]=it[De]+it[ot];return Le}()})(buffer$2);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer$1=buffer$2.Buffer;function ReedSolomonEncoder$1(re){this.genPoly=void 0,this.degree=re,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(ee){this.degree=ee,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder$1.prototype.encode=function(ee){if(!this.genPoly)throw new Error("Encoder not initialized");var te=BufferUtil$2.alloc(this.degree),ne=Buffer$1.concat([ee,te],ee.length+this.degree),se=Polynomial.mod(ne,this.genPoly),ie=this.degree-se.length;if(ie>0){var fe=BufferUtil$2.alloc(this.degree);return se.copy(fe,ie),fe}return se};var reedSolomonEncoder=ReedSolomonEncoder$1,version$n={},mode={},versionCheck={};versionCheck.isValid=function(ee){return!isNaN(ee)&&ee>=1&&ee<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(byte,"g"),regex.NUMERIC=new RegExp(numeric,"g"),regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(ee){return TEST_KANJI.test(ee)},regex.testNumeric=function(ee){return TEST_NUMERIC.test(ee)},regex.testAlphanumeric=function(ee){return TEST_ALPHANUMERIC.test(ee)},function(re){var ee=versionCheck,te=regex;re.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},re.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},re.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},re.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},re.MIXED={bit:-1},re.getCharCountIndicator=function(ie,fe){if(!ie.ccBits)throw new Error("Invalid mode: "+ie);if(!ee.isValid(fe))throw new Error("Invalid version: "+fe);return fe>=1&&fe<10?ie.ccBits[0]:fe<27?ie.ccBits[1]:ie.ccBits[2]},re.getBestModeForData=function(ie){return te.testNumeric(ie)?re.NUMERIC:te.testAlphanumeric(ie)?re.ALPHANUMERIC:te.testKanji(ie)?re.KANJI:re.BYTE},re.toString=function(ie){if(ie&&ie.id)return ie.id;throw new Error("Invalid mode")},re.isValid=function(ie){return ie&&ie.bit&&ie.ccBits};function ne(se){if(typeof se!="string")throw new Error("Param is not a string");var ie=se.toLowerCase();switch(ie){case"numeric":return re.NUMERIC;case"alphanumeric":return re.ALPHANUMERIC;case"kanji":return re.KANJI;case"byte":return re.BYTE;default:throw new Error("Unknown mode: "+se)}}re.from=function(ie,fe){if(re.isValid(ie))return ie;try{return ne(ie)}catch{return fe}}}(mode),function(re){var ee=utils$f,te=errorCorrectionCode,ne=errorCorrectionLevel,se=mode,ie=versionCheck,fe=isarray,ue=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,xe=ee.getBCHDigit(ue);function Ee(Ne,je,Ue){for(var Ce=1;Ce<=40;Ce++)if(je<=re.getCapacity(Ce,Ue,Ne))return Ce}function Ae(Ne,je){return se.getCharCountIndicator(Ne,je)+4}function Me(Ne,je){var Ue=0;return Ne.forEach(function(Ce){var Be=Ae(Ce.mode,je);Ue+=Be+Ce.getBitsLength()}),Ue}function Pe(Ne,je){for(var Ue=1;Ue<=40;Ue++){var Ce=Me(Ne,Ue);if(Ce<=re.getCapacity(Ue,je,se.MIXED))return Ue}}re.from=function(je,Ue){return ie.isValid(je)?parseInt(je,10):Ue},re.getCapacity=function(je,Ue,Ce){if(!ie.isValid(je))throw new Error("Invalid QR Code version");typeof Ce>"u"&&(Ce=se.BYTE);var Be=ee.getSymbolTotalCodewords(je),He=te.getTotalCodewordsCount(je,Ue),Oe=(Be-He)*8;if(Ce===se.MIXED)return Oe;var Ke=Oe-Ae(Ce,je);switch(Ce){case se.NUMERIC:return Math.floor(Ke/10*3);case se.ALPHANUMERIC:return Math.floor(Ke/11*2);case se.KANJI:return Math.floor(Ke/13);case se.BYTE:default:return Math.floor(Ke/8)}},re.getBestVersionForData=function(je,Ue){var Ce,Be=ne.from(Ue,ne.M);if(fe(je)){if(je.length>1)return Pe(je,Be);if(je.length===0)return 1;Ce=je[0]}else Ce=je;return Ee(Ce.mode,Ce.getLength(),Be)},re.getEncodedBits=function(je){if(!ie.isValid(je)||je<7)throw new Error("Invalid QR Code version");for(var Ue=je<<12;ee.getBCHDigit(Ue)-xe>=0;)Ue^=ue<<ee.getBCHDigit(Ue)-xe;return je<<12|Ue}}(version$n);var formatInfo={},Utils$3=utils$f,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(ee,te){for(var ne=ee.bit<<3|te,se=ne<<10;Utils$3.getBCHDigit(se)-G15_BCH>=0;)se^=G15<<Utils$3.getBCHDigit(se)-G15_BCH;return(ne<<10|se)^G15_MASK};var segments={},Mode$4=mode;function NumericData(re){this.mode=Mode$4.NUMERIC,this.data=re.toString()}NumericData.getBitsLength=function(ee){return 10*Math.floor(ee/3)+(ee%3?ee%3*3+1:0)},NumericData.prototype.getLength=function(){return this.data.length},NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function(ee){var te,ne,se;for(te=0;te+3<=this.data.length;te+=3)ne=this.data.substr(te,3),se=parseInt(ne,10),ee.put(se,10);var ie=this.data.length-te;ie>0&&(ne=this.data.substr(te),se=parseInt(ne,10),ee.put(se,ie*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(re){this.mode=Mode$3.ALPHANUMERIC,this.data=re}AlphanumericData.getBitsLength=function(ee){return 11*Math.floor(ee/2)+6*(ee%2)},AlphanumericData.prototype.getLength=function(){return this.data.length},AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function(ee){var te;for(te=0;te+2<=this.data.length;te+=2){var ne=ALPHA_NUM_CHARS.indexOf(this.data[te])*45;ne+=ALPHA_NUM_CHARS.indexOf(this.data[te+1]),ee.put(ne,11)}this.data.length%2&&ee.put(ALPHA_NUM_CHARS.indexOf(this.data[te]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(re){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(re)}ByteData.getBitsLength=function(ee){return ee*8},ByteData.prototype.getLength=function(){return this.data.length},ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(re){for(var ee=0,te=this.data.length;ee<te;ee++)re.put(this.data[ee],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$f;function KanjiData(re){this.mode=Mode$1.KANJI,this.data=re}KanjiData.getBitsLength=function(ee){return ee*13},KanjiData.prototype.getLength=function(){return this.data.length},KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(re){var ee;for(ee=0;ee<this.data.length;ee++){var te=Utils$2.toSJIS(this.data[ee]);if(te>=33088&&te<=40956)te-=33088;else if(te>=57408&&te<=60351)te-=49472;else throw new Error("Invalid SJIS character: "+this.data[ee]+`
Make sure your charset is UTF-8`);te=(te>>>8&255)*192+(te&255),re.put(te,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(re){var ee={single_source_shortest_paths:function(te,ne,se){var ie={},fe={};fe[ne]=0;var ue=ee.PriorityQueue.make();ue.push(ne,0);for(var xe,Ee,Ae,Me,Pe,Ne,je,Ue,Ce;!ue.empty();){xe=ue.pop(),Ee=xe.value,Me=xe.cost,Pe=te[Ee]||{};for(Ae in Pe)Pe.hasOwnProperty(Ae)&&(Ne=Pe[Ae],je=Me+Ne,Ue=fe[Ae],Ce=typeof fe[Ae]>"u",(Ce||Ue>je)&&(fe[Ae]=je,ue.push(Ae,je),ie[Ae]=Ee))}if(typeof se<"u"&&typeof fe[se]>"u"){var Be=["Could not find a path from ",ne," to ",se,"."].join("");throw new Error(Be)}return ie},extract_shortest_path_from_predecessor_list:function(te,ne){for(var se=[],ie=ne;ie;)se.push(ie),te[ie],ie=te[ie];return se.reverse(),se},find_path:function(te,ne,se){var ie=ee.single_source_shortest_paths(te,ne,se);return ee.extract_shortest_path_from_predecessor_list(ie,se)},PriorityQueue:{make:function(te){var ne=ee.PriorityQueue,se={},ie;te=te||{};for(ie in ne)ne.hasOwnProperty(ie)&&(se[ie]=ne[ie]);return se.queue=[],se.sorter=te.sorter||ne.default_sorter,se},default_sorter:function(te,ne){return te.cost-ne.cost},push:function(te,ne){var se={value:te,cost:ne};this.queue.push(se),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};re.exports=ee})(dijkstra),function(re){var ee=mode,te=numericData,ne=alphanumericData,se=byteData,ie=kanjiData,fe=regex,ue=utils$f,xe=dijkstra.exports;function Ee(Be){return unescape(encodeURIComponent(Be)).length}function Ae(Be,He,Oe){for(var Ke=[],qe;(qe=Be.exec(Oe))!==null;)Ke.push({data:qe[0],index:qe.index,mode:He,length:qe[0].length});return Ke}function Me(Be){var He=Ae(fe.NUMERIC,ee.NUMERIC,Be),Oe=Ae(fe.ALPHANUMERIC,ee.ALPHANUMERIC,Be),Ke,qe;ue.isKanjiModeEnabled()?(Ke=Ae(fe.BYTE,ee.BYTE,Be),qe=Ae(fe.KANJI,ee.KANJI,Be)):(Ke=Ae(fe.BYTE_KANJI,ee.BYTE,Be),qe=[]);var Ve=He.concat(Oe,Ke,qe);return Ve.sort(function(Xe,rt){return Xe.index-rt.index}).map(function(Xe){return{data:Xe.data,mode:Xe.mode,length:Xe.length}})}function Pe(Be,He){switch(He){case ee.NUMERIC:return te.getBitsLength(Be);case ee.ALPHANUMERIC:return ne.getBitsLength(Be);case ee.KANJI:return ie.getBitsLength(Be);case ee.BYTE:return se.getBitsLength(Be)}}function Ne(Be){return Be.reduce(function(He,Oe){var Ke=He.length-1>=0?He[He.length-1]:null;return Ke&&Ke.mode===Oe.mode?(He[He.length-1].data+=Oe.data,He):(He.push(Oe),He)},[])}function je(Be){for(var He=[],Oe=0;Oe<Be.length;Oe++){var Ke=Be[Oe];switch(Ke.mode){case ee.NUMERIC:He.push([Ke,{data:Ke.data,mode:ee.ALPHANUMERIC,length:Ke.length},{data:Ke.data,mode:ee.BYTE,length:Ke.length}]);break;case ee.ALPHANUMERIC:He.push([Ke,{data:Ke.data,mode:ee.BYTE,length:Ke.length}]);break;case ee.KANJI:He.push([Ke,{data:Ke.data,mode:ee.BYTE,length:Ee(Ke.data)}]);break;case ee.BYTE:He.push([{data:Ke.data,mode:ee.BYTE,length:Ee(Ke.data)}])}}return He}function Ue(Be,He){for(var Oe={},Ke={start:{}},qe=["start"],Ve=0;Ve<Be.length;Ve++){for(var Xe=Be[Ve],rt=[],mt=0;mt<Xe.length;mt++){var Qe=Xe[mt],Se=""+Ve+mt;rt.push(Se),Oe[Se]={node:Qe,lastCount:0},Ke[Se]={};for(var $e=0;$e<qe.length;$e++){var pe=qe[$e];Oe[pe]&&Oe[pe].node.mode===Qe.mode?(Ke[pe][Se]=Pe(Oe[pe].lastCount+Qe.length,Qe.mode)-Pe(Oe[pe].lastCount,Qe.mode),Oe[pe].lastCount+=Qe.length):(Oe[pe]&&(Oe[pe].lastCount=Qe.length),Ke[pe][Se]=Pe(Qe.length,Qe.mode)+4+ee.getCharCountIndicator(Qe.mode,He))}}qe=rt}for($e=0;$e<qe.length;$e++)Ke[qe[$e]].end=0;return{map:Ke,table:Oe}}function Ce(Be,He){var Oe,Ke=ee.getBestModeForData(Be);if(Oe=ee.from(He,Ke),Oe!==ee.BYTE&&Oe.bit<Ke.bit)throw new Error('"'+Be+'" cannot be encoded with mode '+ee.toString(Oe)+`.
 Suggested mode is: `+ee.toString(Ke));switch(Oe===ee.KANJI&&!ue.isKanjiModeEnabled()&&(Oe=ee.BYTE),Oe){case ee.NUMERIC:return new te(Be);case ee.ALPHANUMERIC:return new ne(Be);case ee.KANJI:return new ie(Be);case ee.BYTE:return new se(Be)}}re.fromArray=function(He){return He.reduce(function(Oe,Ke){return typeof Ke=="string"?Oe.push(Ce(Ke,null)):Ke.data&&Oe.push(Ce(Ke.data,Ke.mode)),Oe},[])},re.fromString=function(He,Oe){for(var Ke=Me(He,ue.isKanjiModeEnabled()),qe=je(Ke),Ve=Ue(qe,Oe),Xe=xe.find_path(Ve.map,"start","end"),rt=[],mt=1;mt<Xe.length-1;mt++)rt.push(Ve.table[Xe[mt]].node);return re.fromArray(Ne(rt))},re.rawSplit=function(He){return re.fromArray(Me(He,ue.isKanjiModeEnabled()))}}(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$f,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$n,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray=isarray;function setupFinderPattern(re,ee){for(var te=re.size,ne=FinderPattern.getPositions(ee),se=0;se<ne.length;se++)for(var ie=ne[se][0],fe=ne[se][1],ue=-1;ue<=7;ue++)if(!(ie+ue<=-1||te<=ie+ue))for(var xe=-1;xe<=7;xe++)fe+xe<=-1||te<=fe+xe||(ue>=0&&ue<=6&&(xe===0||xe===6)||xe>=0&&xe<=6&&(ue===0||ue===6)||ue>=2&&ue<=4&&xe>=2&&xe<=4?re.set(ie+ue,fe+xe,!0,!0):re.set(ie+ue,fe+xe,!1,!0))}function setupTimingPattern(re){for(var ee=re.size,te=8;te<ee-8;te++){var ne=te%2===0;re.set(te,6,ne,!0),re.set(6,te,ne,!0)}}function setupAlignmentPattern(re,ee){for(var te=AlignmentPattern.getPositions(ee),ne=0;ne<te.length;ne++)for(var se=te[ne][0],ie=te[ne][1],fe=-2;fe<=2;fe++)for(var ue=-2;ue<=2;ue++)fe===-2||fe===2||ue===-2||ue===2||fe===0&&ue===0?re.set(se+fe,ie+ue,!0,!0):re.set(se+fe,ie+ue,!1,!0)}function setupVersionInfo(re,ee){for(var te=re.size,ne=Version.getEncodedBits(ee),se,ie,fe,ue=0;ue<18;ue++)se=Math.floor(ue/3),ie=ue%3+te-8-3,fe=(ne>>ue&1)===1,re.set(se,ie,fe,!0),re.set(ie,se,fe,!0)}function setupFormatInfo(re,ee,te){var ne=re.size,se=FormatInfo.getEncodedBits(ee,te),ie,fe;for(ie=0;ie<15;ie++)fe=(se>>ie&1)===1,ie<6?re.set(ie,8,fe,!0):ie<8?re.set(ie+1,8,fe,!0):re.set(ne-15+ie,8,fe,!0),ie<8?re.set(8,ne-ie-1,fe,!0):ie<9?re.set(8,15-ie-1+1,fe,!0):re.set(8,15-ie-1,fe,!0);re.set(ne-8,8,1,!0)}function setupData(re,ee){for(var te=re.size,ne=-1,se=te-1,ie=7,fe=0,ue=te-1;ue>0;ue-=2)for(ue===6&&ue--;;){for(var xe=0;xe<2;xe++)if(!re.isReserved(se,ue-xe)){var Ee=!1;fe<ee.length&&(Ee=(ee[fe]>>>ie&1)===1),re.set(se,ue-xe,Ee),ie--,ie===-1&&(fe++,ie=7)}if(se+=ne,se<0||te<=se){se-=ne,ne=-ne;break}}}function createData(re,ee,te){var ne=new BitBuffer;te.forEach(function(Ee){ne.put(Ee.mode.bit,4),ne.put(Ee.getLength(),Mode.getCharCountIndicator(Ee.mode,re)),Ee.write(ne)});var se=Utils$1.getSymbolTotalCodewords(re),ie=ECCode.getTotalCodewordsCount(re,ee),fe=(se-ie)*8;for(ne.getLengthInBits()+4<=fe&&ne.put(0,4);ne.getLengthInBits()%8!==0;)ne.putBit(0);for(var ue=(fe-ne.getLengthInBits())/8,xe=0;xe<ue;xe++)ne.put(xe%2?17:236,8);return createCodewords(ne,re,ee)}function createCodewords(re,ee,te){for(var ne=Utils$1.getSymbolTotalCodewords(ee),se=ECCode.getTotalCodewordsCount(ee,te),ie=ne-se,fe=ECCode.getBlocksCount(ee,te),ue=ne%fe,xe=fe-ue,Ee=Math.floor(ne/fe),Ae=Math.floor(ie/fe),Me=Ae+1,Pe=Ee-Ae,Ne=new ReedSolomonEncoder(Pe),je=0,Ue=new Array(fe),Ce=new Array(fe),Be=0,He=BufferUtil.from(re.buffer),Oe=0;Oe<fe;Oe++){var Ke=Oe<xe?Ae:Me;Ue[Oe]=He.slice(je,je+Ke),Ce[Oe]=Ne.encode(Ue[Oe]),je+=Ke,Be=Math.max(Be,Ke)}var qe=BufferUtil.alloc(ne),Ve=0,Xe,rt;for(Xe=0;Xe<Be;Xe++)for(rt=0;rt<fe;rt++)Xe<Ue[rt].length&&(qe[Ve++]=Ue[rt][Xe]);for(Xe=0;Xe<Pe;Xe++)for(rt=0;rt<fe;rt++)qe[Ve++]=Ce[rt][Xe];return qe}function createSymbol(re,ee,te,ne){var se;if(isArray(re))se=Segments.fromArray(re);else if(typeof re=="string"){var ie=ee;if(!ie){var fe=Segments.rawSplit(re);ie=Version.getBestVersionForData(fe,te)}se=Segments.fromString(re,ie||40)}else throw new Error("Invalid data");var ue=Version.getBestVersionForData(se,te);if(!ue)throw new Error("The amount of data is too big to be stored in a QR Code");if(!ee)ee=ue;else if(ee<ue)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ue+`.
`);var xe=createData(ee,te,se),Ee=Utils$1.getSymbolSize(ee),Ae=new BitMatrix(Ee);return setupFinderPattern(Ae,ee),setupTimingPattern(Ae),setupAlignmentPattern(Ae,ee),setupFormatInfo(Ae,te,0),ee>=7&&setupVersionInfo(Ae,ee),setupData(Ae,xe),isNaN(ne)&&(ne=MaskPattern.getBestMask(Ae,setupFormatInfo.bind(null,Ae,te))),MaskPattern.applyMask(ne,Ae),setupFormatInfo(Ae,te,ne),{modules:Ae,version:ee,errorCorrectionLevel:te,maskPattern:ne,segments:se}}qrcode.create=function(ee,te){if(typeof ee>"u"||ee==="")throw new Error("No input text");var ne=ECLevel.M,se,ie;return typeof te<"u"&&(ne=ECLevel.from(te.errorCorrectionLevel,ECLevel.M),se=Version.from(te.version),ie=MaskPattern.from(te.maskPattern),te.toSJISFunc&&Utils$1.setToSJISFunction(te.toSJISFunc)),createSymbol(ee,se,ne,ie)};var canvas={},utils$e={};(function(re){function ee(te){if(typeof te=="number"&&(te=te.toString()),typeof te!="string")throw new Error("Color should be defined as hex string");var ne=te.slice().replace("#","").split("");if(ne.length<3||ne.length===5||ne.length>8)throw new Error("Invalid hex color: "+te);(ne.length===3||ne.length===4)&&(ne=Array.prototype.concat.apply([],ne.map(function(ie){return[ie,ie]}))),ne.length===6&&ne.push("F","F");var se=parseInt(ne.join(""),16);return{r:se>>24&255,g:se>>16&255,b:se>>8&255,a:se&255,hex:"#"+ne.slice(0,6).join("")}}re.getOptions=function(ne){ne||(ne={}),ne.color||(ne.color={});var se=typeof ne.margin>"u"||ne.margin===null||ne.margin<0?4:ne.margin,ie=ne.width&&ne.width>=21?ne.width:void 0,fe=ne.scale||4;return{width:ie,scale:ie?4:fe,margin:se,color:{dark:ee(ne.color.dark||"#000000ff"),light:ee(ne.color.light||"#ffffffff")},type:ne.type,rendererOpts:ne.rendererOpts||{}}},re.getScale=function(ne,se){return se.width&&se.width>=ne+se.margin*2?se.width/(ne+se.margin*2):se.scale},re.getImageWidth=function(ne,se){var ie=re.getScale(ne,se);return Math.floor((ne+se.margin*2)*ie)},re.qrToImageData=function(ne,se,ie){for(var fe=se.modules.size,ue=se.modules.data,xe=re.getScale(fe,ie),Ee=Math.floor((fe+ie.margin*2)*xe),Ae=ie.margin*xe,Me=[ie.color.light,ie.color.dark],Pe=0;Pe<Ee;Pe++)for(var Ne=0;Ne<Ee;Ne++){var je=(Pe*Ee+Ne)*4,Ue=ie.color.light;if(Pe>=Ae&&Ne>=Ae&&Pe<Ee-Ae&&Ne<Ee-Ae){var Ce=Math.floor((Pe-Ae)/xe),Be=Math.floor((Ne-Ae)/xe);Ue=Me[ue[Ce*fe+Be]?1:0]}ne[je++]=Ue.r,ne[je++]=Ue.g,ne[je++]=Ue.b,ne[je]=Ue.a}}})(utils$e),function(re){var ee=utils$e;function te(se,ie,fe){se.clearRect(0,0,ie.width,ie.height),ie.style||(ie.style={}),ie.height=fe,ie.width=fe,ie.style.height=fe+"px",ie.style.width=fe+"px"}function ne(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}re.render=function(ie,fe,ue){var xe=ue,Ee=fe;typeof xe>"u"&&(!fe||!fe.getContext)&&(xe=fe,fe=void 0),fe||(Ee=ne()),xe=ee.getOptions(xe);var Ae=ee.getImageWidth(ie.modules.size,xe),Me=Ee.getContext("2d"),Pe=Me.createImageData(Ae,Ae);return ee.qrToImageData(Pe.data,ie,xe),te(Me,Ee,Ae),Me.putImageData(Pe,0,0),Ee},re.renderToDataURL=function(ie,fe,ue){var xe=ue;typeof xe>"u"&&(!fe||!fe.getContext)&&(xe=fe,fe=void 0),xe||(xe={});var Ee=re.render(ie,fe,xe),Ae=xe.type||"image/png",Me=xe.rendererOpts||{};return Ee.toDataURL(Ae,Me.quality)}}(canvas);var svgTag={},Utils=utils$e;function getColorAttrib(re,ee){var te=re.a/255,ne=ee+'="'+re.hex+'"';return te<1?ne+" "+ee+'-opacity="'+te.toFixed(2).slice(1)+'"':ne}function svgCmd(re,ee,te){var ne=re+ee;return typeof te<"u"&&(ne+=" "+te),ne}function qrToPath(re,ee,te){for(var ne="",se=0,ie=!1,fe=0,ue=0;ue<re.length;ue++){var xe=Math.floor(ue%ee),Ee=Math.floor(ue/ee);!xe&&!ie&&(ie=!0),re[ue]?(fe++,ue>0&&xe>0&&re[ue-1]||(ne+=ie?svgCmd("M",xe+te,.5+Ee+te):svgCmd("m",se,0),se=0,ie=!1),xe+1<ee&&re[ue+1]||(ne+=svgCmd("h",fe),fe=0)):se++}return ne}svgTag.render=function(ee,te,ne){var se=Utils.getOptions(te),ie=ee.modules.size,fe=ee.modules.data,ue=ie+se.margin*2,xe=se.color.light.a?"<path "+getColorAttrib(se.color.light,"fill")+' d="M0 0h'+ue+"v"+ue+'H0z"/>':"",Ee="<path "+getColorAttrib(se.color.dark,"stroke")+' d="'+qrToPath(fe,ie,se.margin)+'"/>',Ae='viewBox="0 0 '+ue+" "+ue+'"',Me=se.width?'width="'+se.width+'" height="'+se.width+'" ':"",Pe='<svg xmlns="http://www.w3.org/2000/svg" '+Me+Ae+' shape-rendering="crispEdges">'+xe+Ee+`</svg>
`;return typeof ne=="function"&&ne(null,Pe),Pe};var canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(re,ee,te,ne,se){var ie=[].slice.call(arguments,1),fe=ie.length,ue=typeof ie[fe-1]=="function";if(!ue&&!canPromise())throw new Error("Callback required as last argument");if(ue){if(fe<2)throw new Error("Too few arguments provided");fe===2?(se=te,te=ee,ee=ne=void 0):fe===3&&(ee.getContext&&typeof se>"u"?(se=ne,ne=void 0):(se=ne,ne=te,te=ee,ee=void 0))}else{if(fe<1)throw new Error("Too few arguments provided");return fe===1?(te=ee,ee=ne=void 0):fe===2&&!ee.getContext&&(ne=te,te=ee,ee=void 0),new Promise(function(Ee,Ae){try{var Me=QRCode$1.create(te,ne);Ee(re(Me,ee,ne))}catch(Pe){Ae(Pe)}})}try{var xe=QRCode$1.create(te,ne);se(null,re(xe,ee,ne))}catch(Ee){se(Ee)}}browser$4.create=QRCode$1.create,browser$4.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),browser$4.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),browser$4.toString=renderCanvas.bind(null,function(re,ee,te){return SvgRenderer.render(re,te)});var toggleSelection=function(){var re=document.getSelection();if(!re.rangeCount)return function(){};for(var ee=document.activeElement,te=[],ne=0;ne<re.rangeCount;ne++)te.push(re.getRangeAt(ne));switch(ee.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":ee.blur();break;default:ee=null;break}return re.removeAllRanges(),function(){re.type==="Caret"&&re.removeAllRanges(),re.rangeCount||te.forEach(function(se){re.addRange(se)}),ee&&ee.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format$1(re){var ee=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return re.replace(/#{\s*key\s*}/g,ee)}function copy$1(re,ee){var te,ne,se,ie,fe,ue,xe=!1;ee||(ee={}),te=ee.debug||!1;try{se=deselectCurrent(),ie=document.createRange(),fe=document.getSelection(),ue=document.createElement("span"),ue.textContent=re,ue.ariaHidden="true",ue.style.all="unset",ue.style.position="fixed",ue.style.top=0,ue.style.clip="rect(0, 0, 0, 0)",ue.style.whiteSpace="pre",ue.style.webkitUserSelect="text",ue.style.MozUserSelect="text",ue.style.msUserSelect="text",ue.style.userSelect="text",ue.addEventListener("copy",function(Ae){if(Ae.stopPropagation(),ee.format)if(Ae.preventDefault(),typeof Ae.clipboardData>"u"){te&&console.warn("unable to use e.clipboardData"),te&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Me=clipboardToIE11Formatting[ee.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(Me,re)}else Ae.clipboardData.clearData(),Ae.clipboardData.setData(ee.format,re);ee.onCopy&&(Ae.preventDefault(),ee.onCopy(Ae.clipboardData))}),document.body.appendChild(ue),ie.selectNodeContents(ue),fe.addRange(ie);var Ee=document.execCommand("copy");if(!Ee)throw new Error("copy command was unsuccessful");xe=!0}catch(Ae){te&&console.error("unable to copy using execCommand: ",Ae),te&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(ee.format||"text",re),ee.onCopy&&ee.onCopy(window.clipboardData),xe=!0}catch(Me){te&&console.error("unable to copy using clipboardData: ",Me),te&&console.error("falling back to prompt"),ne=format$1("message"in ee?ee.message:defaultMessage),window.prompt(ne,re)}}finally{fe&&(typeof fe.removeRange=="function"?fe.removeRange(ie):fe.removeAllRanges()),ue&&document.body.removeChild(ue),se()}return xe}var copyToClipboard=copy$1,n,u$1,i$2,t$1,r$3,o$1,f$3,e$1={},c$1=[],s$2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$2(re,ee){for(var te in ee)re[te]=ee[te];return re}function v$1(re){var ee=re.parentNode;ee&&ee.removeChild(re)}function h$1(re,ee,te){var ne,se=arguments,ie={};for(ne in ee)ne!=="key"&&ne!=="ref"&&(ie[ne]=ee[ne]);if(arguments.length>3)for(te=[te],ne=3;ne<arguments.length;ne++)te.push(se[ne]);if(te!=null&&(ie.children=te),typeof re=="function"&&re.defaultProps!=null)for(ne in re.defaultProps)ie[ne]===void 0&&(ie[ne]=re.defaultProps[ne]);return p$1(re,ie,ee&&ee.key,ee&&ee.ref,null)}function p$1(re,ee,te,ne,se){var ie={type:re,props:ee,key:te,ref:ne,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:se};return se==null&&(ie.__v=ie),n.vnode&&n.vnode(ie),ie}function y$1(){return{}}function d$1(re){return re.children}function m$1(re,ee){this.props=re,this.context=ee}function w$2(re,ee){if(ee==null)return re.__?w$2(re.__,re.__.__k.indexOf(re)+1):null;for(var te;ee<re.__k.length;ee++)if((te=re.__k[ee])!=null&&te.__e!=null)return te.__e;return typeof re.type=="function"?w$2(re):null}function k$1(re){var ee,te;if((re=re.__)!=null&&re.__c!=null){for(re.__e=re.__c.base=null,ee=0;ee<re.__k.length;ee++)if((te=re.__k[ee])!=null&&te.__e!=null){re.__e=re.__c.base=te.__e;break}return k$1(re)}}function g$1(re){(!re.__d&&(re.__d=!0)&&u$1.push(re)&&!i$2++||r$3!==n.debounceRendering)&&((r$3=n.debounceRendering)||t$1)(_$2)}function _$2(){for(var re;i$2=u$1.length;)re=u$1.sort(function(ee,te){return ee.__v.__b-te.__v.__b}),u$1=[],re.some(function(ee){var te,ne,se,ie,fe,ue,xe;ee.__d&&(ue=(fe=(te=ee).__v).__e,(xe=te.__P)&&(ne=[],(se=a$2({},fe)).__v=se,ie=A$2(xe,fe,se,te.__n,xe.ownerSVGElement!==void 0,null,ne,ue??w$2(fe)),T$2(ne,fe),ie!=ue&&k$1(fe)))})}function b(re,ee,te,ne,se,ie,fe,ue,xe){var Ee,Ae,Me,Pe,Ne,je,Ue,Ce=te&&te.__k||c$1,Be=Ce.length;if(ue==e$1&&(ue=ie!=null?ie[0]:Be?w$2(te,0):null),Ee=0,ee.__k=x$1(ee.__k,function(He){if(He!=null){if(He.__=ee,He.__b=ee.__b+1,(Me=Ce[Ee])===null||Me&&He.key==Me.key&&He.type===Me.type)Ce[Ee]=void 0;else for(Ae=0;Ae<Be;Ae++){if((Me=Ce[Ae])&&He.key==Me.key&&He.type===Me.type){Ce[Ae]=void 0;break}Me=null}if(Pe=A$2(re,He,Me=Me||e$1,ne,se,ie,fe,ue,xe),(Ae=He.ref)&&Me.ref!=Ae&&(Ue||(Ue=[]),Me.ref&&Ue.push(Me.ref,null,He),Ue.push(Ae,He.__c||Pe,He)),Pe!=null){var Oe;if(je==null&&(je=Pe),He.__d!==void 0)Oe=He.__d,He.__d=void 0;else if(ie==Me||Pe!=ue||Pe.parentNode==null){e:if(ue==null||ue.parentNode!==re)re.appendChild(Pe),Oe=null;else{for(Ne=ue,Ae=0;(Ne=Ne.nextSibling)&&Ae<Be;Ae+=2)if(Ne==Pe)break e;re.insertBefore(Pe,ue),Oe=ue}ee.type=="option"&&(re.value="")}ue=Oe!==void 0?Oe:Pe.nextSibling,typeof ee.type=="function"&&(ee.__d=ue)}else ue&&Me.__e==ue&&ue.parentNode!=re&&(ue=w$2(Me))}return Ee++,He}),ee.__e=je,ie!=null&&typeof ee.type!="function")for(Ee=ie.length;Ee--;)ie[Ee]!=null&&v$1(ie[Ee]);for(Ee=Be;Ee--;)Ce[Ee]!=null&&D$1(Ce[Ee],Ce[Ee]);if(Ue)for(Ee=0;Ee<Ue.length;Ee++)j$1(Ue[Ee],Ue[++Ee],Ue[++Ee])}function x$1(re,ee,te){if(te==null&&(te=[]),re==null||typeof re=="boolean")ee&&te.push(ee(null));else if(Array.isArray(re))for(var ne=0;ne<re.length;ne++)x$1(re[ne],ee,te);else te.push(ee?ee(typeof re=="string"||typeof re=="number"?p$1(null,re,null,null,re):re.__e!=null||re.__c!=null?p$1(re.type,re.props,re.key,null,re.__v):re):re);return te}function P$1(re,ee,te,ne,se){var ie;for(ie in te)ie==="children"||ie==="key"||ie in ee||N$2(re,ie,null,te[ie],ne);for(ie in ee)se&&typeof ee[ie]!="function"||ie==="children"||ie==="key"||ie==="value"||ie==="checked"||te[ie]===ee[ie]||N$2(re,ie,ee[ie],te[ie],ne)}function C$1(re,ee,te){ee[0]==="-"?re.setProperty(ee,te):re[ee]=typeof te=="number"&&s$2.test(ee)===!1?te+"px":te??""}function N$2(re,ee,te,ne,se){var ie,fe,ue,xe,Ee;if(se?ee==="className"&&(ee="class"):ee==="class"&&(ee="className"),ee==="style")if(ie=re.style,typeof te=="string")ie.cssText=te;else{if(typeof ne=="string"&&(ie.cssText="",ne=null),ne)for(xe in ne)te&&xe in te||C$1(ie,xe,"");if(te)for(Ee in te)ne&&te[Ee]===ne[Ee]||C$1(ie,Ee,te[Ee])}else ee[0]==="o"&&ee[1]==="n"?(fe=ee!==(ee=ee.replace(/Capture$/,"")),ue=ee.toLowerCase(),ee=(ue in re?ue:ee).slice(2),te?(ne||re.addEventListener(ee,z$1,fe),(re.l||(re.l={}))[ee]=te):re.removeEventListener(ee,z$1,fe)):ee!=="list"&&ee!=="tagName"&&ee!=="form"&&ee!=="type"&&ee!=="size"&&!se&&ee in re?re[ee]=te??"":typeof te!="function"&&ee!=="dangerouslySetInnerHTML"&&(ee!==(ee=ee.replace(/^xlink:?/,""))?te==null||te===!1?re.removeAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase()):re.setAttributeNS("http://www.w3.org/1999/xlink",ee.toLowerCase(),te):te==null||te===!1&&!/^ar/.test(ee)?re.removeAttribute(ee):re.setAttribute(ee,te))}function z$1(re){this.l[re.type](n.event?n.event(re):re)}function A$2(re,ee,te,ne,se,ie,fe,ue,xe){var Ee,Ae,Me,Pe,Ne,je,Ue,Ce,Be,He,Oe=ee.type;if(ee.constructor!==void 0)return null;(Ee=n.__b)&&Ee(ee);try{e:if(typeof Oe=="function"){if(Ce=ee.props,Be=(Ee=Oe.contextType)&&ne[Ee.__c],He=Ee?Be?Be.props.value:Ee.__:ne,te.__c?Ue=(Ae=ee.__c=te.__c).__=Ae.__E:("prototype"in Oe&&Oe.prototype.render?ee.__c=Ae=new Oe(Ce,He):(ee.__c=Ae=new m$1(Ce,He),Ae.constructor=Oe,Ae.render=E$2),Be&&Be.sub(Ae),Ae.props=Ce,Ae.state||(Ae.state={}),Ae.context=He,Ae.__n=ne,Me=Ae.__d=!0,Ae.__h=[]),Ae.__s==null&&(Ae.__s=Ae.state),Oe.getDerivedStateFromProps!=null&&(Ae.__s==Ae.state&&(Ae.__s=a$2({},Ae.__s)),a$2(Ae.__s,Oe.getDerivedStateFromProps(Ce,Ae.__s))),Pe=Ae.props,Ne=Ae.state,Me)Oe.getDerivedStateFromProps==null&&Ae.componentWillMount!=null&&Ae.componentWillMount(),Ae.componentDidMount!=null&&Ae.__h.push(Ae.componentDidMount);else{if(Oe.getDerivedStateFromProps==null&&Ce!==Pe&&Ae.componentWillReceiveProps!=null&&Ae.componentWillReceiveProps(Ce,He),!Ae.__e&&Ae.shouldComponentUpdate!=null&&Ae.shouldComponentUpdate(Ce,Ae.__s,He)===!1||ee.__v===te.__v&&!Ae.__){for(Ae.props=Ce,Ae.state=Ae.__s,ee.__v!==te.__v&&(Ae.__d=!1),Ae.__v=ee,ee.__e=te.__e,ee.__k=te.__k,Ae.__h.length&&fe.push(Ae),Ee=0;Ee<ee.__k.length;Ee++)ee.__k[Ee]&&(ee.__k[Ee].__=ee);break e}Ae.componentWillUpdate!=null&&Ae.componentWillUpdate(Ce,Ae.__s,He),Ae.componentDidUpdate!=null&&Ae.__h.push(function(){Ae.componentDidUpdate(Pe,Ne,je)})}Ae.context=He,Ae.props=Ce,Ae.state=Ae.__s,(Ee=n.__r)&&Ee(ee),Ae.__d=!1,Ae.__v=ee,Ae.__P=re,Ee=Ae.render(Ae.props,Ae.state,Ae.context),ee.__k=Ee!=null&&Ee.type==d$1&&Ee.key==null?Ee.props.children:Array.isArray(Ee)?Ee:[Ee],Ae.getChildContext!=null&&(ne=a$2(a$2({},ne),Ae.getChildContext())),Me||Ae.getSnapshotBeforeUpdate==null||(je=Ae.getSnapshotBeforeUpdate(Pe,Ne)),b(re,ee,te,ne,se,ie,fe,ue,xe),Ae.base=ee.__e,Ae.__h.length&&fe.push(Ae),Ue&&(Ae.__E=Ae.__=null),Ae.__e=!1}else ie==null&&ee.__v===te.__v?(ee.__k=te.__k,ee.__e=te.__e):ee.__e=$$1(te.__e,ee,te,ne,se,ie,fe,xe);(Ee=n.diffed)&&Ee(ee)}catch(Ke){ee.__v=null,n.__e(Ke,ee,te)}return ee.__e}function T$2(re,ee){n.__c&&n.__c(ee,re),re.some(function(te){try{re=te.__h,te.__h=[],re.some(function(ne){ne.call(te)})}catch(ne){n.__e(ne,te.__v)}})}function $$1(re,ee,te,ne,se,ie,fe,ue){var xe,Ee,Ae,Me,Pe,Ne=te.props,je=ee.props;if(se=ee.type==="svg"||se,ie!=null){for(xe=0;xe<ie.length;xe++)if((Ee=ie[xe])!=null&&((ee.type===null?Ee.nodeType===3:Ee.localName===ee.type)||re==Ee)){re=Ee,ie[xe]=null;break}}if(re==null){if(ee.type===null)return document.createTextNode(je);re=se?document.createElementNS("http://www.w3.org/2000/svg",ee.type):document.createElement(ee.type,je.is&&{is:je.is}),ie=null,ue=!1}if(ee.type===null)Ne!==je&&re.data!=je&&(re.data=je);else{if(ie!=null&&(ie=c$1.slice.call(re.childNodes)),Ae=(Ne=te.props||e$1).dangerouslySetInnerHTML,Me=je.dangerouslySetInnerHTML,!ue){if(Ne===e$1)for(Ne={},Pe=0;Pe<re.attributes.length;Pe++)Ne[re.attributes[Pe].name]=re.attributes[Pe].value;(Me||Ae)&&(Me&&Ae&&Me.__html==Ae.__html||(re.innerHTML=Me&&Me.__html||""))}P$1(re,je,Ne,se,ue),Me?ee.__k=[]:(ee.__k=ee.props.children,b(re,ee,te,ne,ee.type!=="foreignObject"&&se,ie,fe,e$1,ue)),ue||("value"in je&&(xe=je.value)!==void 0&&xe!==re.value&&N$2(re,"value",xe,Ne.value,!1),"checked"in je&&(xe=je.checked)!==void 0&&xe!==re.checked&&N$2(re,"checked",xe,Ne.checked,!1))}return re}function j$1(re,ee,te){try{typeof re=="function"?re(ee):re.current=ee}catch(ne){n.__e(ne,te)}}function D$1(re,ee,te){var ne,se,ie;if(n.unmount&&n.unmount(re),(ne=re.ref)&&(ne.current&&ne.current!==re.__e||j$1(ne,null,ee)),te||typeof re.type=="function"||(te=(se=re.__e)!=null),re.__e=re.__d=void 0,(ne=re.__c)!=null){if(ne.componentWillUnmount)try{ne.componentWillUnmount()}catch(fe){n.__e(fe,ee)}ne.base=ne.__P=null}if(ne=re.__k)for(ie=0;ie<ne.length;ie++)ne[ie]&&D$1(ne[ie],ee,te);se!=null&&v$1(se)}function E$2(re,ee,te){return this.constructor(re,te)}function H$1(re,ee,te){var ne,se,ie;n.__&&n.__(re,ee),se=(ne=te===o$1)?null:te&&te.__k||ee.__k,re=h$1(d$1,null,[re]),ie=[],A$2(ee,(ne?ee:te||ee).__k=re,se||e$1,e$1,ee.ownerSVGElement!==void 0,te&&!ne?[te]:se?null:c$1.slice.call(ee.childNodes),ie,te||e$1,ne),T$2(ie,re)}function I$1(re,ee){H$1(re,ee,o$1)}function L$1(re,ee){var te,ne;for(ne in ee=a$2(a$2({},re.props),ee),arguments.length>2&&(ee.children=c$1.slice.call(arguments,2)),te={},ee)ne!=="key"&&ne!=="ref"&&(te[ne]=ee[ne]);return p$1(re.type,te,ee.key||re.key,ee.ref||re.ref,null)}function M$1(re){var ee={},te={__c:"__cC"+f$3++,__:re,Consumer:function(ne,se){return ne.children(se)},Provider:function(ne){var se,ie=this;return this.getChildContext||(se=[],this.getChildContext=function(){return ee[te.__c]=ie,ee},this.shouldComponentUpdate=function(fe){ie.props.value!==fe.value&&se.some(function(ue){ue.context=fe.value,g$1(ue)})},this.sub=function(fe){se.push(fe);var ue=fe.componentWillUnmount;fe.componentWillUnmount=function(){se.splice(se.indexOf(fe),1),ue&&ue.call(fe)}}),ne.children}};return te.Consumer.contextType=te,te.Provider.__=te,te}n={__e:function(re,ee){for(var te,ne;ee=ee.__;)if((te=ee.__c)&&!te.__)try{if(te.constructor&&te.constructor.getDerivedStateFromError!=null&&(ne=!0,te.setState(te.constructor.getDerivedStateFromError(re))),te.componentDidCatch!=null&&(ne=!0,te.componentDidCatch(re)),ne)return g$1(te.__E=te)}catch(se){re=se}throw re}},m$1.prototype.setState=function(re,ee){var te;te=this.__s!==this.state?this.__s:this.__s=a$2({},this.state),typeof re=="function"&&(re=re(te,this.props)),re&&a$2(te,re),re!=null&&this.__v&&(ee&&this.__h.push(ee),g$1(this))},m$1.prototype.forceUpdate=function(re){this.__v&&(this.__e=!0,re&&this.__h.push(re),g$1(this))},m$1.prototype.render=d$1,u$1=[],i$2=0,t$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$1=e$1,f$3=0;var t,u,r$2,i$1=0,o=[],c=n.__r,f$2=n.diffed,e=n.__c,a$1=n.unmount;function v(re,ee){n.__h&&n.__h(u,re,i$1||ee),i$1=0;var te=u.__H||(u.__H={__:[],__h:[]});return re>=te.__.length&&te.__.push({}),te.__[re]}function m(re){return i$1=1,p(E$1,re)}function p(re,ee,te){var ne=v(t++,2);return ne.__c||(ne.__c=u,ne.__=[te?te(ee):E$1(void 0,ee),function(se){var ie=re(ne.__[0],se);ne.__[0]!==ie&&(ne.__[0]=ie,ne.__c.setState({}))}]),ne.__}function l(re,ee){var te=v(t++,3);!n.__s&&x(te.__H,ee)&&(te.__=re,te.__H=ee,u.__H.__h.push(te))}function y(re,ee){var te=v(t++,4);!n.__s&&x(te.__H,ee)&&(te.__=re,te.__H=ee,u.__h.push(te))}function d(re){return i$1=5,h(function(){return{current:re}},[])}function s$1(re,ee,te){i$1=6,y(function(){typeof re=="function"?re(ee()):re&&(re.current=ee())},te==null?te:te.concat(re))}function h(re,ee){var te=v(t++,7);return x(te.__H,ee)?(te.__H=ee,te.__h=re,te.__=re()):te.__}function T$1(re,ee){return i$1=8,h(function(){return re},ee)}function w$1(re){var ee=u.context[re.__c],te=v(t++,9);return te.__c=re,ee?(te.__==null&&(te.__=!0,ee.sub(u)),ee.props.value):re.__}function A$1(re,ee){n.useDebugValue&&n.useDebugValue(ee?ee(re):re)}function F$1(re){var ee=v(t++,10),te=m();return ee.__=re,u.componentDidCatch||(u.componentDidCatch=function(ne){ee.__&&ee.__(ne),te[1](ne)}),[te[0],function(){te[1](void 0)}]}function _$1(){o.some(function(re){if(re.__P)try{re.__H.__h.forEach(g),re.__H.__h.forEach(q$1),re.__H.__h=[]}catch(ee){return re.__H.__h=[],n.__e(ee,re.__v),!0}}),o=[]}function g(re){re.t&&re.t()}function q$1(re){var ee=re.__();typeof ee=="function"&&(re.t=ee)}function x(re,ee){return!re||ee.some(function(te,ne){return te!==re[ne]})}function E$1(re,ee){return typeof ee=="function"?ee(re):ee}n.__r=function(re){c&&c(re),t=0,(u=re.__c).__H&&(u.__H.__h.forEach(g),u.__H.__h.forEach(q$1),u.__H.__h=[])},n.diffed=function(re){f$2&&f$2(re);var ee=re.__c;if(ee){var te=ee.__H;te&&te.__h.length&&(o.push(ee)!==1&&r$2===n.requestAnimationFrame||((r$2=n.requestAnimationFrame)||function(ne){var se,ie=function(){clearTimeout(fe),cancelAnimationFrame(se),setTimeout(ne)},fe=setTimeout(ie,100);typeof window<"u"&&(se=requestAnimationFrame(ie))})(_$1))}},n.__c=function(re,ee){ee.some(function(te){try{te.__h.forEach(g),te.__h=te.__h.filter(function(ne){return!ne.__||q$1(ne)})}catch(ne){ee.some(function(se){se.__h&&(se.__h=[])}),ee=[],n.__e(ne,te.__v)}}),e&&e(re,ee)},n.unmount=function(re){a$1&&a$1(re);var ee=re.__c;if(ee){var te=ee.__H;if(te)try{te.__.forEach(function(ne){return ne.t&&ne.t()})}catch(ne){n.__e(ne,ee.__v)}}};function E(re,ee){for(var te in ee)re[te]=ee[te];return re}function w(re,ee){for(var te in re)if(te!=="__source"&&!(te in ee))return!0;for(var ne in ee)if(ne!=="__source"&&re[ne]!==ee[ne])return!0;return!1}var C=function(re){var ee,te;function ne(se){var ie;return(ie=re.call(this,se)||this).isPureReactComponent=!0,ie}return te=re,(ee=ne).prototype=Object.create(te.prototype),ee.prototype.constructor=ee,ee.__proto__=te,ne.prototype.shouldComponentUpdate=function(se,ie){return w(this.props,se)||w(this.state,ie)},ne}(m$1);function _(re,ee){function te(se){var ie=this.props.ref,fe=ie==se.ref;return!fe&&ie&&(ie.call?ie(null):ie.current=null),ee?!ee(this.props,se)||!fe:w(this.props,se)}function ne(se){return this.shouldComponentUpdate=te,h$1(re,E({},se))}return ne.prototype.isReactComponent=!0,ne.displayName="Memo("+(re.displayName||re.name)+")",ne.t=!0,ne}var A=n.__b;function S(re){function ee(te){var ne=E({},te);return delete ne.ref,re(ne,te.ref)}return ee.prototype.isReactComponent=ee.t=!0,ee.displayName="ForwardRef("+(re.displayName||re.name)+")",ee}n.__b=function(re){re.type&&re.type.t&&re.ref&&(re.props.ref=re.ref,re.ref=null),A&&A(re)};var k=function(re,ee){return re?x$1(re).reduce(function(te,ne,se){return te.concat(ee(ne,se))},[]):null},R={map:k,forEach:k,count:function(re){return re?x$1(re).length:0},only:function(re){if((re=x$1(re)).length!==1)throw new Error("Children.only() expects only one child.");return re[0]},toArray:x$1},F=n.__e;function N$1(re){return re&&((re=E({},re)).__c=null,re.__k=re.__k&&re.__k.map(N$1)),re}function U(){this.__u=0,this.o=null,this.__b=null}function M(re){var ee=re.__.__c;return ee&&ee.u&&ee.u(re)}function L(re){var ee,te,ne;function se(ie){if(ee||(ee=re()).then(function(fe){te=fe.default||fe},function(fe){ne=fe}),ne)throw ne;if(!te)throw ee;return h$1(te,ie)}return se.displayName="Lazy",se.t=!0,se}function O(){this.i=null,this.l=null}n.__e=function(re,ee,te){if(re.then){for(var ne,se=ee;se=se.__;)if((ne=se.__c)&&ne.__c)return ne.__c(re,ee.__c)}F(re,ee,te)},(U.prototype=new m$1).__c=function(re,ee){var te=this;te.o==null&&(te.o=[]),te.o.push(ee);var ne=M(te.__v),se=!1,ie=function(){se||(se=!0,ne?ne(fe):fe())};ee.__c=ee.componentWillUnmount,ee.componentWillUnmount=function(){ie(),ee.__c&&ee.__c()};var fe=function(){var ue;if(!--te.__u)for(te.__v.__k[0]=te.state.u,te.setState({u:te.__b=null});ue=te.o.pop();)ue.forceUpdate()};te.__u++||te.setState({u:te.__b=te.__v.__k[0]}),re.then(ie,ie)},U.prototype.render=function(re,ee){return this.__b&&(this.__v.__k[0]=N$1(this.__b),this.__b=null),[h$1(m$1,null,ee.u?null:re.children),ee.u&&re.fallback]};var P=function(re,ee,te){if(++te[1]===te[0]&&re.l.delete(ee),re.props.revealOrder&&(re.props.revealOrder[0]!=="t"||!re.l.size))for(te=re.i;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;re.i=te=te[2]}};(O.prototype=new m$1).u=function(re){var ee=this,te=M(ee.__v),ne=ee.l.get(re);return ne[0]++,function(se){var ie=function(){ee.props.revealOrder?(ne.push(se),P(ee,re,ne)):se()};te?te(ie):ie()}},O.prototype.render=function(re){this.i=null,this.l=new Map;var ee=x$1(re.children);re.revealOrder&&re.revealOrder[0]==="b"&&ee.reverse();for(var te=ee.length;te--;)this.l.set(ee[te],this.i=[1,0,this.i]);return re.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var re=this;re.l.forEach(function(ee,te){P(re,te,ee)})};var W=function(){function re(){}var ee=re.prototype;return ee.getChildContext=function(){return this.props.context},ee.render=function(te){return te.children},re}();function j(re){var ee=this,te=re.container,ne=h$1(W,{context:ee.context},re.vnode);return ee.s&&ee.s!==te&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h),ee.p=!1),re.vnode?ee.p?(te.__k=ee.__k,H$1(ne,te),ee.__k=te.__k):(ee.v=document.createTextNode(""),I$1("",te),te.appendChild(ee.v),ee.p=!0,ee.s=te,H$1(ne,te,ee.v),ee.__k=ee.v.__k):ee.p&&(ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h)),ee.h=ne,ee.componentWillUnmount=function(){ee.v.parentNode&&ee.s.removeChild(ee.v),D$1(ee.h)},null}function z(re,ee){return h$1(j,{vnode:re,container:ee})}var D=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$1.prototype.isReactComponent={};var H=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function T(re,ee,te){if(ee.__k==null)for(;ee.firstChild;)ee.removeChild(ee.firstChild);return H$1(re,ee),typeof te=="function"&&te(),re?re.__c:null}function V(re,ee,te){return I$1(re,ee),typeof te=="function"&&te(),re?re.__c:null}var Z=n.event;function I(re,ee){re["UNSAFE_"+ee]&&!re[ee]&&Object.defineProperty(re,ee,{configurable:!1,get:function(){return this["UNSAFE_"+ee]},set:function(te){this["UNSAFE_"+ee]=te}})}n.event=function(re){Z&&(re=Z(re)),re.persist=function(){};var ee=!1,te=!1,ne=re.stopPropagation;re.stopPropagation=function(){ne.call(re),ee=!0};var se=re.preventDefault;return re.preventDefault=function(){se.call(re),te=!0},re.isPropagationStopped=function(){return ee},re.isDefaultPrevented=function(){return te},re.nativeEvent=re};var $={configurable:!0,get:function(){return this.class}},q=n.vnode;n.vnode=function(re){re.$$typeof=H;var ee=re.type,te=re.props;if(ee){if(te.class!=te.className&&($.enumerable="className"in te,te.className!=null&&(te.class=te.className),Object.defineProperty(te,"className",$)),typeof ee!="function"){var ne,se,ie;for(ie in te.defaultValue&&te.value!==void 0&&(te.value||te.value===0||(te.value=te.defaultValue),delete te.defaultValue),Array.isArray(te.value)&&te.multiple&&ee==="select"&&(x$1(te.children).forEach(function(fe){te.value.indexOf(fe.props.value)!=-1&&(fe.props.selected=!0)}),delete te.value),te)if(ne=D.test(ie))break;if(ne)for(ie in se=re.props={},te)se[D.test(ie)?ie.replace(/[A-Z0-9]/,"-$&").toLowerCase():ie]=te[ie]}(function(fe){var ue=re.type,xe=re.props;if(xe&&typeof ue=="string"){var Ee={};for(var Ae in xe)/^on(Ani|Tra|Tou)/.test(Ae)&&(xe[Ae.toLowerCase()]=xe[Ae],delete xe[Ae]),Ee[Ae.toLowerCase()]=Ae;if(Ee.ondoubleclick&&(xe.ondblclick=xe[Ee.ondoubleclick],delete xe[Ee.ondoubleclick]),Ee.onbeforeinput&&(xe.onbeforeinput=xe[Ee.onbeforeinput],delete xe[Ee.onbeforeinput]),Ee.onchange&&(ue==="textarea"||ue.toLowerCase()==="input"&&!/^fil|che|ra/i.test(xe.type))){var Me=Ee.oninput||"oninput";xe[Me]||(xe[Me]=xe[Ee.onchange],delete xe[Ee.onchange])}}})(),typeof ee=="function"&&!ee.m&&ee.prototype&&(I(ee.prototype,"componentWillMount"),I(ee.prototype,"componentWillReceiveProps"),I(ee.prototype,"componentWillUpdate"),ee.m=!0)}q&&q(re)};var B="16.8.0";function G(re){return h$1.bind(null,re)}function J(re){return!!re&&re.$$typeof===H}function K$1(re){return J(re)?L$1.apply(null,arguments):re}function Q(re){return!!re.__k&&(H$1(null,re),!0)}function X(re){return re&&(re.base||re.nodeType===1&&re)||null}var Y=function(re,ee){return re(ee)},compat_module={useState:m,useReducer:p,useEffect:l,useLayoutEffect:y,useRef:d,useImperativeHandle:s$1,useMemo:h,useCallback:T$1,useContext:w$1,useDebugValue:A$1,version:"16.8.0",Children:R,render:T,hydrate:T,unmountComponentAtNode:Q,createPortal:z,createElement:h$1,createContext:M$1,createFactory:G,cloneElement:K$1,createRef:y$1,Fragment:d$1,isValidElement:J,findDOMNode:X,Component:m$1,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L},compat_module$1=Object.freeze({__proto__:null,default:compat_module,version:B,Children:R,render:T,hydrate:V,unmountComponentAtNode:Q,createPortal:z,createFactory:G,cloneElement:K$1,isValidElement:J,findDOMNode:X,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L,createElement:h$1,createContext:M$1,createRef:y$1,Fragment:d$1,Component:m$1,useState:m,useReducer:p,useEffect:l,useLayoutEffect:y,useRef:d,useImperativeHandle:s$1,useMemo:h,useCallback:T$1,useContext:w$1,useDebugValue:A$1,useErrorBoundary:F$1}),require$$3$1=getAugmentedNamespace(compat_module$1);function _interopDefault(re){return re&&typeof re=="object"&&"default"in re?re.default:re}var browserUtils=require$$0$3,QRCode=_interopDefault(browser$4),copy=_interopDefault(copyToClipboard),React=require$$3$1;function open(re){QRCode.toString(re,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(re,ee){try{var te=re()}catch(ne){return ee(ne)}return te&&te.then?te.then(void 0,ee):te}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(re){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:re.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(re){return React.createElement("a",{className:"walletconnect-connect__button",href:re.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+re.name,onClick:re.onClick,rel:"noopener noreferrer",style:{backgroundColor:re.color},target:"_blank"},re.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(re){var ee=re.color,te=re.href,ne=re.name,se=re.logo,ie=re.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:te,onClick:ie,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},ne),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+se+"') "+ee,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(re){var ee=re.color,te=re.href,ne=re.name,se=re.logo,ie=re.onClick,fe=window.innerWidth<768?(ne.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:te,onClick:ie,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+se+"') "+ee,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:fe},className:"walletconnect-connect__button__text"},ne))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(re){var ee=browserUtils.isAndroid(),te=React.useState(""),ne=te[0],se=te[1],ie=React.useState(""),fe=ie[0],ue=ie[1],xe=React.useState(1),Ee=xe[0],Ae=xe[1],Me=fe?re.links.filter(function(Ke){return Ke.name.toLowerCase().includes(fe.toLowerCase())}):re.links,Pe=re.errorMessage,Ne=fe||Me.length>GRID_MIN_COUNT,je=Math.ceil(Me.length/LINKS_PER_PAGE),Ue=[(Ee-1)*LINKS_PER_PAGE+1,Ee*LINKS_PER_PAGE],Ce=Me.length?Me.filter(function(Ke,qe){return qe+1>=Ue[0]&&qe+1<=Ue[1]}):[],Be=!ee&&je>1,He=void 0;function Oe(Ke){se(Ke.target.value),clearTimeout(He),Ke.target.value?He=setTimeout(function(){ue(Ke.target.value),Ae(1)},1e3):(se(""),ue(""),Ae(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},ee?re.text.connect_mobile_wallet:re.text.choose_preferred_wallet),!ee&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:ne,onChange:Oe}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(ee?"__android":Ne&&Me.length?"__wrap":"")},ee?React.createElement(ConnectButton,{name:re.text.connect,color:DEFAULT_BUTTON_COLOR,href:re.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:re.uri})},[])}):Ce.length?Ce.map(function(Ke){var qe=Ke.color,Ve=Ke.name,Xe=Ke.shortName,rt=Ke.logo,mt=browserUtils.formatIOSMobile(re.uri,Ke),Qe=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:Ve,href:mt})},[Ce]);return Ne?React.createElement(WalletIcon,{color:qe,href:mt,name:Xe||Ve,logo:rt,onClick:Qe}):React.createElement(WalletButton,{color:qe,href:mt,name:Ve,logo:rt,onClick:Qe})}):React.createElement(React.Fragment,null,React.createElement("p",null,Pe.length?re.errorMessage:!!re.links.length&&!Me.length?re.text.no_wallets_found:re.text.loading))),Be&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(je).fill(0).map(function(Ke,qe){var Ve=qe+1,Xe=Ee===Ve;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:Xe?"bold":"normal"},onClick:function(){return Ae(Ve)}},Ve)})))}function Notification(re){var ee=!!re.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(ee?" notification__show":"")},re.message)}var formatQRCodeImage=function(re){try{var ee="";return Promise.resolve(QRCode.toString(re,{margin:0,type:"svg"})).then(function(te){return typeof te=="string"&&(ee=te.replace("<svg",'<svg class="walletconnect-qrcode__image"')),ee})}catch(te){return Promise.reject(te)}};function QRCodeDisplay(re){var ee=React.useState(""),te=ee[0],ne=ee[1],se=React.useState(""),ie=se[0],fe=se[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(re.uri)).then(function(xe){fe(xe)})}catch(xe){Promise.reject(xe)}},[]);var ue=function(){var xe=copy(re.uri);xe?(ne(re.text.copied_to_clipboard),setInterval(function(){return ne("")},1200)):(ne("Error"),setInterval(function(){return ne("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},re.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:ie}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:ue},re.text.copy_to_clipboard)),React.createElement(Notification,{message:te}))}function Modal(re){var ee=browserUtils.isAndroid(),te=browserUtils.isMobile(),ne=te?re.qrcodeModalOptions&&re.qrcodeModalOptions.mobileLinks?re.qrcodeModalOptions.mobileLinks:void 0:re.qrcodeModalOptions&&re.qrcodeModalOptions.desktopLinks?re.qrcodeModalOptions.desktopLinks:void 0,se=React.useState(!1),ie=se[0],fe=se[1],ue=React.useState(!1),xe=ue[0],Ee=ue[1],Ae=React.useState(!te),Me=Ae[0],Pe=Ae[1],Ne={mobile:te,text:re.text,uri:re.uri,qrcodeModalOptions:re.qrcodeModalOptions},je=React.useState(""),Ue=je[0],Ce=je[1],Be=React.useState(!1),He=Be[0],Oe=Be[1],Ke=React.useState([]),qe=Ke[0],Ve=Ke[1],Xe=React.useState(""),rt=Xe[0],mt=Xe[1],Qe=function(){xe||ie||ne&&!ne.length||qe.length>0||React.useEffect(function(){var $e=function(){try{if(ee)return Promise.resolve();fe(!0);var pe=_catch(function(){var oe=re.qrcodeModalOptions&&re.qrcodeModalOptions.registryUrl?re.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(oe)).then(function(ce){return Promise.resolve(ce.json()).then(function(le){var ge=le.listings,ye=te?"mobile":"desktop",me=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(ge,ye),ne);fe(!1),Ee(!0),mt(me.length?"":re.text.no_supported_wallets),Ve(me);var ve=me.length===1;ve&&(Ce(browserUtils.formatIOSMobile(re.uri,me[0])),Pe(!0)),Oe(ve)})})},function(oe){fe(!1),Ee(!0),mt(re.text.something_went_wrong),console.error(oe)});return Promise.resolve(pe&&pe.then?pe.then(function(){}):void 0)}catch(oe){return Promise.reject(oe)}};$e()})};Qe();var Se=te?Me:!Me;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:re.onClose}),He&&Me?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:qe[0].name,href:Ue})},href:Ue,rel:"noopener noreferrer",target:"_blank"},re.text.connect_with+" "+(He?qe[0].name:"")+" \u203A")):ee||ie||!ie&&qe.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(Se?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),te?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return Pe(!1),Qe()}},re.text.mobile),React.createElement("a",{onClick:function(){return Pe(!0)}},re.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return Pe(!0)}},re.text.qrcode),React.createElement("a",{onClick:function(){return Pe(!1),Qe()}},re.text.desktop))):null,React.createElement("div",null,Me||!ee&&!ie&&!qe.length?React.createElement(QRCodeDisplay,Object.assign({},Ne)):React.createElement(LinkDisplay,Object.assign({},Ne,{links:qe,errorMessage:rt})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en,es,fr,ko,pt,zh,fa};function injectStyleSheet(){var re=browserUtils.getDocumentOrThrow(),ee=re.getElementById(WALLETCONNECT_STYLE_ID);ee&&re.head.removeChild(ee);var te=re.createElement("style");te.setAttribute("id",WALLETCONNECT_STYLE_ID),te.innerText=WALLETCONNECT_STYLE_SHEET,re.head.appendChild(te)}function renderWrapper(){var re=browserUtils.getDocumentOrThrow(),ee=re.createElement("div");return ee.setAttribute("id",WALLETCONNECT_WRAPPER_ID),re.body.appendChild(ee),ee}function triggerCloseAnimation(){var re=browserUtils.getDocumentOrThrow(),ee=re.getElementById(WALLETCONNECT_MODAL_ID);ee&&(ee.className=ee.className.replace("fadeIn","fadeOut"),setTimeout(function(){var te=re.getElementById(WALLETCONNECT_WRAPPER_ID);te&&re.body.removeChild(te)},ANIMATION_DURATION))}function getWrappedCallback(re){return function(){triggerCloseAnimation(),re&&re()}}function getText(){var re=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[re]||languages.en}function open$1(re,ee,te){injectStyleSheet();var ne=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:re,onClose:getWrappedCallback(ee),qrcodeModalOptions:te}),ne)}function close$1(){triggerCloseAnimation()}var isNode=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function open$2(re,ee,te){console.log(re),isNode()?open(re):open$1(re,ee,te)}function close$2(){isNode()||close$1()}var index={open:open$2,close:close$2},cjs=index,eventemitter3={exports:{}};(function(re){var ee=Object.prototype.hasOwnProperty,te="~";function ne(){}Object.create&&(ne.prototype=Object.create(null),new ne().__proto__||(te=!1));function se(xe,Ee,Ae){this.fn=xe,this.context=Ee,this.once=Ae||!1}function ie(xe,Ee,Ae,Me,Pe){if(typeof Ae!="function")throw new TypeError("The listener must be a function");var Ne=new se(Ae,Me||xe,Pe),je=te?te+Ee:Ee;return xe._events[je]?xe._events[je].fn?xe._events[je]=[xe._events[je],Ne]:xe._events[je].push(Ne):(xe._events[je]=Ne,xe._eventsCount++),xe}function fe(xe,Ee){--xe._eventsCount===0?xe._events=new ne:delete xe._events[Ee]}function ue(){this._events=new ne,this._eventsCount=0}ue.prototype.eventNames=function(){var Ee=[],Ae,Me;if(this._eventsCount===0)return Ee;for(Me in Ae=this._events)ee.call(Ae,Me)&&Ee.push(te?Me.slice(1):Me);return Object.getOwnPropertySymbols?Ee.concat(Object.getOwnPropertySymbols(Ae)):Ee},ue.prototype.listeners=function(Ee){var Ae=te?te+Ee:Ee,Me=this._events[Ae];if(!Me)return[];if(Me.fn)return[Me.fn];for(var Pe=0,Ne=Me.length,je=new Array(Ne);Pe<Ne;Pe++)je[Pe]=Me[Pe].fn;return je},ue.prototype.listenerCount=function(Ee){var Ae=te?te+Ee:Ee,Me=this._events[Ae];return Me?Me.fn?1:Me.length:0},ue.prototype.emit=function(Ee,Ae,Me,Pe,Ne,je){var Ue=te?te+Ee:Ee;if(!this._events[Ue])return!1;var Ce=this._events[Ue],Be=arguments.length,He,Oe;if(Ce.fn){switch(Ce.once&&this.removeListener(Ee,Ce.fn,void 0,!0),Be){case 1:return Ce.fn.call(Ce.context),!0;case 2:return Ce.fn.call(Ce.context,Ae),!0;case 3:return Ce.fn.call(Ce.context,Ae,Me),!0;case 4:return Ce.fn.call(Ce.context,Ae,Me,Pe),!0;case 5:return Ce.fn.call(Ce.context,Ae,Me,Pe,Ne),!0;case 6:return Ce.fn.call(Ce.context,Ae,Me,Pe,Ne,je),!0}for(Oe=1,He=new Array(Be-1);Oe<Be;Oe++)He[Oe-1]=arguments[Oe];Ce.fn.apply(Ce.context,He)}else{var Ke=Ce.length,qe;for(Oe=0;Oe<Ke;Oe++)switch(Ce[Oe].once&&this.removeListener(Ee,Ce[Oe].fn,void 0,!0),Be){case 1:Ce[Oe].fn.call(Ce[Oe].context);break;case 2:Ce[Oe].fn.call(Ce[Oe].context,Ae);break;case 3:Ce[Oe].fn.call(Ce[Oe].context,Ae,Me);break;case 4:Ce[Oe].fn.call(Ce[Oe].context,Ae,Me,Pe);break;default:if(!He)for(qe=1,He=new Array(Be-1);qe<Be;qe++)He[qe-1]=arguments[qe];Ce[Oe].fn.apply(Ce[Oe].context,He)}}return!0},ue.prototype.on=function(Ee,Ae,Me){return ie(this,Ee,Ae,Me,!1)},ue.prototype.once=function(Ee,Ae,Me){return ie(this,Ee,Ae,Me,!0)},ue.prototype.removeListener=function(Ee,Ae,Me,Pe){var Ne=te?te+Ee:Ee;if(!this._events[Ne])return this;if(!Ae)return fe(this,Ne),this;var je=this._events[Ne];if(je.fn)je.fn===Ae&&(!Pe||je.once)&&(!Me||je.context===Me)&&fe(this,Ne);else{for(var Ue=0,Ce=[],Be=je.length;Ue<Be;Ue++)(je[Ue].fn!==Ae||Pe&&!je[Ue].once||Me&&je[Ue].context!==Me)&&Ce.push(je[Ue]);Ce.length?this._events[Ne]=Ce.length===1?Ce[0]:Ce:fe(this,Ne)}return this},ue.prototype.removeAllListeners=function(Ee){var Ae;return Ee?(Ae=te?te+Ee:Ee,this._events[Ae]&&fe(this,Ae)):(this._events=new ne,this._eventsCount=0),this},ue.prototype.off=ue.prototype.removeListener,ue.prototype.addListener=ue.prototype.on,ue.prefixed=te,ue.EventEmitter=ue,re.exports=ue})(eventemitter3);var EventEmitter=eventemitter3.exports,dist$2={},xmlHttpRequest={},url$1={},punycode$1={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(re,ee){(function(te){var ne=ee&&!ee.nodeType&&ee,se=re&&!re.nodeType&&re,ie=typeof commonjsGlobal=="object"&&commonjsGlobal;(ie.global===ie||ie.window===ie||ie.self===ie)&&(te=ie);var fe,ue=2147483647,xe=36,Ee=1,Ae=26,Me=38,Pe=700,Ne=72,je=128,Ue="-",Ce=/^xn--/,Be=/[^\x20-\x7E]/,He=/[\x2E\u3002\uFF0E\uFF61]/g,Oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ke=xe-Ee,qe=Math.floor,Ve=String.fromCharCode,Xe;function rt(ve){throw RangeError(Oe[ve])}function mt(ve,he){for(var ae=ve.length,be=[];ae--;)be[ae]=he(ve[ae]);return be}function Qe(ve,he){var ae=ve.split("@"),be="";ae.length>1&&(be=ae[0]+"@",ve=ae[1]),ve=ve.replace(He,".");var ze=ve.split("."),Ie=mt(ze,he).join(".");return be+Ie}function Se(ve){for(var he=[],ae=0,be=ve.length,ze,Ie;ae<be;)ze=ve.charCodeAt(ae++),ze>=55296&&ze<=56319&&ae<be?(Ie=ve.charCodeAt(ae++),(Ie&64512)==56320?he.push(((ze&1023)<<10)+(Ie&1023)+65536):(he.push(ze),ae--)):he.push(ze);return he}function $e(ve){return mt(ve,function(he){var ae="";return he>65535&&(he-=65536,ae+=Ve(he>>>10&1023|55296),he=56320|he&1023),ae+=Ve(he),ae}).join("")}function pe(ve){return ve-48<10?ve-22:ve-65<26?ve-65:ve-97<26?ve-97:xe}function oe(ve,he){return ve+22+75*(ve<26)-((he!=0)<<5)}function ce(ve,he,ae){var be=0;for(ve=ae?qe(ve/Pe):ve>>1,ve+=qe(ve/he);ve>Ke*Ae>>1;be+=xe)ve=qe(ve/Ke);return qe(be+(Ke+1)*ve/(ve+Me))}function le(ve){var he=[],ae=ve.length,be,ze=0,Ie=je,We=Ne,ft,nt,at,Ht,dt,gt,Jt,yt,Mt;for(ft=ve.lastIndexOf(Ue),ft<0&&(ft=0),nt=0;nt<ft;++nt)ve.charCodeAt(nt)>=128&&rt("not-basic"),he.push(ve.charCodeAt(nt));for(at=ft>0?ft+1:0;at<ae;){for(Ht=ze,dt=1,gt=xe;at>=ae&&rt("invalid-input"),Jt=pe(ve.charCodeAt(at++)),(Jt>=xe||Jt>qe((ue-ze)/dt))&&rt("overflow"),ze+=Jt*dt,yt=gt<=We?Ee:gt>=We+Ae?Ae:gt-We,!(Jt<yt);gt+=xe)Mt=xe-yt,dt>qe(ue/Mt)&&rt("overflow"),dt*=Mt;be=he.length+1,We=ce(ze-Ht,be,Ht==0),qe(ze/be)>ue-Ie&&rt("overflow"),Ie+=qe(ze/be),ze%=be,he.splice(ze++,0,Ie)}return $e(he)}function ge(ve){var he,ae,be,ze,Ie,We,ft,nt,at,Ht,dt,gt=[],Jt,yt,Mt,it;for(ve=Se(ve),Jt=ve.length,he=je,ae=0,Ie=Ne,We=0;We<Jt;++We)dt=ve[We],dt<128&&gt.push(Ve(dt));for(be=ze=gt.length,ze&&gt.push(Ue);be<Jt;){for(ft=ue,We=0;We<Jt;++We)dt=ve[We],dt>=he&&dt<ft&&(ft=dt);for(yt=be+1,ft-he>qe((ue-ae)/yt)&&rt("overflow"),ae+=(ft-he)*yt,he=ft,We=0;We<Jt;++We)if(dt=ve[We],dt<he&&++ae>ue&&rt("overflow"),dt==he){for(nt=ae,at=xe;Ht=at<=Ie?Ee:at>=Ie+Ae?Ae:at-Ie,!(nt<Ht);at+=xe)it=nt-Ht,Mt=xe-Ht,gt.push(Ve(oe(Ht+it%Mt,0))),nt=qe(it/Mt);gt.push(Ve(oe(nt,0))),Ie=ce(ae,yt,be==ze),ae=0,++be}++ae,++he}return gt.join("")}function ye(ve){return Qe(ve,function(he){return Ce.test(he)?le(he.slice(4).toLowerCase()):he})}function me(ve){return Qe(ve,function(he){return Be.test(he)?"xn--"+ge(he):he})}if(fe={version:"1.3.2",ucs2:{decode:Se,encode:$e},decode:le,encode:ge,toASCII:me,toUnicode:ye},ne&&se)if(re.exports==ne)se.exports=fe;else for(Xe in fe)fe.hasOwnProperty(Xe)&&(ne[Xe]=fe[Xe]);else te.punycode=fe})(commonjsGlobal)})(punycode$1,punycode$1.exports);var util$1={isString:function(re){return typeof re=="string"},isObject:function(re){return typeof re=="object"&&re!==null},isNull:function(re){return re===null},isNullOrUndefined:function(re){return re==null}},querystring$1={};function hasOwnProperty(re,ee){return Object.prototype.hasOwnProperty.call(re,ee)}var decode$2=function(re,ee,te,ne){ee=ee||"&",te=te||"=";var se={};if(typeof re!="string"||re.length===0)return se;var ie=/\+/g;re=re.split(ee);var fe=1e3;ne&&typeof ne.maxKeys=="number"&&(fe=ne.maxKeys);var ue=re.length;fe>0&&ue>fe&&(ue=fe);for(var xe=0;xe<ue;++xe){var Ee=re[xe].replace(ie,"%20"),Ae=Ee.indexOf(te),Me,Pe,Ne,je;Ae>=0?(Me=Ee.substr(0,Ae),Pe=Ee.substr(Ae+1)):(Me=Ee,Pe=""),Ne=decodeURIComponent(Me),je=decodeURIComponent(Pe),hasOwnProperty(se,Ne)?Array.isArray(se[Ne])?se[Ne].push(je):se[Ne]=[se[Ne],je]:se[Ne]=je}return se},stringifyPrimitive=function(re){switch(typeof re){case"string":return re;case"boolean":return re?"true":"false";case"number":return isFinite(re)?re:"";default:return""}},encode$2=function(re,ee,te,ne){return ee=ee||"&",te=te||"=",re===null&&(re=void 0),typeof re=="object"?Object.keys(re).map(function(se){var ie=encodeURIComponent(stringifyPrimitive(se))+te;return Array.isArray(re[se])?re[se].map(function(fe){return ie+encodeURIComponent(stringifyPrimitive(fe))}).join(ee):ie+encodeURIComponent(stringifyPrimitive(re[se]))}).join(ee):ne?encodeURIComponent(stringifyPrimitive(ne))+te+encodeURIComponent(stringifyPrimitive(re)):""};querystring$1.decode=querystring$1.parse=decode$2,querystring$1.encode=querystring$1.stringify=encode$2;var punycode=punycode$1.exports,util=util$1;url$1.parse=urlParse,url$1.resolve=urlResolve,url$1.resolveObject=urlResolveObject,url$1.format=urlFormat,url$1.Url=Url;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=querystring$1;function urlParse(re,ee,te){if(re&&util.isObject(re)&&re instanceof Url)return re;var ne=new Url;return ne.parse(re,ee,te),ne}Url.prototype.parse=function(re,ee,te){if(!util.isString(re))throw new TypeError("Parameter 'url' must be a string, not "+typeof re);var ne=re.indexOf("?"),se=ne!==-1&&ne<re.indexOf("#")?"?":"#",ie=re.split(se),fe=/\\/g;ie[0]=ie[0].replace(fe,"/"),re=ie.join(se);var ue=re;if(ue=ue.trim(),!te&&re.split("#").length===1){var xe=simplePathPattern.exec(ue);if(xe)return this.path=ue,this.href=ue,this.pathname=xe[1],xe[2]?(this.search=xe[2],ee?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):ee&&(this.search="",this.query={}),this}var Ee=protocolPattern.exec(ue);if(Ee){Ee=Ee[0];var Ae=Ee.toLowerCase();this.protocol=Ae,ue=ue.substr(Ee.length)}if(te||Ee||ue.match(/^\/\/[^@\/]+@[^@\/]+/)){var Me=ue.substr(0,2)==="//";Me&&!(Ee&&hostlessProtocol[Ee])&&(ue=ue.substr(2),this.slashes=!0)}if(!hostlessProtocol[Ee]&&(Me||Ee&&!slashedProtocol[Ee])){for(var Pe=-1,Ne=0;Ne<hostEndingChars.length;Ne++){var je=ue.indexOf(hostEndingChars[Ne]);je!==-1&&(Pe===-1||je<Pe)&&(Pe=je)}var Ue,Ce;Pe===-1?Ce=ue.lastIndexOf("@"):Ce=ue.lastIndexOf("@",Pe),Ce!==-1&&(Ue=ue.slice(0,Ce),ue=ue.slice(Ce+1),this.auth=decodeURIComponent(Ue)),Pe=-1;for(var Ne=0;Ne<nonHostChars.length;Ne++){var je=ue.indexOf(nonHostChars[Ne]);je!==-1&&(Pe===-1||je<Pe)&&(Pe=je)}Pe===-1&&(Pe=ue.length),this.host=ue.slice(0,Pe),ue=ue.slice(Pe),this.parseHost(),this.hostname=this.hostname||"";var Be=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Be)for(var He=this.hostname.split(/\./),Ne=0,Oe=He.length;Ne<Oe;Ne++){var Ke=He[Ne];if(!!Ke&&!Ke.match(hostnamePartPattern)){for(var qe="",Ve=0,Xe=Ke.length;Ve<Xe;Ve++)Ke.charCodeAt(Ve)>127?qe+="x":qe+=Ke[Ve];if(!qe.match(hostnamePartPattern)){var rt=He.slice(0,Ne),mt=He.slice(Ne+1),Qe=Ke.match(hostnamePartStart);Qe&&(rt.push(Qe[1]),mt.unshift(Qe[2])),mt.length&&(ue="/"+mt.join(".")+ue),this.hostname=rt.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),Be||(this.hostname=punycode.toASCII(this.hostname));var Se=this.port?":"+this.port:"",$e=this.hostname||"";this.host=$e+Se,this.href+=this.host,Be&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ue[0]!=="/"&&(ue="/"+ue))}if(!unsafeProtocol[Ae])for(var Ne=0,Oe=autoEscape.length;Ne<Oe;Ne++){var pe=autoEscape[Ne];if(ue.indexOf(pe)!==-1){var oe=encodeURIComponent(pe);oe===pe&&(oe=escape(pe)),ue=ue.split(pe).join(oe)}}var ce=ue.indexOf("#");ce!==-1&&(this.hash=ue.substr(ce),ue=ue.slice(0,ce));var le=ue.indexOf("?");if(le!==-1?(this.search=ue.substr(le),this.query=ue.substr(le+1),ee&&(this.query=querystring.parse(this.query)),ue=ue.slice(0,le)):ee&&(this.search="",this.query={}),ue&&(this.pathname=ue),slashedProtocol[Ae]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Se=this.pathname||"",ge=this.search||"";this.path=Se+ge}return this.href=this.format(),this};function urlFormat(re){return util.isString(re)&&(re=urlParse(re)),re instanceof Url?re.format():Url.prototype.format.call(re)}Url.prototype.format=function(){var re=this.auth||"";re&&(re=encodeURIComponent(re),re=re.replace(/%3A/i,":"),re+="@");var ee=this.protocol||"",te=this.pathname||"",ne=this.hash||"",se=!1,ie="";this.host?se=re+this.host:this.hostname&&(se=re+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(se+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(ie=querystring.stringify(this.query));var fe=this.search||ie&&"?"+ie||"";return ee&&ee.substr(-1)!==":"&&(ee+=":"),this.slashes||(!ee||slashedProtocol[ee])&&se!==!1?(se="//"+(se||""),te&&te.charAt(0)!=="/"&&(te="/"+te)):se||(se=""),ne&&ne.charAt(0)!=="#"&&(ne="#"+ne),fe&&fe.charAt(0)!=="?"&&(fe="?"+fe),te=te.replace(/[?#]/g,function(ue){return encodeURIComponent(ue)}),fe=fe.replace("#","%23"),ee+se+te+fe+ne};function urlResolve(re,ee){return urlParse(re,!1,!0).resolve(ee)}Url.prototype.resolve=function(re){return this.resolveObject(urlParse(re,!1,!0)).format()};function urlResolveObject(re,ee){return re?urlParse(re,!1,!0).resolveObject(ee):ee}Url.prototype.resolveObject=function(re){if(util.isString(re)){var ee=new Url;ee.parse(re,!1,!0),re=ee}for(var te=new Url,ne=Object.keys(this),se=0;se<ne.length;se++){var ie=ne[se];te[ie]=this[ie]}if(te.hash=re.hash,re.href==="")return te.href=te.format(),te;if(re.slashes&&!re.protocol){for(var fe=Object.keys(re),ue=0;ue<fe.length;ue++){var xe=fe[ue];xe!=="protocol"&&(te[xe]=re[xe])}return slashedProtocol[te.protocol]&&te.hostname&&!te.pathname&&(te.path=te.pathname="/"),te.href=te.format(),te}if(re.protocol&&re.protocol!==te.protocol){if(!slashedProtocol[re.protocol]){for(var Ee=Object.keys(re),Ae=0;Ae<Ee.length;Ae++){var Me=Ee[Ae];te[Me]=re[Me]}return te.href=te.format(),te}if(te.protocol=re.protocol,!re.host&&!hostlessProtocol[re.protocol]){for(var Oe=(re.pathname||"").split("/");Oe.length&&!(re.host=Oe.shift()););re.host||(re.host=""),re.hostname||(re.hostname=""),Oe[0]!==""&&Oe.unshift(""),Oe.length<2&&Oe.unshift(""),te.pathname=Oe.join("/")}else te.pathname=re.pathname;if(te.search=re.search,te.query=re.query,te.host=re.host||"",te.auth=re.auth,te.hostname=re.hostname||re.host,te.port=re.port,te.pathname||te.search){var Pe=te.pathname||"",Ne=te.search||"";te.path=Pe+Ne}return te.slashes=te.slashes||re.slashes,te.href=te.format(),te}var je=te.pathname&&te.pathname.charAt(0)==="/",Ue=re.host||re.pathname&&re.pathname.charAt(0)==="/",Ce=Ue||je||te.host&&re.pathname,Be=Ce,He=te.pathname&&te.pathname.split("/")||[],Oe=re.pathname&&re.pathname.split("/")||[],Ke=te.protocol&&!slashedProtocol[te.protocol];if(Ke&&(te.hostname="",te.port=null,te.host&&(He[0]===""?He[0]=te.host:He.unshift(te.host)),te.host="",re.protocol&&(re.hostname=null,re.port=null,re.host&&(Oe[0]===""?Oe[0]=re.host:Oe.unshift(re.host)),re.host=null),Ce=Ce&&(Oe[0]===""||He[0]==="")),Ue)te.host=re.host||re.host===""?re.host:te.host,te.hostname=re.hostname||re.hostname===""?re.hostname:te.hostname,te.search=re.search,te.query=re.query,He=Oe;else if(Oe.length)He||(He=[]),He.pop(),He=He.concat(Oe),te.search=re.search,te.query=re.query;else if(!util.isNullOrUndefined(re.search)){if(Ke){te.hostname=te.host=He.shift();var qe=te.host&&te.host.indexOf("@")>0?te.host.split("@"):!1;qe&&(te.auth=qe.shift(),te.host=te.hostname=qe.shift())}return te.search=re.search,te.query=re.query,(!util.isNull(te.pathname)||!util.isNull(te.search))&&(te.path=(te.pathname?te.pathname:"")+(te.search?te.search:"")),te.href=te.format(),te}if(!He.length)return te.pathname=null,te.search?te.path="/"+te.search:te.path=null,te.href=te.format(),te;for(var Ve=He.slice(-1)[0],Xe=(te.host||re.host||He.length>1)&&(Ve==="."||Ve==="..")||Ve==="",rt=0,mt=He.length;mt>=0;mt--)Ve=He[mt],Ve==="."?He.splice(mt,1):Ve===".."?(He.splice(mt,1),rt++):rt&&(He.splice(mt,1),rt--);if(!Ce&&!Be)for(;rt--;rt)He.unshift("..");Ce&&He[0]!==""&&(!He[0]||He[0].charAt(0)!=="/")&&He.unshift(""),Xe&&He.join("/").substr(-1)!=="/"&&He.push("");var Qe=He[0]===""||He[0]&&He[0].charAt(0)==="/";if(Ke){te.hostname=te.host=Qe?"":He.length?He.shift():"";var qe=te.host&&te.host.indexOf("@")>0?te.host.split("@"):!1;qe&&(te.auth=qe.shift(),te.host=te.hostname=qe.shift())}return Ce=Ce||te.host&&He.length,Ce&&!Qe&&He.unshift(""),He.length?te.pathname=He.join("/"):(te.pathname=null,te.path=null),(!util.isNull(te.pathname)||!util.isNull(te.search))&&(te.path=(te.pathname?te.pathname:"")+(te.search?te.search:"")),te.auth=re.auth||te.auth,te.slashes=te.slashes||re.slashes,te.href=te.format(),te},Url.prototype.parseHost=function(){var re=this.host,ee=portPattern.exec(re);ee&&(ee=ee[0],ee!==":"&&(this.port=ee.substr(1)),re=re.substr(0,re.length-ee.length)),re&&(this.hostname=re)};var progressEvent={};Object.defineProperty(progressEvent,"__esModule",{value:!0});var ProgressEvent=function(){function re(ee){this.type=ee,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return re}();progressEvent.ProgressEvent=ProgressEvent;var errors$1={},__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,te){ee.__proto__=te}||function(ee,te){for(var ne in te)te.hasOwnProperty(ne)&&(ee[ne]=te[ne])};return function(ee,te){re(ee,te);function ne(){this.constructor=ee}ee.prototype=te===null?Object.create(te):(ne.prototype=te.prototype,new ne)}}();Object.defineProperty(errors$1,"__esModule",{value:!0});var SecurityError=function(re){__extends$2(ee,re);function ee(){return re!==null&&re.apply(this,arguments)||this}return ee}(Error);errors$1.SecurityError=SecurityError;var InvalidStateError=function(re){__extends$2(ee,re);function ee(){return re!==null&&re.apply(this,arguments)||this}return ee}(Error);errors$1.InvalidStateError=InvalidStateError;var NetworkError=function(re){__extends$2(ee,re);function ee(){return re!==null&&re.apply(this,arguments)||this}return ee}(Error);errors$1.NetworkError=NetworkError;var SyntaxError=function(re){__extends$2(ee,re);function ee(){return re!==null&&re.apply(this,arguments)||this}return ee}(Error);errors$1.SyntaxError=SyntaxError;var xmlHttpRequestEventTarget={};Object.defineProperty(xmlHttpRequestEventTarget,"__esModule",{value:!0});var XMLHttpRequestEventTarget=function(){function re(){this.listeners={}}return re.prototype.addEventListener=function(ee,te){ee=ee.toLowerCase(),this.listeners[ee]=this.listeners[ee]||[],this.listeners[ee].push(te.handleEvent||te)},re.prototype.removeEventListener=function(ee,te){if(ee=ee.toLowerCase(),!!this.listeners[ee]){var ne=this.listeners[ee].indexOf(te.handleEvent||te);ne<0||this.listeners[ee].splice(ne,1)}},re.prototype.dispatchEvent=function(ee){var te=ee.type.toLowerCase();if(ee.target=this,this.listeners[te])for(var ne=0,se=this.listeners[te];ne<se.length;ne++){var ie=se[ne];ie.call(this,ee)}var fe=this["on"+te];return fe&&fe.call(this,ee),!0},re}();xmlHttpRequestEventTarget.XMLHttpRequestEventTarget=XMLHttpRequestEventTarget;var xmlHttpRequestUpload={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,te){ee.__proto__=te}||function(ee,te){for(var ne in te)te.hasOwnProperty(ne)&&(ee[ne]=te[ne])};return function(ee,te){re(ee,te);function ne(){this.constructor=ee}ee.prototype=te===null?Object.create(te):(ne.prototype=te.prototype,new ne)}}();Object.defineProperty(xmlHttpRequestUpload,"__esModule",{value:!0});var xml_http_request_event_target_1$1=xmlHttpRequestEventTarget,XMLHttpRequestUpload=function(re){__extends$1(ee,re);function ee(){var te=re.call(this)||this;return te._contentType=null,te._body=null,te._reset(),te}return ee.prototype._reset=function(){this._contentType=null,this._body=null},ee.prototype._setData=function(te){if(te!=null)if(typeof te=="string")te.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(te,"utf-8");else if(Buffer.isBuffer(te))this._body=te;else if(te instanceof ArrayBuffer){for(var ne=new Buffer(te.byteLength),se=new Uint8Array(te),ie=0;ie<te.byteLength;ie++)ne[ie]=se[ie];this._body=ne}else if(te.buffer&&te.buffer instanceof ArrayBuffer){for(var ne=new Buffer(te.byteLength),fe=te.byteOffset,se=new Uint8Array(te.buffer),ie=0;ie<te.byteLength;ie++)ne[ie]=se[ie+fe];this._body=ne}else throw new Error("Unsupported send() data "+te)},ee.prototype._finalizeHeaders=function(te,ne){this._contentType&&!ne["content-type"]&&(te["Content-Type"]=this._contentType),this._body&&(te["Content-Length"]=this._body.length.toString())},ee.prototype._startUpload=function(te){this._body&&te.write(this._body),te.end()},ee}(xml_http_request_event_target_1$1.XMLHttpRequestEventTarget);xmlHttpRequestUpload.XMLHttpRequestUpload=XMLHttpRequestUpload;var cookiejar={};(function(){function re(se,ie,fe,ue){return this instanceof re?(this.domain=se||void 0,this.path=ie||"/",this.secure=!!fe,this.script=!!ue,this):new re(se,ie,fe,ue)}re.All=Object.freeze(Object.create(null)),cookiejar.CookieAccessInfo=re;function ee(se,ie,fe){return se instanceof ee?se:this instanceof ee?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(fe||"/"),this.explicit_path=!1,this.domain=ie||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,se&&this.parse(se,ie,fe),this):new ee(se,ie,fe)}cookiejar.Cookie=ee,ee.prototype.toString=function(){var ie=[this.name+"="+this.value];return this.expiration_date!==1/0&&ie.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&ie.push("domain="+this.domain),this.path&&ie.push("path="+this.path),this.secure&&ie.push("secure"),this.noscript&&ie.push("httponly"),ie.join("; ")},ee.prototype.toValueString=function(){return this.name+"="+this.value};var te=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;ee.prototype.parse=function(ie,fe,ue){if(this instanceof ee){var xe=ie.split(";").filter(function(Ne){return!!Ne}),Ee,Ae=xe[0].match(/([^=]+)=([\s\S]*)/);if(!Ae){console.warn("Invalid cookie header encountered. Header: '"+ie+"'");return}var Me=Ae[1],Pe=Ae[2];if(typeof Me!="string"||Me.length===0||typeof Pe!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+ie+"'");return}for(this.name=Me,this.value=Pe,Ee=1;Ee<xe.length;Ee+=1)switch(Ae=xe[Ee].match(/([^=]+)(?:=([\s\S]*))?/),Me=Ae[1].trim().toLowerCase(),Pe=Ae[2],Me){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=Pe?Number(Date.parse(Pe)):1/0;break;case"path":this.path=Pe?Pe.trim():"",this.explicit_path=!0;break;case"domain":this.domain=Pe?Pe.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=ue||"/"),this.explicit_domain||(this.domain=fe),this}return new ee().parse(ie,fe,ue)},ee.prototype.matches=function(ie){return ie===re.All?!0:!(this.noscript&&ie.script||this.secure&&!ie.secure||!this.collidesWith(ie))},ee.prototype.collidesWith=function(ie){if(this.path&&!ie.path||this.domain&&!ie.domain||this.path&&ie.path.indexOf(this.path)!==0||this.explicit_path&&ie.path.indexOf(this.path)!==0)return!1;var fe=ie.domain&&ie.domain.replace(/^[\.]/,""),ue=this.domain&&this.domain.replace(/^[\.]/,"");if(ue===fe)return!0;if(ue){if(!this.explicit_domain)return!1;var xe=fe.indexOf(ue);return!(xe===-1||xe!==fe.length-ue.length)}return!0};function ne(){var se,ie,fe;return this instanceof ne?(se=Object.create(null),this.setCookie=function(xe,Ee,Ae){var Me,Pe;if(xe=new ee(xe,Ee,Ae),Me=xe.expiration_date<=Date.now(),se[xe.name]!==void 0){for(ie=se[xe.name],Pe=0;Pe<ie.length;Pe+=1)if(fe=ie[Pe],fe.collidesWith(xe))return Me?(ie.splice(Pe,1),ie.length===0&&delete se[xe.name],!1):(ie[Pe]=xe,xe);return Me?!1:(ie.push(xe),xe)}return Me?!1:(se[xe.name]=[xe],se[xe.name])},this.getCookie=function(xe,Ee){var Ae,Me;if(ie=se[xe],!!ie)for(Me=0;Me<ie.length;Me+=1){if(Ae=ie[Me],Ae.expiration_date<=Date.now()){ie.length===0&&delete se[Ae.name];continue}if(Ae.matches(Ee))return Ae}},this.getCookies=function(xe){var Ee=[],Ae,Me;for(Ae in se)Me=this.getCookie(Ae,xe),Me&&Ee.push(Me);return Ee.toString=function(){return Ee.join(":")},Ee.toValueString=function(){return Ee.map(function(Ne){return Ne.toValueString()}).join("; ")},Ee},this):new ne}cookiejar.CookieJar=ne,ne.prototype.setCookies=function(ie,fe,ue){ie=Array.isArray(ie)?ie:ie.split(te);var xe=[],Ee,Ae;for(ie=ie.map(function(Me){return new ee(Me,fe,ue)}),Ee=0;Ee<ie.length;Ee+=1)Ae=ie[Ee],this.setCookie(Ae,fe,ue)&&xe.push(Ae);return xe}})();var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,te){ee.__proto__=te}||function(ee,te){for(var ne in te)te.hasOwnProperty(ne)&&(ee[ne]=te[ne])};return function(ee,te){re(ee,te);function ne(){this.constructor=ee}ee.prototype=te===null?Object.create(te):(ne.prototype=te.prototype,new ne)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||Object.assign||function(re){for(var ee,te=1,ne=arguments.length;te<ne;te++){ee=arguments[te];for(var se in ee)Object.prototype.hasOwnProperty.call(ee,se)&&(re[se]=ee[se])}return re};Object.defineProperty(xmlHttpRequest,"__esModule",{value:!0});var http=require$$0$5,https=require$$1$3,os=require$$2$3,url=url$1,progress_event_1=progressEvent,errors_1=errors$1,xml_http_request_event_target_1=xmlHttpRequestEventTarget,xml_http_request_upload_1=xmlHttpRequestUpload,Cookie=cookiejar,XMLHttpRequest=function(re){__extends(ee,re);function ee(te){te===void 0&&(te={});var ne=re.call(this)||this;return ne.UNSENT=ee.UNSENT,ne.OPENED=ee.OPENED,ne.HEADERS_RECEIVED=ee.HEADERS_RECEIVED,ne.LOADING=ee.LOADING,ne.DONE=ee.DONE,ne.onreadystatechange=null,ne.readyState=ee.UNSENT,ne.response=null,ne.responseText="",ne.responseType="",ne.status=0,ne.statusText="",ne.timeout=0,ne.upload=new xml_http_request_upload_1.XMLHttpRequestUpload,ne.responseUrl="",ne.withCredentials=!1,ne._method=null,ne._url=null,ne._sync=!1,ne._headers={},ne._loweredHeaders={},ne._mimeOverride=null,ne._request=null,ne._response=null,ne._responseParts=null,ne._responseHeaders=null,ne._aborting=null,ne._error=null,ne._loadedBytes=0,ne._totalBytes=0,ne._lengthComputable=!1,ne._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},ne._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},ne._privateHeaders={"set-cookie":!0,"set-cookie2":!0},ne._userAgent="Mozilla/5.0 ("+os.type()+" "+os.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,ne._anonymous=te.anon||!1,ne}return ee.prototype.open=function(te,ne,se,ie,fe){if(se===void 0&&(se=!0),te=te.toUpperCase(),this._restrictedMethods[te])throw new ee.SecurityError("HTTP method "+te+" is not allowed in XHR");var ue=this._parseUrl(ne,ie,fe);this.readyState===ee.HEADERS_RECEIVED||(this.readyState,ee.LOADING),this._method=te,this._url=ue,this._sync=!se,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(ee.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},ee.prototype.setRequestHeader=function(te,ne){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");var se=te.toLowerCase();if(this._restrictedHeaders[se]||/^sec-/.test(se)||/^proxy-/.test(se)){console.warn('Refused to set unsafe header "'+te+'"');return}ne=ne.toString(),this._loweredHeaders[se]!=null?(te=this._loweredHeaders[se],this._headers[te]=this._headers[te]+", "+ne):(this._loweredHeaders[se]=te,this._headers[te]=ne)},ee.prototype.send=function(te){if(this.readyState!==ee.OPENED)throw new ee.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new ee.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(te);case"http:":case"https:":return this._sendHttp(te);default:throw new ee.NetworkError("Unsupported protocol "+this._url.protocol)}},ee.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},ee.prototype.getResponseHeader=function(te){if(this._responseHeaders==null||te==null)return null;var ne=te.toLowerCase();return this._responseHeaders.hasOwnProperty(ne)?this._responseHeaders[te.toLowerCase()]:null},ee.prototype.getAllResponseHeaders=function(){var te=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(ne){return ne+": "+te._responseHeaders[ne]}).join(`\r
`)},ee.prototype.overrideMimeType=function(te){if(this.readyState===ee.LOADING||this.readyState===ee.DONE)throw new ee.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=te.toLowerCase()},ee.prototype.nodejsSet=function(te){if(this.nodejsHttpAgent=te.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=te.httpsAgent||this.nodejsHttpsAgent,te.hasOwnProperty("baseUrl")){if(te.baseUrl!=null){var ne=url.parse(te.baseUrl,!1,!0);if(!ne.protocol)throw new ee.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=te.baseUrl}},ee.nodejsSet=function(te){ee.prototype.nodejsSet(te)},ee.prototype._setReadyState=function(te){this.readyState=te,this.dispatchEvent(new progress_event_1.ProgressEvent("readystatechange"))},ee.prototype._sendFile=function(te){throw new Error("Protocol file: not implemented")},ee.prototype._sendHttp=function(te){if(this._sync)throw new Error("Synchronous XHR processing not implemented");te&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),te=null):te=te||"",this.upload._setData(te),this._finalizeHeaders(),this._sendHxxpRequest()},ee.prototype._sendHxxpRequest=function(){var te=this;if(this.withCredentials){var ne=ee.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=ne}var se=this._url.protocol==="http:"?[http,this.nodejsHttpAgent]:[https,this.nodejsHttpsAgent],ie=se[0],fe=se[1],ue=ie.request.bind(ie),xe=ue({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:fe});this._request=xe,this.timeout&&xe.setTimeout(this.timeout,function(){return te._onHttpTimeout(xe)}),xe.on("response",function(Ee){return te._onHttpResponse(xe,Ee)}),xe.on("error",function(Ee){return te._onHttpRequestError(xe,Ee)}),this.upload._startUpload(xe),this._request===xe&&this._dispatchProgress("loadstart")},ee.prototype._finalizeHeaders=function(){this._headers=__assign({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},ee.prototype._onHttpResponse=function(te,ne){var se=this;if(this._request===te){if(this.withCredentials&&(ne.headers["set-cookie"]||ne.headers["set-cookie2"])&&ee.cookieJar.setCookies(ne.headers["set-cookie"]||ne.headers["set-cookie2"]),[301,302,303,307,308].indexOf(ne.statusCode)>=0){this._url=this._parseUrl(ne.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=ne,this._response.on("data",function(fe){return se._onHttpResponseData(ne,fe)}),this._response.on("end",function(){return se._onHttpResponseEnd(ne)}),this._response.on("close",function(){return se._onHttpResponseClose(ne)}),this.responseUrl=this._url.href.split("#")[0],this.status=ne.statusCode,this.statusText=http.STATUS_CODES[this.status],this._parseResponseHeaders(ne);var ie=this._responseHeaders["content-length"]||"";this._totalBytes=+ie,this._lengthComputable=!!ie,this._setReadyState(ee.HEADERS_RECEIVED)}},ee.prototype._onHttpResponseData=function(te,ne){this._response===te&&(this._responseParts.push(new Buffer(ne)),this._loadedBytes+=ne.length,this.readyState!==ee.LOADING&&this._setReadyState(ee.LOADING),this._dispatchProgress("progress"))},ee.prototype._onHttpResponseEnd=function(te){this._response===te&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(ee.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},ee.prototype._onHttpResponseClose=function(te){if(this._response===te){var ne=this._request;this._setError(),ne.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},ee.prototype._onHttpTimeout=function(te){this._request===te&&(this._setError(),te.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},ee.prototype._onHttpRequestError=function(te,ne){this._request===te&&(this._setError(),te.abort(),this._setReadyState(ee.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},ee.prototype._dispatchProgress=function(te){var ne=new ee.ProgressEvent(te);ne.lengthComputable=this._lengthComputable,ne.loaded=this._loadedBytes,ne.total=this._totalBytes,this.dispatchEvent(ne)},ee.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},ee.prototype._parseUrl=function(te,ne,se){var ie=this.nodejsBaseUrl==null?te:url.resolve(this.nodejsBaseUrl,te),fe=url.parse(ie,!1,!0);fe.hash=null;var ue=(fe.auth||"").split(":"),xe=ue[0],Ee=ue[1];return(xe||Ee||ne||se)&&(fe.auth=(ne||xe||"")+":"+(se||Ee||"")),fe},ee.prototype._parseResponseHeaders=function(te){this._responseHeaders={};for(var ne in te.headers){var se=ne.toLowerCase();this._privateHeaders[se]||(this._responseHeaders[se]=te.headers[ne])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},ee.prototype._parseResponse=function(){var te=Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(te.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=te;return;case"arraybuffer":this.responseText=null;for(var ne=new ArrayBuffer(te.length),se=new Uint8Array(ne),ie=0;ie<te.length;ie++)se[ie]=te[ie];this.response=ne;return;case"text":default:try{this.responseText=te.toString(this._parseResponseEncoding())}catch{this.responseText=te.toString("binary")}this.response=this.responseText}},ee.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},ee.ProgressEvent=progress_event_1.ProgressEvent,ee.InvalidStateError=errors_1.InvalidStateError,ee.NetworkError=errors_1.NetworkError,ee.SecurityError=errors_1.SecurityError,ee.SyntaxError=errors_1.SyntaxError,ee.XMLHttpRequestUpload=xml_http_request_upload_1.XMLHttpRequestUpload,ee.UNSENT=0,ee.OPENED=1,ee.HEADERS_RECEIVED=2,ee.LOADING=3,ee.DONE=4,ee.cookieJar=Cookie.CookieJar(),ee}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);xmlHttpRequest.XMLHttpRequest=XMLHttpRequest,XMLHttpRequest.prototype.nodejsHttpAgent=http.globalAgent,XMLHttpRequest.prototype.nodejsHttpsAgent=https.globalAgent,XMLHttpRequest.prototype.nodejsBaseUrl=null,function(re){function ee(ne){for(var se in ne)re.hasOwnProperty(se)||(re[se]=ne[se])}Object.defineProperty(re,"__esModule",{value:!0}),ee(xmlHttpRequest);var te=xmlHttpRequestEventTarget;re.XMLHttpRequestEventTarget=te.XMLHttpRequestEventTarget}(dist$2);const XHR=getFromWindow("XMLHttpRequest")||dist$2.XMLHttpRequest;class HTTPConnection extends EventEmitter{constructor(ee){super(),this.url=ee}formatError(ee,te,ne=-1){return{error:{message:te,code:ne},id:ee.id,jsonrpc:ee.jsonrpc}}send(ee,te){return new Promise(ne=>{if(ee.method==="eth_subscribe"){const ue=this.formatError(ee,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",ue),ne(ue)}const se=new XHR;let ie=!1;const fe=(ue,xe)=>{if(!ie)if(se.abort(),ie=!0,te)te(ue,xe);else{const{id:Ee,jsonrpc:Ae}=ee,Me=ue?{id:Ee,jsonrpc:Ae,error:{message:ue.message,code:ue.code}}:{id:Ee,jsonrpc:Ae,result:xe};this.emit("payload",Me),ne(Me)}};se.open("POST",this.url,!0),se.setRequestHeader("Content-Type","application/json"),se.timeout=60*1e3,se.onerror=fe,se.ontimeout=fe,se.onreadystatechange=()=>{if(se.readyState===4)try{const ue=JSON.parse(se.responseText);fe(ue.error,ue.result)}catch(ue){fe(ue)}},se.send(JSON.stringify(ee))})}}const ProviderEngine=require("web3-provider-engine"),CacheSubprovider=require("web3-provider-engine/subproviders/cache"),FixtureSubprovider=require("web3-provider-engine/subproviders/fixture"),FilterSubprovider=require("web3-provider-engine/subproviders/filters"),HookedWalletSubprovider=require("web3-provider-engine/subproviders/hooked-wallet"),NonceSubprovider=require("web3-provider-engine/subproviders/nonce-tracker"),SubscriptionsSubprovider=require("web3-provider-engine/subproviders/subscriptions");class WalletConnectProvider extends ProviderEngine{constructor(ee){if(super({pollingInterval:ee.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=cjs,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const te=await this.getWalletConnector();if(te)return this.start(),this.subscribeWalletConnector(),te.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async te=>this.send(te),this.send=async(te,ne)=>{var se;if(typeof te=="string"){const ie=te;let fe=ne;return ie==="personal_sign"&&(fe=parsePersonalSign(fe)),this.sendAsyncPromise(ie,fe)}if(te=Object.assign({id:payloadId(),jsonrpc:"2.0"},te),te.method==="personal_sign"&&(te.params=parsePersonalSign(te.params)),ne){this.sendAsync(te,ne);return}if(te.method==="eth_signTypedData_v4"&&((se=this.walletMeta)===null||se===void 0?void 0:se.name)==="MetaMask"){const{result:ie}=await this.handleOtherRequests(te);return ie}else return this.sendAsyncPromise(te.method,te.params)},this.onConnect=te=>{this.connectCallbacks.push(te)},this.triggerConnect=te=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(ne=>ne(te))},this.bridge=ee.connector?ee.connector.bridge:ee.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof ee.qrcode>"u"||ee.qrcode!==!1,this.qrcodeModal=ee.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=ee.qrcodeModalOptions,this.wc=ee.connector||new WalletConnect$1({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:ee?.storageId,signingMethods:ee?.signingMethods,clientMeta:ee?.clientMeta}),this.rpc=ee.rpc||null,!this.rpc&&(!ee.infuraId||typeof ee.infuraId!="string"||!ee.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=ee.infuraId||"",this.chainId=ee?.chainId||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(ee){try{let te,ne=null;const se=await this.getWalletConnector();switch(ee.method){case"wc_killSession":await this.close(),ne=null;break;case"eth_accounts":ne=se.accounts;break;case"eth_coinbase":ne=se.accounts[0];break;case"eth_chainId":ne=se.chainId;break;case"net_version":ne=se.chainId;break;case"eth_uninstallFilter":this.sendAsync(ee,ie=>ie),ne=!0;break;default:te=await this.handleOtherRequests(ee)}return te||this.formatResponse(ee,ne)}catch(te){throw this.emit("error",te),te}}async handleOtherRequests(ee){if(!signingMethods.includes(ee.method)&&ee.method.startsWith("eth_"))return this.handleReadRequests(ee);const ne=await(await this.getWalletConnector()).sendCustomRequest(ee);return this.formatResponse(ee,ne)}async handleReadRequests(ee){if(!this.http){const te=new Error("HTTP Connection not available");throw this.emit("error",te),te}return this.http.send(ee)}formatResponse(ee,te){return{id:ee.id,jsonrpc:ee.jsonrpc,result:te}}getWalletConnector(ee={}){const{disableSessionCreation:te=!1}=ee;return new Promise((ne,se)=>{const ie=this.wc;this.isConnecting?this.onConnect(fe=>ne(fe)):!ie.connected&&!te?(this.isConnecting=!0,ie.on("modal_closed",()=>{se(new Error("User closed modal"))}),ie.createSession({chainId:this.chainId}).then(()=>{ie.on("connect",(fe,ue)=>{if(fe)return this.isConnecting=!1,se(fe);this.isConnecting=!1,this.connected=!0,ue&&this.updateState(ue.params[0]),this.emit("connect"),this.triggerConnect(ie),ne(ie)})}).catch(fe=>{this.isConnecting=!1,se(fe)})):(this.connected||(this.connected=!0,this.updateState(ie.session)),ne(ie))})}async subscribeWalletConnector(){const ee=await this.getWalletConnector();ee.on("disconnect",te=>{if(te){this.emit("error",te);return}this.onDisconnect()}),ee.on("session_update",(te,ne)=>{if(te){this.emit("error",te);return}this.updateState(ne.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(ee){const{accounts:te,chainId:ne,networkId:se,rpcUrl:ie}=ee;(!this.accounts||te&&this.accounts!==te)&&(this.accounts=te,this.emit("accountsChanged",te)),(!this.chainId||ne&&this.chainId!==ne)&&(this.chainId=ne,this.emit("chainChanged",ne)),(!this.networkId||se&&this.networkId!==se)&&(this.networkId=se,this.emit("networkChanged",se)),this.updateRpcUrl(this.chainId,ie||"")}updateRpcUrl(ee,te=""){const ne={infuraId:this.infuraId,custom:this.rpc||void 0};te=te||getRpcUrl(ee,ne),te?(this.rpcUrl=te,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${ee}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new HTTPConnection(this.rpcUrl),this.http.on("payload",ee=>this.emit("payload",ee)),this.http.on("error",ee=>this.emit("error",ee)))}sendAsyncPromise(ee,te){return new Promise((ne,se)=>{this.sendAsync({id:payloadId(),jsonrpc:"2.0",method:ee,params:te||[]},(ie,fe)=>{if(ie){se(ie);return}ne(fe.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new FixtureSubprovider({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new CacheSubprovider),this.addProvider(new SubscriptionsSubprovider),this.addProvider(new FilterSubprovider),this.addProvider(new NonceSubprovider),this.addProvider(new HookedWalletSubprovider(this.configWallet())),this.addProvider({handleRequest:async(ee,te,ne)=>{try{const{error:se,result:ie}=await this.handleRequest(ee);ne(se,ie)}catch(se){ne(se)}},setEngine:ee=>ee})}configWallet(){return{getAccounts:async ee=>{try{const ne=(await this.getWalletConnector()).accounts;ne&&ne.length?ee(null,ne):ee(new Error("Failed to get accounts"))}catch(te){ee(te)}},processMessage:async(ee,te)=>{try{const se=await(await this.getWalletConnector()).signMessage([ee.from,ee.data]);te(null,se)}catch(ne){te(ne)}},processPersonalMessage:async(ee,te)=>{try{const se=await(await this.getWalletConnector()).signPersonalMessage([ee.data,ee.from]);te(null,se)}catch(ne){te(ne)}},processSignTransaction:async(ee,te)=>{try{const se=await(await this.getWalletConnector()).signTransaction(ee);te(null,se)}catch(ne){te(ne)}},processTransaction:async(ee,te)=>{try{const se=await(await this.getWalletConnector()).sendTransaction(ee);te(null,se)}catch(ne){te(ne)}},processTypedMessage:async(ee,te)=>{try{const se=await(await this.getWalletConnector()).signTypedData([ee.from,ee.data]);te(null,se)}catch(ne){te(ne)}}}}}class WalletConnectConnector extends BaseConnector{constructor({logger:ee,chains:te}){super(ee,ConnectorNames.WalletConnect,te),this._rpc={},te.forEach(ne=>this._rpc[ne.chainId]=ne.rpcUrl),this._walletConnect=new WalletConnectProvider({rpc:this._rpc}),this.initListeners(this._walletConnect)}async disconnect(){super.removeListeners_(this._walletConnect),await this._walletConnect.disconnect()}get canSwitchChain(){return!1}switchChain(ee){throw new Error("Method not implemented.")}getRawProvider(){return Promise.resolve(this._walletConnect)}get isConnected(){const ee=!!localStorage.getItem("walletconnect")&&this._walletConnect.isWalletConnect;return Promise.resolve(ee)}get isInstalled(){return!0}get installUrl(){return""}async connect(ee){try{await this._walletConnect.enable()}catch{return this._walletConnect=new WalletConnectProvider({rpc:this._rpc}),!1}return!0}}var dist$1={},face={},dist={},auth$1={};Object.defineProperty(auth$1,"__esModule",{value:!0});var blockchain={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.getPlatFormCoinDecimalByBlockchain=re.isEthlikeBlockchain=re.networkToBlockchain=re.Blockchain=re.NetworkChainIdMap=re.isSupportedNetwork=re.Network=void 0;var ee;(function(xe){xe.ETHEREUM="ethereum",xe.ROPSTEN="ropsten",xe.GOERLI="goerli",xe.POLYGON="polygon",xe.MUMBAI="mumbai",xe.BNB_SMART_CHAIN="bnb_smart_chain",xe.BNB_SMART_CHAIN_TESTNET="bnb_smart_chain_testnet",xe.KLAYTN="klaytn",xe.BAOBAB="baobab",xe.SOLANA="solana",xe.SOLANA_DEVNET="solana_devnet",xe.NEAR="near",xe.NEAR_TESTNET="near_testnet",xe.BORA="bora",xe.BORA_TESTNET="bora_testnet",xe.ETH_MAINNET="ethereum",xe.ETH_TESTNET="ropsten",xe.MATIC_MAINNET="polygon",xe.MATIC_TESTNET="mumbai",xe.BINANCE_COIN_MAINNET="bnb_smart_chain",xe.BINANCE_COIN_TESTNET="bnb_smart_chain_testnet",xe.KLAYTN_MAINNET="klaytn",xe.KLAYTN_TESTNET="baobab"})(ee=re.Network||(re.Network={}));const te=xe=>{switch(xe){case ee.ETHEREUM:case ee.GOERLI:case ee.POLYGON:case ee.MUMBAI:case ee.BNB_SMART_CHAIN:case ee.BNB_SMART_CHAIN_TESTNET:case ee.KLAYTN:case ee.BAOBAB:case ee.SOLANA:case ee.SOLANA_DEVNET:case ee.NEAR:case ee.NEAR_TESTNET:case ee.BORA:case ee.BORA_TESTNET:return!0;default:return!1}};re.isSupportedNetwork=te,re.NetworkChainIdMap={[ee.ETHEREUM]:1,[ee.ROPSTEN]:3,[ee.GOERLI]:5,[ee.POLYGON]:137,[ee.MUMBAI]:80001,[ee.BNB_SMART_CHAIN]:56,[ee.BNB_SMART_CHAIN_TESTNET]:97,[ee.KLAYTN]:8217,[ee.BAOBAB]:1001,[ee.SOLANA]:0,[ee.SOLANA_DEVNET]:0,[ee.NEAR]:0,[ee.NEAR_TESTNET]:0,[ee.BORA]:77001,[ee.BORA_TESTNET]:99001,1:ee.ETHEREUM,3:ee.ROPSTEN,5:ee.GOERLI,137:ee.POLYGON,80001:ee.MUMBAI,56:ee.BNB_SMART_CHAIN,97:ee.BNB_SMART_CHAIN_TESTNET,8217:ee.KLAYTN,1001:ee.BAOBAB,77001:ee.BORA,99001:ee.BORA_TESTNET};var ne;(function(xe){xe.ETHEREUM="ETHEREUM",xe.POLYGON="POLYGON",xe.BNB_SMART_CHAIN="BNB_SMART_CHAIN",xe.KLAYTN="KLAYTN",xe.SOLANA="SOLANA",xe.NEAR="NEAR",xe.BORA="BORA"})(ne=re.Blockchain||(re.Blockchain={}));const se=[ne.ETHEREUM,ne.POLYGON,ne.BNB_SMART_CHAIN,ne.KLAYTN,ne.BORA];function ie(xe){switch(xe){case ee.ETHEREUM:case ee.ROPSTEN:case ee.GOERLI:return ne.ETHEREUM;case ee.POLYGON:case ee.MUMBAI:return ne.POLYGON;case ee.BNB_SMART_CHAIN:case ee.BNB_SMART_CHAIN_TESTNET:return ne.BNB_SMART_CHAIN;case ee.KLAYTN:case ee.BAOBAB:return ne.KLAYTN;case ee.SOLANA:case ee.SOLANA_DEVNET:return ne.SOLANA;case ee.BORA:case ee.BORA_TESTNET:return ne.BORA;case ee.NEAR:case ee.NEAR_TESTNET:return ne.NEAR}throw new Error(`Unsupported network: ${xe}`)}re.networkToBlockchain=ie;function fe(xe){return se.indexOf(xe)!==-1}re.isEthlikeBlockchain=fe;const ue=xe=>{switch(xe){case ne.ETHEREUM:case ne.POLYGON:case ne.KLAYTN:case ne.BNB_SMART_CHAIN:case ne.BORA:return 18;case ne.SOLANA:return 9;case ne.NEAR:return 24;default:throw new Error("unsupported blockchain")}};re.getPlatFormCoinDecimalByBlockchain=ue})(blockchain);var crypto$4={};Object.defineProperty(crypto$4,"__esModule",{value:!0}),crypto$4.CryptoBuffer=void 0;const ethers_1$1=require$$1$4;class CryptoBuffer{constructor(ee,te){CryptoBuffer.ensureHexString(ee),CryptoBuffer.checkLength(ee,te),this.hex=ee,this.length=te}static empty(){return new CryptoBuffer("",0)}static fromUint8Array(ee){return new CryptoBuffer(uint8ArrayToHex(ee),ee.length)}static fromHex(ee,te){return new CryptoBuffer(ee,te)}static ensureHexString(ee){try{if(ee==="")return;if(ee==null)throw new Error(`hex is null ${ee}`);if(!ee.startsWith("0x"))throw new Error(`hex does not start with 0x ${ee}`);if(ee.match("0x[0-9a-fA-F]+")==null)throw new Error(`invalid hex data ${ee}`)}catch(te){throw te}}static checkLength(ee,te){if(ee.length===0)return;if((ee.length-2)*4/8>te)throw new Error(`length is less than hex data ${ee}, ${te}`)}toString(){return this.hex}toHex(){return this.hex}toBigNumber(){return ethers_1$1.BigNumber.from(this.hex)}toJSON(){return JSON.stringify({hex:this.hex,length:this.length})}static fromJSON(ee){const{hex:te,length:ne}=JSON.parse(ee);return new CryptoBuffer(te,ne)}static fromBigNumber(ee,te){return CryptoBuffer.fromHex(ee.toHexString(),te)}toUInt8Array(){const ee=this.hex.substring(2),te=[];for(let ne=0;ne<ee.length;ne+=2)te.push(parseInt(ee.substring(ne,ne+2),16));return new Uint8Array(te)}static concat(ee,te){try{const ne=ee.toUInt8Array(),se=te.toUInt8Array(),ie=new Uint8Array(ne.length+se.length);ie.set(ne),ie.set(se,ne.length);const fe=uint8ArrayToHex(ie);return new CryptoBuffer(fe,ne.length+se.length)}catch{return CryptoBuffer.empty()}return CryptoBuffer.empty()}split(ee){const te=this.toUInt8Array();return[CryptoBuffer.fromUint8Array(te.slice(0,ee)),CryptoBuffer.fromUint8Array(te.slice(ee))]}clone(){return new CryptoBuffer(this.hex,this.length)}unsafeSetLength(ee){this.length=ee}}crypto$4.CryptoBuffer=CryptoBuffer;function uint8ArrayToHex(re){return"0x"+[...re].map(ee=>ee.toString(16).padStart(2,"0")).join("")}var currency={};Object.defineProperty(currency,"__esModule",{value:!0});var env={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.Env=void 0,function(ee){ee.Local="Local",ee.Dev="Dev",ee.StageTest="StageTest",ee.StageMainnet="StageMainnet",ee.ProdTest="ProdTest",ee.ProdMainnet="ProdMainnet"}(re.Env||(re.Env={}))})(env);var error={},typeGuards={},jsonRpc={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.RpcErrorCode=re.JsonRpcSource=re.JsonRpcMethod=void 0,function(ee){ee.face_logInSignUp="face_logInSignUp",ee.face_loggedIn="face_loggedIn",ee.face_logOut="face_logOut",ee.face_currentUser="face_currentUser",ee.face_accounts="face_accounts",ee.face_openIframe="face_openIframe",ee.face_closeIframe="face_closeIframe",ee.face_ready="face_ready",ee.face_openHome="face_openHome",ee.face_openWalletConnect="face_openWalletConnect",ee.face_switchNetwork="face_switchNetwork",ee.face_directSocialLogin="face_directSocialLogin",ee.face_loginWithIdToken="face_loginWithIdToken",ee.eth_sendTransaction="eth_sendTransaction",ee.eth_getBalance="eth_getBalance",ee.eth_call="eth_call",ee.eth_estimateGas="eth_estimateGas",ee.eth_sign="eth_sign",ee.eth_accounts="eth_accounts",ee.personal_sign="personal_sign",ee.personal_listAccounts="personal_listAccounts",ee.wallet_switchEthereumChain="wallet_switchEthereumChain",ee.solana_sendTransaction="solana_sendTransaction",ee.near_broadcast_tx_async="near_broadcast_tx_async",ee.near_get_balance="near_get_balance"}(re.JsonRpcMethod||(re.JsonRpcMethod={})),function(ee){ee.FACE_SDK="FACE_SDK",ee.FACE_IFRAME="FACE_IFRAME",ee.FACE_WALLET_CONNECT="FACE_WALLET_CONNECT",ee.FACE_NATIVE_SDK="FACE_NATIVE_SDK"}(re.JsonRpcSource||(re.JsonRpcSource={})),function(ee){ee[ee.PARSE_ERROR=-32700]="PARSE_ERROR",ee[ee.INVALID_REQUEST=-32600]="INVALID_REQUEST",ee[ee.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",ee[ee.INVALID_PARAMS=-32602]="INVALID_PARAMS",ee[ee.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(re.RpcErrorCode||(re.RpcErrorCode={}))})(jsonRpc);var hasRequiredTypeGuards;function requireTypeGuards(){if(hasRequiredTypeGuards)return typeGuards;hasRequiredTypeGuards=1,Object.defineProperty(typeGuards,"__esModule",{value:!0}),typeGuards.isFaceErrorCode=typeGuards.isJsonRpcErrorCode=typeGuards.isEmpty=typeGuards.isJsonRpcResponsePayload=typeGuards.isJsonRpcRequestPayload=void 0;const re=requireError(),ee=jsonRpc;function te(Ae){return typeof Ae>"u"}function ne(Ae){return Ae===null}function se(Ae){return ne(Ae)||te(Ae)}function ie(Ae){return se(Ae)?!1:!te(Ae.jsonrpc)&&!te(Ae.id)&&!te(Ae.method)&&!te(Ae.params)}typeGuards.isJsonRpcRequestPayload=ie;function fe(Ae){return se(Ae)?!1:!te(Ae.jsonrpc)&&!te(Ae.id)&&(!te(Ae.result)||!te(Ae.error))}typeGuards.isJsonRpcResponsePayload=fe;function ue(Ae){if(!Ae)return!0;for(const Me in Ae)if(Object.hasOwnProperty.call(Ae,Me))return!1;return!0}typeGuards.isEmpty=ue;function xe(Ae){return se(Ae)?!1:typeof Ae=="number"&&Object.values(ee.RpcErrorCode).includes(Ae)}typeGuards.isJsonRpcErrorCode=xe;function Ee(Ae){return se(Ae)?!1:typeof Ae=="number"&&Object.values(re.FaceErrorCode).includes(Ae)}return typeGuards.isFaceErrorCode=Ee,typeGuards}var hasRequiredError;function requireError(){return hasRequiredError||(hasRequiredError=1,function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.noUserDataError=re.pinCodeTrialLimitExceededError=re.wrongPinCodeError=re.invalidAddressWithWalletError=re.unsupportedChainError=re.invalidHostNameError=re.invalidApiKeyError=re.unknownError=re.notImplementedError=re.localStorageError=re.invalidParameterError=re.invalidFormatError=re.cryptoError=re.invalidEnvironmentError=re.firebaseError=re.nitroEnclaveError=re.faceServerError=re.jsonRpcError=re.sendTransactionError=re.FaceError=re.FaceErrorCode=re.HttpStatus=void 0;const ee=requireTypeGuards();(function(Xe){Xe[Xe.SUCCESS=200]="SUCCESS",Xe[Xe.CREATED=201]="CREATED",Xe[Xe.BAD_REQUEST=400]="BAD_REQUEST",Xe[Xe.UNAUTHORIZED=401]="UNAUTHORIZED",Xe[Xe.FORBIDDEN=403]="FORBIDDEN",Xe[Xe.NOT_FOUND=404]="NOT_FOUND",Xe[Xe.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"})(re.HttpStatus||(re.HttpStatus={}));var te;(function(Xe){Xe[Xe.BAD_REQUEST=4e3]="BAD_REQUEST",Xe[Xe.USER_REJECTED_REQUEST=4001]="USER_REJECTED_REQUEST",Xe[Xe.NOT_IMPLEMENTED=4002]="NOT_IMPLEMENTED",Xe[Xe.UNAUTHORIZED=4100]="UNAUTHORIZED",Xe[Xe.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",Xe[Xe.UNSUPPORTED_CHAIN=4201]="UNSUPPORTED_CHAIN",Xe[Xe.DISCONNECTED=4900]="DISCONNECTED",Xe[Xe.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED",Xe[Xe.SEND_TRANCTION_FAILED=4902]="SEND_TRANCTION_FAILED",Xe[Xe.WRONG_PINCODE=4903]="WRONG_PINCODE",Xe[Xe.PINCODE_TRIAL_LIMIT_EXCEEDED=4904]="PINCODE_TRIAL_LIMIT_EXCEEDED",Xe[Xe.NO_USER_DATA=4905]="NO_USER_DATA",Xe[Xe.INTERNAL=5e3]="INTERNAL"})(te=re.FaceErrorCode||(re.FaceErrorCode={}));class ne extends Error{constructor(rt){super(),this.isFaceError=!0,this.code=this.isValidErrorCode(rt.code)?rt.code:te.INTERNAL,this.message=`Face Error: [${this.code}] ${rt.message}`,this.origin=rt.origin,this.data=rt.data,Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace(this,this.constructor)}isValidErrorCode(rt){return(0,ee.isJsonRpcErrorCode)(rt)||(0,ee.isFaceErrorCode)(rt)}}re.FaceError=ne;function se(Xe){return new ne({message:Xe.message,code:te.SEND_TRANCTION_FAILED,data:Xe.data})}re.sendTransactionError=se;function ie(Xe){return new ne({message:Xe.message,code:Xe.code,data:Xe.data})}re.jsonRpcError=ie;function fe(Xe,rt,mt){return new ne({message:`face server error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.faceServerError=fe;function ue(Xe,rt,mt){return new ne({message:`nitro enclave error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.nitroEnclaveError=ue;function xe(Xe,rt,mt){return new ne({message:`firebase error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.firebaseError=xe;function Ee(Xe){return new ne({message:"invalid environment",code:te.INTERNAL,data:Xe})}re.invalidEnvironmentError=Ee;function Ae(Xe,rt,mt){return new ne({message:`crypto error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.cryptoError=Ae;function Me(Xe,rt,mt){return new ne({message:`invalid format error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.invalidFormatError=Me;function Pe(Xe,rt,mt){return new ne({message:`invalid params error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.invalidParameterError=Pe;function Ne(Xe,rt,mt){return new ne({message:`local storage error: ${Xe}`,code:te.INTERNAL,origin:rt,data:mt})}re.localStorageError=Ne;function je(Xe){return new ne({message:Xe,code:te.NOT_IMPLEMENTED})}re.notImplementedError=je;function Ue(Xe){return new ne({message:"unknown error",code:te.INTERNAL,origin:Xe})}re.unknownError=Ue;function Ce(Xe){return new ne({message:"invalid api key error",code:te.UNAUTHORIZED,origin:Xe})}re.invalidApiKeyError=Ce;function Be(Xe){return new ne({message:"invalid host name error",code:te.UNAUTHORIZED,origin:Xe})}re.invalidHostNameError=Be;function He(Xe){return new ne({message:"unsupported chain error",code:te.UNSUPPORTED_CHAIN,origin:Xe})}re.unsupportedChainError=He;function Oe(Xe){return new ne({message:"invalid address compared with wallet address",code:te.INTERNAL,origin:Xe})}re.invalidAddressWithWalletError=Oe;function Ke(Xe){return new ne({message:"invalid pin code",code:te.WRONG_PINCODE,origin:Xe})}re.wrongPinCodeError=Ke;function qe(Xe){return new ne({message:"pin code trial limit exceeded",code:te.PINCODE_TRIAL_LIMIT_EXCEEDED,origin:Xe})}re.pinCodeTrialLimitExceededError=qe;function Ve(Xe){return new ne({message:"no user data",code:te.NO_USER_DATA,origin:Xe})}re.noUserDataError=Ve}(error)),error}var faceEvent={};Object.defineProperty(faceEvent,"__esModule",{value:!0}),faceEvent.parseFaceSolanaNearTransactionPayload=void 0;function parseFaceSolanaNearTransactionPayload(re){return re==null||typeof re!="object"||re.serializedHex==null||typeof re.serializedHex!="string"?null:re}faceEvent.parseFaceSolanaNearTransactionPayload=parseFaceSolanaNearTransactionPayload;var transaction$1={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.TxType=void 0,function(ee){ee.COIN="COIN",ee.ERC20="ERC20",ee.ERC721="ERC721",ee.ERC1155="ERC1155",ee.FT="FT"}(re.TxType||(re.TxType={}))})(transaction$1);var user={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.UserStatus=re.WalletPath=re.FaceVersionLocalKey=re.FaceShare1LocalKey=re.FaceUserLocalKey=re.FaceSessionLocalKey=void 0,re.FaceSessionLocalKey="Face-Session",re.FaceUserLocalKey="Face-User",re.FaceShare1LocalKey="Face-Share1",re.FaceVersionLocalKey="Face-Version",re.WalletPath="m/44'/60'/1'/0/0",function(ee){ee.isWalletCreated="isWalletCreated",ee.isNewUser="isNewUser",ee.isRegisteredPinCode="isRegisteredPinCode",ee.isAdmin="isAdmin"}(re.UserStatus||(re.UserStatus={}))})(user),function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,se,ie,fe){fe===void 0&&(fe=ie);var ue=Object.getOwnPropertyDescriptor(se,ie);(!ue||("get"in ue?!se.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return se[ie]}}),Object.defineProperty(ne,fe,ue)}:function(ne,se,ie,fe){fe===void 0&&(fe=ie),ne[fe]=se[ie]}),te=commonjsGlobal&&commonjsGlobal.__exportStar||function(ne,se){for(var ie in ne)ie!=="default"&&!Object.prototype.hasOwnProperty.call(se,ie)&&ee(se,ne,ie)};Object.defineProperty(re,"__esModule",{value:!0}),te(auth$1,re),te(blockchain,re),te(crypto$4,re),te(currency,re),te(env,re),te(requireError(),re),te(faceEvent,re),te(jsonRpc,re),te(transaction$1,re),te(user,re)}(dist);var auth={};Object.defineProperty(auth,"__esModule",{value:!0}),auth.Auth=void 0;class Auth{constructor(ee){this.internal=ee}async login(){return this.internal.loginWithCredential()}async directSocialLogin(ee){return this.internal.directSocialLogin(ee)}async loginWithIdToken(ee){return this.internal.loginWithIdToken(ee)}async logout(){await this.internal.logout()}async getCurrentUser(){return await this.internal.getCurrentUser()}async isLoggedIn(){return await this.internal.isLoggedIn()}}auth.Auth=Auth;var Near$1={},NearProvider$1={},browserIndex$1={},browserIndex={},keystore={};Object.defineProperty(keystore,"__esModule",{value:!0}),keystore.KeyStore=void 0;class KeyStore{}keystore.KeyStore=KeyStore;var in_memory_key_store={},key_pair={};function commonjsRequire$1(re){throw new Error('Could not dynamically require "'+re+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}};(function(re){(function(ee){var te=function(Fe){var Ge,et=new Float64Array(16);if(Fe)for(Ge=0;Ge<Fe.length;Ge++)et[Ge]=Fe[Ge];return et},ne=function(){throw new Error("no PRNG")},se=new Uint8Array(16),ie=new Uint8Array(32);ie[0]=9;var fe=te(),ue=te([1]),xe=te([56129,1]),Ee=te([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ae=te([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Me=te([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Pe=te([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Ne=te([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function je(Fe,Ge,et,Te){Fe[Ge]=et>>24&255,Fe[Ge+1]=et>>16&255,Fe[Ge+2]=et>>8&255,Fe[Ge+3]=et&255,Fe[Ge+4]=Te>>24&255,Fe[Ge+5]=Te>>16&255,Fe[Ge+6]=Te>>8&255,Fe[Ge+7]=Te&255}function Ue(Fe,Ge,et,Te,Ye){var bt,st=0;for(bt=0;bt<Ye;bt++)st|=Fe[Ge+bt]^et[Te+bt];return(1&st-1>>>8)-1}function Ce(Fe,Ge,et,Te){return Ue(Fe,Ge,et,Te,16)}function Be(Fe,Ge,et,Te){return Ue(Fe,Ge,et,Te,32)}function He(Fe,Ge,et,Te){for(var Ye=Te[0]&255|(Te[1]&255)<<8|(Te[2]&255)<<16|(Te[3]&255)<<24,bt=et[0]&255|(et[1]&255)<<8|(et[2]&255)<<16|(et[3]&255)<<24,st=et[4]&255|(et[5]&255)<<8|(et[6]&255)<<16|(et[7]&255)<<24,ut=et[8]&255|(et[9]&255)<<8|(et[10]&255)<<16|(et[11]&255)<<24,qt=et[12]&255|(et[13]&255)<<8|(et[14]&255)<<16|(et[15]&255)<<24,At=Te[4]&255|(Te[5]&255)<<8|(Te[6]&255)<<16|(Te[7]&255)<<24,wt=Ge[0]&255|(Ge[1]&255)<<8|(Ge[2]&255)<<16|(Ge[3]&255)<<24,lr=Ge[4]&255|(Ge[5]&255)<<8|(Ge[6]&255)<<16|(Ge[7]&255)<<24,Wt=Ge[8]&255|(Ge[9]&255)<<8|(Ge[10]&255)<<16|(Ge[11]&255)<<24,tr=Ge[12]&255|(Ge[13]&255)<<8|(Ge[14]&255)<<16|(Ge[15]&255)<<24,rr=Te[8]&255|(Te[9]&255)<<8|(Te[10]&255)<<16|(Te[11]&255)<<24,ir=et[16]&255|(et[17]&255)<<8|(et[18]&255)<<16|(et[19]&255)<<24,ur=et[20]&255|(et[21]&255)<<8|(et[22]&255)<<16|(et[23]&255)<<24,or=et[24]&255|(et[25]&255)<<8|(et[26]&255)<<16|(et[27]&255)<<24,cr=et[28]&255|(et[29]&255)<<8|(et[30]&255)<<16|(et[31]&255)<<24,sr=Te[12]&255|(Te[13]&255)<<8|(Te[14]&255)<<16|(Te[15]&255)<<24,Zt=Ye,er=bt,Yt=st,Xt=ut,Qt=qt,Gt=At,Rt=wt,It=lr,Kt=Wt,Ut=tr,jt=rr,Vt=ir,hr=ur,dr=or,gr=cr,pr=sr,ht,yr=0;yr<20;yr+=2)ht=Zt+hr|0,Qt^=ht<<7|ht>>>32-7,ht=Qt+Zt|0,Kt^=ht<<9|ht>>>32-9,ht=Kt+Qt|0,hr^=ht<<13|ht>>>32-13,ht=hr+Kt|0,Zt^=ht<<18|ht>>>32-18,ht=Gt+er|0,Ut^=ht<<7|ht>>>32-7,ht=Ut+Gt|0,dr^=ht<<9|ht>>>32-9,ht=dr+Ut|0,er^=ht<<13|ht>>>32-13,ht=er+dr|0,Gt^=ht<<18|ht>>>32-18,ht=jt+Rt|0,gr^=ht<<7|ht>>>32-7,ht=gr+jt|0,Yt^=ht<<9|ht>>>32-9,ht=Yt+gr|0,Rt^=ht<<13|ht>>>32-13,ht=Rt+Yt|0,jt^=ht<<18|ht>>>32-18,ht=pr+Vt|0,Xt^=ht<<7|ht>>>32-7,ht=Xt+pr|0,It^=ht<<9|ht>>>32-9,ht=It+Xt|0,Vt^=ht<<13|ht>>>32-13,ht=Vt+It|0,pr^=ht<<18|ht>>>32-18,ht=Zt+Xt|0,er^=ht<<7|ht>>>32-7,ht=er+Zt|0,Yt^=ht<<9|ht>>>32-9,ht=Yt+er|0,Xt^=ht<<13|ht>>>32-13,ht=Xt+Yt|0,Zt^=ht<<18|ht>>>32-18,ht=Gt+Qt|0,Rt^=ht<<7|ht>>>32-7,ht=Rt+Gt|0,It^=ht<<9|ht>>>32-9,ht=It+Rt|0,Qt^=ht<<13|ht>>>32-13,ht=Qt+It|0,Gt^=ht<<18|ht>>>32-18,ht=jt+Ut|0,Vt^=ht<<7|ht>>>32-7,ht=Vt+jt|0,Kt^=ht<<9|ht>>>32-9,ht=Kt+Vt|0,Ut^=ht<<13|ht>>>32-13,ht=Ut+Kt|0,jt^=ht<<18|ht>>>32-18,ht=pr+gr|0,hr^=ht<<7|ht>>>32-7,ht=hr+pr|0,dr^=ht<<9|ht>>>32-9,ht=dr+hr|0,gr^=ht<<13|ht>>>32-13,ht=gr+dr|0,pr^=ht<<18|ht>>>32-18;Zt=Zt+Ye|0,er=er+bt|0,Yt=Yt+st|0,Xt=Xt+ut|0,Qt=Qt+qt|0,Gt=Gt+At|0,Rt=Rt+wt|0,It=It+lr|0,Kt=Kt+Wt|0,Ut=Ut+tr|0,jt=jt+rr|0,Vt=Vt+ir|0,hr=hr+ur|0,dr=dr+or|0,gr=gr+cr|0,pr=pr+sr|0,Fe[0]=Zt>>>0&255,Fe[1]=Zt>>>8&255,Fe[2]=Zt>>>16&255,Fe[3]=Zt>>>24&255,Fe[4]=er>>>0&255,Fe[5]=er>>>8&255,Fe[6]=er>>>16&255,Fe[7]=er>>>24&255,Fe[8]=Yt>>>0&255,Fe[9]=Yt>>>8&255,Fe[10]=Yt>>>16&255,Fe[11]=Yt>>>24&255,Fe[12]=Xt>>>0&255,Fe[13]=Xt>>>8&255,Fe[14]=Xt>>>16&255,Fe[15]=Xt>>>24&255,Fe[16]=Qt>>>0&255,Fe[17]=Qt>>>8&255,Fe[18]=Qt>>>16&255,Fe[19]=Qt>>>24&255,Fe[20]=Gt>>>0&255,Fe[21]=Gt>>>8&255,Fe[22]=Gt>>>16&255,Fe[23]=Gt>>>24&255,Fe[24]=Rt>>>0&255,Fe[25]=Rt>>>8&255,Fe[26]=Rt>>>16&255,Fe[27]=Rt>>>24&255,Fe[28]=It>>>0&255,Fe[29]=It>>>8&255,Fe[30]=It>>>16&255,Fe[31]=It>>>24&255,Fe[32]=Kt>>>0&255,Fe[33]=Kt>>>8&255,Fe[34]=Kt>>>16&255,Fe[35]=Kt>>>24&255,Fe[36]=Ut>>>0&255,Fe[37]=Ut>>>8&255,Fe[38]=Ut>>>16&255,Fe[39]=Ut>>>24&255,Fe[40]=jt>>>0&255,Fe[41]=jt>>>8&255,Fe[42]=jt>>>16&255,Fe[43]=jt>>>24&255,Fe[44]=Vt>>>0&255,Fe[45]=Vt>>>8&255,Fe[46]=Vt>>>16&255,Fe[47]=Vt>>>24&255,Fe[48]=hr>>>0&255,Fe[49]=hr>>>8&255,Fe[50]=hr>>>16&255,Fe[51]=hr>>>24&255,Fe[52]=dr>>>0&255,Fe[53]=dr>>>8&255,Fe[54]=dr>>>16&255,Fe[55]=dr>>>24&255,Fe[56]=gr>>>0&255,Fe[57]=gr>>>8&255,Fe[58]=gr>>>16&255,Fe[59]=gr>>>24&255,Fe[60]=pr>>>0&255,Fe[61]=pr>>>8&255,Fe[62]=pr>>>16&255,Fe[63]=pr>>>24&255}function Oe(Fe,Ge,et,Te){for(var Ye=Te[0]&255|(Te[1]&255)<<8|(Te[2]&255)<<16|(Te[3]&255)<<24,bt=et[0]&255|(et[1]&255)<<8|(et[2]&255)<<16|(et[3]&255)<<24,st=et[4]&255|(et[5]&255)<<8|(et[6]&255)<<16|(et[7]&255)<<24,ut=et[8]&255|(et[9]&255)<<8|(et[10]&255)<<16|(et[11]&255)<<24,qt=et[12]&255|(et[13]&255)<<8|(et[14]&255)<<16|(et[15]&255)<<24,At=Te[4]&255|(Te[5]&255)<<8|(Te[6]&255)<<16|(Te[7]&255)<<24,wt=Ge[0]&255|(Ge[1]&255)<<8|(Ge[2]&255)<<16|(Ge[3]&255)<<24,lr=Ge[4]&255|(Ge[5]&255)<<8|(Ge[6]&255)<<16|(Ge[7]&255)<<24,Wt=Ge[8]&255|(Ge[9]&255)<<8|(Ge[10]&255)<<16|(Ge[11]&255)<<24,tr=Ge[12]&255|(Ge[13]&255)<<8|(Ge[14]&255)<<16|(Ge[15]&255)<<24,rr=Te[8]&255|(Te[9]&255)<<8|(Te[10]&255)<<16|(Te[11]&255)<<24,ir=et[16]&255|(et[17]&255)<<8|(et[18]&255)<<16|(et[19]&255)<<24,ur=et[20]&255|(et[21]&255)<<8|(et[22]&255)<<16|(et[23]&255)<<24,or=et[24]&255|(et[25]&255)<<8|(et[26]&255)<<16|(et[27]&255)<<24,cr=et[28]&255|(et[29]&255)<<8|(et[30]&255)<<16|(et[31]&255)<<24,sr=Te[12]&255|(Te[13]&255)<<8|(Te[14]&255)<<16|(Te[15]&255)<<24,Zt=Ye,er=bt,Yt=st,Xt=ut,Qt=qt,Gt=At,Rt=wt,It=lr,Kt=Wt,Ut=tr,jt=rr,Vt=ir,hr=ur,dr=or,gr=cr,pr=sr,ht,yr=0;yr<20;yr+=2)ht=Zt+hr|0,Qt^=ht<<7|ht>>>32-7,ht=Qt+Zt|0,Kt^=ht<<9|ht>>>32-9,ht=Kt+Qt|0,hr^=ht<<13|ht>>>32-13,ht=hr+Kt|0,Zt^=ht<<18|ht>>>32-18,ht=Gt+er|0,Ut^=ht<<7|ht>>>32-7,ht=Ut+Gt|0,dr^=ht<<9|ht>>>32-9,ht=dr+Ut|0,er^=ht<<13|ht>>>32-13,ht=er+dr|0,Gt^=ht<<18|ht>>>32-18,ht=jt+Rt|0,gr^=ht<<7|ht>>>32-7,ht=gr+jt|0,Yt^=ht<<9|ht>>>32-9,ht=Yt+gr|0,Rt^=ht<<13|ht>>>32-13,ht=Rt+Yt|0,jt^=ht<<18|ht>>>32-18,ht=pr+Vt|0,Xt^=ht<<7|ht>>>32-7,ht=Xt+pr|0,It^=ht<<9|ht>>>32-9,ht=It+Xt|0,Vt^=ht<<13|ht>>>32-13,ht=Vt+It|0,pr^=ht<<18|ht>>>32-18,ht=Zt+Xt|0,er^=ht<<7|ht>>>32-7,ht=er+Zt|0,Yt^=ht<<9|ht>>>32-9,ht=Yt+er|0,Xt^=ht<<13|ht>>>32-13,ht=Xt+Yt|0,Zt^=ht<<18|ht>>>32-18,ht=Gt+Qt|0,Rt^=ht<<7|ht>>>32-7,ht=Rt+Gt|0,It^=ht<<9|ht>>>32-9,ht=It+Rt|0,Qt^=ht<<13|ht>>>32-13,ht=Qt+It|0,Gt^=ht<<18|ht>>>32-18,ht=jt+Ut|0,Vt^=ht<<7|ht>>>32-7,ht=Vt+jt|0,Kt^=ht<<9|ht>>>32-9,ht=Kt+Vt|0,Ut^=ht<<13|ht>>>32-13,ht=Ut+Kt|0,jt^=ht<<18|ht>>>32-18,ht=pr+gr|0,hr^=ht<<7|ht>>>32-7,ht=hr+pr|0,dr^=ht<<9|ht>>>32-9,ht=dr+hr|0,gr^=ht<<13|ht>>>32-13,ht=gr+dr|0,pr^=ht<<18|ht>>>32-18;Fe[0]=Zt>>>0&255,Fe[1]=Zt>>>8&255,Fe[2]=Zt>>>16&255,Fe[3]=Zt>>>24&255,Fe[4]=Gt>>>0&255,Fe[5]=Gt>>>8&255,Fe[6]=Gt>>>16&255,Fe[7]=Gt>>>24&255,Fe[8]=jt>>>0&255,Fe[9]=jt>>>8&255,Fe[10]=jt>>>16&255,Fe[11]=jt>>>24&255,Fe[12]=pr>>>0&255,Fe[13]=pr>>>8&255,Fe[14]=pr>>>16&255,Fe[15]=pr>>>24&255,Fe[16]=Rt>>>0&255,Fe[17]=Rt>>>8&255,Fe[18]=Rt>>>16&255,Fe[19]=Rt>>>24&255,Fe[20]=It>>>0&255,Fe[21]=It>>>8&255,Fe[22]=It>>>16&255,Fe[23]=It>>>24&255,Fe[24]=Kt>>>0&255,Fe[25]=Kt>>>8&255,Fe[26]=Kt>>>16&255,Fe[27]=Kt>>>24&255,Fe[28]=Ut>>>0&255,Fe[29]=Ut>>>8&255,Fe[30]=Ut>>>16&255,Fe[31]=Ut>>>24&255}function Ke(Fe,Ge,et,Te){He(Fe,Ge,et,Te)}function qe(Fe,Ge,et,Te){Oe(Fe,Ge,et,Te)}var Ve=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Xe(Fe,Ge,et,Te,Ye,bt,st){var ut=new Uint8Array(16),qt=new Uint8Array(64),At,wt;for(wt=0;wt<16;wt++)ut[wt]=0;for(wt=0;wt<8;wt++)ut[wt]=bt[wt];for(;Ye>=64;){for(Ke(qt,ut,st,Ve),wt=0;wt<64;wt++)Fe[Ge+wt]=et[Te+wt]^qt[wt];for(At=1,wt=8;wt<16;wt++)At=At+(ut[wt]&255)|0,ut[wt]=At&255,At>>>=8;Ye-=64,Ge+=64,Te+=64}if(Ye>0)for(Ke(qt,ut,st,Ve),wt=0;wt<Ye;wt++)Fe[Ge+wt]=et[Te+wt]^qt[wt];return 0}function rt(Fe,Ge,et,Te,Ye){var bt=new Uint8Array(16),st=new Uint8Array(64),ut,qt;for(qt=0;qt<16;qt++)bt[qt]=0;for(qt=0;qt<8;qt++)bt[qt]=Te[qt];for(;et>=64;){for(Ke(st,bt,Ye,Ve),qt=0;qt<64;qt++)Fe[Ge+qt]=st[qt];for(ut=1,qt=8;qt<16;qt++)ut=ut+(bt[qt]&255)|0,bt[qt]=ut&255,ut>>>=8;et-=64,Ge+=64}if(et>0)for(Ke(st,bt,Ye,Ve),qt=0;qt<et;qt++)Fe[Ge+qt]=st[qt];return 0}function mt(Fe,Ge,et,Te,Ye){var bt=new Uint8Array(32);qe(bt,Te,Ye,Ve);for(var st=new Uint8Array(8),ut=0;ut<8;ut++)st[ut]=Te[ut+16];return rt(Fe,Ge,et,st,bt)}function Qe(Fe,Ge,et,Te,Ye,bt,st){var ut=new Uint8Array(32);qe(ut,bt,st,Ve);for(var qt=new Uint8Array(8),At=0;At<8;At++)qt[At]=bt[At+16];return Xe(Fe,Ge,et,Te,Ye,qt,ut)}var Se=function(Fe){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Ge,et,Te,Ye,bt,st,ut,qt;Ge=Fe[0]&255|(Fe[1]&255)<<8,this.r[0]=Ge&8191,et=Fe[2]&255|(Fe[3]&255)<<8,this.r[1]=(Ge>>>13|et<<3)&8191,Te=Fe[4]&255|(Fe[5]&255)<<8,this.r[2]=(et>>>10|Te<<6)&7939,Ye=Fe[6]&255|(Fe[7]&255)<<8,this.r[3]=(Te>>>7|Ye<<9)&8191,bt=Fe[8]&255|(Fe[9]&255)<<8,this.r[4]=(Ye>>>4|bt<<12)&255,this.r[5]=bt>>>1&8190,st=Fe[10]&255|(Fe[11]&255)<<8,this.r[6]=(bt>>>14|st<<2)&8191,ut=Fe[12]&255|(Fe[13]&255)<<8,this.r[7]=(st>>>11|ut<<5)&8065,qt=Fe[14]&255|(Fe[15]&255)<<8,this.r[8]=(ut>>>8|qt<<8)&8191,this.r[9]=qt>>>5&127,this.pad[0]=Fe[16]&255|(Fe[17]&255)<<8,this.pad[1]=Fe[18]&255|(Fe[19]&255)<<8,this.pad[2]=Fe[20]&255|(Fe[21]&255)<<8,this.pad[3]=Fe[22]&255|(Fe[23]&255)<<8,this.pad[4]=Fe[24]&255|(Fe[25]&255)<<8,this.pad[5]=Fe[26]&255|(Fe[27]&255)<<8,this.pad[6]=Fe[28]&255|(Fe[29]&255)<<8,this.pad[7]=Fe[30]&255|(Fe[31]&255)<<8};Se.prototype.blocks=function(Fe,Ge,et){for(var Te=this.fin?0:2048,Ye,bt,st,ut,qt,At,wt,lr,Wt,tr,rr,ir,ur,or,cr,sr,Zt,er,Yt,Xt=this.h[0],Qt=this.h[1],Gt=this.h[2],Rt=this.h[3],It=this.h[4],Kt=this.h[5],Ut=this.h[6],jt=this.h[7],Vt=this.h[8],hr=this.h[9],dr=this.r[0],gr=this.r[1],pr=this.r[2],ht=this.r[3],yr=this.r[4],vr=this.r[5],wr=this.r[6],mr=this.r[7],br=this.r[8],xr=this.r[9];et>=16;)Ye=Fe[Ge+0]&255|(Fe[Ge+1]&255)<<8,Xt+=Ye&8191,bt=Fe[Ge+2]&255|(Fe[Ge+3]&255)<<8,Qt+=(Ye>>>13|bt<<3)&8191,st=Fe[Ge+4]&255|(Fe[Ge+5]&255)<<8,Gt+=(bt>>>10|st<<6)&8191,ut=Fe[Ge+6]&255|(Fe[Ge+7]&255)<<8,Rt+=(st>>>7|ut<<9)&8191,qt=Fe[Ge+8]&255|(Fe[Ge+9]&255)<<8,It+=(ut>>>4|qt<<12)&8191,Kt+=qt>>>1&8191,At=Fe[Ge+10]&255|(Fe[Ge+11]&255)<<8,Ut+=(qt>>>14|At<<2)&8191,wt=Fe[Ge+12]&255|(Fe[Ge+13]&255)<<8,jt+=(At>>>11|wt<<5)&8191,lr=Fe[Ge+14]&255|(Fe[Ge+15]&255)<<8,Vt+=(wt>>>8|lr<<8)&8191,hr+=lr>>>5|Te,Wt=0,tr=Wt,tr+=Xt*dr,tr+=Qt*(5*xr),tr+=Gt*(5*br),tr+=Rt*(5*mr),tr+=It*(5*wr),Wt=tr>>>13,tr&=8191,tr+=Kt*(5*vr),tr+=Ut*(5*yr),tr+=jt*(5*ht),tr+=Vt*(5*pr),tr+=hr*(5*gr),Wt+=tr>>>13,tr&=8191,rr=Wt,rr+=Xt*gr,rr+=Qt*dr,rr+=Gt*(5*xr),rr+=Rt*(5*br),rr+=It*(5*mr),Wt=rr>>>13,rr&=8191,rr+=Kt*(5*wr),rr+=Ut*(5*vr),rr+=jt*(5*yr),rr+=Vt*(5*ht),rr+=hr*(5*pr),Wt+=rr>>>13,rr&=8191,ir=Wt,ir+=Xt*pr,ir+=Qt*gr,ir+=Gt*dr,ir+=Rt*(5*xr),ir+=It*(5*br),Wt=ir>>>13,ir&=8191,ir+=Kt*(5*mr),ir+=Ut*(5*wr),ir+=jt*(5*vr),ir+=Vt*(5*yr),ir+=hr*(5*ht),Wt+=ir>>>13,ir&=8191,ur=Wt,ur+=Xt*ht,ur+=Qt*pr,ur+=Gt*gr,ur+=Rt*dr,ur+=It*(5*xr),Wt=ur>>>13,ur&=8191,ur+=Kt*(5*br),ur+=Ut*(5*mr),ur+=jt*(5*wr),ur+=Vt*(5*vr),ur+=hr*(5*yr),Wt+=ur>>>13,ur&=8191,or=Wt,or+=Xt*yr,or+=Qt*ht,or+=Gt*pr,or+=Rt*gr,or+=It*dr,Wt=or>>>13,or&=8191,or+=Kt*(5*xr),or+=Ut*(5*br),or+=jt*(5*mr),or+=Vt*(5*wr),or+=hr*(5*vr),Wt+=or>>>13,or&=8191,cr=Wt,cr+=Xt*vr,cr+=Qt*yr,cr+=Gt*ht,cr+=Rt*pr,cr+=It*gr,Wt=cr>>>13,cr&=8191,cr+=Kt*dr,cr+=Ut*(5*xr),cr+=jt*(5*br),cr+=Vt*(5*mr),cr+=hr*(5*wr),Wt+=cr>>>13,cr&=8191,sr=Wt,sr+=Xt*wr,sr+=Qt*vr,sr+=Gt*yr,sr+=Rt*ht,sr+=It*pr,Wt=sr>>>13,sr&=8191,sr+=Kt*gr,sr+=Ut*dr,sr+=jt*(5*xr),sr+=Vt*(5*br),sr+=hr*(5*mr),Wt+=sr>>>13,sr&=8191,Zt=Wt,Zt+=Xt*mr,Zt+=Qt*wr,Zt+=Gt*vr,Zt+=Rt*yr,Zt+=It*ht,Wt=Zt>>>13,Zt&=8191,Zt+=Kt*pr,Zt+=Ut*gr,Zt+=jt*dr,Zt+=Vt*(5*xr),Zt+=hr*(5*br),Wt+=Zt>>>13,Zt&=8191,er=Wt,er+=Xt*br,er+=Qt*mr,er+=Gt*wr,er+=Rt*vr,er+=It*yr,Wt=er>>>13,er&=8191,er+=Kt*ht,er+=Ut*pr,er+=jt*gr,er+=Vt*dr,er+=hr*(5*xr),Wt+=er>>>13,er&=8191,Yt=Wt,Yt+=Xt*xr,Yt+=Qt*br,Yt+=Gt*mr,Yt+=Rt*wr,Yt+=It*vr,Wt=Yt>>>13,Yt&=8191,Yt+=Kt*yr,Yt+=Ut*ht,Yt+=jt*pr,Yt+=Vt*gr,Yt+=hr*dr,Wt+=Yt>>>13,Yt&=8191,Wt=(Wt<<2)+Wt|0,Wt=Wt+tr|0,tr=Wt&8191,Wt=Wt>>>13,rr+=Wt,Xt=tr,Qt=rr,Gt=ir,Rt=ur,It=or,Kt=cr,Ut=sr,jt=Zt,Vt=er,hr=Yt,Ge+=16,et-=16;this.h[0]=Xt,this.h[1]=Qt,this.h[2]=Gt,this.h[3]=Rt,this.h[4]=It,this.h[5]=Kt,this.h[6]=Ut,this.h[7]=jt,this.h[8]=Vt,this.h[9]=hr},Se.prototype.finish=function(Fe,Ge){var et=new Uint16Array(10),Te,Ye,bt,st;if(this.leftover){for(st=this.leftover,this.buffer[st++]=1;st<16;st++)this.buffer[st]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Te=this.h[1]>>>13,this.h[1]&=8191,st=2;st<10;st++)this.h[st]+=Te,Te=this.h[st]>>>13,this.h[st]&=8191;for(this.h[0]+=Te*5,Te=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Te,Te=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Te,et[0]=this.h[0]+5,Te=et[0]>>>13,et[0]&=8191,st=1;st<10;st++)et[st]=this.h[st]+Te,Te=et[st]>>>13,et[st]&=8191;for(et[9]-=1<<13,Ye=(Te^1)-1,st=0;st<10;st++)et[st]&=Ye;for(Ye=~Ye,st=0;st<10;st++)this.h[st]=this.h[st]&Ye|et[st];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,bt=this.h[0]+this.pad[0],this.h[0]=bt&65535,st=1;st<8;st++)bt=(this.h[st]+this.pad[st]|0)+(bt>>>16)|0,this.h[st]=bt&65535;Fe[Ge+0]=this.h[0]>>>0&255,Fe[Ge+1]=this.h[0]>>>8&255,Fe[Ge+2]=this.h[1]>>>0&255,Fe[Ge+3]=this.h[1]>>>8&255,Fe[Ge+4]=this.h[2]>>>0&255,Fe[Ge+5]=this.h[2]>>>8&255,Fe[Ge+6]=this.h[3]>>>0&255,Fe[Ge+7]=this.h[3]>>>8&255,Fe[Ge+8]=this.h[4]>>>0&255,Fe[Ge+9]=this.h[4]>>>8&255,Fe[Ge+10]=this.h[5]>>>0&255,Fe[Ge+11]=this.h[5]>>>8&255,Fe[Ge+12]=this.h[6]>>>0&255,Fe[Ge+13]=this.h[6]>>>8&255,Fe[Ge+14]=this.h[7]>>>0&255,Fe[Ge+15]=this.h[7]>>>8&255},Se.prototype.update=function(Fe,Ge,et){var Te,Ye;if(this.leftover){for(Ye=16-this.leftover,Ye>et&&(Ye=et),Te=0;Te<Ye;Te++)this.buffer[this.leftover+Te]=Fe[Ge+Te];if(et-=Ye,Ge+=Ye,this.leftover+=Ye,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(et>=16&&(Ye=et-et%16,this.blocks(Fe,Ge,Ye),Ge+=Ye,et-=Ye),et){for(Te=0;Te<et;Te++)this.buffer[this.leftover+Te]=Fe[Ge+Te];this.leftover+=et}};function $e(Fe,Ge,et,Te,Ye,bt){var st=new Se(bt);return st.update(et,Te,Ye),st.finish(Fe,Ge),0}function pe(Fe,Ge,et,Te,Ye,bt){var st=new Uint8Array(16);return $e(st,0,et,Te,Ye,bt),Ce(Fe,Ge,st,0)}function oe(Fe,Ge,et,Te,Ye){var bt;if(et<32)return-1;for(Qe(Fe,0,Ge,0,et,Te,Ye),$e(Fe,16,Fe,32,et-32,Fe),bt=0;bt<16;bt++)Fe[bt]=0;return 0}function ce(Fe,Ge,et,Te,Ye){var bt,st=new Uint8Array(32);if(et<32||(mt(st,0,32,Te,Ye),pe(Ge,16,Ge,32,et-32,st)!==0))return-1;for(Qe(Fe,0,Ge,0,et,Te,Ye),bt=0;bt<32;bt++)Fe[bt]=0;return 0}function le(Fe,Ge){var et;for(et=0;et<16;et++)Fe[et]=Ge[et]|0}function ge(Fe){var Ge,et,Te=1;for(Ge=0;Ge<16;Ge++)et=Fe[Ge]+Te+65535,Te=Math.floor(et/65536),Fe[Ge]=et-Te*65536;Fe[0]+=Te-1+37*(Te-1)}function ye(Fe,Ge,et){for(var Te,Ye=~(et-1),bt=0;bt<16;bt++)Te=Ye&(Fe[bt]^Ge[bt]),Fe[bt]^=Te,Ge[bt]^=Te}function me(Fe,Ge){var et,Te,Ye,bt=te(),st=te();for(et=0;et<16;et++)st[et]=Ge[et];for(ge(st),ge(st),ge(st),Te=0;Te<2;Te++){for(bt[0]=st[0]-65517,et=1;et<15;et++)bt[et]=st[et]-65535-(bt[et-1]>>16&1),bt[et-1]&=65535;bt[15]=st[15]-32767-(bt[14]>>16&1),Ye=bt[15]>>16&1,bt[14]&=65535,ye(st,bt,1-Ye)}for(et=0;et<16;et++)Fe[2*et]=st[et]&255,Fe[2*et+1]=st[et]>>8}function ve(Fe,Ge){var et=new Uint8Array(32),Te=new Uint8Array(32);return me(et,Fe),me(Te,Ge),Be(et,0,Te,0)}function he(Fe){var Ge=new Uint8Array(32);return me(Ge,Fe),Ge[0]&1}function ae(Fe,Ge){var et;for(et=0;et<16;et++)Fe[et]=Ge[2*et]+(Ge[2*et+1]<<8);Fe[15]&=32767}function be(Fe,Ge,et){for(var Te=0;Te<16;Te++)Fe[Te]=Ge[Te]+et[Te]}function ze(Fe,Ge,et){for(var Te=0;Te<16;Te++)Fe[Te]=Ge[Te]-et[Te]}function Ie(Fe,Ge,et){var Te,Ye,bt=0,st=0,ut=0,qt=0,At=0,wt=0,lr=0,Wt=0,tr=0,rr=0,ir=0,ur=0,or=0,cr=0,sr=0,Zt=0,er=0,Yt=0,Xt=0,Qt=0,Gt=0,Rt=0,It=0,Kt=0,Ut=0,jt=0,Vt=0,hr=0,dr=0,gr=0,pr=0,ht=et[0],yr=et[1],vr=et[2],wr=et[3],mr=et[4],br=et[5],xr=et[6],kr=et[7],Er=et[8],Ir=et[9],Tr=et[10],Cr=et[11],Br=et[12],Pr=et[13],Nr=et[14],Or=et[15];Te=Ge[0],bt+=Te*ht,st+=Te*yr,ut+=Te*vr,qt+=Te*wr,At+=Te*mr,wt+=Te*br,lr+=Te*xr,Wt+=Te*kr,tr+=Te*Er,rr+=Te*Ir,ir+=Te*Tr,ur+=Te*Cr,or+=Te*Br,cr+=Te*Pr,sr+=Te*Nr,Zt+=Te*Or,Te=Ge[1],st+=Te*ht,ut+=Te*yr,qt+=Te*vr,At+=Te*wr,wt+=Te*mr,lr+=Te*br,Wt+=Te*xr,tr+=Te*kr,rr+=Te*Er,ir+=Te*Ir,ur+=Te*Tr,or+=Te*Cr,cr+=Te*Br,sr+=Te*Pr,Zt+=Te*Nr,er+=Te*Or,Te=Ge[2],ut+=Te*ht,qt+=Te*yr,At+=Te*vr,wt+=Te*wr,lr+=Te*mr,Wt+=Te*br,tr+=Te*xr,rr+=Te*kr,ir+=Te*Er,ur+=Te*Ir,or+=Te*Tr,cr+=Te*Cr,sr+=Te*Br,Zt+=Te*Pr,er+=Te*Nr,Yt+=Te*Or,Te=Ge[3],qt+=Te*ht,At+=Te*yr,wt+=Te*vr,lr+=Te*wr,Wt+=Te*mr,tr+=Te*br,rr+=Te*xr,ir+=Te*kr,ur+=Te*Er,or+=Te*Ir,cr+=Te*Tr,sr+=Te*Cr,Zt+=Te*Br,er+=Te*Pr,Yt+=Te*Nr,Xt+=Te*Or,Te=Ge[4],At+=Te*ht,wt+=Te*yr,lr+=Te*vr,Wt+=Te*wr,tr+=Te*mr,rr+=Te*br,ir+=Te*xr,ur+=Te*kr,or+=Te*Er,cr+=Te*Ir,sr+=Te*Tr,Zt+=Te*Cr,er+=Te*Br,Yt+=Te*Pr,Xt+=Te*Nr,Qt+=Te*Or,Te=Ge[5],wt+=Te*ht,lr+=Te*yr,Wt+=Te*vr,tr+=Te*wr,rr+=Te*mr,ir+=Te*br,ur+=Te*xr,or+=Te*kr,cr+=Te*Er,sr+=Te*Ir,Zt+=Te*Tr,er+=Te*Cr,Yt+=Te*Br,Xt+=Te*Pr,Qt+=Te*Nr,Gt+=Te*Or,Te=Ge[6],lr+=Te*ht,Wt+=Te*yr,tr+=Te*vr,rr+=Te*wr,ir+=Te*mr,ur+=Te*br,or+=Te*xr,cr+=Te*kr,sr+=Te*Er,Zt+=Te*Ir,er+=Te*Tr,Yt+=Te*Cr,Xt+=Te*Br,Qt+=Te*Pr,Gt+=Te*Nr,Rt+=Te*Or,Te=Ge[7],Wt+=Te*ht,tr+=Te*yr,rr+=Te*vr,ir+=Te*wr,ur+=Te*mr,or+=Te*br,cr+=Te*xr,sr+=Te*kr,Zt+=Te*Er,er+=Te*Ir,Yt+=Te*Tr,Xt+=Te*Cr,Qt+=Te*Br,Gt+=Te*Pr,Rt+=Te*Nr,It+=Te*Or,Te=Ge[8],tr+=Te*ht,rr+=Te*yr,ir+=Te*vr,ur+=Te*wr,or+=Te*mr,cr+=Te*br,sr+=Te*xr,Zt+=Te*kr,er+=Te*Er,Yt+=Te*Ir,Xt+=Te*Tr,Qt+=Te*Cr,Gt+=Te*Br,Rt+=Te*Pr,It+=Te*Nr,Kt+=Te*Or,Te=Ge[9],rr+=Te*ht,ir+=Te*yr,ur+=Te*vr,or+=Te*wr,cr+=Te*mr,sr+=Te*br,Zt+=Te*xr,er+=Te*kr,Yt+=Te*Er,Xt+=Te*Ir,Qt+=Te*Tr,Gt+=Te*Cr,Rt+=Te*Br,It+=Te*Pr,Kt+=Te*Nr,Ut+=Te*Or,Te=Ge[10],ir+=Te*ht,ur+=Te*yr,or+=Te*vr,cr+=Te*wr,sr+=Te*mr,Zt+=Te*br,er+=Te*xr,Yt+=Te*kr,Xt+=Te*Er,Qt+=Te*Ir,Gt+=Te*Tr,Rt+=Te*Cr,It+=Te*Br,Kt+=Te*Pr,Ut+=Te*Nr,jt+=Te*Or,Te=Ge[11],ur+=Te*ht,or+=Te*yr,cr+=Te*vr,sr+=Te*wr,Zt+=Te*mr,er+=Te*br,Yt+=Te*xr,Xt+=Te*kr,Qt+=Te*Er,Gt+=Te*Ir,Rt+=Te*Tr,It+=Te*Cr,Kt+=Te*Br,Ut+=Te*Pr,jt+=Te*Nr,Vt+=Te*Or,Te=Ge[12],or+=Te*ht,cr+=Te*yr,sr+=Te*vr,Zt+=Te*wr,er+=Te*mr,Yt+=Te*br,Xt+=Te*xr,Qt+=Te*kr,Gt+=Te*Er,Rt+=Te*Ir,It+=Te*Tr,Kt+=Te*Cr,Ut+=Te*Br,jt+=Te*Pr,Vt+=Te*Nr,hr+=Te*Or,Te=Ge[13],cr+=Te*ht,sr+=Te*yr,Zt+=Te*vr,er+=Te*wr,Yt+=Te*mr,Xt+=Te*br,Qt+=Te*xr,Gt+=Te*kr,Rt+=Te*Er,It+=Te*Ir,Kt+=Te*Tr,Ut+=Te*Cr,jt+=Te*Br,Vt+=Te*Pr,hr+=Te*Nr,dr+=Te*Or,Te=Ge[14],sr+=Te*ht,Zt+=Te*yr,er+=Te*vr,Yt+=Te*wr,Xt+=Te*mr,Qt+=Te*br,Gt+=Te*xr,Rt+=Te*kr,It+=Te*Er,Kt+=Te*Ir,Ut+=Te*Tr,jt+=Te*Cr,Vt+=Te*Br,hr+=Te*Pr,dr+=Te*Nr,gr+=Te*Or,Te=Ge[15],Zt+=Te*ht,er+=Te*yr,Yt+=Te*vr,Xt+=Te*wr,Qt+=Te*mr,Gt+=Te*br,Rt+=Te*xr,It+=Te*kr,Kt+=Te*Er,Ut+=Te*Ir,jt+=Te*Tr,Vt+=Te*Cr,hr+=Te*Br,dr+=Te*Pr,gr+=Te*Nr,pr+=Te*Or,bt+=38*er,st+=38*Yt,ut+=38*Xt,qt+=38*Qt,At+=38*Gt,wt+=38*Rt,lr+=38*It,Wt+=38*Kt,tr+=38*Ut,rr+=38*jt,ir+=38*Vt,ur+=38*hr,or+=38*dr,cr+=38*gr,sr+=38*pr,Ye=1,Te=bt+Ye+65535,Ye=Math.floor(Te/65536),bt=Te-Ye*65536,Te=st+Ye+65535,Ye=Math.floor(Te/65536),st=Te-Ye*65536,Te=ut+Ye+65535,Ye=Math.floor(Te/65536),ut=Te-Ye*65536,Te=qt+Ye+65535,Ye=Math.floor(Te/65536),qt=Te-Ye*65536,Te=At+Ye+65535,Ye=Math.floor(Te/65536),At=Te-Ye*65536,Te=wt+Ye+65535,Ye=Math.floor(Te/65536),wt=Te-Ye*65536,Te=lr+Ye+65535,Ye=Math.floor(Te/65536),lr=Te-Ye*65536,Te=Wt+Ye+65535,Ye=Math.floor(Te/65536),Wt=Te-Ye*65536,Te=tr+Ye+65535,Ye=Math.floor(Te/65536),tr=Te-Ye*65536,Te=rr+Ye+65535,Ye=Math.floor(Te/65536),rr=Te-Ye*65536,Te=ir+Ye+65535,Ye=Math.floor(Te/65536),ir=Te-Ye*65536,Te=ur+Ye+65535,Ye=Math.floor(Te/65536),ur=Te-Ye*65536,Te=or+Ye+65535,Ye=Math.floor(Te/65536),or=Te-Ye*65536,Te=cr+Ye+65535,Ye=Math.floor(Te/65536),cr=Te-Ye*65536,Te=sr+Ye+65535,Ye=Math.floor(Te/65536),sr=Te-Ye*65536,Te=Zt+Ye+65535,Ye=Math.floor(Te/65536),Zt=Te-Ye*65536,bt+=Ye-1+37*(Ye-1),Ye=1,Te=bt+Ye+65535,Ye=Math.floor(Te/65536),bt=Te-Ye*65536,Te=st+Ye+65535,Ye=Math.floor(Te/65536),st=Te-Ye*65536,Te=ut+Ye+65535,Ye=Math.floor(Te/65536),ut=Te-Ye*65536,Te=qt+Ye+65535,Ye=Math.floor(Te/65536),qt=Te-Ye*65536,Te=At+Ye+65535,Ye=Math.floor(Te/65536),At=Te-Ye*65536,Te=wt+Ye+65535,Ye=Math.floor(Te/65536),wt=Te-Ye*65536,Te=lr+Ye+65535,Ye=Math.floor(Te/65536),lr=Te-Ye*65536,Te=Wt+Ye+65535,Ye=Math.floor(Te/65536),Wt=Te-Ye*65536,Te=tr+Ye+65535,Ye=Math.floor(Te/65536),tr=Te-Ye*65536,Te=rr+Ye+65535,Ye=Math.floor(Te/65536),rr=Te-Ye*65536,Te=ir+Ye+65535,Ye=Math.floor(Te/65536),ir=Te-Ye*65536,Te=ur+Ye+65535,Ye=Math.floor(Te/65536),ur=Te-Ye*65536,Te=or+Ye+65535,Ye=Math.floor(Te/65536),or=Te-Ye*65536,Te=cr+Ye+65535,Ye=Math.floor(Te/65536),cr=Te-Ye*65536,Te=sr+Ye+65535,Ye=Math.floor(Te/65536),sr=Te-Ye*65536,Te=Zt+Ye+65535,Ye=Math.floor(Te/65536),Zt=Te-Ye*65536,bt+=Ye-1+37*(Ye-1),Fe[0]=bt,Fe[1]=st,Fe[2]=ut,Fe[3]=qt,Fe[4]=At,Fe[5]=wt,Fe[6]=lr,Fe[7]=Wt,Fe[8]=tr,Fe[9]=rr,Fe[10]=ir,Fe[11]=ur,Fe[12]=or,Fe[13]=cr,Fe[14]=sr,Fe[15]=Zt}function We(Fe,Ge){Ie(Fe,Ge,Ge)}function ft(Fe,Ge){var et=te(),Te;for(Te=0;Te<16;Te++)et[Te]=Ge[Te];for(Te=253;Te>=0;Te--)We(et,et),Te!==2&&Te!==4&&Ie(et,et,Ge);for(Te=0;Te<16;Te++)Fe[Te]=et[Te]}function nt(Fe,Ge){var et=te(),Te;for(Te=0;Te<16;Te++)et[Te]=Ge[Te];for(Te=250;Te>=0;Te--)We(et,et),Te!==1&&Ie(et,et,Ge);for(Te=0;Te<16;Te++)Fe[Te]=et[Te]}function at(Fe,Ge,et){var Te=new Uint8Array(32),Ye=new Float64Array(80),bt,st,ut=te(),qt=te(),At=te(),wt=te(),lr=te(),Wt=te();for(st=0;st<31;st++)Te[st]=Ge[st];for(Te[31]=Ge[31]&127|64,Te[0]&=248,ae(Ye,et),st=0;st<16;st++)qt[st]=Ye[st],wt[st]=ut[st]=At[st]=0;for(ut[0]=wt[0]=1,st=254;st>=0;--st)bt=Te[st>>>3]>>>(st&7)&1,ye(ut,qt,bt),ye(At,wt,bt),be(lr,ut,At),ze(ut,ut,At),be(At,qt,wt),ze(qt,qt,wt),We(wt,lr),We(Wt,ut),Ie(ut,At,ut),Ie(At,qt,lr),be(lr,ut,At),ze(ut,ut,At),We(qt,ut),ze(At,wt,Wt),Ie(ut,At,xe),be(ut,ut,wt),Ie(At,At,ut),Ie(ut,wt,Wt),Ie(wt,qt,Ye),We(qt,lr),ye(ut,qt,bt),ye(At,wt,bt);for(st=0;st<16;st++)Ye[st+16]=ut[st],Ye[st+32]=At[st],Ye[st+48]=qt[st],Ye[st+64]=wt[st];var tr=Ye.subarray(32),rr=Ye.subarray(16);return ft(tr,tr),Ie(rr,rr,tr),me(Fe,rr),0}function Ht(Fe,Ge){return at(Fe,Ge,ie)}function dt(Fe,Ge){return ne(Ge,32),Ht(Fe,Ge)}function gt(Fe,Ge,et){var Te=new Uint8Array(32);return at(Te,et,Ge),qe(Fe,se,Te,Ve)}var Jt=oe,yt=ce;function Mt(Fe,Ge,et,Te,Ye,bt){var st=new Uint8Array(32);return gt(st,Ye,bt),Jt(Fe,Ge,et,Te,st)}function it(Fe,Ge,et,Te,Ye,bt){var st=new Uint8Array(32);return gt(st,Ye,bt),yt(Fe,Ge,et,Te,st)}var Le=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function De(Fe,Ge,et,Te){for(var Ye=new Int32Array(16),bt=new Int32Array(16),st,ut,qt,At,wt,lr,Wt,tr,rr,ir,ur,or,cr,sr,Zt,er,Yt,Xt,Qt,Gt,Rt,It,Kt,Ut,jt,Vt,hr=Fe[0],dr=Fe[1],gr=Fe[2],pr=Fe[3],ht=Fe[4],yr=Fe[5],vr=Fe[6],wr=Fe[7],mr=Ge[0],br=Ge[1],xr=Ge[2],kr=Ge[3],Er=Ge[4],Ir=Ge[5],Tr=Ge[6],Cr=Ge[7],Br=0;Te>=128;){for(Qt=0;Qt<16;Qt++)Gt=8*Qt+Br,Ye[Qt]=et[Gt+0]<<24|et[Gt+1]<<16|et[Gt+2]<<8|et[Gt+3],bt[Qt]=et[Gt+4]<<24|et[Gt+5]<<16|et[Gt+6]<<8|et[Gt+7];for(Qt=0;Qt<80;Qt++)if(st=hr,ut=dr,qt=gr,At=pr,wt=ht,lr=yr,Wt=vr,tr=wr,rr=mr,ir=br,ur=xr,or=kr,cr=Er,sr=Ir,Zt=Tr,er=Cr,Rt=wr,It=Cr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=(ht>>>14|Er<<32-14)^(ht>>>18|Er<<32-18)^(Er>>>41-32|ht<<32-(41-32)),It=(Er>>>14|ht<<32-14)^(Er>>>18|ht<<32-18)^(ht>>>41-32|Er<<32-(41-32)),Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Rt=ht&yr^~ht&vr,It=Er&Ir^~Er&Tr,Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Rt=Le[Qt*2],It=Le[Qt*2+1],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Rt=Ye[Qt%16],It=bt[Qt%16],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Yt=jt&65535|Vt<<16,Xt=Kt&65535|Ut<<16,Rt=Yt,It=Xt,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=(hr>>>28|mr<<32-28)^(mr>>>34-32|hr<<32-(34-32))^(mr>>>39-32|hr<<32-(39-32)),It=(mr>>>28|hr<<32-28)^(hr>>>34-32|mr<<32-(34-32))^(hr>>>39-32|mr<<32-(39-32)),Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Rt=hr&dr^hr&gr^dr&gr,It=mr&br^mr&xr^br&xr,Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,tr=jt&65535|Vt<<16,er=Kt&65535|Ut<<16,Rt=At,It=or,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Yt,It=Xt,Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,At=jt&65535|Vt<<16,or=Kt&65535|Ut<<16,dr=st,gr=ut,pr=qt,ht=At,yr=wt,vr=lr,wr=Wt,hr=tr,br=rr,xr=ir,kr=ur,Er=or,Ir=cr,Tr=sr,Cr=Zt,mr=er,Qt%16===15)for(Gt=0;Gt<16;Gt++)Rt=Ye[Gt],It=bt[Gt],Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Ye[(Gt+9)%16],It=bt[(Gt+9)%16],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Yt=Ye[(Gt+1)%16],Xt=bt[(Gt+1)%16],Rt=(Yt>>>1|Xt<<32-1)^(Yt>>>8|Xt<<32-8)^Yt>>>7,It=(Xt>>>1|Yt<<32-1)^(Xt>>>8|Yt<<32-8)^(Xt>>>7|Yt<<32-7),Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Yt=Ye[(Gt+14)%16],Xt=bt[(Gt+14)%16],Rt=(Yt>>>19|Xt<<32-19)^(Xt>>>61-32|Yt<<32-(61-32))^Yt>>>6,It=(Xt>>>19|Yt<<32-19)^(Yt>>>61-32|Xt<<32-(61-32))^(Xt>>>6|Yt<<32-6),Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Ye[Gt]=jt&65535|Vt<<16,bt[Gt]=Kt&65535|Ut<<16;Rt=hr,It=mr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[0],It=Ge[0],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[0]=hr=jt&65535|Vt<<16,Ge[0]=mr=Kt&65535|Ut<<16,Rt=dr,It=br,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[1],It=Ge[1],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[1]=dr=jt&65535|Vt<<16,Ge[1]=br=Kt&65535|Ut<<16,Rt=gr,It=xr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[2],It=Ge[2],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[2]=gr=jt&65535|Vt<<16,Ge[2]=xr=Kt&65535|Ut<<16,Rt=pr,It=kr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[3],It=Ge[3],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[3]=pr=jt&65535|Vt<<16,Ge[3]=kr=Kt&65535|Ut<<16,Rt=ht,It=Er,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[4],It=Ge[4],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[4]=ht=jt&65535|Vt<<16,Ge[4]=Er=Kt&65535|Ut<<16,Rt=yr,It=Ir,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[5],It=Ge[5],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[5]=yr=jt&65535|Vt<<16,Ge[5]=Ir=Kt&65535|Ut<<16,Rt=vr,It=Tr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[6],It=Ge[6],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[6]=vr=jt&65535|Vt<<16,Ge[6]=Tr=Kt&65535|Ut<<16,Rt=wr,It=Cr,Kt=It&65535,Ut=It>>>16,jt=Rt&65535,Vt=Rt>>>16,Rt=Fe[7],It=Ge[7],Kt+=It&65535,Ut+=It>>>16,jt+=Rt&65535,Vt+=Rt>>>16,Ut+=Kt>>>16,jt+=Ut>>>16,Vt+=jt>>>16,Fe[7]=wr=jt&65535|Vt<<16,Ge[7]=Cr=Kt&65535|Ut<<16,Br+=128,Te-=128}return Te}function ct(Fe,Ge,et){var Te=new Int32Array(8),Ye=new Int32Array(8),bt=new Uint8Array(256),st,ut=et;for(Te[0]=1779033703,Te[1]=3144134277,Te[2]=1013904242,Te[3]=2773480762,Te[4]=1359893119,Te[5]=2600822924,Te[6]=528734635,Te[7]=1541459225,Ye[0]=4089235720,Ye[1]=2227873595,Ye[2]=4271175723,Ye[3]=1595750129,Ye[4]=2917565137,Ye[5]=725511199,Ye[6]=4215389547,Ye[7]=327033209,De(Te,Ye,Ge,et),et%=128,st=0;st<et;st++)bt[st]=Ge[ut-et+st];for(bt[et]=128,et=256-128*(et<112?1:0),bt[et-9]=0,je(bt,et-8,ut/536870912|0,ut<<3),De(Te,Ye,bt,et),st=0;st<8;st++)je(Fe,8*st,Te[st],Ye[st]);return 0}function ot(Fe,Ge){var et=te(),Te=te(),Ye=te(),bt=te(),st=te(),ut=te(),qt=te(),At=te(),wt=te();ze(et,Fe[1],Fe[0]),ze(wt,Ge[1],Ge[0]),Ie(et,et,wt),be(Te,Fe[0],Fe[1]),be(wt,Ge[0],Ge[1]),Ie(Te,Te,wt),Ie(Ye,Fe[3],Ge[3]),Ie(Ye,Ye,Ae),Ie(bt,Fe[2],Ge[2]),be(bt,bt,bt),ze(st,Te,et),ze(ut,bt,Ye),be(qt,bt,Ye),be(At,Te,et),Ie(Fe[0],st,ut),Ie(Fe[1],At,qt),Ie(Fe[2],qt,ut),Ie(Fe[3],st,At)}function lt(Fe,Ge,et){var Te;for(Te=0;Te<4;Te++)ye(Fe[Te],Ge[Te],et)}function Pt(Fe,Ge){var et=te(),Te=te(),Ye=te();ft(Ye,Ge[2]),Ie(et,Ge[0],Ye),Ie(Te,Ge[1],Ye),me(Fe,Te),Fe[31]^=he(et)<<7}function Et(Fe,Ge,et){var Te,Ye;for(le(Fe[0],fe),le(Fe[1],ue),le(Fe[2],ue),le(Fe[3],fe),Ye=255;Ye>=0;--Ye)Te=et[Ye/8|0]>>(Ye&7)&1,lt(Fe,Ge,Te),ot(Ge,Fe),ot(Fe,Fe),lt(Fe,Ge,Te)}function St(Fe,Ge){var et=[te(),te(),te(),te()];le(et[0],Me),le(et[1],Pe),le(et[2],ue),Ie(et[3],Me,Pe),Et(Fe,et,Ge)}function ar(Fe,Ge,et){var Te=new Uint8Array(64),Ye=[te(),te(),te(),te()],bt;for(et||ne(Ge,32),ct(Te,Ge,32),Te[0]&=248,Te[31]&=127,Te[31]|=64,St(Ye,Te),Pt(Fe,Ye),bt=0;bt<32;bt++)Ge[bt+32]=Fe[bt];return 0}var Tt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Re(Fe,Ge){var et,Te,Ye,bt;for(Te=63;Te>=32;--Te){for(et=0,Ye=Te-32,bt=Te-12;Ye<bt;++Ye)Ge[Ye]+=et-16*Ge[Te]*Tt[Ye-(Te-32)],et=Math.floor((Ge[Ye]+128)/256),Ge[Ye]-=et*256;Ge[Ye]+=et,Ge[Te]=0}for(et=0,Ye=0;Ye<32;Ye++)Ge[Ye]+=et-(Ge[31]>>4)*Tt[Ye],et=Ge[Ye]>>8,Ge[Ye]&=255;for(Ye=0;Ye<32;Ye++)Ge[Ye]-=et*Tt[Ye];for(Te=0;Te<32;Te++)Ge[Te+1]+=Ge[Te]>>8,Fe[Te]=Ge[Te]&255}function we(Fe){var Ge=new Float64Array(64),et;for(et=0;et<64;et++)Ge[et]=Fe[et];for(et=0;et<64;et++)Fe[et]=0;Re(Fe,Ge)}function _e(Fe,Ge,et,Te){var Ye=new Uint8Array(64),bt=new Uint8Array(64),st=new Uint8Array(64),ut,qt,At=new Float64Array(64),wt=[te(),te(),te(),te()];ct(Ye,Te,32),Ye[0]&=248,Ye[31]&=127,Ye[31]|=64;var lr=et+64;for(ut=0;ut<et;ut++)Fe[64+ut]=Ge[ut];for(ut=0;ut<32;ut++)Fe[32+ut]=Ye[32+ut];for(ct(st,Fe.subarray(32),et+32),we(st),St(wt,st),Pt(Fe,wt),ut=32;ut<64;ut++)Fe[ut]=Te[ut];for(ct(bt,Fe,et+64),we(bt),ut=0;ut<64;ut++)At[ut]=0;for(ut=0;ut<32;ut++)At[ut]=st[ut];for(ut=0;ut<32;ut++)for(qt=0;qt<32;qt++)At[ut+qt]+=bt[ut]*Ye[qt];return Re(Fe.subarray(32),At),lr}function ke(Fe,Ge){var et=te(),Te=te(),Ye=te(),bt=te(),st=te(),ut=te(),qt=te();return le(Fe[2],ue),ae(Fe[1],Ge),We(Ye,Fe[1]),Ie(bt,Ye,Ee),ze(Ye,Ye,Fe[2]),be(bt,Fe[2],bt),We(st,bt),We(ut,st),Ie(qt,ut,st),Ie(et,qt,Ye),Ie(et,et,bt),nt(et,et),Ie(et,et,Ye),Ie(et,et,bt),Ie(et,et,bt),Ie(Fe[0],et,bt),We(Te,Fe[0]),Ie(Te,Te,bt),ve(Te,Ye)&&Ie(Fe[0],Fe[0],Ne),We(Te,Fe[0]),Ie(Te,Te,bt),ve(Te,Ye)?-1:(he(Fe[0])===Ge[31]>>7&&ze(Fe[0],fe,Fe[0]),Ie(Fe[3],Fe[0],Fe[1]),0)}function Ze(Fe,Ge,et,Te){var Ye,bt=new Uint8Array(32),st=new Uint8Array(64),ut=[te(),te(),te(),te()],qt=[te(),te(),te(),te()];if(et<64||ke(qt,Te))return-1;for(Ye=0;Ye<et;Ye++)Fe[Ye]=Ge[Ye];for(Ye=0;Ye<32;Ye++)Fe[Ye+32]=Te[Ye];if(ct(st,Fe,et),we(st),Et(ut,qt,st),St(qt,Ge.subarray(32)),ot(ut,qt),Pt(bt,ut),et-=64,Be(Ge,0,bt,0)){for(Ye=0;Ye<et;Ye++)Fe[Ye]=0;return-1}for(Ye=0;Ye<et;Ye++)Fe[Ye]=Ge[Ye+64];return et}var Je=32,tt=24,zt=32,_t=16,vt=32,nr=32,xt=32,Nt=32,Ar=32,Lt=tt,Ft=zt,Rr=_t,kt=64,Bt=32,_r=64,Ot=32,$t=64;ee.lowlevel={crypto_core_hsalsa20:qe,crypto_stream_xor:Qe,crypto_stream:mt,crypto_stream_salsa20_xor:Xe,crypto_stream_salsa20:rt,crypto_onetimeauth:$e,crypto_onetimeauth_verify:pe,crypto_verify_16:Ce,crypto_verify_32:Be,crypto_secretbox:oe,crypto_secretbox_open:ce,crypto_scalarmult:at,crypto_scalarmult_base:Ht,crypto_box_beforenm:gt,crypto_box_afternm:Jt,crypto_box:Mt,crypto_box_open:it,crypto_box_keypair:dt,crypto_hash:ct,crypto_sign:_e,crypto_sign_keypair:ar,crypto_sign_open:Ze,crypto_secretbox_KEYBYTES:Je,crypto_secretbox_NONCEBYTES:tt,crypto_secretbox_ZEROBYTES:zt,crypto_secretbox_BOXZEROBYTES:_t,crypto_scalarmult_BYTES:vt,crypto_scalarmult_SCALARBYTES:nr,crypto_box_PUBLICKEYBYTES:xt,crypto_box_SECRETKEYBYTES:Nt,crypto_box_BEFORENMBYTES:Ar,crypto_box_NONCEBYTES:Lt,crypto_box_ZEROBYTES:Ft,crypto_box_BOXZEROBYTES:Rr,crypto_sign_BYTES:kt,crypto_sign_PUBLICKEYBYTES:Bt,crypto_sign_SECRETKEYBYTES:_r,crypto_sign_SEEDBYTES:Ot,crypto_hash_BYTES:$t,gf:te,D:Ee,L:Tt,pack25519:me,unpack25519:ae,M:Ie,A:be,S:We,Z:ze,pow2523:nt,add:ot,set25519:le,modL:Re,scalarmult:Et,scalarbase:St};function Sr(Fe,Ge){if(Fe.length!==Je)throw new Error("bad key size");if(Ge.length!==tt)throw new Error("bad nonce size")}function Dt(Fe,Ge){if(Fe.length!==xt)throw new Error("bad public key size");if(Ge.length!==Nt)throw new Error("bad secret key size")}function Ct(){for(var Fe=0;Fe<arguments.length;Fe++)if(!(arguments[Fe]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Mr(Fe){for(var Ge=0;Ge<Fe.length;Ge++)Fe[Ge]=0}ee.randomBytes=function(Fe){var Ge=new Uint8Array(Fe);return ne(Ge,Fe),Ge},ee.secretbox=function(Fe,Ge,et){Ct(Fe,Ge,et),Sr(et,Ge);for(var Te=new Uint8Array(zt+Fe.length),Ye=new Uint8Array(Te.length),bt=0;bt<Fe.length;bt++)Te[bt+zt]=Fe[bt];return oe(Ye,Te,Te.length,Ge,et),Ye.subarray(_t)},ee.secretbox.open=function(Fe,Ge,et){Ct(Fe,Ge,et),Sr(et,Ge);for(var Te=new Uint8Array(_t+Fe.length),Ye=new Uint8Array(Te.length),bt=0;bt<Fe.length;bt++)Te[bt+_t]=Fe[bt];return Te.length<32||ce(Ye,Te,Te.length,Ge,et)!==0?null:Ye.subarray(zt)},ee.secretbox.keyLength=Je,ee.secretbox.nonceLength=tt,ee.secretbox.overheadLength=_t,ee.scalarMult=function(Fe,Ge){if(Ct(Fe,Ge),Fe.length!==nr)throw new Error("bad n size");if(Ge.length!==vt)throw new Error("bad p size");var et=new Uint8Array(vt);return at(et,Fe,Ge),et},ee.scalarMult.base=function(Fe){if(Ct(Fe),Fe.length!==nr)throw new Error("bad n size");var Ge=new Uint8Array(vt);return Ht(Ge,Fe),Ge},ee.scalarMult.scalarLength=nr,ee.scalarMult.groupElementLength=vt,ee.box=function(Fe,Ge,et,Te){var Ye=ee.box.before(et,Te);return ee.secretbox(Fe,Ge,Ye)},ee.box.before=function(Fe,Ge){Ct(Fe,Ge),Dt(Fe,Ge);var et=new Uint8Array(Ar);return gt(et,Fe,Ge),et},ee.box.after=ee.secretbox,ee.box.open=function(Fe,Ge,et,Te){var Ye=ee.box.before(et,Te);return ee.secretbox.open(Fe,Ge,Ye)},ee.box.open.after=ee.secretbox.open,ee.box.keyPair=function(){var Fe=new Uint8Array(xt),Ge=new Uint8Array(Nt);return dt(Fe,Ge),{publicKey:Fe,secretKey:Ge}},ee.box.keyPair.fromSecretKey=function(Fe){if(Ct(Fe),Fe.length!==Nt)throw new Error("bad secret key size");var Ge=new Uint8Array(xt);return Ht(Ge,Fe),{publicKey:Ge,secretKey:new Uint8Array(Fe)}},ee.box.publicKeyLength=xt,ee.box.secretKeyLength=Nt,ee.box.sharedKeyLength=Ar,ee.box.nonceLength=Lt,ee.box.overheadLength=ee.secretbox.overheadLength,ee.sign=function(Fe,Ge){if(Ct(Fe,Ge),Ge.length!==_r)throw new Error("bad secret key size");var et=new Uint8Array(kt+Fe.length);return _e(et,Fe,Fe.length,Ge),et},ee.sign.open=function(Fe,Ge){if(Ct(Fe,Ge),Ge.length!==Bt)throw new Error("bad public key size");var et=new Uint8Array(Fe.length),Te=Ze(et,Fe,Fe.length,Ge);if(Te<0)return null;for(var Ye=new Uint8Array(Te),bt=0;bt<Ye.length;bt++)Ye[bt]=et[bt];return Ye},ee.sign.detached=function(Fe,Ge){for(var et=ee.sign(Fe,Ge),Te=new Uint8Array(kt),Ye=0;Ye<Te.length;Ye++)Te[Ye]=et[Ye];return Te},ee.sign.detached.verify=function(Fe,Ge,et){if(Ct(Fe,Ge,et),Ge.length!==kt)throw new Error("bad signature size");if(et.length!==Bt)throw new Error("bad public key size");var Te=new Uint8Array(kt+Fe.length),Ye=new Uint8Array(kt+Fe.length),bt;for(bt=0;bt<kt;bt++)Te[bt]=Ge[bt];for(bt=0;bt<Fe.length;bt++)Te[bt+kt]=Fe[bt];return Ze(Ye,Te,Te.length,et)>=0},ee.sign.keyPair=function(){var Fe=new Uint8Array(Bt),Ge=new Uint8Array(_r);return ar(Fe,Ge),{publicKey:Fe,secretKey:Ge}},ee.sign.keyPair.fromSecretKey=function(Fe){if(Ct(Fe),Fe.length!==_r)throw new Error("bad secret key size");for(var Ge=new Uint8Array(Bt),et=0;et<Ge.length;et++)Ge[et]=Fe[32+et];return{publicKey:Ge,secretKey:new Uint8Array(Fe)}},ee.sign.keyPair.fromSeed=function(Fe){if(Ct(Fe),Fe.length!==Ot)throw new Error("bad seed size");for(var Ge=new Uint8Array(Bt),et=new Uint8Array(_r),Te=0;Te<32;Te++)et[Te]=Fe[Te];return ar(Ge,et,!0),{publicKey:Ge,secretKey:et}},ee.sign.publicKeyLength=Bt,ee.sign.secretKeyLength=_r,ee.sign.seedLength=Ot,ee.sign.signatureLength=kt,ee.hash=function(Fe){Ct(Fe);var Ge=new Uint8Array($t);return ct(Ge,Fe,Fe.length),Ge},ee.hash.hashLength=$t,ee.verify=function(Fe,Ge){return Ct(Fe,Ge),Fe.length===0||Ge.length===0||Fe.length!==Ge.length?!1:Ue(Fe,0,Ge,0,Fe.length)===0},ee.setPRNG=function(Fe){ne=Fe},function(){var Fe=typeof self<"u"?self.crypto||self.msCrypto:null;if(Fe&&Fe.getRandomValues){var Ge=65536;ee.setPRNG(function(et,Te){var Ye,bt=new Uint8Array(Te);for(Ye=0;Ye<Te;Ye+=Ge)Fe.getRandomValues(bt.subarray(Ye,Ye+Math.min(Te-Ye,Ge)));for(Ye=0;Ye<Te;Ye++)et[Ye]=bt[Ye];Mr(bt)})}else typeof commonjsRequire$1<"u"&&(Fe=require$$0$4,Fe&&Fe.randomBytes&&ee.setPRNG(function(et,Te){var Ye,bt=Fe.randomBytes(Te);for(Ye=0;Ye<Te;Ye++)et[Ye]=bt[Ye];Mr(bt)}))}()})(re.exports?re.exports:self.nacl=self.nacl||{})})(naclFast);var serialize$2={},lib$4={},bn$4={exports:{}};(function(re){(function(ee,te){function ne(pe,oe){if(!pe)throw new Error(oe||"Assertion failed")}function se(pe,oe){pe.super_=oe;var ce=function(){};ce.prototype=oe.prototype,pe.prototype=new ce,pe.prototype.constructor=pe}function ie(pe,oe,ce){if(ie.isBN(pe))return pe;this.negative=0,this.words=null,this.length=0,this.red=null,pe!==null&&((oe==="le"||oe==="be")&&(ce=oe,oe=10),this._init(pe||0,oe||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{typeof window<"u"&&typeof window.Buffer<"u"?fe=window.Buffer:fe=require$$0$4.Buffer}catch{}ie.isBN=function(oe){return oe instanceof ie?!0:oe!==null&&typeof oe=="object"&&oe.constructor.wordSize===ie.wordSize&&Array.isArray(oe.words)},ie.max=function(oe,ce){return oe.cmp(ce)>0?oe:ce},ie.min=function(oe,ce){return oe.cmp(ce)<0?oe:ce},ie.prototype._init=function(oe,ce,le){if(typeof oe=="number")return this._initNumber(oe,ce,le);if(typeof oe=="object")return this._initArray(oe,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),oe=oe.toString().replace(/\s+/g,"");var ge=0;oe[0]==="-"&&(ge++,this.negative=1),ge<oe.length&&(ce===16?this._parseHex(oe,ge,le):(this._parseBase(oe,ce,ge),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(oe,ce,le){oe<0&&(this.negative=1,oe=-oe),oe<67108864?(this.words=[oe&67108863],this.length=1):oe<4503599627370496?(this.words=[oe&67108863,oe/67108864&67108863],this.length=2):(ne(oe<9007199254740992),this.words=[oe&67108863,oe/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(oe,ce,le){if(ne(typeof oe.length=="number"),oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(oe.length/3),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye,me,ve=0;if(le==="be")for(ge=oe.length-1,ye=0;ge>=0;ge-=3)me=oe[ge]|oe[ge-1]<<8|oe[ge-2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);else if(le==="le")for(ge=0,ye=0;ge<oe.length;ge+=3)me=oe[ge]|oe[ge+1]<<8|oe[ge+2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);return this._strip()};function ue(pe,oe){var ce=pe.charCodeAt(oe);if(ce>=48&&ce<=57)return ce-48;if(ce>=65&&ce<=70)return ce-55;if(ce>=97&&ce<=102)return ce-87;ne(!1,"Invalid character in "+pe)}function xe(pe,oe,ce){var le=ue(pe,ce);return ce-1>=oe&&(le|=ue(pe,ce-1)<<4),le}ie.prototype._parseHex=function(oe,ce,le){this.length=Math.ceil((oe.length-ce)/6),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye=0,me=0,ve;if(le==="be")for(ge=oe.length-1;ge>=ce;ge-=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8;else{var he=oe.length-ce;for(ge=he%2===0?ce+1:ce;ge<oe.length;ge+=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8}this._strip()};function Ee(pe,oe,ce,le){for(var ge=0,ye=0,me=Math.min(pe.length,ce),ve=oe;ve<me;ve++){var he=pe.charCodeAt(ve)-48;ge*=le,he>=49?ye=he-49+10:he>=17?ye=he-17+10:ye=he,ne(he>=0&&ye<le,"Invalid character"),ge+=ye}return ge}ie.prototype._parseBase=function(oe,ce,le){this.words=[0],this.length=1;for(var ge=0,ye=1;ye<=67108863;ye*=ce)ge++;ge--,ye=ye/ce|0;for(var me=oe.length-le,ve=me%ge,he=Math.min(me,me-ve)+le,ae=0,be=le;be<he;be+=ge)ae=Ee(oe,be,be+ge,ce),this.imuln(ye),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae);if(ve!==0){var ze=1;for(ae=Ee(oe,be,oe.length,ce),be=0;be<ve;be++)ze*=ce;this.imuln(ze),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae)}this._strip()},ie.prototype.copy=function(oe){oe.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)oe.words[ce]=this.words[ce];oe.length=this.length,oe.negative=this.negative,oe.red=this.red};function Ae(pe,oe){pe.words=oe.words,pe.length=oe.length,pe.negative=oe.negative,pe.red=oe.red}if(ie.prototype._move=function(oe){Ae(oe,this)},ie.prototype.clone=function(){var oe=new ie(null);return this.copy(oe),oe},ie.prototype._expand=function(oe){for(;this.length<oe;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me}catch{ie.prototype.inspect=Me}else ie.prototype.inspect=Me;function Me(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ne=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(oe,ce){oe=oe||10,ce=ce|0||1;var le;if(oe===16||oe==="hex"){le="";for(var ge=0,ye=0,me=0;me<this.length;me++){var ve=this.words[me],he=((ve<<ge|ye)&16777215).toString(16);ye=ve>>>24-ge&16777215,ge+=2,ge>=26&&(ge-=26,me--),ye!==0||me!==this.length-1?le=Pe[6-he.length]+he+le:le=he+le}for(ye!==0&&(le=ye.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(oe===(oe|0)&&oe>=2&&oe<=36){var ae=Ne[oe],be=je[oe];le="";var ze=this.clone();for(ze.negative=0;!ze.isZero();){var Ie=ze.modrn(be).toString(oe);ze=ze.idivn(be),ze.isZero()?le=Ie+le:le=Pe[ae-Ie.length]+Ie+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var oe=this.words[0];return this.length===2?oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?oe+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-oe:oe},ie.prototype.toJSON=function(){return this.toString(16,2)},fe&&(ie.prototype.toBuffer=function(oe,ce){return this.toArrayLike(fe,oe,ce)}),ie.prototype.toArray=function(oe,ce){return this.toArrayLike(Array,oe,ce)};var Ue=function(oe,ce){return oe.allocUnsafe?oe.allocUnsafe(ce):new oe(ce)};ie.prototype.toArrayLike=function(oe,ce,le){this._strip();var ge=this.byteLength(),ye=le||Math.max(1,ge);ne(ge<=ye,"byte array longer than desired length"),ne(ye>0,"Requested array length <= 0");var me=Ue(oe,ye),ve=ce==="le"?"LE":"BE";return this["_toArrayLike"+ve](me,ge),me},ie.prototype._toArrayLikeLE=function(oe,ce){for(var le=0,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le++]=ve&255,le<oe.length&&(oe[le++]=ve>>8&255),le<oe.length&&(oe[le++]=ve>>16&255),me===6?(le<oe.length&&(oe[le++]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le<oe.length)for(oe[le++]=ge;le<oe.length;)oe[le++]=0},ie.prototype._toArrayLikeBE=function(oe,ce){for(var le=oe.length-1,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le--]=ve&255,le>=0&&(oe[le--]=ve>>8&255),le>=0&&(oe[le--]=ve>>16&255),me===6?(le>=0&&(oe[le--]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le>=0)for(oe[le--]=ge;le>=0;)oe[le--]=0},Math.clz32?ie.prototype._countBits=function(oe){return 32-Math.clz32(oe)}:ie.prototype._countBits=function(oe){var ce=oe,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(oe){if(oe===0)return 26;var ce=oe,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var oe=this.words[this.length-1],ce=this._countBits(oe);return(this.length-1)*26+ce};function Ce(pe){for(var oe=new Array(pe.bitLength()),ce=0;ce<oe.length;ce++){var le=ce/26|0,ge=ce%26;oe[ce]=pe.words[le]>>>ge&1}return oe}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var oe=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(oe+=le,le!==26)break}return oe},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(oe){return this.negative!==0?this.abs().inotn(oe).iaddn(1):this.clone()},ie.prototype.fromTwos=function(oe){return this.testn(oe-1)?this.notn(oe).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(oe){for(;this.length<oe.length;)this.words[this.length++]=0;for(var ce=0;ce<oe.length;ce++)this.words[ce]=this.words[ce]|oe.words[ce];return this._strip()},ie.prototype.ior=function(oe){return ne((this.negative|oe.negative)===0),this.iuor(oe)},ie.prototype.or=function(oe){return this.length>oe.length?this.clone().ior(oe):oe.clone().ior(this)},ie.prototype.uor=function(oe){return this.length>oe.length?this.clone().iuor(oe):oe.clone().iuor(this)},ie.prototype.iuand=function(oe){var ce;this.length>oe.length?ce=oe:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&oe.words[le];return this.length=ce.length,this._strip()},ie.prototype.iand=function(oe){return ne((this.negative|oe.negative)===0),this.iuand(oe)},ie.prototype.and=function(oe){return this.length>oe.length?this.clone().iand(oe):oe.clone().iand(this)},ie.prototype.uand=function(oe){return this.length>oe.length?this.clone().iuand(oe):oe.clone().iuand(this)},ie.prototype.iuxor=function(oe){var ce,le;this.length>oe.length?(ce=this,le=oe):(ce=oe,le=this);for(var ge=0;ge<le.length;ge++)this.words[ge]=ce.words[ge]^le.words[ge];if(this!==ce)for(;ge<ce.length;ge++)this.words[ge]=ce.words[ge];return this.length=ce.length,this._strip()},ie.prototype.ixor=function(oe){return ne((this.negative|oe.negative)===0),this.iuxor(oe)},ie.prototype.xor=function(oe){return this.length>oe.length?this.clone().ixor(oe):oe.clone().ixor(this)},ie.prototype.uxor=function(oe){return this.length>oe.length?this.clone().iuxor(oe):oe.clone().iuxor(this)},ie.prototype.inotn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=Math.ceil(oe/26)|0,le=oe%26;this._expand(ce),le>0&&ce--;for(var ge=0;ge<ce;ge++)this.words[ge]=~this.words[ge]&67108863;return le>0&&(this.words[ge]=~this.words[ge]&67108863>>26-le),this._strip()},ie.prototype.notn=function(oe){return this.clone().inotn(oe)},ie.prototype.setn=function(oe,ce){ne(typeof oe=="number"&&oe>=0);var le=oe/26|0,ge=oe%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<ge:this.words[le]=this.words[le]&~(1<<ge),this._strip()},ie.prototype.iadd=function(oe){var ce;if(this.negative!==0&&oe.negative===0)return this.negative=0,ce=this.isub(oe),this.negative^=1,this._normSign();if(this.negative===0&&oe.negative!==0)return oe.negative=0,ce=this.isub(oe),oe.negative=1,ce._normSign();var le,ge;this.length>oe.length?(le=this,ge=oe):(le=oe,ge=this);for(var ye=0,me=0;me<ge.length;me++)ce=(le.words[me]|0)+(ge.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;for(;ye!==0&&me<le.length;me++)ce=(le.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;if(this.length=le.length,ye!==0)this.words[this.length]=ye,this.length++;else if(le!==this)for(;me<le.length;me++)this.words[me]=le.words[me];return this},ie.prototype.add=function(oe){var ce;return oe.negative!==0&&this.negative===0?(oe.negative=0,ce=this.sub(oe),oe.negative^=1,ce):oe.negative===0&&this.negative!==0?(this.negative=0,ce=oe.sub(this),this.negative=1,ce):this.length>oe.length?this.clone().iadd(oe):oe.clone().iadd(this)},ie.prototype.isub=function(oe){if(oe.negative!==0){oe.negative=0;var ce=this.iadd(oe);return oe.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(oe),this.negative=1,this._normSign();var le=this.cmp(oe);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ge,ye;le>0?(ge=this,ye=oe):(ge=oe,ye=this);for(var me=0,ve=0;ve<ye.length;ve++)ce=(ge.words[ve]|0)-(ye.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;for(;me!==0&&ve<ge.length;ve++)ce=(ge.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;if(me===0&&ve<ge.length&&ge!==this)for(;ve<ge.length;ve++)this.words[ve]=ge.words[ve];return this.length=Math.max(this.length,ve),ge!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(oe){return this.clone().isub(oe)};function Be(pe,oe,ce){ce.negative=oe.negative^pe.negative;var le=pe.length+oe.length|0;ce.length=le,le=le-1|0;var ge=pe.words[0]|0,ye=oe.words[0]|0,me=ge*ye,ve=me&67108863,he=me/67108864|0;ce.words[0]=ve;for(var ae=1;ae<le;ae++){for(var be=he>>>26,ze=he&67108863,Ie=Math.min(ae,oe.length-1),We=Math.max(0,ae-pe.length+1);We<=Ie;We++){var ft=ae-We|0;ge=pe.words[ft]|0,ye=oe.words[We]|0,me=ge*ye+ze,be+=me/67108864|0,ze=me&67108863}ce.words[ae]=ze|0,he=be|0}return he!==0?ce.words[ae]=he|0:ce.length--,ce._strip()}var He=function(oe,ce,le){var ge=oe.words,ye=ce.words,me=le.words,ve=0,he,ae,be,ze=ge[0]|0,Ie=ze&8191,We=ze>>>13,ft=ge[1]|0,nt=ft&8191,at=ft>>>13,Ht=ge[2]|0,dt=Ht&8191,gt=Ht>>>13,Jt=ge[3]|0,yt=Jt&8191,Mt=Jt>>>13,it=ge[4]|0,Le=it&8191,De=it>>>13,ct=ge[5]|0,ot=ct&8191,lt=ct>>>13,Pt=ge[6]|0,Et=Pt&8191,St=Pt>>>13,ar=ge[7]|0,Tt=ar&8191,Re=ar>>>13,we=ge[8]|0,_e=we&8191,ke=we>>>13,Ze=ge[9]|0,Je=Ze&8191,tt=Ze>>>13,zt=ye[0]|0,_t=zt&8191,vt=zt>>>13,nr=ye[1]|0,xt=nr&8191,Nt=nr>>>13,Ar=ye[2]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ye[3]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ye[4]|0,Ot=_r&8191,$t=_r>>>13,Sr=ye[5]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ye[6]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ye[7]|0,Te=et&8191,Ye=et>>>13,bt=ye[8]|0,st=bt&8191,ut=bt>>>13,qt=ye[9]|0,At=qt&8191,wt=qt>>>13;le.negative=oe.negative^ce.negative,le.length=19,he=Math.imul(Ie,_t),ae=Math.imul(Ie,vt),ae=ae+Math.imul(We,_t)|0,be=Math.imul(We,vt);var lr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(lr>>>26)|0,lr&=67108863,he=Math.imul(nt,_t),ae=Math.imul(nt,vt),ae=ae+Math.imul(at,_t)|0,be=Math.imul(at,vt),he=he+Math.imul(Ie,xt)|0,ae=ae+Math.imul(Ie,Nt)|0,ae=ae+Math.imul(We,xt)|0,be=be+Math.imul(We,Nt)|0;var Wt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,he=Math.imul(dt,_t),ae=Math.imul(dt,vt),ae=ae+Math.imul(gt,_t)|0,be=Math.imul(gt,vt),he=he+Math.imul(nt,xt)|0,ae=ae+Math.imul(nt,Nt)|0,ae=ae+Math.imul(at,xt)|0,be=be+Math.imul(at,Nt)|0,he=he+Math.imul(Ie,Lt)|0,ae=ae+Math.imul(Ie,Ft)|0,ae=ae+Math.imul(We,Lt)|0,be=be+Math.imul(We,Ft)|0;var tr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(tr>>>26)|0,tr&=67108863,he=Math.imul(yt,_t),ae=Math.imul(yt,vt),ae=ae+Math.imul(Mt,_t)|0,be=Math.imul(Mt,vt),he=he+Math.imul(dt,xt)|0,ae=ae+Math.imul(dt,Nt)|0,ae=ae+Math.imul(gt,xt)|0,be=be+Math.imul(gt,Nt)|0,he=he+Math.imul(nt,Lt)|0,ae=ae+Math.imul(nt,Ft)|0,ae=ae+Math.imul(at,Lt)|0,be=be+Math.imul(at,Ft)|0,he=he+Math.imul(Ie,kt)|0,ae=ae+Math.imul(Ie,Bt)|0,ae=ae+Math.imul(We,kt)|0,be=be+Math.imul(We,Bt)|0;var rr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(rr>>>26)|0,rr&=67108863,he=Math.imul(Le,_t),ae=Math.imul(Le,vt),ae=ae+Math.imul(De,_t)|0,be=Math.imul(De,vt),he=he+Math.imul(yt,xt)|0,ae=ae+Math.imul(yt,Nt)|0,ae=ae+Math.imul(Mt,xt)|0,be=be+Math.imul(Mt,Nt)|0,he=he+Math.imul(dt,Lt)|0,ae=ae+Math.imul(dt,Ft)|0,ae=ae+Math.imul(gt,Lt)|0,be=be+Math.imul(gt,Ft)|0,he=he+Math.imul(nt,kt)|0,ae=ae+Math.imul(nt,Bt)|0,ae=ae+Math.imul(at,kt)|0,be=be+Math.imul(at,Bt)|0,he=he+Math.imul(Ie,Ot)|0,ae=ae+Math.imul(Ie,$t)|0,ae=ae+Math.imul(We,Ot)|0,be=be+Math.imul(We,$t)|0;var ir=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ir>>>26)|0,ir&=67108863,he=Math.imul(ot,_t),ae=Math.imul(ot,vt),ae=ae+Math.imul(lt,_t)|0,be=Math.imul(lt,vt),he=he+Math.imul(Le,xt)|0,ae=ae+Math.imul(Le,Nt)|0,ae=ae+Math.imul(De,xt)|0,be=be+Math.imul(De,Nt)|0,he=he+Math.imul(yt,Lt)|0,ae=ae+Math.imul(yt,Ft)|0,ae=ae+Math.imul(Mt,Lt)|0,be=be+Math.imul(Mt,Ft)|0,he=he+Math.imul(dt,kt)|0,ae=ae+Math.imul(dt,Bt)|0,ae=ae+Math.imul(gt,kt)|0,be=be+Math.imul(gt,Bt)|0,he=he+Math.imul(nt,Ot)|0,ae=ae+Math.imul(nt,$t)|0,ae=ae+Math.imul(at,Ot)|0,be=be+Math.imul(at,$t)|0,he=he+Math.imul(Ie,Dt)|0,ae=ae+Math.imul(Ie,Ct)|0,ae=ae+Math.imul(We,Dt)|0,be=be+Math.imul(We,Ct)|0;var ur=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ur>>>26)|0,ur&=67108863,he=Math.imul(Et,_t),ae=Math.imul(Et,vt),ae=ae+Math.imul(St,_t)|0,be=Math.imul(St,vt),he=he+Math.imul(ot,xt)|0,ae=ae+Math.imul(ot,Nt)|0,ae=ae+Math.imul(lt,xt)|0,be=be+Math.imul(lt,Nt)|0,he=he+Math.imul(Le,Lt)|0,ae=ae+Math.imul(Le,Ft)|0,ae=ae+Math.imul(De,Lt)|0,be=be+Math.imul(De,Ft)|0,he=he+Math.imul(yt,kt)|0,ae=ae+Math.imul(yt,Bt)|0,ae=ae+Math.imul(Mt,kt)|0,be=be+Math.imul(Mt,Bt)|0,he=he+Math.imul(dt,Ot)|0,ae=ae+Math.imul(dt,$t)|0,ae=ae+Math.imul(gt,Ot)|0,be=be+Math.imul(gt,$t)|0,he=he+Math.imul(nt,Dt)|0,ae=ae+Math.imul(nt,Ct)|0,ae=ae+Math.imul(at,Dt)|0,be=be+Math.imul(at,Ct)|0,he=he+Math.imul(Ie,Fe)|0,ae=ae+Math.imul(Ie,Ge)|0,ae=ae+Math.imul(We,Fe)|0,be=be+Math.imul(We,Ge)|0;var or=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(or>>>26)|0,or&=67108863,he=Math.imul(Tt,_t),ae=Math.imul(Tt,vt),ae=ae+Math.imul(Re,_t)|0,be=Math.imul(Re,vt),he=he+Math.imul(Et,xt)|0,ae=ae+Math.imul(Et,Nt)|0,ae=ae+Math.imul(St,xt)|0,be=be+Math.imul(St,Nt)|0,he=he+Math.imul(ot,Lt)|0,ae=ae+Math.imul(ot,Ft)|0,ae=ae+Math.imul(lt,Lt)|0,be=be+Math.imul(lt,Ft)|0,he=he+Math.imul(Le,kt)|0,ae=ae+Math.imul(Le,Bt)|0,ae=ae+Math.imul(De,kt)|0,be=be+Math.imul(De,Bt)|0,he=he+Math.imul(yt,Ot)|0,ae=ae+Math.imul(yt,$t)|0,ae=ae+Math.imul(Mt,Ot)|0,be=be+Math.imul(Mt,$t)|0,he=he+Math.imul(dt,Dt)|0,ae=ae+Math.imul(dt,Ct)|0,ae=ae+Math.imul(gt,Dt)|0,be=be+Math.imul(gt,Ct)|0,he=he+Math.imul(nt,Fe)|0,ae=ae+Math.imul(nt,Ge)|0,ae=ae+Math.imul(at,Fe)|0,be=be+Math.imul(at,Ge)|0,he=he+Math.imul(Ie,Te)|0,ae=ae+Math.imul(Ie,Ye)|0,ae=ae+Math.imul(We,Te)|0,be=be+Math.imul(We,Ye)|0;var cr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(cr>>>26)|0,cr&=67108863,he=Math.imul(_e,_t),ae=Math.imul(_e,vt),ae=ae+Math.imul(ke,_t)|0,be=Math.imul(ke,vt),he=he+Math.imul(Tt,xt)|0,ae=ae+Math.imul(Tt,Nt)|0,ae=ae+Math.imul(Re,xt)|0,be=be+Math.imul(Re,Nt)|0,he=he+Math.imul(Et,Lt)|0,ae=ae+Math.imul(Et,Ft)|0,ae=ae+Math.imul(St,Lt)|0,be=be+Math.imul(St,Ft)|0,he=he+Math.imul(ot,kt)|0,ae=ae+Math.imul(ot,Bt)|0,ae=ae+Math.imul(lt,kt)|0,be=be+Math.imul(lt,Bt)|0,he=he+Math.imul(Le,Ot)|0,ae=ae+Math.imul(Le,$t)|0,ae=ae+Math.imul(De,Ot)|0,be=be+Math.imul(De,$t)|0,he=he+Math.imul(yt,Dt)|0,ae=ae+Math.imul(yt,Ct)|0,ae=ae+Math.imul(Mt,Dt)|0,be=be+Math.imul(Mt,Ct)|0,he=he+Math.imul(dt,Fe)|0,ae=ae+Math.imul(dt,Ge)|0,ae=ae+Math.imul(gt,Fe)|0,be=be+Math.imul(gt,Ge)|0,he=he+Math.imul(nt,Te)|0,ae=ae+Math.imul(nt,Ye)|0,ae=ae+Math.imul(at,Te)|0,be=be+Math.imul(at,Ye)|0,he=he+Math.imul(Ie,st)|0,ae=ae+Math.imul(Ie,ut)|0,ae=ae+Math.imul(We,st)|0,be=be+Math.imul(We,ut)|0;var sr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(sr>>>26)|0,sr&=67108863,he=Math.imul(Je,_t),ae=Math.imul(Je,vt),ae=ae+Math.imul(tt,_t)|0,be=Math.imul(tt,vt),he=he+Math.imul(_e,xt)|0,ae=ae+Math.imul(_e,Nt)|0,ae=ae+Math.imul(ke,xt)|0,be=be+Math.imul(ke,Nt)|0,he=he+Math.imul(Tt,Lt)|0,ae=ae+Math.imul(Tt,Ft)|0,ae=ae+Math.imul(Re,Lt)|0,be=be+Math.imul(Re,Ft)|0,he=he+Math.imul(Et,kt)|0,ae=ae+Math.imul(Et,Bt)|0,ae=ae+Math.imul(St,kt)|0,be=be+Math.imul(St,Bt)|0,he=he+Math.imul(ot,Ot)|0,ae=ae+Math.imul(ot,$t)|0,ae=ae+Math.imul(lt,Ot)|0,be=be+Math.imul(lt,$t)|0,he=he+Math.imul(Le,Dt)|0,ae=ae+Math.imul(Le,Ct)|0,ae=ae+Math.imul(De,Dt)|0,be=be+Math.imul(De,Ct)|0,he=he+Math.imul(yt,Fe)|0,ae=ae+Math.imul(yt,Ge)|0,ae=ae+Math.imul(Mt,Fe)|0,be=be+Math.imul(Mt,Ge)|0,he=he+Math.imul(dt,Te)|0,ae=ae+Math.imul(dt,Ye)|0,ae=ae+Math.imul(gt,Te)|0,be=be+Math.imul(gt,Ye)|0,he=he+Math.imul(nt,st)|0,ae=ae+Math.imul(nt,ut)|0,ae=ae+Math.imul(at,st)|0,be=be+Math.imul(at,ut)|0,he=he+Math.imul(Ie,At)|0,ae=ae+Math.imul(Ie,wt)|0,ae=ae+Math.imul(We,At)|0,be=be+Math.imul(We,wt)|0;var Zt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,he=Math.imul(Je,xt),ae=Math.imul(Je,Nt),ae=ae+Math.imul(tt,xt)|0,be=Math.imul(tt,Nt),he=he+Math.imul(_e,Lt)|0,ae=ae+Math.imul(_e,Ft)|0,ae=ae+Math.imul(ke,Lt)|0,be=be+Math.imul(ke,Ft)|0,he=he+Math.imul(Tt,kt)|0,ae=ae+Math.imul(Tt,Bt)|0,ae=ae+Math.imul(Re,kt)|0,be=be+Math.imul(Re,Bt)|0,he=he+Math.imul(Et,Ot)|0,ae=ae+Math.imul(Et,$t)|0,ae=ae+Math.imul(St,Ot)|0,be=be+Math.imul(St,$t)|0,he=he+Math.imul(ot,Dt)|0,ae=ae+Math.imul(ot,Ct)|0,ae=ae+Math.imul(lt,Dt)|0,be=be+Math.imul(lt,Ct)|0,he=he+Math.imul(Le,Fe)|0,ae=ae+Math.imul(Le,Ge)|0,ae=ae+Math.imul(De,Fe)|0,be=be+Math.imul(De,Ge)|0,he=he+Math.imul(yt,Te)|0,ae=ae+Math.imul(yt,Ye)|0,ae=ae+Math.imul(Mt,Te)|0,be=be+Math.imul(Mt,Ye)|0,he=he+Math.imul(dt,st)|0,ae=ae+Math.imul(dt,ut)|0,ae=ae+Math.imul(gt,st)|0,be=be+Math.imul(gt,ut)|0,he=he+Math.imul(nt,At)|0,ae=ae+Math.imul(nt,wt)|0,ae=ae+Math.imul(at,At)|0,be=be+Math.imul(at,wt)|0;var er=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(er>>>26)|0,er&=67108863,he=Math.imul(Je,Lt),ae=Math.imul(Je,Ft),ae=ae+Math.imul(tt,Lt)|0,be=Math.imul(tt,Ft),he=he+Math.imul(_e,kt)|0,ae=ae+Math.imul(_e,Bt)|0,ae=ae+Math.imul(ke,kt)|0,be=be+Math.imul(ke,Bt)|0,he=he+Math.imul(Tt,Ot)|0,ae=ae+Math.imul(Tt,$t)|0,ae=ae+Math.imul(Re,Ot)|0,be=be+Math.imul(Re,$t)|0,he=he+Math.imul(Et,Dt)|0,ae=ae+Math.imul(Et,Ct)|0,ae=ae+Math.imul(St,Dt)|0,be=be+Math.imul(St,Ct)|0,he=he+Math.imul(ot,Fe)|0,ae=ae+Math.imul(ot,Ge)|0,ae=ae+Math.imul(lt,Fe)|0,be=be+Math.imul(lt,Ge)|0,he=he+Math.imul(Le,Te)|0,ae=ae+Math.imul(Le,Ye)|0,ae=ae+Math.imul(De,Te)|0,be=be+Math.imul(De,Ye)|0,he=he+Math.imul(yt,st)|0,ae=ae+Math.imul(yt,ut)|0,ae=ae+Math.imul(Mt,st)|0,be=be+Math.imul(Mt,ut)|0,he=he+Math.imul(dt,At)|0,ae=ae+Math.imul(dt,wt)|0,ae=ae+Math.imul(gt,At)|0,be=be+Math.imul(gt,wt)|0;var Yt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,he=Math.imul(Je,kt),ae=Math.imul(Je,Bt),ae=ae+Math.imul(tt,kt)|0,be=Math.imul(tt,Bt),he=he+Math.imul(_e,Ot)|0,ae=ae+Math.imul(_e,$t)|0,ae=ae+Math.imul(ke,Ot)|0,be=be+Math.imul(ke,$t)|0,he=he+Math.imul(Tt,Dt)|0,ae=ae+Math.imul(Tt,Ct)|0,ae=ae+Math.imul(Re,Dt)|0,be=be+Math.imul(Re,Ct)|0,he=he+Math.imul(Et,Fe)|0,ae=ae+Math.imul(Et,Ge)|0,ae=ae+Math.imul(St,Fe)|0,be=be+Math.imul(St,Ge)|0,he=he+Math.imul(ot,Te)|0,ae=ae+Math.imul(ot,Ye)|0,ae=ae+Math.imul(lt,Te)|0,be=be+Math.imul(lt,Ye)|0,he=he+Math.imul(Le,st)|0,ae=ae+Math.imul(Le,ut)|0,ae=ae+Math.imul(De,st)|0,be=be+Math.imul(De,ut)|0,he=he+Math.imul(yt,At)|0,ae=ae+Math.imul(yt,wt)|0,ae=ae+Math.imul(Mt,At)|0,be=be+Math.imul(Mt,wt)|0;var Xt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,he=Math.imul(Je,Ot),ae=Math.imul(Je,$t),ae=ae+Math.imul(tt,Ot)|0,be=Math.imul(tt,$t),he=he+Math.imul(_e,Dt)|0,ae=ae+Math.imul(_e,Ct)|0,ae=ae+Math.imul(ke,Dt)|0,be=be+Math.imul(ke,Ct)|0,he=he+Math.imul(Tt,Fe)|0,ae=ae+Math.imul(Tt,Ge)|0,ae=ae+Math.imul(Re,Fe)|0,be=be+Math.imul(Re,Ge)|0,he=he+Math.imul(Et,Te)|0,ae=ae+Math.imul(Et,Ye)|0,ae=ae+Math.imul(St,Te)|0,be=be+Math.imul(St,Ye)|0,he=he+Math.imul(ot,st)|0,ae=ae+Math.imul(ot,ut)|0,ae=ae+Math.imul(lt,st)|0,be=be+Math.imul(lt,ut)|0,he=he+Math.imul(Le,At)|0,ae=ae+Math.imul(Le,wt)|0,ae=ae+Math.imul(De,At)|0,be=be+Math.imul(De,wt)|0;var Qt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,he=Math.imul(Je,Dt),ae=Math.imul(Je,Ct),ae=ae+Math.imul(tt,Dt)|0,be=Math.imul(tt,Ct),he=he+Math.imul(_e,Fe)|0,ae=ae+Math.imul(_e,Ge)|0,ae=ae+Math.imul(ke,Fe)|0,be=be+Math.imul(ke,Ge)|0,he=he+Math.imul(Tt,Te)|0,ae=ae+Math.imul(Tt,Ye)|0,ae=ae+Math.imul(Re,Te)|0,be=be+Math.imul(Re,Ye)|0,he=he+Math.imul(Et,st)|0,ae=ae+Math.imul(Et,ut)|0,ae=ae+Math.imul(St,st)|0,be=be+Math.imul(St,ut)|0,he=he+Math.imul(ot,At)|0,ae=ae+Math.imul(ot,wt)|0,ae=ae+Math.imul(lt,At)|0,be=be+Math.imul(lt,wt)|0;var Gt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,he=Math.imul(Je,Fe),ae=Math.imul(Je,Ge),ae=ae+Math.imul(tt,Fe)|0,be=Math.imul(tt,Ge),he=he+Math.imul(_e,Te)|0,ae=ae+Math.imul(_e,Ye)|0,ae=ae+Math.imul(ke,Te)|0,be=be+Math.imul(ke,Ye)|0,he=he+Math.imul(Tt,st)|0,ae=ae+Math.imul(Tt,ut)|0,ae=ae+Math.imul(Re,st)|0,be=be+Math.imul(Re,ut)|0,he=he+Math.imul(Et,At)|0,ae=ae+Math.imul(Et,wt)|0,ae=ae+Math.imul(St,At)|0,be=be+Math.imul(St,wt)|0;var Rt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,he=Math.imul(Je,Te),ae=Math.imul(Je,Ye),ae=ae+Math.imul(tt,Te)|0,be=Math.imul(tt,Ye),he=he+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,ut)|0,ae=ae+Math.imul(ke,st)|0,be=be+Math.imul(ke,ut)|0,he=he+Math.imul(Tt,At)|0,ae=ae+Math.imul(Tt,wt)|0,ae=ae+Math.imul(Re,At)|0,be=be+Math.imul(Re,wt)|0;var It=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(It>>>26)|0,It&=67108863,he=Math.imul(Je,st),ae=Math.imul(Je,ut),ae=ae+Math.imul(tt,st)|0,be=Math.imul(tt,ut),he=he+Math.imul(_e,At)|0,ae=ae+Math.imul(_e,wt)|0,ae=ae+Math.imul(ke,At)|0,be=be+Math.imul(ke,wt)|0;var Kt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,he=Math.imul(Je,At),ae=Math.imul(Je,wt),ae=ae+Math.imul(tt,At)|0,be=Math.imul(tt,wt);var Ut=(ve+he|0)+((ae&8191)<<13)|0;return ve=(be+(ae>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me[0]=lr,me[1]=Wt,me[2]=tr,me[3]=rr,me[4]=ir,me[5]=ur,me[6]=or,me[7]=cr,me[8]=sr,me[9]=Zt,me[10]=er,me[11]=Yt,me[12]=Xt,me[13]=Qt,me[14]=Gt,me[15]=Rt,me[16]=It,me[17]=Kt,me[18]=Ut,ve!==0&&(me[19]=ve,le.length++),le};Math.imul||(He=Be);function Oe(pe,oe,ce){ce.negative=oe.negative^pe.negative,ce.length=pe.length+oe.length;for(var le=0,ge=0,ye=0;ye<ce.length-1;ye++){var me=ge;ge=0;for(var ve=le&67108863,he=Math.min(ye,oe.length-1),ae=Math.max(0,ye-pe.length+1);ae<=he;ae++){var be=ye-ae,ze=pe.words[be]|0,Ie=oe.words[ae]|0,We=ze*Ie,ft=We&67108863;me=me+(We/67108864|0)|0,ft=ft+ve|0,ve=ft&67108863,me=me+(ft>>>26)|0,ge+=me>>>26,me&=67108863}ce.words[ye]=ve,le=me,me=ge}return le!==0?ce.words[ye]=le:ce.length--,ce._strip()}function Ke(pe,oe,ce){return Oe(pe,oe,ce)}ie.prototype.mulTo=function(oe,ce){var le,ge=this.length+oe.length;return this.length===10&&oe.length===10?le=He(this,oe,ce):ge<63?le=Be(this,oe,ce):ge<1024?le=Oe(this,oe,ce):le=Ke(this,oe,ce),le},ie.prototype.mul=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),this.mulTo(oe,ce)},ie.prototype.mulf=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),Ke(this,oe,ce)},ie.prototype.imul=function(oe){return this.clone().mulTo(oe,this)},ie.prototype.imuln=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(typeof oe=="number"),ne(oe<67108864);for(var le=0,ge=0;ge<this.length;ge++){var ye=(this.words[ge]|0)*oe,me=(ye&67108863)+(le&67108863);le>>=26,le+=ye/67108864|0,le+=me>>>26,this.words[ge]=me&67108863}return le!==0&&(this.words[ge]=le,this.length++),ce?this.ineg():this},ie.prototype.muln=function(oe){return this.clone().imuln(oe)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(oe){var ce=Ce(oe);if(ce.length===0)return new ie(1);for(var le=this,ge=0;ge<ce.length&&ce[ge]===0;ge++,le=le.sqr());if(++ge<ce.length)for(var ye=le.sqr();ge<ce.length;ge++,ye=ye.sqr())ce[ge]!==0&&(le=le.mul(ye));return le},ie.prototype.iushln=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=67108863>>>26-ce<<26-ce,ye;if(ce!==0){var me=0;for(ye=0;ye<this.length;ye++){var ve=this.words[ye]&ge,he=(this.words[ye]|0)-ve<<ce;this.words[ye]=he|me,me=ve>>>26-ce}me&&(this.words[ye]=me,this.length++)}if(le!==0){for(ye=this.length-1;ye>=0;ye--)this.words[ye+le]=this.words[ye];for(ye=0;ye<le;ye++)this.words[ye]=0;this.length+=le}return this._strip()},ie.prototype.ishln=function(oe){return ne(this.negative===0),this.iushln(oe)},ie.prototype.iushrn=function(oe,ce,le){ne(typeof oe=="number"&&oe>=0);var ge;ce?ge=(ce-ce%26)/26:ge=0;var ye=oe%26,me=Math.min((oe-ye)/26,this.length),ve=67108863^67108863>>>ye<<ye,he=le;if(ge-=me,ge=Math.max(0,ge),he){for(var ae=0;ae<me;ae++)he.words[ae]=this.words[ae];he.length=me}if(me!==0)if(this.length>me)for(this.length-=me,ae=0;ae<this.length;ae++)this.words[ae]=this.words[ae+me];else this.words[0]=0,this.length=1;var be=0;for(ae=this.length-1;ae>=0&&(be!==0||ae>=ge);ae--){var ze=this.words[ae]|0;this.words[ae]=be<<26-ye|ze>>>ye,be=ze&ve}return he&&be!==0&&(he.words[he.length++]=be),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(oe,ce,le){return ne(this.negative===0),this.iushrn(oe,ce,le)},ie.prototype.shln=function(oe){return this.clone().ishln(oe)},ie.prototype.ushln=function(oe){return this.clone().iushln(oe)},ie.prototype.shrn=function(oe){return this.clone().ishrn(oe)},ie.prototype.ushrn=function(oe){return this.clone().iushrn(oe)},ie.prototype.testn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return!1;var ye=this.words[le];return!!(ye&ge)},ie.prototype.imaskn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var ge=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=ge}return this._strip()},ie.prototype.maskn=function(oe){return this.clone().imaskn(oe)},ie.prototype.iaddn=function(oe){return ne(typeof oe=="number"),ne(oe<67108864),oe<0?this.isubn(-oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=oe?(this.words[0]=oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(oe),this.negative=1,this):this._iaddn(oe)},ie.prototype._iaddn=function(oe){this.words[0]+=oe;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(oe){if(ne(typeof oe=="number"),ne(oe<67108864),oe<0)return this.iaddn(-oe);if(this.negative!==0)return this.negative=0,this.iaddn(oe),this.negative=1,this;if(this.words[0]-=oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this._strip()},ie.prototype.addn=function(oe){return this.clone().iaddn(oe)},ie.prototype.subn=function(oe){return this.clone().isubn(oe)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(oe,ce,le){var ge=oe.length+le,ye;this._expand(ge);var me,ve=0;for(ye=0;ye<oe.length;ye++){me=(this.words[ye+le]|0)+ve;var he=(oe.words[ye]|0)*ce;me-=he&67108863,ve=(me>>26)-(he/67108864|0),this.words[ye+le]=me&67108863}for(;ye<this.length-le;ye++)me=(this.words[ye+le]|0)+ve,ve=me>>26,this.words[ye+le]=me&67108863;if(ve===0)return this._strip();for(ne(ve===-1),ve=0,ye=0;ye<this.length;ye++)me=-(this.words[ye]|0)+ve,ve=me>>26,this.words[ye]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(oe,ce){var le=this.length-oe.length,ge=this.clone(),ye=oe,me=ye.words[ye.length-1]|0,ve=this._countBits(me);le=26-ve,le!==0&&(ye=ye.ushln(le),ge.iushln(le),me=ye.words[ye.length-1]|0);var he=ge.length-ye.length,ae;if(ce!=="mod"){ae=new ie(null),ae.length=he+1,ae.words=new Array(ae.length);for(var be=0;be<ae.length;be++)ae.words[be]=0}var ze=ge.clone()._ishlnsubmul(ye,1,he);ze.negative===0&&(ge=ze,ae&&(ae.words[he]=1));for(var Ie=he-1;Ie>=0;Ie--){var We=(ge.words[ye.length+Ie]|0)*67108864+(ge.words[ye.length+Ie-1]|0);for(We=Math.min(We/me|0,67108863),ge._ishlnsubmul(ye,We,Ie);ge.negative!==0;)We--,ge.negative=0,ge._ishlnsubmul(ye,1,Ie),ge.isZero()||(ge.negative^=1);ae&&(ae.words[Ie]=We)}return ae&&ae._strip(),ge._strip(),ce!=="div"&&le!==0&&ge.iushrn(le),{div:ae||null,mod:ge}},ie.prototype.divmod=function(oe,ce,le){if(ne(!oe.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var ge,ye,me;return this.negative!==0&&oe.negative===0?(me=this.neg().divmod(oe,ce),ce!=="mod"&&(ge=me.div.neg()),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.iadd(oe)),{div:ge,mod:ye}):this.negative===0&&oe.negative!==0?(me=this.divmod(oe.neg(),ce),ce!=="mod"&&(ge=me.div.neg()),{div:ge,mod:me.mod}):(this.negative&oe.negative)!==0?(me=this.neg().divmod(oe.neg(),ce),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.isub(oe)),{div:me.div,mod:ye}):oe.length>this.length||this.cmp(oe)<0?{div:new ie(0),mod:this}:oe.length===1?ce==="div"?{div:this.divn(oe.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modrn(oe.words[0]))}:{div:this.divn(oe.words[0]),mod:new ie(this.modrn(oe.words[0]))}:this._wordDiv(oe,ce)},ie.prototype.div=function(oe){return this.divmod(oe,"div",!1).div},ie.prototype.mod=function(oe){return this.divmod(oe,"mod",!1).mod},ie.prototype.umod=function(oe){return this.divmod(oe,"mod",!0).mod},ie.prototype.divRound=function(oe){var ce=this.divmod(oe);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(oe):ce.mod,ge=oe.ushrn(1),ye=oe.andln(1),me=le.cmp(ge);return me<0||ye===1&&me===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modrn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=(1<<26)%oe,ge=0,ye=this.length-1;ye>=0;ye--)ge=(le*ge+(this.words[ye]|0))%oe;return ce?-ge:ge},ie.prototype.modn=function(oe){return this.modrn(oe)},ie.prototype.idivn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=0,ge=this.length-1;ge>=0;ge--){var ye=(this.words[ge]|0)+le*67108864;this.words[ge]=ye/oe|0,le=ye%oe}return this._strip(),ce?this.ineg():this},ie.prototype.divn=function(oe){return this.clone().idivn(oe)},ie.prototype.egcd=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=new ie(0),ve=new ie(1),he=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++he;for(var ae=le.clone(),be=ce.clone();!ce.isZero();){for(var ze=0,Ie=1;(ce.words[0]&Ie)===0&&ze<26;++ze,Ie<<=1);if(ze>0)for(ce.iushrn(ze);ze-- >0;)(ge.isOdd()||ye.isOdd())&&(ge.iadd(ae),ye.isub(be)),ge.iushrn(1),ye.iushrn(1);for(var We=0,ft=1;(le.words[0]&ft)===0&&We<26;++We,ft<<=1);if(We>0)for(le.iushrn(We);We-- >0;)(me.isOdd()||ve.isOdd())&&(me.iadd(ae),ve.isub(be)),me.iushrn(1),ve.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(me),ye.isub(ve)):(le.isub(ce),me.isub(ge),ve.isub(ye))}return{a:me,b:ve,gcd:le.iushln(he)}},ie.prototype._invmp=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var ve=0,he=1;(ce.words[0]&he)===0&&ve<26;++ve,he<<=1);if(ve>0)for(ce.iushrn(ve);ve-- >0;)ge.isOdd()&&ge.iadd(me),ge.iushrn(1);for(var ae=0,be=1;(le.words[0]&be)===0&&ae<26;++ae,be<<=1);if(ae>0)for(le.iushrn(ae);ae-- >0;)ye.isOdd()&&ye.iadd(me),ye.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(ye)):(le.isub(ce),ye.isub(ge))}var ze;return ce.cmpn(1)===0?ze=ge:ze=ye,ze.cmpn(0)<0&&ze.iadd(oe),ze},ie.prototype.gcd=function(oe){if(this.isZero())return oe.abs();if(oe.isZero())return this.abs();var ce=this.clone(),le=oe.clone();ce.negative=0,le.negative=0;for(var ge=0;ce.isEven()&&le.isEven();ge++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var ye=ce.cmp(le);if(ye<0){var me=ce;ce=le,le=me}else if(ye===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(ge)},ie.prototype.invm=function(oe){return this.egcd(oe).a.umod(oe)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(oe){return this.words[0]&oe},ie.prototype.bincn=function(oe){ne(typeof oe=="number");var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=ge,this;for(var ye=ge,me=le;ye!==0&&me<this.length;me++){var ve=this.words[me]|0;ve+=ye,ye=ve>>>26,ve&=67108863,this.words[me]=ve}return ye!==0&&(this.words[me]=ye,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(oe){var ce=oe<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this._strip();var le;if(this.length>1)le=1;else{ce&&(oe=-oe),ne(oe<=67108863,"Number is too big");var ge=this.words[0]|0;le=ge===oe?0:ge<oe?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(oe){if(this.negative!==0&&oe.negative===0)return-1;if(this.negative===0&&oe.negative!==0)return 1;var ce=this.ucmp(oe);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(oe){if(this.length>oe.length)return 1;if(this.length<oe.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var ge=this.words[le]|0,ye=oe.words[le]|0;if(ge!==ye){ge<ye?ce=-1:ge>ye&&(ce=1);break}}return ce},ie.prototype.gtn=function(oe){return this.cmpn(oe)===1},ie.prototype.gt=function(oe){return this.cmp(oe)===1},ie.prototype.gten=function(oe){return this.cmpn(oe)>=0},ie.prototype.gte=function(oe){return this.cmp(oe)>=0},ie.prototype.ltn=function(oe){return this.cmpn(oe)===-1},ie.prototype.lt=function(oe){return this.cmp(oe)===-1},ie.prototype.lten=function(oe){return this.cmpn(oe)<=0},ie.prototype.lte=function(oe){return this.cmp(oe)<=0},ie.prototype.eqn=function(oe){return this.cmpn(oe)===0},ie.prototype.eq=function(oe){return this.cmp(oe)===0},ie.red=function(oe){return new Se(oe)},ie.prototype.toRed=function(oe){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),oe.convertTo(this)._forceRed(oe)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(oe){return this.red=oe,this},ie.prototype.forceRed=function(oe){return ne(!this.red,"Already a number in reduction context"),this._forceRed(oe)},ie.prototype.redAdd=function(oe){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,oe)},ie.prototype.redIAdd=function(oe){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,oe)},ie.prototype.redSub=function(oe){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,oe)},ie.prototype.redISub=function(oe){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,oe)},ie.prototype.redShl=function(oe){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,oe)},ie.prototype.redMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.mul(this,oe)},ie.prototype.redIMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.imul(this,oe)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(oe){return ne(this.red&&!oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,oe)};var qe={k256:null,p224:null,p192:null,p25519:null};function Ve(pe,oe){this.name=pe,this.p=new ie(oe,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ve.prototype._tmp=function(){var oe=new ie(null);return oe.words=new Array(Math.ceil(this.n/13)),oe},Ve.prototype.ireduce=function(oe){var ce=oe,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var ge=le<this.n?-1:ce.ucmp(this.p);return ge===0?(ce.words[0]=0,ce.length=1):ge>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ve.prototype.split=function(oe,ce){oe.iushrn(this.n,0,ce)},Ve.prototype.imulK=function(oe){return oe.imul(this.k)};function Xe(){Ve.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Xe,Ve),Xe.prototype.split=function(oe,ce){for(var le=4194303,ge=Math.min(oe.length,9),ye=0;ye<ge;ye++)ce.words[ye]=oe.words[ye];if(ce.length=ge,oe.length<=9){oe.words[0]=0,oe.length=1;return}var me=oe.words[9];for(ce.words[ce.length++]=me&le,ye=10;ye<oe.length;ye++){var ve=oe.words[ye]|0;oe.words[ye-10]=(ve&le)<<4|me>>>22,me=ve}me>>>=22,oe.words[ye-10]=me,me===0&&oe.length>10?oe.length-=10:oe.length-=9},Xe.prototype.imulK=function(oe){oe.words[oe.length]=0,oe.words[oe.length+1]=0,oe.length+=2;for(var ce=0,le=0;le<oe.length;le++){var ge=oe.words[le]|0;ce+=ge*977,oe.words[le]=ce&67108863,ce=ge*64+(ce/67108864|0)}return oe.words[oe.length-1]===0&&(oe.length--,oe.words[oe.length-1]===0&&oe.length--),oe};function rt(){Ve.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(rt,Ve);function mt(){Ve.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(mt,Ve);function Qe(){Ve.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Qe,Ve),Qe.prototype.imulK=function(oe){for(var ce=0,le=0;le<oe.length;le++){var ge=(oe.words[le]|0)*19+ce,ye=ge&67108863;ge>>>=26,oe.words[le]=ye,ce=ge}return ce!==0&&(oe.words[oe.length++]=ce),oe},ie._prime=function(oe){if(qe[oe])return qe[oe];var ce;if(oe==="k256")ce=new Xe;else if(oe==="p224")ce=new rt;else if(oe==="p192")ce=new mt;else if(oe==="p25519")ce=new Qe;else throw new Error("Unknown prime "+oe);return qe[oe]=ce,ce};function Se(pe){if(typeof pe=="string"){var oe=ie._prime(pe);this.m=oe.p,this.prime=oe}else ne(pe.gtn(1),"modulus must be greater than 1"),this.m=pe,this.prime=null}Se.prototype._verify1=function(oe){ne(oe.negative===0,"red works only with positives"),ne(oe.red,"red works only with red numbers")},Se.prototype._verify2=function(oe,ce){ne((oe.negative|ce.negative)===0,"red works only with positives"),ne(oe.red&&oe.red===ce.red,"red works only with red numbers")},Se.prototype.imod=function(oe){return this.prime?this.prime.ireduce(oe)._forceRed(this):(Ae(oe,oe.umod(this.m)._forceRed(this)),oe)},Se.prototype.neg=function(oe){return oe.isZero()?oe.clone():this.m.sub(oe)._forceRed(this)},Se.prototype.add=function(oe,ce){this._verify2(oe,ce);var le=oe.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},Se.prototype.iadd=function(oe,ce){this._verify2(oe,ce);var le=oe.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},Se.prototype.sub=function(oe,ce){this._verify2(oe,ce);var le=oe.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},Se.prototype.isub=function(oe,ce){this._verify2(oe,ce);var le=oe.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},Se.prototype.shl=function(oe,ce){return this._verify1(oe),this.imod(oe.ushln(ce))},Se.prototype.imul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.imul(ce))},Se.prototype.mul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.mul(ce))},Se.prototype.isqr=function(oe){return this.imul(oe,oe.clone())},Se.prototype.sqr=function(oe){return this.mul(oe,oe)},Se.prototype.sqrt=function(oe){if(oe.isZero())return oe.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(oe,le)}for(var ge=this.m.subn(1),ye=0;!ge.isZero()&&ge.andln(1)===0;)ye++,ge.iushrn(1);ne(!ge.isZero());var me=new ie(1).toRed(this),ve=me.redNeg(),he=this.m.subn(1).iushrn(1),ae=this.m.bitLength();for(ae=new ie(2*ae*ae).toRed(this);this.pow(ae,he).cmp(ve)!==0;)ae.redIAdd(ve);for(var be=this.pow(ae,ge),ze=this.pow(oe,ge.addn(1).iushrn(1)),Ie=this.pow(oe,ge),We=ye;Ie.cmp(me)!==0;){for(var ft=Ie,nt=0;ft.cmp(me)!==0;nt++)ft=ft.redSqr();ne(nt<We);var at=this.pow(be,new ie(1).iushln(We-nt-1));ze=ze.redMul(at),be=at.redSqr(),Ie=Ie.redMul(be),We=nt}return ze},Se.prototype.invm=function(oe){var ce=oe._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},Se.prototype.pow=function(oe,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return oe.clone();var le=4,ge=new Array(1<<le);ge[0]=new ie(1).toRed(this),ge[1]=oe;for(var ye=2;ye<ge.length;ye++)ge[ye]=this.mul(ge[ye-1],oe);var me=ge[0],ve=0,he=0,ae=ce.bitLength()%26;for(ae===0&&(ae=26),ye=ce.length-1;ye>=0;ye--){for(var be=ce.words[ye],ze=ae-1;ze>=0;ze--){var Ie=be>>ze&1;if(me!==ge[0]&&(me=this.sqr(me)),Ie===0&&ve===0){he=0;continue}ve<<=1,ve|=Ie,he++,!(he!==le&&(ye!==0||ze!==0))&&(me=this.mul(me,ge[ve]),he=0,ve=0)}ae=26}return me},Se.prototype.convertTo=function(oe){var ce=oe.umod(this.m);return ce===oe?ce.clone():ce},Se.prototype.convertFrom=function(oe){var ce=oe.clone();return ce.red=null,ce},ie.mont=function(oe){return new $e(oe)};function $e(pe){Se.call(this,pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se($e,Se),$e.prototype.convertTo=function(oe){return this.imod(oe.ushln(this.shift))},$e.prototype.convertFrom=function(oe){var ce=this.imod(oe.mul(this.rinv));return ce.red=null,ce},$e.prototype.imul=function(oe,ce){if(oe.isZero()||ce.isZero())return oe.words[0]=0,oe.length=1,oe;var le=oe.imul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.mul=function(oe,ce){if(oe.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=oe.mul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.invm=function(oe){var ce=this.imod(oe._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(re,commonjsGlobal)})(bn$4);var safeBuffer={exports:{}},buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(re){const ee=base64Js,te=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;re.Buffer=ue,re.SlowBuffer=He,re.INSPECT_MAX_BYTES=50;const se=2147483647;re.kMaxLength=se,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{const Re=new Uint8Array(1),we={foo:function(){return 42}};return Object.setPrototypeOf(we,Uint8Array.prototype),Object.setPrototypeOf(Re,we),Re.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function fe(Re){if(Re>se)throw new RangeError('The value "'+Re+'" is invalid for option "size"');const we=new Uint8Array(Re);return Object.setPrototypeOf(we,ue.prototype),we}function ue(Re,we,_e){if(typeof Re=="number"){if(typeof we=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Me(Re)}return xe(Re,we,_e)}ue.poolSize=8192;function xe(Re,we,_e){if(typeof Re=="string")return Pe(Re,we);if(ArrayBuffer.isView(Re))return je(Re);if(Re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Re);if(Pt(Re,ArrayBuffer)||Re&&Pt(Re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt(Re,SharedArrayBuffer)||Re&&Pt(Re.buffer,SharedArrayBuffer)))return Ue(Re,we,_e);if(typeof Re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ke=Re.valueOf&&Re.valueOf();if(ke!=null&&ke!==Re)return ue.from(ke,we,_e);const Ze=Ce(Re);if(Ze)return Ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Re[Symbol.toPrimitive]=="function")return ue.from(Re[Symbol.toPrimitive]("string"),we,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Re)}ue.from=function(Re,we,_e){return xe(Re,we,_e)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function Ee(Re){if(typeof Re!="number")throw new TypeError('"size" argument must be of type number');if(Re<0)throw new RangeError('The value "'+Re+'" is invalid for option "size"')}function Ae(Re,we,_e){return Ee(Re),Re<=0?fe(Re):we!==void 0?typeof _e=="string"?fe(Re).fill(we,_e):fe(Re).fill(we):fe(Re)}ue.alloc=function(Re,we,_e){return Ae(Re,we,_e)};function Me(Re){return Ee(Re),fe(Re<0?0:Be(Re)|0)}ue.allocUnsafe=function(Re){return Me(Re)},ue.allocUnsafeSlow=function(Re){return Me(Re)};function Pe(Re,we){if((typeof we!="string"||we==="")&&(we="utf8"),!ue.isEncoding(we))throw new TypeError("Unknown encoding: "+we);const _e=Oe(Re,we)|0;let ke=fe(_e);const Ze=ke.write(Re,we);return Ze!==_e&&(ke=ke.slice(0,Ze)),ke}function Ne(Re){const we=Re.length<0?0:Be(Re.length)|0,_e=fe(we);for(let ke=0;ke<we;ke+=1)_e[ke]=Re[ke]&255;return _e}function je(Re){if(Pt(Re,Uint8Array)){const we=new Uint8Array(Re);return Ue(we.buffer,we.byteOffset,we.byteLength)}return Ne(Re)}function Ue(Re,we,_e){if(we<0||Re.byteLength<we)throw new RangeError('"offset" is outside of buffer bounds');if(Re.byteLength<we+(_e||0))throw new RangeError('"length" is outside of buffer bounds');let ke;return we===void 0&&_e===void 0?ke=new Uint8Array(Re):_e===void 0?ke=new Uint8Array(Re,we):ke=new Uint8Array(Re,we,_e),Object.setPrototypeOf(ke,ue.prototype),ke}function Ce(Re){if(ue.isBuffer(Re)){const we=Be(Re.length)|0,_e=fe(we);return _e.length===0||Re.copy(_e,0,0,we),_e}if(Re.length!==void 0)return typeof Re.length!="number"||Et(Re.length)?fe(0):Ne(Re);if(Re.type==="Buffer"&&Array.isArray(Re.data))return Ne(Re.data)}function Be(Re){if(Re>=se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+se.toString(16)+" bytes");return Re|0}function He(Re){return+Re!=Re&&(Re=0),ue.alloc(+Re)}ue.isBuffer=function(we){return we!=null&&we._isBuffer===!0&&we!==ue.prototype},ue.compare=function(we,_e){if(Pt(we,Uint8Array)&&(we=ue.from(we,we.offset,we.byteLength)),Pt(_e,Uint8Array)&&(_e=ue.from(_e,_e.offset,_e.byteLength)),!ue.isBuffer(we)||!ue.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(we===_e)return 0;let ke=we.length,Ze=_e.length;for(let Je=0,tt=Math.min(ke,Ze);Je<tt;++Je)if(we[Je]!==_e[Je]){ke=we[Je],Ze=_e[Je];break}return ke<Ze?-1:Ze<ke?1:0},ue.isEncoding=function(we){switch(String(we).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(we,_e){if(!Array.isArray(we))throw new TypeError('"list" argument must be an Array of Buffers');if(we.length===0)return ue.alloc(0);let ke;if(_e===void 0)for(_e=0,ke=0;ke<we.length;++ke)_e+=we[ke].length;const Ze=ue.allocUnsafe(_e);let Je=0;for(ke=0;ke<we.length;++ke){let tt=we[ke];if(Pt(tt,Uint8Array))Je+tt.length>Ze.length?(ue.isBuffer(tt)||(tt=ue.from(tt)),tt.copy(Ze,Je)):Uint8Array.prototype.set.call(Ze,tt,Je);else if(ue.isBuffer(tt))tt.copy(Ze,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=tt.length}return Ze};function Oe(Re,we){if(ue.isBuffer(Re))return Re.length;if(ArrayBuffer.isView(Re)||Pt(Re,ArrayBuffer))return Re.byteLength;if(typeof Re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Re);const _e=Re.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&_e===0)return 0;let Ze=!1;for(;;)switch(we){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return Le(Re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return ot(Re).length;default:if(Ze)return ke?-1:Le(Re).length;we=(""+we).toLowerCase(),Ze=!0}}ue.byteLength=Oe;function Ke(Re,we,_e){let ke=!1;if((we===void 0||we<0)&&(we=0),we>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,we>>>=0,_e<=we))return"";for(Re||(Re="utf8");;)switch(Re){case"hex":return me(this,we,_e);case"utf8":case"utf-8":return oe(this,we,_e);case"ascii":return ge(this,we,_e);case"latin1":case"binary":return ye(this,we,_e);case"base64":return pe(this,we,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,we,_e);default:if(ke)throw new TypeError("Unknown encoding: "+Re);Re=(Re+"").toLowerCase(),ke=!0}}ue.prototype._isBuffer=!0;function qe(Re,we,_e){const ke=Re[we];Re[we]=Re[_e],Re[_e]=ke}ue.prototype.swap16=function(){const we=this.length;if(we%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _e=0;_e<we;_e+=2)qe(this,_e,_e+1);return this},ue.prototype.swap32=function(){const we=this.length;if(we%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _e=0;_e<we;_e+=4)qe(this,_e,_e+3),qe(this,_e+1,_e+2);return this},ue.prototype.swap64=function(){const we=this.length;if(we%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _e=0;_e<we;_e+=8)qe(this,_e,_e+7),qe(this,_e+1,_e+6),qe(this,_e+2,_e+5),qe(this,_e+3,_e+4);return this},ue.prototype.toString=function(){const we=this.length;return we===0?"":arguments.length===0?oe(this,0,we):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(we){if(!ue.isBuffer(we))throw new TypeError("Argument must be a Buffer");return this===we?!0:ue.compare(this,we)===0},ue.prototype.inspect=function(){let we="";const _e=re.INSPECT_MAX_BYTES;return we=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(we+=" ... "),"<Buffer "+we+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(we,_e,ke,Ze,Je){if(Pt(we,Uint8Array)&&(we=ue.from(we,we.offset,we.byteLength)),!ue.isBuffer(we))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof we);if(_e===void 0&&(_e=0),ke===void 0&&(ke=we?we.length:0),Ze===void 0&&(Ze=0),Je===void 0&&(Je=this.length),_e<0||ke>we.length||Ze<0||Je>this.length)throw new RangeError("out of range index");if(Ze>=Je&&_e>=ke)return 0;if(Ze>=Je)return-1;if(_e>=ke)return 1;if(_e>>>=0,ke>>>=0,Ze>>>=0,Je>>>=0,this===we)return 0;let tt=Je-Ze,zt=ke-_e;const _t=Math.min(tt,zt),vt=this.slice(Ze,Je),nr=we.slice(_e,ke);for(let xt=0;xt<_t;++xt)if(vt[xt]!==nr[xt]){tt=vt[xt],zt=nr[xt];break}return tt<zt?-1:zt<tt?1:0};function Ve(Re,we,_e,ke,Ze){if(Re.length===0)return-1;if(typeof _e=="string"?(ke=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,Et(_e)&&(_e=Ze?0:Re.length-1),_e<0&&(_e=Re.length+_e),_e>=Re.length){if(Ze)return-1;_e=Re.length-1}else if(_e<0)if(Ze)_e=0;else return-1;if(typeof we=="string"&&(we=ue.from(we,ke)),ue.isBuffer(we))return we.length===0?-1:Xe(Re,we,_e,ke,Ze);if(typeof we=="number")return we=we&255,typeof Uint8Array.prototype.indexOf=="function"?Ze?Uint8Array.prototype.indexOf.call(Re,we,_e):Uint8Array.prototype.lastIndexOf.call(Re,we,_e):Xe(Re,[we],_e,ke,Ze);throw new TypeError("val must be string, number or Buffer")}function Xe(Re,we,_e,ke,Ze){let Je=1,tt=Re.length,zt=we.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(Re.length<2||we.length<2)return-1;Je=2,tt/=2,zt/=2,_e/=2}function _t(nr,xt){return Je===1?nr[xt]:nr.readUInt16BE(xt*Je)}let vt;if(Ze){let nr=-1;for(vt=_e;vt<tt;vt++)if(_t(Re,vt)===_t(we,nr===-1?0:vt-nr)){if(nr===-1&&(nr=vt),vt-nr+1===zt)return nr*Je}else nr!==-1&&(vt-=vt-nr),nr=-1}else for(_e+zt>tt&&(_e=tt-zt),vt=_e;vt>=0;vt--){let nr=!0;for(let xt=0;xt<zt;xt++)if(_t(Re,vt+xt)!==_t(we,xt)){nr=!1;break}if(nr)return vt}return-1}ue.prototype.includes=function(we,_e,ke){return this.indexOf(we,_e,ke)!==-1},ue.prototype.indexOf=function(we,_e,ke){return Ve(this,we,_e,ke,!0)},ue.prototype.lastIndexOf=function(we,_e,ke){return Ve(this,we,_e,ke,!1)};function rt(Re,we,_e,ke){_e=Number(_e)||0;const Ze=Re.length-_e;ke?(ke=Number(ke),ke>Ze&&(ke=Ze)):ke=Ze;const Je=we.length;ke>Je/2&&(ke=Je/2);let tt;for(tt=0;tt<ke;++tt){const zt=parseInt(we.substr(tt*2,2),16);if(Et(zt))return tt;Re[_e+tt]=zt}return tt}function mt(Re,we,_e,ke){return lt(Le(we,Re.length-_e),Re,_e,ke)}function Qe(Re,we,_e,ke){return lt(De(we),Re,_e,ke)}function Se(Re,we,_e,ke){return lt(ot(we),Re,_e,ke)}function $e(Re,we,_e,ke){return lt(ct(we,Re.length-_e),Re,_e,ke)}ue.prototype.write=function(we,_e,ke,Ze){if(_e===void 0)Ze="utf8",ke=this.length,_e=0;else if(ke===void 0&&typeof _e=="string")Ze=_e,ke=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(ke)?(ke=ke>>>0,Ze===void 0&&(Ze="utf8")):(Ze=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Je=this.length-_e;if((ke===void 0||ke>Je)&&(ke=Je),we.length>0&&(ke<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");let tt=!1;for(;;)switch(Ze){case"hex":return rt(this,we,_e,ke);case"utf8":case"utf-8":return mt(this,we,_e,ke);case"ascii":case"latin1":case"binary":return Qe(this,we,_e,ke);case"base64":return Se(this,we,_e,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,we,_e,ke);default:if(tt)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),tt=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(Re,we,_e){return we===0&&_e===Re.length?ee.fromByteArray(Re):ee.fromByteArray(Re.slice(we,_e))}function oe(Re,we,_e){_e=Math.min(Re.length,_e);const ke=[];let Ze=we;for(;Ze<_e;){const Je=Re[Ze];let tt=null,zt=Je>239?4:Je>223?3:Je>191?2:1;if(Ze+zt<=_e){let _t,vt,nr,xt;switch(zt){case 1:Je<128&&(tt=Je);break;case 2:_t=Re[Ze+1],(_t&192)===128&&(xt=(Je&31)<<6|_t&63,xt>127&&(tt=xt));break;case 3:_t=Re[Ze+1],vt=Re[Ze+2],(_t&192)===128&&(vt&192)===128&&(xt=(Je&15)<<12|(_t&63)<<6|vt&63,xt>2047&&(xt<55296||xt>57343)&&(tt=xt));break;case 4:_t=Re[Ze+1],vt=Re[Ze+2],nr=Re[Ze+3],(_t&192)===128&&(vt&192)===128&&(nr&192)===128&&(xt=(Je&15)<<18|(_t&63)<<12|(vt&63)<<6|nr&63,xt>65535&&xt<1114112&&(tt=xt))}}tt===null?(tt=65533,zt=1):tt>65535&&(tt-=65536,ke.push(tt>>>10&1023|55296),tt=56320|tt&1023),ke.push(tt),Ze+=zt}return le(ke)}const ce=4096;function le(Re){const we=Re.length;if(we<=ce)return String.fromCharCode.apply(String,Re);let _e="",ke=0;for(;ke<we;)_e+=String.fromCharCode.apply(String,Re.slice(ke,ke+=ce));return _e}function ge(Re,we,_e){let ke="";_e=Math.min(Re.length,_e);for(let Ze=we;Ze<_e;++Ze)ke+=String.fromCharCode(Re[Ze]&127);return ke}function ye(Re,we,_e){let ke="";_e=Math.min(Re.length,_e);for(let Ze=we;Ze<_e;++Ze)ke+=String.fromCharCode(Re[Ze]);return ke}function me(Re,we,_e){const ke=Re.length;(!we||we<0)&&(we=0),(!_e||_e<0||_e>ke)&&(_e=ke);let Ze="";for(let Je=we;Je<_e;++Je)Ze+=St[Re[Je]];return Ze}function ve(Re,we,_e){const ke=Re.slice(we,_e);let Ze="";for(let Je=0;Je<ke.length-1;Je+=2)Ze+=String.fromCharCode(ke[Je]+ke[Je+1]*256);return Ze}ue.prototype.slice=function(we,_e){const ke=this.length;we=~~we,_e=_e===void 0?ke:~~_e,we<0?(we+=ke,we<0&&(we=0)):we>ke&&(we=ke),_e<0?(_e+=ke,_e<0&&(_e=0)):_e>ke&&(_e=ke),_e<we&&(_e=we);const Ze=this.subarray(we,_e);return Object.setPrototypeOf(Ze,ue.prototype),Ze};function he(Re,we,_e){if(Re%1!==0||Re<0)throw new RangeError("offset is not uint");if(Re+we>_e)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we],Je=1,tt=0;for(;++tt<_e&&(Je*=256);)Ze+=this[we+tt]*Je;return Ze},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we+--_e],Je=1;for(;_e>0&&(Je*=256);)Ze+=this[we+--_e]*Je;return Ze},ue.prototype.readUint8=ue.prototype.readUInt8=function(we,_e){return we=we>>>0,_e||he(we,1,this.length),this[we]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(we,_e){return we=we>>>0,_e||he(we,2,this.length),this[we]|this[we+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(we,_e){return we=we>>>0,_e||he(we,2,this.length),this[we]<<8|this[we+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),(this[we]|this[we+1]<<8|this[we+2]<<16)+this[we+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]*16777216+(this[we+1]<<16|this[we+2]<<8|this[we+3])},ue.prototype.readBigUInt64LE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=_e+this[++we]*2**8+this[++we]*2**16+this[++we]*2**24,Je=this[++we]+this[++we]*2**8+this[++we]*2**16+ke*2**24;return BigInt(Ze)+(BigInt(Je)<<BigInt(32))}),ue.prototype.readBigUInt64BE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=_e*2**24+this[++we]*2**16+this[++we]*2**8+this[++we],Je=this[++we]*2**24+this[++we]*2**16+this[++we]*2**8+ke;return(BigInt(Ze)<<BigInt(32))+BigInt(Je)}),ue.prototype.readIntLE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we],Je=1,tt=0;for(;++tt<_e&&(Je*=256);)Ze+=this[we+tt]*Je;return Je*=128,Ze>=Je&&(Ze-=Math.pow(2,8*_e)),Ze},ue.prototype.readIntBE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=_e,Je=1,tt=this[we+--Ze];for(;Ze>0&&(Je*=256);)tt+=this[we+--Ze]*Je;return Je*=128,tt>=Je&&(tt-=Math.pow(2,8*_e)),tt},ue.prototype.readInt8=function(we,_e){return we=we>>>0,_e||he(we,1,this.length),this[we]&128?(255-this[we]+1)*-1:this[we]},ue.prototype.readInt16LE=function(we,_e){we=we>>>0,_e||he(we,2,this.length);const ke=this[we]|this[we+1]<<8;return ke&32768?ke|4294901760:ke},ue.prototype.readInt16BE=function(we,_e){we=we>>>0,_e||he(we,2,this.length);const ke=this[we+1]|this[we]<<8;return ke&32768?ke|4294901760:ke},ue.prototype.readInt32LE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]|this[we+1]<<8|this[we+2]<<16|this[we+3]<<24},ue.prototype.readInt32BE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]<<24|this[we+1]<<16|this[we+2]<<8|this[we+3]},ue.prototype.readBigInt64LE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=this[we+4]+this[we+5]*2**8+this[we+6]*2**16+(ke<<24);return(BigInt(Ze)<<BigInt(32))+BigInt(_e+this[++we]*2**8+this[++we]*2**16+this[++we]*2**24)}),ue.prototype.readBigInt64BE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=(_e<<24)+this[++we]*2**16+this[++we]*2**8+this[++we];return(BigInt(Ze)<<BigInt(32))+BigInt(this[++we]*2**24+this[++we]*2**16+this[++we]*2**8+ke)}),ue.prototype.readFloatLE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),te.read(this,we,!0,23,4)},ue.prototype.readFloatBE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),te.read(this,we,!1,23,4)},ue.prototype.readDoubleLE=function(we,_e){return we=we>>>0,_e||he(we,8,this.length),te.read(this,we,!0,52,8)},ue.prototype.readDoubleBE=function(we,_e){return we=we>>>0,_e||he(we,8,this.length),te.read(this,we,!1,52,8)};function ae(Re,we,_e,ke,Ze,Je){if(!ue.isBuffer(Re))throw new TypeError('"buffer" argument must be a Buffer instance');if(we>Ze||we<Je)throw new RangeError('"value" argument is out of bounds');if(_e+ke>Re.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,ke=ke>>>0,!Ze){const zt=Math.pow(2,8*ke)-1;ae(this,we,_e,ke,zt,0)}let Je=1,tt=0;for(this[_e]=we&255;++tt<ke&&(Je*=256);)this[_e+tt]=we/Je&255;return _e+ke},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,ke=ke>>>0,!Ze){const zt=Math.pow(2,8*ke)-1;ae(this,we,_e,ke,zt,0)}let Je=ke-1,tt=1;for(this[_e+Je]=we&255;--Je>=0&&(tt*=256);)this[_e+Je]=we/tt&255;return _e+ke},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,1,255,0),this[_e]=we&255,_e+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,65535,0),this[_e]=we&255,this[_e+1]=we>>>8,_e+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,65535,0),this[_e]=we>>>8,this[_e+1]=we&255,_e+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,4294967295,0),this[_e+3]=we>>>24,this[_e+2]=we>>>16,this[_e+1]=we>>>8,this[_e]=we&255,_e+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,4294967295,0),this[_e]=we>>>24,this[_e+1]=we>>>16,this[_e+2]=we>>>8,this[_e+3]=we&255,_e+4};function be(Re,we,_e,ke,Ze){gt(we,ke,Ze,Re,_e,7);let Je=Number(we&BigInt(4294967295));Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je;let tt=Number(we>>BigInt(32)&BigInt(4294967295));return Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,_e}function ze(Re,we,_e,ke,Ze){gt(we,ke,Ze,Re,_e,7);let Je=Number(we&BigInt(4294967295));Re[_e+7]=Je,Je=Je>>8,Re[_e+6]=Je,Je=Je>>8,Re[_e+5]=Je,Je=Je>>8,Re[_e+4]=Je;let tt=Number(we>>BigInt(32)&BigInt(4294967295));return Re[_e+3]=tt,tt=tt>>8,Re[_e+2]=tt,tt=tt>>8,Re[_e+1]=tt,tt=tt>>8,Re[_e]=tt,_e+8}ue.prototype.writeBigUInt64LE=ar(function(we,_e=0){return be(this,we,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeBigUInt64BE=ar(function(we,_e=0){return ze(this,we,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeIntLE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,!Ze){const _t=Math.pow(2,8*ke-1);ae(this,we,_e,ke,_t-1,-_t)}let Je=0,tt=1,zt=0;for(this[_e]=we&255;++Je<ke&&(tt*=256);)we<0&&zt===0&&this[_e+Je-1]!==0&&(zt=1),this[_e+Je]=(we/tt>>0)-zt&255;return _e+ke},ue.prototype.writeIntBE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,!Ze){const _t=Math.pow(2,8*ke-1);ae(this,we,_e,ke,_t-1,-_t)}let Je=ke-1,tt=1,zt=0;for(this[_e+Je]=we&255;--Je>=0&&(tt*=256);)we<0&&zt===0&&this[_e+Je+1]!==0&&(zt=1),this[_e+Je]=(we/tt>>0)-zt&255;return _e+ke},ue.prototype.writeInt8=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,1,127,-128),we<0&&(we=255+we+1),this[_e]=we&255,_e+1},ue.prototype.writeInt16LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,32767,-32768),this[_e]=we&255,this[_e+1]=we>>>8,_e+2},ue.prototype.writeInt16BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,32767,-32768),this[_e]=we>>>8,this[_e+1]=we&255,_e+2},ue.prototype.writeInt32LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,2147483647,-2147483648),this[_e]=we&255,this[_e+1]=we>>>8,this[_e+2]=we>>>16,this[_e+3]=we>>>24,_e+4},ue.prototype.writeInt32BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,2147483647,-2147483648),we<0&&(we=4294967295+we+1),this[_e]=we>>>24,this[_e+1]=we>>>16,this[_e+2]=we>>>8,this[_e+3]=we&255,_e+4},ue.prototype.writeBigInt64LE=ar(function(we,_e=0){return be(this,we,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ue.prototype.writeBigInt64BE=ar(function(we,_e=0){return ze(this,we,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(Re,we,_e,ke,Ze,Je){if(_e+ke>Re.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function We(Re,we,_e,ke,Ze){return we=+we,_e=_e>>>0,Ze||Ie(Re,we,_e,4),te.write(Re,we,_e,ke,23,4),_e+4}ue.prototype.writeFloatLE=function(we,_e,ke){return We(this,we,_e,!0,ke)},ue.prototype.writeFloatBE=function(we,_e,ke){return We(this,we,_e,!1,ke)};function ft(Re,we,_e,ke,Ze){return we=+we,_e=_e>>>0,Ze||Ie(Re,we,_e,8),te.write(Re,we,_e,ke,52,8),_e+8}ue.prototype.writeDoubleLE=function(we,_e,ke){return ft(this,we,_e,!0,ke)},ue.prototype.writeDoubleBE=function(we,_e,ke){return ft(this,we,_e,!1,ke)},ue.prototype.copy=function(we,_e,ke,Ze){if(!ue.isBuffer(we))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Ze&&Ze!==0&&(Ze=this.length),_e>=we.length&&(_e=we.length),_e||(_e=0),Ze>0&&Ze<ke&&(Ze=ke),Ze===ke||we.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),we.length-_e<Ze-ke&&(Ze=we.length-_e+ke);const Je=Ze-ke;return this===we&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,ke,Ze):Uint8Array.prototype.set.call(we,this.subarray(ke,Ze),_e),Je},ue.prototype.fill=function(we,_e,ke,Ze){if(typeof we=="string"){if(typeof _e=="string"?(Ze=_e,_e=0,ke=this.length):typeof ke=="string"&&(Ze=ke,ke=this.length),Ze!==void 0&&typeof Ze!="string")throw new TypeError("encoding must be a string");if(typeof Ze=="string"&&!ue.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze);if(we.length===1){const tt=we.charCodeAt(0);(Ze==="utf8"&&tt<128||Ze==="latin1")&&(we=tt)}}else typeof we=="number"?we=we&255:typeof we=="boolean"&&(we=Number(we));if(_e<0||this.length<_e||this.length<ke)throw new RangeError("Out of range index");if(ke<=_e)return this;_e=_e>>>0,ke=ke===void 0?this.length:ke>>>0,we||(we=0);let Je;if(typeof we=="number")for(Je=_e;Je<ke;++Je)this[Je]=we;else{const tt=ue.isBuffer(we)?we:ue.from(we,Ze),zt=tt.length;if(zt===0)throw new TypeError('The value "'+we+'" is invalid for argument "value"');for(Je=0;Je<ke-_e;++Je)this[Je+_e]=tt[Je%zt]}return this};const nt={};function at(Re,we,_e){nt[Re]=class extends _e{constructor(){super(),Object.defineProperty(this,"message",{value:we.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Re}]`,this.stack,delete this.name}get code(){return Re}set code(Ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ze,writable:!0})}toString(){return`${this.name} [${Re}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(Re){return Re?`${Re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(Re,we){return`The "${Re}" argument must be of type number. Received type ${typeof we}`},TypeError),at("ERR_OUT_OF_RANGE",function(Re,we,_e){let ke=`The value of "${Re}" is out of range.`,Ze=_e;return Number.isInteger(_e)&&Math.abs(_e)>2**32?Ze=Ht(String(_e)):typeof _e=="bigint"&&(Ze=String(_e),(_e>BigInt(2)**BigInt(32)||_e<-(BigInt(2)**BigInt(32)))&&(Ze=Ht(Ze)),Ze+="n"),ke+=` It must be ${we}. Received ${Ze}`,ke},RangeError);function Ht(Re){let we="",_e=Re.length;const ke=Re[0]==="-"?1:0;for(;_e>=ke+4;_e-=3)we=`_${Re.slice(_e-3,_e)}${we}`;return`${Re.slice(0,_e)}${we}`}function dt(Re,we,_e){Jt(we,"offset"),(Re[we]===void 0||Re[we+_e]===void 0)&&yt(we,Re.length-(_e+1))}function gt(Re,we,_e,ke,Ze,Je){if(Re>_e||Re<we){const tt=typeof we=="bigint"?"n":"";let zt;throw Je>3?we===0||we===BigInt(0)?zt=`>= 0${tt} and < 2${tt} ** ${(Je+1)*8}${tt}`:zt=`>= -(2${tt} ** ${(Je+1)*8-1}${tt}) and < 2 ** ${(Je+1)*8-1}${tt}`:zt=`>= ${we}${tt} and <= ${_e}${tt}`,new nt.ERR_OUT_OF_RANGE("value",zt,Re)}dt(ke,Ze,Je)}function Jt(Re,we){if(typeof Re!="number")throw new nt.ERR_INVALID_ARG_TYPE(we,"number",Re)}function yt(Re,we,_e){throw Math.floor(Re)!==Re?(Jt(Re,_e),new nt.ERR_OUT_OF_RANGE(_e||"offset","an integer",Re)):we<0?new nt.ERR_BUFFER_OUT_OF_BOUNDS:new nt.ERR_OUT_OF_RANGE(_e||"offset",`>= ${_e?1:0} and <= ${we}`,Re)}const Mt=/[^+/0-9A-Za-z-_]/g;function it(Re){if(Re=Re.split("=")[0],Re=Re.trim().replace(Mt,""),Re.length<2)return"";for(;Re.length%4!==0;)Re=Re+"=";return Re}function Le(Re,we){we=we||1/0;let _e;const ke=Re.length;let Ze=null;const Je=[];for(let tt=0;tt<ke;++tt){if(_e=Re.charCodeAt(tt),_e>55295&&_e<57344){if(!Ze){if(_e>56319){(we-=3)>-1&&Je.push(239,191,189);continue}else if(tt+1===ke){(we-=3)>-1&&Je.push(239,191,189);continue}Ze=_e;continue}if(_e<56320){(we-=3)>-1&&Je.push(239,191,189),Ze=_e;continue}_e=(Ze-55296<<10|_e-56320)+65536}else Ze&&(we-=3)>-1&&Je.push(239,191,189);if(Ze=null,_e<128){if((we-=1)<0)break;Je.push(_e)}else if(_e<2048){if((we-=2)<0)break;Je.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((we-=3)<0)break;Je.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((we-=4)<0)break;Je.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return Je}function De(Re){const we=[];for(let _e=0;_e<Re.length;++_e)we.push(Re.charCodeAt(_e)&255);return we}function ct(Re,we){let _e,ke,Ze;const Je=[];for(let tt=0;tt<Re.length&&!((we-=2)<0);++tt)_e=Re.charCodeAt(tt),ke=_e>>8,Ze=_e%256,Je.push(Ze),Je.push(ke);return Je}function ot(Re){return ee.toByteArray(it(Re))}function lt(Re,we,_e,ke){let Ze;for(Ze=0;Ze<ke&&!(Ze+_e>=we.length||Ze>=Re.length);++Ze)we[Ze+_e]=Re[Ze];return Ze}function Pt(Re,we){return Re instanceof we||Re!=null&&Re.constructor!=null&&Re.constructor.name!=null&&Re.constructor.name===we.name}function Et(Re){return Re!==Re}const St=function(){const Re="0123456789abcdef",we=new Array(256);for(let _e=0;_e<16;++_e){const ke=_e*16;for(let Ze=0;Ze<16;++Ze)we[ke+Ze]=Re[_e]+Re[Ze]}return we}();function ar(Re){return typeof BigInt>"u"?Tt:Re}function Tt(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(re,ee){var te=buffer$1,ne=te.Buffer;function se(fe,ue){for(var xe in fe)ue[xe]=fe[xe]}ne.from&&ne.alloc&&ne.allocUnsafe&&ne.allocUnsafeSlow?re.exports=te:(se(te,ee),ee.Buffer=ie);function ie(fe,ue,xe){return ne(fe,ue,xe)}ie.prototype=Object.create(ne.prototype),se(ne,ie),ie.from=function(fe,ue,xe){if(typeof fe=="number")throw new TypeError("Argument must not be a number");return ne(fe,ue,xe)},ie.alloc=function(fe,ue,xe){if(typeof fe!="number")throw new TypeError("Argument must be a number");var Ee=ne(fe);return ue!==void 0?typeof xe=="string"?Ee.fill(ue,xe):Ee.fill(ue):Ee.fill(0),Ee},ie.allocUnsafe=function(fe){if(typeof fe!="number")throw new TypeError("Argument must be a number");return ne(fe)},ie.allocUnsafeSlow=function(fe){if(typeof fe!="number")throw new TypeError("Argument must be a number");return te.SlowBuffer(fe)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base$1(re){if(re.length>=255)throw new TypeError("Alphabet too long");for(var ee=new Uint8Array(256),te=0;te<ee.length;te++)ee[te]=255;for(var ne=0;ne<re.length;ne++){var se=re.charAt(ne),ie=se.charCodeAt(0);if(ee[ie]!==255)throw new TypeError(se+" is ambiguous");ee[ie]=ne}var fe=re.length,ue=re.charAt(0),xe=Math.log(fe)/Math.log(256),Ee=Math.log(256)/Math.log(fe);function Ae(Ne){if((Array.isArray(Ne)||Ne instanceof Uint8Array)&&(Ne=_Buffer.from(Ne)),!_Buffer.isBuffer(Ne))throw new TypeError("Expected Buffer");if(Ne.length===0)return"";for(var je=0,Ue=0,Ce=0,Be=Ne.length;Ce!==Be&&Ne[Ce]===0;)Ce++,je++;for(var He=(Be-Ce)*Ee+1>>>0,Oe=new Uint8Array(He);Ce!==Be;){for(var Ke=Ne[Ce],qe=0,Ve=He-1;(Ke!==0||qe<Ue)&&Ve!==-1;Ve--,qe++)Ke+=256*Oe[Ve]>>>0,Oe[Ve]=Ke%fe>>>0,Ke=Ke/fe>>>0;if(Ke!==0)throw new Error("Non-zero carry");Ue=qe,Ce++}for(var Xe=He-Ue;Xe!==He&&Oe[Xe]===0;)Xe++;for(var rt=ue.repeat(je);Xe<He;++Xe)rt+=re.charAt(Oe[Xe]);return rt}function Me(Ne){if(typeof Ne!="string")throw new TypeError("Expected String");if(Ne.length===0)return _Buffer.alloc(0);for(var je=0,Ue=0,Ce=0;Ne[je]===ue;)Ue++,je++;for(var Be=(Ne.length-je)*xe+1>>>0,He=new Uint8Array(Be);Ne[je];){var Oe=ee[Ne.charCodeAt(je)];if(Oe===255)return;for(var Ke=0,qe=Be-1;(Oe!==0||Ke<Ce)&&qe!==-1;qe--,Ke++)Oe+=fe*He[qe]>>>0,He[qe]=Oe%256>>>0,Oe=Oe/256>>>0;if(Oe!==0)throw new Error("Non-zero carry");Ce=Ke,je++}for(var Ve=Be-Ce;Ve!==Be&&He[Ve]===0;)Ve++;var Xe=_Buffer.allocUnsafe(Ue+(Be-Ve));Xe.fill(0,0,Ue);for(var rt=Ue;Ve!==Be;)Xe[rt++]=He[Ve++];return Xe}function Pe(Ne){var je=Me(Ne);if(je)return je;throw new Error("Non-base"+fe+" character")}return{encode:Ae,decodeUnsafe:Me,decode:Pe}}var src=base$1,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);function inRange(re,ee,te){return ee<=re&&re<=te}function ToDictionary(re){if(re===void 0)return{};if(re===Object(re))return re;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(re){for(var ee=String(re),te=ee.length,ne=0,se=[];ne<te;){var ie=ee.charCodeAt(ne);if(ie<55296||ie>57343)se.push(ie);else if(56320<=ie&&ie<=57343)se.push(65533);else if(55296<=ie&&ie<=56319)if(ne===te-1)se.push(65533);else{var fe=re.charCodeAt(ne+1);if(56320<=fe&&fe<=57343){var ue=ie&1023,xe=fe&1023;se.push(65536+(ue<<10)+xe),ne+=1}else se.push(65533)}ne+=1}return se}function codePointsToString(re){for(var ee="",te=0;te<re.length;++te){var ne=re[te];ne<=65535?ee+=String.fromCharCode(ne):(ne-=65536,ee+=String.fromCharCode((ne>>10)+55296,(ne&1023)+56320))}return ee}var end_of_stream=-1;function Stream(re){this.tokens=[].slice.call(re)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(re){if(Array.isArray(re))for(var ee=re;ee.length;)this.tokens.unshift(ee.pop());else this.tokens.unshift(re)},push:function(re){if(Array.isArray(re))for(var ee=re;ee.length;)this.tokens.push(ee.shift());else this.tokens.push(re)}};var finished=-1;function decoderError(re,ee){if(re)throw TypeError("Decoder error");return ee||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(re,ee){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(re,ee);if(re=re!==void 0?String(re).toLowerCase():DEFAULT_ENCODING,re!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");ee=ToDictionary(ee),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(ee.fatal),this._ignoreBOM=Boolean(ee.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(ee,te){var ne;typeof ee=="object"&&ee instanceof ArrayBuffer?ne=new Uint8Array(ee):typeof ee=="object"&&"buffer"in ee&&ee.buffer instanceof ArrayBuffer?ne=new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength):ne=new Uint8Array(0),te=ToDictionary(te),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(te.stream);for(var se=new Stream(ne),ie=[],fe;!se.endOfStream()&&(fe=this._decoder.handler(se,se.read()),fe!==finished);)fe!==null&&(Array.isArray(fe)?ie.push.apply(ie,fe):ie.push(fe));if(!this._streaming){do{if(fe=this._decoder.handler(se,se.read()),fe===finished)break;fe!==null&&(Array.isArray(fe)?ie.push.apply(ie,fe):ie.push(fe))}while(!se.endOfStream());this._decoder=null}return ie.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(ie[0]===65279?(this._BOMseen=!0,ie.shift()):this._BOMseen=!0),codePointsToString(ie)}};function TextEncoder$1(re,ee){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(re,ee);if(re=re!==void 0?String(re).toLowerCase():DEFAULT_ENCODING,re!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");ee=ToDictionary(ee),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(ee.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(ee,te){ee=ee?String(ee):"",te=ToDictionary(te),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(te.stream);for(var ne=[],se=new Stream(stringToCodePoints(ee)),ie;!se.endOfStream()&&(ie=this._encoder.handler(se,se.read()),ie!==finished);)Array.isArray(ie)?ne.push.apply(ne,ie):ne.push(ie);if(!this._streaming){for(;ie=this._encoder.handler(se,se.read()),ie!==finished;)Array.isArray(ie)?ne.push.apply(ne,ie):ne.push(ie);this._encoder=null}return new Uint8Array(ne)}};function UTF8Decoder(re){var ee=re.fatal,te=0,ne=0,se=0,ie=128,fe=191;this.handler=function(ue,xe){if(xe===end_of_stream&&se!==0)return se=0,decoderError(ee);if(xe===end_of_stream)return finished;if(se===0){if(inRange(xe,0,127))return xe;if(inRange(xe,194,223))se=1,te=xe-192;else if(inRange(xe,224,239))xe===224&&(ie=160),xe===237&&(fe=159),se=2,te=xe-224;else if(inRange(xe,240,244))xe===240&&(ie=144),xe===244&&(fe=143),se=3,te=xe-240;else return decoderError(ee);return te=te<<6*se,null}if(!inRange(xe,ie,fe))return te=se=ne=0,ie=128,fe=191,ue.prepend(xe),decoderError(ee);if(ie=128,fe=191,ne+=1,te+=xe-128<<6*(se-ne),ne!==se)return null;var Ee=te;return te=se=ne=0,Ee}}function UTF8Encoder(re){re.fatal,this.handler=function(ee,te){if(te===end_of_stream)return finished;if(inRange(te,0,127))return te;var ne,se;inRange(te,128,2047)?(ne=1,se=192):inRange(te,2048,65535)?(ne=2,se=224):inRange(te,65536,1114111)&&(ne=3,se=240);for(var ie=[(te>>6*ne)+se];ne>0;){var fe=te>>6*(ne-1);ie.push(128|fe&63),ne-=1}return ie}}var encoding_lib=Object.freeze({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1}),require$$2$2=getAugmentedNamespace(encoding_lib),__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(re,ee,te,ne){ne===void 0&&(ne=te),Object.defineProperty(re,ne,{enumerable:!0,get:function(){return ee[te]}})}:function(re,ee,te,ne){ne===void 0&&(ne=te),re[ne]=ee[te]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(re,ee){Object.defineProperty(re,"default",{enumerable:!0,value:ee})}:function(re,ee){re.default=ee}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(re,ee,te,ne){var se=arguments.length,ie=se<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,te):ne,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(re,ee,te,ne);else for(var ue=re.length-1;ue>=0;ue--)(fe=re[ue])&&(ie=(se<3?fe(ie):se>3?fe(ee,te,ie):fe(ee,te))||ie);return se>3&&ie&&Object.defineProperty(ee,te,ie),ie},__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(re){if(re&&re.__esModule)return re;var ee={};if(re!=null)for(var te in re)te!=="default"&&Object.hasOwnProperty.call(re,te)&&__createBinding$1(ee,re,te);return __setModuleDefault$1(ee,re),ee},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(lib$4,"__esModule",{value:!0});var deserializeUnchecked_1=lib$4.deserializeUnchecked=deserialize_1=lib$4.deserialize=serialize_1=lib$4.serialize=lib$4.BinaryReader=lib$4.BinaryWriter=lib$4.BorshError=lib$4.baseDecode=lib$4.baseEncode=void 0;const bn_js_1$2=__importDefault$3(bn$4.exports),bs58_1=__importDefault$3(bs58),encoding=__importStar$1(require$$2$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(re){return typeof re=="string"&&(re=Buffer.from(re,"utf8")),bs58_1.default.encode(Buffer.from(re))}lib$4.baseEncode=baseEncode;function baseDecode(re){return Buffer.from(bs58_1.default.decode(re))}lib$4.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(ee){super(ee),this.fieldPath=[],this.originalMessage=ee}addToFieldPath(ee){this.fieldPath.splice(0,0,ee),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$4.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(ee){this.maybeResize(),this.buf.writeUInt8(ee,this.length),this.length+=1}writeU16(ee){this.maybeResize(),this.buf.writeUInt16LE(ee,this.length),this.length+=2}writeU32(ee){this.maybeResize(),this.buf.writeUInt32LE(ee,this.length),this.length+=4}writeU64(ee){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1$2.default(ee).toArray("le",8)))}writeU128(ee){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1$2.default(ee).toArray("le",16)))}writeU256(ee){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1$2.default(ee).toArray("le",32)))}writeU512(ee){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1$2.default(ee).toArray("le",64)))}writeBuffer(ee){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),ee,Buffer.alloc(INITIAL_LENGTH)]),this.length+=ee.length}writeString(ee){this.maybeResize();const te=Buffer.from(ee,"utf8");this.writeU32(te.length),this.writeBuffer(te)}writeFixedArray(ee){this.writeBuffer(Buffer.from(ee))}writeArray(ee,te){this.maybeResize(),this.writeU32(ee.length);for(const ne of ee)this.maybeResize(),te(ne)}toArray(){return this.buf.subarray(0,this.length)}}lib$4.BinaryWriter=BinaryWriter;function handlingRangeError(re,ee,te){const ne=te.value;te.value=function(...se){try{return ne.apply(this,se)}catch(ie){if(ie instanceof RangeError){const fe=ie.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(fe)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw ie}}}class BinaryReader{constructor(ee){this.buf=ee,this.offset=0}readU8(){const ee=this.buf.readUInt8(this.offset);return this.offset+=1,ee}readU16(){const ee=this.buf.readUInt16LE(this.offset);return this.offset+=2,ee}readU32(){const ee=this.buf.readUInt32LE(this.offset);return this.offset+=4,ee}readU64(){const ee=this.readBuffer(8);return new bn_js_1$2.default(ee,"le")}readU128(){const ee=this.readBuffer(16);return new bn_js_1$2.default(ee,"le")}readU256(){const ee=this.readBuffer(32);return new bn_js_1$2.default(ee,"le")}readU512(){const ee=this.readBuffer(64);return new bn_js_1$2.default(ee,"le")}readBuffer(ee){if(this.offset+ee>this.buf.length)throw new BorshError(`Expected buffer length ${ee} isn't within bounds`);const te=this.buf.slice(this.offset,this.offset+ee);return this.offset+=ee,te}readString(){const ee=this.readU32(),te=this.readBuffer(ee);try{return textDecoder.decode(te)}catch(ne){throw new BorshError(`Error decoding UTF-8 string: ${ne}`)}}readFixedArray(ee){return new Uint8Array(this.readBuffer(ee))}readArray(ee){const te=this.readU32(),ne=Array();for(let se=0;se<te;++se)ne.push(ee());return ne}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null),__decorate([handlingRangeError],BinaryReader.prototype,"readString",null),__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null),__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null),lib$4.BinaryReader=BinaryReader;function capitalizeFirstLetter(re){return re.charAt(0).toUpperCase()+re.slice(1)}function serializeField(re,ee,te,ne,se){try{if(typeof ne=="string")se[`write${capitalizeFirstLetter(ne)}`](te);else if(ne instanceof Array)if(typeof ne[0]=="number"){if(te.length!==ne[0])throw new BorshError(`Expecting byte array of length ${ne[0]}, but got ${te.length} bytes`);se.writeFixedArray(te)}else if(ne.length===2&&typeof ne[1]=="number"){if(te.length!==ne[1])throw new BorshError(`Expecting byte array of length ${ne[1]}, but got ${te.length} bytes`);for(let ie=0;ie<ne[1];ie++)serializeField(re,null,te[ie],ne[0],se)}else se.writeArray(te,ie=>{serializeField(re,ee,ie,ne[0],se)});else if(ne.kind!==void 0)switch(ne.kind){case"option":{te==null?se.writeU8(0):(se.writeU8(1),serializeField(re,ee,te,ne.type,se));break}case"map":{se.writeU32(te.size),te.forEach((ie,fe)=>{serializeField(re,ee,fe,ne.key,se),serializeField(re,ee,ie,ne.value,se)});break}default:throw new BorshError(`FieldType ${ne} unrecognized`)}else serializeStruct(re,te,se)}catch(ie){throw ie instanceof BorshError&&ie.addToFieldPath(ee),ie}}function serializeStruct(re,ee,te){if(typeof ee.borshSerialize=="function"){ee.borshSerialize(te);return}const ne=re.get(ee.constructor);if(!ne)throw new BorshError(`Class ${ee.constructor.name} is missing in schema`);if(ne.kind==="struct")ne.fields.map(([se,ie])=>{serializeField(re,se,ee[se],ie,te)});else if(ne.kind==="enum"){const se=ee[ne.field];for(let ie=0;ie<ne.values.length;++ie){const[fe,ue]=ne.values[ie];if(fe===se){te.writeU8(ie),serializeField(re,fe,ee[fe],ue,te);break}}}else throw new BorshError(`Unexpected schema kind: ${ne.kind} for ${ee.constructor.name}`)}function serialize$1(re,ee,te=BinaryWriter){const ne=new te;return serializeStruct(re,ee,ne),ne.toArray()}var serialize_1=lib$4.serialize=serialize$1;function deserializeField(re,ee,te,ne){try{if(typeof te=="string")return ne[`read${capitalizeFirstLetter(te)}`]();if(te instanceof Array){if(typeof te[0]=="number")return ne.readFixedArray(te[0]);if(typeof te[1]=="number"){const se=[];for(let ie=0;ie<te[1];ie++)se.push(deserializeField(re,null,te[0],ne));return se}else return ne.readArray(()=>deserializeField(re,ee,te[0],ne))}if(te.kind==="option")return ne.readU8()?deserializeField(re,ee,te.type,ne):void 0;if(te.kind==="map"){let se=new Map;const ie=ne.readU32();for(let fe=0;fe<ie;fe++){const ue=deserializeField(re,ee,te.key,ne),xe=deserializeField(re,ee,te.value,ne);se.set(ue,xe)}return se}return deserializeStruct(re,te,ne)}catch(se){throw se instanceof BorshError&&se.addToFieldPath(ee),se}}function deserializeStruct(re,ee,te){if(typeof ee.borshDeserialize=="function")return ee.borshDeserialize(te);const ne=re.get(ee);if(!ne)throw new BorshError(`Class ${ee.name} is missing in schema`);if(ne.kind==="struct"){const se={};for(const[ie,fe]of re.get(ee).fields)se[ie]=deserializeField(re,ie,fe,te);return new ee(se)}if(ne.kind==="enum"){const se=te.readU8();if(se>=ne.values.length)throw new BorshError(`Enum index: ${se} is out of range`);const[ie,fe]=ne.values[se],ue=deserializeField(re,ie,fe,te);return new ee({[ie]:ue})}throw new BorshError(`Unexpected schema kind: ${ne.kind} for ${ee.constructor.name}`)}function deserialize(re,ee,te,ne=BinaryReader){const se=new ne(te),ie=deserializeStruct(re,ee,se);if(se.offset<te.length)throw new BorshError(`Unexpected ${te.length-se.offset} bytes after deserialized data`);return ie}var deserialize_1=lib$4.deserialize=deserialize;function deserializeUnchecked(re,ee,te,ne=BinaryReader){const se=new ne(te);return deserializeStruct(re,ee,se)}deserializeUnchecked_1=lib$4.deserializeUnchecked=deserializeUnchecked,function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.BinaryReader=re.BinaryWriter=re.BorshError=re.deserialize=re.serialize=re.base_decode=re.base_encode=void 0;var ee=lib$4;Object.defineProperty(re,"base_encode",{enumerable:!0,get:function(){return ee.baseEncode}}),Object.defineProperty(re,"base_decode",{enumerable:!0,get:function(){return ee.baseDecode}}),Object.defineProperty(re,"serialize",{enumerable:!0,get:function(){return ee.serialize}}),Object.defineProperty(re,"deserialize",{enumerable:!0,get:function(){return ee.deserialize}}),Object.defineProperty(re,"BorshError",{enumerable:!0,get:function(){return ee.BorshError}}),Object.defineProperty(re,"BinaryWriter",{enumerable:!0,get:function(){return ee.BinaryWriter}}),Object.defineProperty(re,"BinaryReader",{enumerable:!0,get:function(){return ee.BinaryReader}})}(serialize$2);var enums={};Object.defineProperty(enums,"__esModule",{value:!0}),enums.Assignable=enums.Enum=void 0;class Enum$1{constructor(ee){if(Object.keys(ee).length!==1)throw new Error("Enum can only take single value");Object.keys(ee).map(te=>{this[te]=ee[te],this.enum=te})}}enums.Enum=Enum$1;class Assignable{constructor(ee){Object.keys(ee).map(te=>{this[te]=ee[te]})}}enums.Assignable=Assignable,function(re){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(Me){return Me&&Me.__esModule?Me:{default:Me}};Object.defineProperty(re,"__esModule",{value:!0}),re.KeyPairEd25519=re.KeyPair=re.PublicKey=re.KeyType=void 0;const te=ee(naclFast.exports),ne=serialize$2,se=enums;var ie;(function(Me){Me[Me.ED25519=0]="ED25519"})(ie=re.KeyType||(re.KeyType={}));function fe(Me){switch(Me){case ie.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${Me}`)}}function ue(Me){switch(Me.toLowerCase()){case"ed25519":return ie.ED25519;default:throw new Error(`Unknown key type ${Me}`)}}class xe extends se.Assignable{static from(Pe){return typeof Pe=="string"?xe.fromString(Pe):Pe}static fromString(Pe){const Ne=Pe.split(":");if(Ne.length===1)return new xe({keyType:ie.ED25519,data:(0,ne.base_decode)(Ne[0])});if(Ne.length===2)return new xe({keyType:ue(Ne[0]),data:(0,ne.base_decode)(Ne[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${fe(this.keyType)}:${(0,ne.base_encode)(this.data)}`}verify(Pe,Ne){switch(this.keyType){case ie.ED25519:return te.default.sign.detached.verify(Pe,Ne,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}re.PublicKey=xe;class Ee{static fromRandom(Pe){switch(Pe.toUpperCase()){case"ED25519":return Ae.fromRandom();default:throw new Error(`Unknown curve ${Pe}`)}}static fromString(Pe){const Ne=Pe.split(":");if(Ne.length===1)return new Ae(Ne[0]);if(Ne.length===2)switch(Ne[0].toUpperCase()){case"ED25519":return new Ae(Ne[1]);default:throw new Error(`Unknown curve: ${Ne[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}re.KeyPair=Ee;class Ae extends Ee{constructor(Pe){super();const Ne=te.default.sign.keyPair.fromSecretKey((0,ne.base_decode)(Pe));this.publicKey=new xe({keyType:ie.ED25519,data:Ne.publicKey}),this.secretKey=Pe}static fromRandom(){const Pe=te.default.sign.keyPair();return new Ae((0,ne.base_encode)(Pe.secretKey))}sign(Pe){return{signature:te.default.sign.detached(Pe,(0,ne.base_decode)(this.secretKey)),publicKey:this.publicKey}}verify(Pe,Ne){return this.publicKey.verify(Pe,Ne)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}re.KeyPairEd25519=Ae}(key_pair);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};Object.defineProperty(in_memory_key_store,"__esModule",{value:!0}),in_memory_key_store.InMemoryKeyStore=void 0;const keystore_1$2=keystore,key_pair_1$2=key_pair;class InMemoryKeyStore extends keystore_1$2.KeyStore{constructor(){super(),this.keys={}}setKey(ee,te,ne){return __awaiter$d(this,void 0,void 0,function*(){this.keys[`${te}:${ee}`]=ne.toString()})}getKey(ee,te){return __awaiter$d(this,void 0,void 0,function*(){const ne=this.keys[`${te}:${ee}`];return ne?key_pair_1$2.KeyPair.fromString(ne):null})}removeKey(ee,te){return __awaiter$d(this,void 0,void 0,function*(){delete this.keys[`${te}:${ee}`]})}clear(){return __awaiter$d(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return __awaiter$d(this,void 0,void 0,function*(){const ee=new Set;return Object.keys(this.keys).forEach(te=>{const ne=te.split(":");ee.add(ne[1])}),Array.from(ee.values())})}getAccounts(ee){return __awaiter$d(this,void 0,void 0,function*(){const te=new Array;return Object.keys(this.keys).forEach(ne=>{const se=ne.split(":");se[se.length-1]===ee&&te.push(se.slice(0,se.length-1).join(":"))}),te})}toString(){return"InMemoryKeyStore"}}in_memory_key_store.InMemoryKeyStore=InMemoryKeyStore;var browser_local_storage_key_store={},__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};Object.defineProperty(browser_local_storage_key_store,"__esModule",{value:!0}),browser_local_storage_key_store.BrowserLocalStorageKeyStore=void 0;const keystore_1$1=keystore,key_pair_1$1=key_pair,LOCAL_STORAGE_KEY_PREFIX="near-api-js:keystore:";class BrowserLocalStorageKeyStore extends keystore_1$1.KeyStore{constructor(ee=window.localStorage,te=LOCAL_STORAGE_KEY_PREFIX){super(),this.localStorage=ee,this.prefix=te}setKey(ee,te,ne){return __awaiter$c(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(ee,te),ne.toString())})}getKey(ee,te){return __awaiter$c(this,void 0,void 0,function*(){const ne=this.localStorage.getItem(this.storageKeyForSecretKey(ee,te));return ne?key_pair_1$1.KeyPair.fromString(ne):null})}removeKey(ee,te){return __awaiter$c(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(ee,te))})}clear(){return __awaiter$c(this,void 0,void 0,function*(){for(const ee of this.storageKeys())ee.startsWith(this.prefix)&&this.localStorage.removeItem(ee)})}getNetworks(){return __awaiter$c(this,void 0,void 0,function*(){const ee=new Set;for(const te of this.storageKeys())if(te.startsWith(this.prefix)){const ne=te.substring(this.prefix.length).split(":");ee.add(ne[1])}return Array.from(ee.values())})}getAccounts(ee){return __awaiter$c(this,void 0,void 0,function*(){const te=new Array;for(const ne of this.storageKeys())if(ne.startsWith(this.prefix)){const se=ne.substring(this.prefix.length).split(":");se[1]===ee&&te.push(se[0])}return te})}storageKeyForSecretKey(ee,te){return`${this.prefix}${te}:${ee}`}*storageKeys(){for(let ee=0;ee<this.localStorage.length;ee++)yield this.localStorage.key(ee)}}browser_local_storage_key_store.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore;var merge_key_store={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};Object.defineProperty(merge_key_store,"__esModule",{value:!0}),merge_key_store.MergeKeyStore=void 0;const keystore_1=keystore;class MergeKeyStore extends keystore_1.KeyStore{constructor(ee,te={writeKeyStoreIndex:0}){super(),this.options=te,this.keyStores=ee}setKey(ee,te,ne){return __awaiter$b(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(ee,te,ne)})}getKey(ee,te){return __awaiter$b(this,void 0,void 0,function*(){for(const ne of this.keyStores){const se=yield ne.getKey(ee,te);if(se)return se}return null})}removeKey(ee,te){return __awaiter$b(this,void 0,void 0,function*(){for(const ne of this.keyStores)yield ne.removeKey(ee,te)})}clear(){return __awaiter$b(this,void 0,void 0,function*(){for(const ee of this.keyStores)yield ee.clear()})}getNetworks(){return __awaiter$b(this,void 0,void 0,function*(){const ee=new Set;for(const te of this.keyStores)for(const ne of yield te.getNetworks())ee.add(ne);return Array.from(ee)})}getAccounts(ee){return __awaiter$b(this,void 0,void 0,function*(){const te=new Set;for(const ne of this.keyStores)for(const se of yield ne.getAccounts(ee))te.add(se);return Array.from(te)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}merge_key_store.MergeKeyStore=MergeKeyStore,function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.MergeKeyStore=re.BrowserLocalStorageKeyStore=re.InMemoryKeyStore=re.KeyStore=void 0;const ee=keystore;Object.defineProperty(re,"KeyStore",{enumerable:!0,get:function(){return ee.KeyStore}});const te=in_memory_key_store;Object.defineProperty(re,"InMemoryKeyStore",{enumerable:!0,get:function(){return te.InMemoryKeyStore}});const ne=browser_local_storage_key_store;Object.defineProperty(re,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return ne.BrowserLocalStorageKeyStore}});const se=merge_key_store;Object.defineProperty(re,"MergeKeyStore",{enumerable:!0,get:function(){return se.MergeKeyStore}})}(browserIndex);var commonIndex={},providers={},provider$1={};(function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.getTransactionLastResult=re.Provider=re.IdType=re.FinalExecutionStatusBasic=re.ExecutionStatusBasic=void 0,function(ne){ne.Unknown="Unknown",ne.Pending="Pending",ne.Failure="Failure"}(re.ExecutionStatusBasic||(re.ExecutionStatusBasic={})),function(ne){ne.NotStarted="NotStarted",ne.Started="Started",ne.Failure="Failure"}(re.FinalExecutionStatusBasic||(re.FinalExecutionStatusBasic={})),function(ne){ne.Transaction="transaction",ne.Receipt="receipt"}(re.IdType||(re.IdType={}));class ee{}re.Provider=ee;function te(ne){if(typeof ne.status=="object"&&typeof ne.status.SuccessValue=="string"){const se=Buffer.from(ne.status.SuccessValue,"base64").toString();try{return JSON.parse(se)}catch{return se}}return null}re.getTransactionLastResult=te})(provider$1);var jsonRpcProvider={},web={},httpErrors={exports:{}};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var browser$3=depd$1;function depd$1(re){if(!re)throw new TypeError("argument namespace is required");function ee(te){}return ee._file=void 0,ee._ignored=!0,ee._namespace=re,ee._traced=!1,ee._warned=Object.create(null),ee.function=wrapfunction$1,ee.property=wrapproperty$1,ee}function wrapfunction$1(re,ee){if(typeof re!="function")throw new TypeError("argument fn must be a function");return re}function wrapproperty$1(re,ee,te){if(!re||typeof re!="object"&&typeof re!="function")throw new TypeError("argument obj must be object");var ne=Object.getOwnPropertyDescriptor(re,ee);if(!ne)throw new TypeError("must call property on owner object");if(!ne.configurable)throw new TypeError("property must be configurable")}var setprototypeof=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(re,ee){return re.__proto__=ee,re}function mixinProperties(re,ee){for(var te in ee)Object.prototype.hasOwnProperty.call(re,te)||(re[te]=ee[te]);return re}var require$$0$2={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var codes=require$$0$2,statuses=status;status.STATUS_CODES=codes,status.codes=populateStatusesMap(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0};function populateStatusesMap(re,ee){var te=[];return Object.keys(ee).forEach(function(se){var ie=ee[se],fe=Number(se);re[fe]=ie,re[ie]=fe,re[ie.toLowerCase()]=fe,te.push(fe)}),te}function status(re){if(typeof re=="number"){if(!status[re])throw new Error("invalid status code: "+re);return re}if(typeof re!="string")throw new TypeError("code must be a number or string");var ee=parseInt(re,10);if(!isNaN(ee)){if(!status[ee])throw new Error("invalid status code: "+ee);return ee}if(ee=status[re.toLowerCase()],!ee)throw new Error('invalid status message: "'+re+'"');return ee}var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(ee,te){te&&(ee.super_=te,ee.prototype=Object.create(te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(ee,te){if(te){ee.super_=te;var ne=function(){};ne.prototype=te.prototype,ee.prototype=new ne,ee.prototype.constructor=ee}};/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var toidentifier=toIdentifier;function toIdentifier(re){return re.split(" ").map(function(ee){return ee.slice(0,1).toUpperCase()+ee.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */(function(re){var ee=browser$3("http-errors"),te=setprototypeof,ne=statuses,se=inherits_browser$1.exports,ie=toidentifier;re.exports=ue,re.exports.HttpError=xe(),re.exports.isHttpError=Ae(re.exports.HttpError),Ne(re.exports,ne.codes,re.exports.HttpError);function fe(Ue){return Number(String(Ue).charAt(0)+"00")}function ue(){for(var Ue,Ce,Be=500,He={},Oe=0;Oe<arguments.length;Oe++){var Ke=arguments[Oe];if(Ke instanceof Error){Ue=Ke,Be=Ue.status||Ue.statusCode||Be;continue}switch(typeof Ke){case"string":Ce=Ke;break;case"number":Be=Ke;break;case"object":He=Ke;break}}(typeof Be!="number"||!ne[Be]&&(Be<400||Be>=600))&&(Be=500);var qe=ue[Be]||ue[fe(Be)];Ue||(Ue=qe?new qe(Ce):new Error(Ce||ne[Be]),Error.captureStackTrace(Ue,ue)),(!qe||!(Ue instanceof qe)||Ue.status!==Be)&&(Ue.expose=Be<500,Ue.status=Ue.statusCode=Be);for(var Ve in He)Ve!=="status"&&Ve!=="statusCode"&&(Ue[Ve]=He[Ve]);return Ue}function xe(){function Ue(){throw new TypeError("cannot construct abstract class")}return se(Ue,Error),Ue}function Ee(Ue,Ce,Be){var He=je(Ce);function Oe(Ke){var qe=Ke??ne[Be],Ve=new Error(qe);return Error.captureStackTrace(Ve,Oe),te(Ve,Oe.prototype),Object.defineProperty(Ve,"message",{enumerable:!0,configurable:!0,value:qe,writable:!0}),Object.defineProperty(Ve,"name",{enumerable:!1,configurable:!0,value:He,writable:!0}),Ve}return se(Oe,Ue),Pe(Oe,He),Oe.prototype.status=Be,Oe.prototype.statusCode=Be,Oe.prototype.expose=!0,Oe}function Ae(Ue){return function(Be){return!Be||typeof Be!="object"?!1:Be instanceof Ue?!0:Be instanceof Error&&typeof Be.expose=="boolean"&&typeof Be.statusCode=="number"&&Be.status===Be.statusCode}}function Me(Ue,Ce,Be){var He=je(Ce);function Oe(Ke){var qe=Ke??ne[Be],Ve=new Error(qe);return Error.captureStackTrace(Ve,Oe),te(Ve,Oe.prototype),Object.defineProperty(Ve,"message",{enumerable:!0,configurable:!0,value:qe,writable:!0}),Object.defineProperty(Ve,"name",{enumerable:!1,configurable:!0,value:He,writable:!0}),Ve}return se(Oe,Ue),Pe(Oe,He),Oe.prototype.status=Be,Oe.prototype.statusCode=Be,Oe.prototype.expose=!1,Oe}function Pe(Ue,Ce){var Be=Object.getOwnPropertyDescriptor(Ue,"name");Be&&Be.configurable&&(Be.value=Ce,Object.defineProperty(Ue,"name",Be))}function Ne(Ue,Ce,Be){Ce.forEach(function(Oe){var Ke,qe=ie(ne[Oe]);switch(fe(Oe)){case 400:Ke=Ee(Be,qe,Oe);break;case 500:Ke=Me(Be,qe,Oe);break}Ke&&(Ue[Oe]=Ke,Ue[qe]=Ke)}),Ue["I'mateapot"]=ee.function(Ue.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}function je(Ue){return Ue.substr(-5)!=="Error"?Ue+"Error":Ue}})(httpErrors);var exponentialBackoff$1={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};Object.defineProperty(exponentialBackoff$1,"__esModule",{value:!0});function exponentialBackoff(re,ee,te,ne){return __awaiter$a(this,void 0,void 0,function*(){let se=re;for(let ie=0;ie<ee;ie++){const fe=yield ne();if(fe)return fe;yield sleep$1(se),se*=te}return null})}exponentialBackoff$1.default=exponentialBackoff;function sleep$1(re){return new Promise(ee=>setTimeout(ee,re))}var errors={};Object.defineProperty(errors,"__esModule",{value:!0}),errors.logWarning=errors.ErrorContext=errors.TypedError=errors.ArgumentTypeError=errors.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}errors.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(ee,te,ne){super(`Expected ${te} for '${ee}' argument, but got '${JSON.stringify(ne)}'`)}}errors.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(ee,te,ne){super(ee),this.type=te||"UntypedError",this.context=ne}}errors.TypedError=TypedError;class ErrorContext{constructor(ee){this.transactionHash=ee}}errors.ErrorContext=ErrorContext;function logWarning(...re){process.env.NEAR_NO_LOGS||console.warn(...re)}errors.logWarning=logWarning;var hasRequiredWeb;function requireWeb(){if(hasRequiredWeb)return web;hasRequiredWeb=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ae,Me,Pe,Ne){function je(Ue){return Ue instanceof Pe?Ue:new Pe(function(Ce){Ce(Ue)})}return new(Pe||(Pe=Promise))(function(Ue,Ce){function Be(Ke){try{Oe(Ne.next(Ke))}catch(qe){Ce(qe)}}function He(Ke){try{Oe(Ne.throw(Ke))}catch(qe){Ce(qe)}}function Oe(Ke){Ke.done?Ue(Ke.value):je(Ke.value).then(Be,He)}Oe((Ne=Ne.apply(Ae,Me||[])).next())})},ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}};Object.defineProperty(web,"__esModule",{value:!0}),web.fetchJson=void 0;const te=ee(httpErrors.exports),ne=ee(exponentialBackoff$1),se=requireProviders(),ie=errors,fe=1e3,ue=1.5,xe=10;function Ee(Ae,Me){return re(this,void 0,void 0,function*(){let Pe={url:null};typeof Ae=="string"?Pe.url=Ae:Pe=Ae;const Ne=yield(0,ne.default)(fe,xe,ue,()=>re(this,void 0,void 0,function*(){try{const je=yield fetch(Pe.url,{method:Me?"POST":"GET",body:Me||void 0,headers:Object.assign(Object.assign({},Pe.headers),{"Content-Type":"application/json"})});if(!je.ok){if(je.status===503)return(0,ie.logWarning)(`Retrying HTTP request for ${Pe.url} as it's not available now`),null;throw(0,te.default)(je.status,yield je.text())}return je}catch(je){if(je.toString().includes("FetchError")||je.toString().includes("Failed to fetch"))return(0,ie.logWarning)(`Retrying HTTP request for ${Pe.url} because of error: ${je}`),null;throw je}}));if(!Ne)throw new se.TypedError(`Exceeded ${xe} attempts for ${Pe.url}.`,"RetriesExceeded");return yield Ne.json()})}return web.fetchJson=Ee,web}var rpc_errors={},mustache={exports:{}};(function(re,ee){(function(te,ne){re.exports=ne()})(commonjsGlobal,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var te=Object.prototype.toString,ne=Array.isArray||function(pe){return te.call(pe)==="[object Array]"};function se($e){return typeof $e=="function"}function ie($e){return ne($e)?"array":typeof $e}function fe($e){return $e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ue($e,pe){return $e!=null&&typeof $e=="object"&&pe in $e}function xe($e,pe){return $e!=null&&typeof $e!="object"&&$e.hasOwnProperty&&$e.hasOwnProperty(pe)}var Ee=RegExp.prototype.test;function Ae($e,pe){return Ee.call($e,pe)}var Me=/\S/;function Pe($e){return!Ae(Me,$e)}var Ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function je($e){return String($e).replace(/[&<>"'`=\/]/g,function(oe){return Ne[oe]})}var Ue=/\s*/,Ce=/\s+/,Be=/\s*=/,He=/\s*\}/,Oe=/#|\^|\/|>|\{|&|=|!/;function Ke($e,pe){if(!$e)return[];var oe=!1,ce=[],le=[],ge=[],ye=!1,me=!1,ve="",he=0;function ae(){if(ye&&!me)for(;ge.length;)delete le[ge.pop()];else ge=[];ye=!1,me=!1}var be,ze,Ie;function We(it){if(typeof it=="string"&&(it=it.split(Ce,2)),!ne(it)||it.length!==2)throw new Error("Invalid tags: "+it);be=new RegExp(fe(it[0])+"\\s*"),ze=new RegExp("\\s*"+fe(it[1])),Ie=new RegExp("\\s*"+fe("}"+it[1]))}We(pe||Qe.tags);for(var ft=new Xe($e),nt,at,Ht,dt,gt,Jt;!ft.eos();){if(nt=ft.pos,Ht=ft.scanUntil(be),Ht)for(var yt=0,Mt=Ht.length;yt<Mt;++yt)dt=Ht.charAt(yt),Pe(dt)?(ge.push(le.length),ve+=dt):(me=!0,oe=!0,ve+=" "),le.push(["text",dt,nt,nt+1]),nt+=1,dt===`
`&&(ae(),ve="",he=0,oe=!1);if(!ft.scan(be))break;if(ye=!0,at=ft.scan(Oe)||"name",ft.scan(Ue),at==="="?(Ht=ft.scanUntil(Be),ft.scan(Be),ft.scanUntil(ze)):at==="{"?(Ht=ft.scanUntil(Ie),ft.scan(He),ft.scanUntil(ze),at="&"):Ht=ft.scanUntil(ze),!ft.scan(ze))throw new Error("Unclosed tag at "+ft.pos);if(at==">"?gt=[at,Ht,nt,ft.pos,ve,he,oe]:gt=[at,Ht,nt,ft.pos],he++,le.push(gt),at==="#"||at==="^")ce.push(gt);else if(at==="/"){if(Jt=ce.pop(),!Jt)throw new Error('Unopened section "'+Ht+'" at '+nt);if(Jt[1]!==Ht)throw new Error('Unclosed section "'+Jt[1]+'" at '+nt)}else at==="name"||at==="{"||at==="&"?me=!0:at==="="&&We(Ht)}if(ae(),Jt=ce.pop(),Jt)throw new Error('Unclosed section "'+Jt[1]+'" at '+ft.pos);return Ve(qe(le))}function qe($e){for(var pe=[],oe,ce,le=0,ge=$e.length;le<ge;++le)oe=$e[le],oe&&(oe[0]==="text"&&ce&&ce[0]==="text"?(ce[1]+=oe[1],ce[3]=oe[3]):(pe.push(oe),ce=oe));return pe}function Ve($e){for(var pe=[],oe=pe,ce=[],le,ge,ye=0,me=$e.length;ye<me;++ye)switch(le=$e[ye],le[0]){case"#":case"^":oe.push(le),ce.push(le),oe=le[4]=[];break;case"/":ge=ce.pop(),ge[5]=le[2],oe=ce.length>0?ce[ce.length-1][4]:pe;break;default:oe.push(le)}return pe}function Xe($e){this.string=$e,this.tail=$e,this.pos=0}Xe.prototype.eos=function(){return this.tail===""},Xe.prototype.scan=function(pe){var oe=this.tail.match(pe);if(!oe||oe.index!==0)return"";var ce=oe[0];return this.tail=this.tail.substring(ce.length),this.pos+=ce.length,ce},Xe.prototype.scanUntil=function(pe){var oe=this.tail.search(pe),ce;switch(oe){case-1:ce=this.tail,this.tail="";break;case 0:ce="";break;default:ce=this.tail.substring(0,oe),this.tail=this.tail.substring(oe)}return this.pos+=ce.length,ce};function rt($e,pe){this.view=$e,this.cache={".":this.view},this.parent=pe}rt.prototype.push=function(pe){return new rt(pe,this)},rt.prototype.lookup=function(pe){var oe=this.cache,ce;if(oe.hasOwnProperty(pe))ce=oe[pe];else{for(var le=this,ge,ye,me,ve=!1;le;){if(pe.indexOf(".")>0)for(ge=le.view,ye=pe.split("."),me=0;ge!=null&&me<ye.length;)me===ye.length-1&&(ve=ue(ge,ye[me])||xe(ge,ye[me])),ge=ge[ye[me++]];else ge=le.view[pe],ve=ue(le.view,pe);if(ve){ce=ge;break}le=le.parent}oe[pe]=ce}return se(ce)&&(ce=ce.call(this.view)),ce};function mt(){this.templateCache={_cache:{},set:function(pe,oe){this._cache[pe]=oe},get:function(pe){return this._cache[pe]},clear:function(){this._cache={}}}}mt.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},mt.prototype.parse=function(pe,oe){var ce=this.templateCache,le=pe+":"+(oe||Qe.tags).join(":"),ge=typeof ce<"u",ye=ge?ce.get(le):void 0;return ye==null&&(ye=Ke(pe,oe),ge&&ce.set(le,ye)),ye},mt.prototype.render=function(pe,oe,ce,le){var ge=this.getConfigTags(le),ye=this.parse(pe,ge),me=oe instanceof rt?oe:new rt(oe,void 0);return this.renderTokens(ye,me,ce,pe,le)},mt.prototype.renderTokens=function(pe,oe,ce,le,ge){for(var ye="",me,ve,he,ae=0,be=pe.length;ae<be;++ae)he=void 0,me=pe[ae],ve=me[0],ve==="#"?he=this.renderSection(me,oe,ce,le,ge):ve==="^"?he=this.renderInverted(me,oe,ce,le,ge):ve===">"?he=this.renderPartial(me,oe,ce,ge):ve==="&"?he=this.unescapedValue(me,oe):ve==="name"?he=this.escapedValue(me,oe,ge):ve==="text"&&(he=this.rawValue(me)),he!==void 0&&(ye+=he);return ye},mt.prototype.renderSection=function(pe,oe,ce,le,ge){var ye=this,me="",ve=oe.lookup(pe[1]);function he(ze){return ye.render(ze,oe,ce,ge)}if(!!ve){if(ne(ve))for(var ae=0,be=ve.length;ae<be;++ae)me+=this.renderTokens(pe[4],oe.push(ve[ae]),ce,le,ge);else if(typeof ve=="object"||typeof ve=="string"||typeof ve=="number")me+=this.renderTokens(pe[4],oe.push(ve),ce,le,ge);else if(se(ve)){if(typeof le!="string")throw new Error("Cannot use higher-order sections without the original template");ve=ve.call(oe.view,le.slice(pe[3],pe[5]),he),ve!=null&&(me+=ve)}else me+=this.renderTokens(pe[4],oe,ce,le,ge);return me}},mt.prototype.renderInverted=function(pe,oe,ce,le,ge){var ye=oe.lookup(pe[1]);if(!ye||ne(ye)&&ye.length===0)return this.renderTokens(pe[4],oe,ce,le,ge)},mt.prototype.indentPartial=function(pe,oe,ce){for(var le=oe.replace(/[^ \t]/g,""),ge=pe.split(`
`),ye=0;ye<ge.length;ye++)ge[ye].length&&(ye>0||!ce)&&(ge[ye]=le+ge[ye]);return ge.join(`
`)},mt.prototype.renderPartial=function(pe,oe,ce,le){if(!!ce){var ge=this.getConfigTags(le),ye=se(ce)?ce(pe[1]):ce[pe[1]];if(ye!=null){var me=pe[6],ve=pe[5],he=pe[4],ae=ye;ve==0&&he&&(ae=this.indentPartial(ye,he,me));var be=this.parse(ae,ge);return this.renderTokens(be,oe,ce,ae,le)}}},mt.prototype.unescapedValue=function(pe,oe){var ce=oe.lookup(pe[1]);if(ce!=null)return ce},mt.prototype.escapedValue=function(pe,oe,ce){var le=this.getConfigEscape(ce)||Qe.escape,ge=oe.lookup(pe[1]);if(ge!=null)return typeof ge=="number"&&le===Qe.escape?String(ge):le(ge)},mt.prototype.rawValue=function(pe){return pe[1]},mt.prototype.getConfigTags=function(pe){return ne(pe)?pe:pe&&typeof pe=="object"?pe.tags:void 0},mt.prototype.getConfigEscape=function(pe){if(pe&&typeof pe=="object"&&!ne(pe))return pe.escape};var Qe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache($e){Se.templateCache=$e},get templateCache(){return Se.templateCache}},Se=new mt;return Qe.clearCache=function(){return Se.clearCache()},Qe.parse=function(pe,oe){return Se.parse(pe,oe)},Qe.render=function(pe,oe,ce,le){if(typeof pe!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ie(pe)+'" was given as the first argument for mustache#render(template, view, partials)');return Se.render(pe,oe,ce,le)},Qe.escape=je,Qe.Scanner=Xe,Qe.Context=rt,Qe.Writer=mt,Qe})})(mustache);var schema={BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BreakpointTrap:{name:"BreakpointTrap",subtypes:[],props:{}},CacheError:{name:"CacheError",subtypes:["ReadError","WriteError","DeserializationError","SerializationError"],props:{}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},DeserializationError:{name:"DeserializationError",subtypes:[],props:{}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},FunctionCallError:{name:"FunctionCallError",subtypes:["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LinkError:{name:"LinkError",subtypes:[],props:{msg:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],props:{}},MethodUTF8Error:{name:"MethodUTF8Error",subtypes:[],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReadError:{name:"ReadError",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},SerializationError:{name:"SerializationError",subtypes:[],props:{hash:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],props:{}},WasmUnknownError:{name:"WasmUnknownError",subtypes:[],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},WriteError:{name:"WriteError",subtypes:[],props:{}},AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],props:{}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},Closed:{name:"Closed",subtypes:[],props:{}},InternalError:{name:"InternalError",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed","InternalError"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},require$$1$2={schema},GasLimitExceeded="Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName="Method name is empty",WasmerCompileError="Wasmer compilation error: {{msg}}",GuestPanic="Smart contract panicked: {{panic_msg}}",Memory="Error creating Wasm memory",GasExceeded="Exceeded the prepaid gas",MethodUTF8Error="Method name is not valid UTF8 string",BadUTF16="String encoding is bad UTF-16 sequence",WasmTrap="WebAssembly trap: {{msg}}",GasInstrumentation="Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex="{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex="Accessed invalid promise result index: {{result_idx}}",Deserialization="Error happened while deserializing the module",MethodNotFound="Contract method is not found",InvalidRegisterId="Accessed invalid register id: {{register_id}}",InvalidReceiptIndex="VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName="Method name is empty in contract call",CannotReturnJointPromise="Returning joint promise is currently prohibited",StackHeightInstrumentation="Stack instrumentation failed",CodeDoesNotExist="Cannot find contract code for account {{account_id}}",MethodInvalidSignature="Invalid method signature",IntegerOverflow="Integer overflow happened during contract execution",MemoryAccessViolation="MemoryAccessViolation",InvalidIteratorIndex="Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId="VM Logic returned an invalid account id",Serialization="Error happened while serializing the module",CannotAppendActionToJointPromise="Actions can only be appended to non-joint promise.",InternalMemoryDeclared="Internal memory declaration has been found in the module",Instantiate="Error happened during instantiation",ProhibitedInView="{{method_name}} is not allowed in view calls",InvalidMethodName="VM Logic returned an invalid method name",BadUTF8="String encoding is bad UTF-8 sequence",BalanceExceeded="Exceeded the account balance",LinkError="Wasm contract link error: {{msg}}",InvalidPublicKey="VM Logic provided an invalid public key",ActorNoPermission="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow="Transaction gas or balance cost is too high",InvalidSignature="Transaction is not signed with the given public key",AccessKeyNotFound=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,NotEnoughBalance="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired="Transaction has expired",DeleteAccountStaking="Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist="Signer {{signer_id}} does not exist",TriesToStake="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists="The public key {{public_key}} is already used for an existing access key",InvalidSigner="Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed="The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake="Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists="Can't create a new account {{account_id}}, because it already exists",InvalidChain="Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist="Can't complete the action because account {{account_id}} doesn't exist",MethodNameMismatch="Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver="Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist="Account {{account_id}} tries to remove an access key that doesn't exist",Timeout="Timeout exceeded",Closed="Connection closed",require$$2$1={GasLimitExceeded,MethodEmptyName,WasmerCompileError,GuestPanic,Memory,GasExceeded,MethodUTF8Error,BadUTF16,WasmTrap,GasInstrumentation,InvalidPromiseIndex,InvalidPromiseResultIndex,Deserialization,MethodNotFound,InvalidRegisterId,InvalidReceiptIndex,EmptyMethodName,CannotReturnJointPromise,StackHeightInstrumentation,CodeDoesNotExist,MethodInvalidSignature,IntegerOverflow,MemoryAccessViolation,InvalidIteratorIndex,IteratorWasInvalidated,InvalidAccountId,Serialization,CannotAppendActionToJointPromise,InternalMemoryDeclared,Instantiate,ProhibitedInView,InvalidMethodName,BadUTF8,BalanceExceeded,LinkError,InvalidPublicKey,ActorNoPermission,LackBalanceForState,ReceiverMismatch,CostOverflow,InvalidSignature,AccessKeyNotFound,NotEnoughBalance,NotEnoughAllowance,Expired,DeleteAccountStaking,SignerDoesNotExist,TriesToStake,AddKeyAlreadyExists,InvalidSigner,CreateAccountNotAllowed,RequiresFullAccess,TriesToUnstake,InvalidNonce,AccountAlreadyExists,InvalidChain,AccountDoesNotExist,MethodNameMismatch,DeleteAccountHasRent,DeleteAccountHasEnoughBalance,InvalidReceiver,DeleteKeyDoesNotExist,Timeout,Closed},hasRequiredRpc_errors;function requireRpc_errors(){if(hasRequiredRpc_errors)return rpc_errors;hasRequiredRpc_errors=1;var re=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}};Object.defineProperty(rpc_errors,"__esModule",{value:!0}),rpc_errors.formatError=rpc_errors.parseResultError=rpc_errors.parseRpcError=rpc_errors.ServerError=void 0;const ee=re(mustache.exports),te=re(require$$1$2),ne=re(require$$2$1),se=requireCommonIndex(),ie=errors,fe={formatNear:()=>(Ue,Ce)=>se.utils.format.formatNearAmount(Ce(Ue))};class ue extends ie.TypedError{}rpc_errors.ServerError=ue;class xe extends ue{}function Ee(Ue){const Ce={},Be=Pe(Ue,te.default.schema,Ce,""),He=new ue(Me(Be,Ce),Be);return Object.assign(He,Ce),He}rpc_errors.parseRpcError=Ee;function Ae(Ue){const Ce=Ee(Ue.status.Failure),Be=new xe;return Object.assign(Be,Ce),Be.type=Ce.type,Be.message=Ce.message,Be.transaction_outcome=Ue.transaction_outcome,Be}rpc_errors.parseResultError=Ae;function Me(Ue,Ce){return typeof ne.default[Ue]=="string"?ee.default.render(ne.default[Ue],Object.assign(Object.assign({},Ce),fe)):JSON.stringify(Ce)}rpc_errors.formatError=Me;function Pe(Ue,Ce,Be,He){let Oe,Ke,qe;for(const Ve in Ce){if(je(Ue[Ve]))return Ue[Ve];if(Ne(Ue[Ve]))Oe=Ue[Ve],Ke=Ce[Ve],qe=Ve;else if(Ne(Ue.kind)&&Ne(Ue.kind[Ve]))Oe=Ue.kind[Ve],Ke=Ce[Ve],qe=Ve;else continue}if(Oe&&Ke){for(const Ve of Object.keys(Ke.props))Be[Ve]=Oe[Ve];return Pe(Oe,Ce,Be,qe)}else return Be.kind=Ue,He}function Ne(Ue){return Object.prototype.toString.call(Ue)==="[object Object]"}function je(Ue){return Object.prototype.toString.call(Ue)==="[object String]"}return rpc_errors}var hasRequiredJsonRpcProvider;function requireJsonRpcProvider(){return hasRequiredJsonRpcProvider||(hasRequiredJsonRpcProvider=1,function(re){var ee=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ue,Ce,Be,He){function Oe(Ke){return Ke instanceof Be?Ke:new Be(function(qe){qe(Ke)})}return new(Be||(Be=Promise))(function(Ke,qe){function Ve(mt){try{rt(He.next(mt))}catch(Qe){qe(Qe)}}function Xe(mt){try{rt(He.throw(mt))}catch(Qe){qe(Qe)}}function rt(mt){mt.done?Ke(mt.value):Oe(mt.value).then(Ve,Xe)}rt((He=He.apply(Ue,Ce||[])).next())})},te=commonjsGlobal&&commonjsGlobal.__rest||function(Ue,Ce){var Be={};for(var He in Ue)Object.prototype.hasOwnProperty.call(Ue,He)&&Ce.indexOf(He)<0&&(Be[He]=Ue[He]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oe=0,He=Object.getOwnPropertySymbols(Ue);Oe<He.length;Oe++)Ce.indexOf(He[Oe])<0&&Object.prototype.propertyIsEnumerable.call(Ue,He[Oe])&&(Be[He[Oe]]=Ue[He[Oe]]);return Be},ne=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}};Object.defineProperty(re,"__esModule",{value:!0}),re.JsonRpcProvider=re.ErrorContext=re.TypedError=void 0;const se=provider$1,ie=requireWeb(),fe=errors;Object.defineProperty(re,"TypedError",{enumerable:!0,get:function(){return fe.TypedError}}),Object.defineProperty(re,"ErrorContext",{enumerable:!0,get:function(){return fe.ErrorContext}});const ue=lib$4,xe=ne(exponentialBackoff$1),Ee=requireRpc_errors(),Ae=12,Me=500,Pe=1.5;let Ne=123;class je extends se.Provider{constructor(Ce){super(),this.connection=Ce||{url:""}}status(){return ee(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransaction(Ce){return ee(this,void 0,void 0,function*(){const Be=Ce.encode();return this.sendJsonRpc("broadcast_tx_commit",[Buffer.from(Be).toString("base64")])})}sendTransactionAsync(Ce){return ee(this,void 0,void 0,function*(){const Be=Ce.encode();return this.sendJsonRpc("broadcast_tx_async",[Buffer.from(Be).toString("base64")])})}txStatus(Ce,Be){return ee(this,void 0,void 0,function*(){return typeof Ce=="string"?this.txStatusString(Ce,Be):this.txStatusUint8Array(Ce,Be)})}txStatusUint8Array(Ce,Be){return ee(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[(0,ue.baseEncode)(Ce),Be])})}txStatusString(Ce,Be){return ee(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",[Ce,Be])})}txStatusReceipts(Ce,Be){return ee(this,void 0,void 0,function*(){return typeof Ce=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",[Ce,Be]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,ue.baseEncode)(Ce),Be])})}query(...Ce){return ee(this,void 0,void 0,function*(){let Be;if(Ce.length===1){const He=Ce[0],{block_id:Oe,blockId:Ke}=He,qe=te(He,["block_id","blockId"]);Be=yield this.sendJsonRpc("query",Object.assign(Object.assign({},qe),{block_id:Oe||Ke}))}else{const[He,Oe]=Ce;Be=yield this.sendJsonRpc("query",[He,Oe])}if(Be&&Be.error)throw new fe.TypedError(`Querying failed: ${Be.error}.
${JSON.stringify(Be,null,2)}`,Be.error.name);return Be})}block(Ce){return ee(this,void 0,void 0,function*(){const{finality:Be}=Ce,{blockId:He}=Ce;return this.sendJsonRpc("block",{block_id:He,finality:Be})})}blockChanges(Ce){return ee(this,void 0,void 0,function*(){const{finality:Be}=Ce,{blockId:He}=Ce;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:He,finality:Be})})}chunk(Ce){return ee(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[Ce])})}validators(Ce){return ee(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[Ce])})}experimental_protocolConfig(Ce){return ee(this,void 0,void 0,function*(){const Be=Ce,{blockId:He}=Be,Oe=te(Be,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},Oe),{block_id:He}))})}lightClientProof(Ce){return ee(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",Ce)})}accessKeyChanges(Ce,Be){return ee(this,void 0,void 0,function*(){const{finality:He}=Be,{blockId:Oe}=Be;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:Ce,block_id:Oe,finality:He})})}singleAccessKeyChanges(Ce,Be){return ee(this,void 0,void 0,function*(){const{finality:He}=Be,{blockId:Oe}=Be;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:Ce,block_id:Oe,finality:He})})}accountChanges(Ce,Be){return ee(this,void 0,void 0,function*(){const{finality:He}=Be,{blockId:Oe}=Be;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:Ce,block_id:Oe,finality:He})})}contractStateChanges(Ce,Be,He=""){return ee(this,void 0,void 0,function*(){const{finality:Oe}=Be,{blockId:Ke}=Be;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:Ce,key_prefix_base64:He,block_id:Ke,finality:Oe})})}contractCodeChanges(Ce,Be){return ee(this,void 0,void 0,function*(){const{finality:He}=Be,{blockId:Oe}=Be;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:Ce,block_id:Oe,finality:He})})}gasPrice(Ce){return ee(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[Ce])})}sendJsonRpc(Ce,Be){return ee(this,void 0,void 0,function*(){const He=yield(0,xe.default)(Me,Ae,Pe,()=>ee(this,void 0,void 0,function*(){try{const Ke={method:Ce,params:Be,id:Ne++,jsonrpc:"2.0"},qe=yield(0,ie.fetchJson)(this.connection,JSON.stringify(Ke));if(qe.error){if(typeof qe.error.data=="object")throw typeof qe.error.data.error_message=="string"&&typeof qe.error.data.error_type=="string"?new fe.TypedError(qe.error.data.error_message,qe.error.data.error_type):(0,Ee.parseRpcError)(qe.error.data);{const Ve=`[${qe.error.code}] ${qe.error.message}: ${qe.error.data}`;throw qe.error.data==="Timeout"||Ve.includes("Timeout error")||Ve.includes("query has timed out")?new fe.TypedError(Ve,"TimeoutError"):new fe.TypedError(Ve,qe.error.name)}}return qe}catch(Ke){if(Ke.type==="TimeoutError")return process.env.NEAR_NO_LOGS||console.warn(`Retrying request to ${Ce} as it has timed out`,Be),null;throw Ke}})),{result:Oe}=He;if(typeof Oe>"u")throw new fe.TypedError(`Exceeded ${Ae} attempts for request to ${Ce}.`,"RetriesExceeded");return Oe})}}re.JsonRpcProvider=je}(jsonRpcProvider)),jsonRpcProvider}var hasRequiredProviders;function requireProviders(){return hasRequiredProviders||(hasRequiredProviders=1,function(re){Object.defineProperty(re,"__esModule",{value:!0}),re.ErrorContext=re.TypedError=re.getTransactionLastResult=re.FinalExecutionStatusBasic=re.JsonRpcProvider=re.Provider=void 0;const ee=provider$1;Object.defineProperty(re,"Provider",{enumerable:!0,get:function(){return ee.Provider}}),Object.defineProperty(re,"getTransactionLastResult",{enumerable:!0,get:function(){return ee.getTransactionLastResult}}),Object.defineProperty(re,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return ee.FinalExecutionStatusBasic}});const te=requireJsonRpcProvider();Object.defineProperty(re,"JsonRpcProvider",{enumerable:!0,get:function(){return te.JsonRpcProvider}}),Object.defineProperty(re,"TypedError",{enumerable:!0,get:function(){return te.TypedError}}),Object.defineProperty(re,"ErrorContext",{enumerable:!0,get:function(){return te.ErrorContext}})}(providers)),providers}var utils$d={},format={},bn$3={exports:{}};(function(re){(function(ee,te){function ne(pe,oe){if(!pe)throw new Error(oe||"Assertion failed")}function se(pe,oe){pe.super_=oe;var ce=function(){};ce.prototype=oe.prototype,pe.prototype=new ce,pe.prototype.constructor=pe}function ie(pe,oe,ce){if(ie.isBN(pe))return pe;this.negative=0,this.words=null,this.length=0,this.red=null,pe!==null&&((oe==="le"||oe==="be")&&(ce=oe,oe=10),this._init(pe||0,oe||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{typeof window<"u"&&typeof window.Buffer<"u"?fe=window.Buffer:fe=require$$0$4.Buffer}catch{}ie.isBN=function(oe){return oe instanceof ie?!0:oe!==null&&typeof oe=="object"&&oe.constructor.wordSize===ie.wordSize&&Array.isArray(oe.words)},ie.max=function(oe,ce){return oe.cmp(ce)>0?oe:ce},ie.min=function(oe,ce){return oe.cmp(ce)<0?oe:ce},ie.prototype._init=function(oe,ce,le){if(typeof oe=="number")return this._initNumber(oe,ce,le);if(typeof oe=="object")return this._initArray(oe,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),oe=oe.toString().replace(/\s+/g,"");var ge=0;oe[0]==="-"&&(ge++,this.negative=1),ge<oe.length&&(ce===16?this._parseHex(oe,ge,le):(this._parseBase(oe,ce,ge),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(oe,ce,le){oe<0&&(this.negative=1,oe=-oe),oe<67108864?(this.words=[oe&67108863],this.length=1):oe<4503599627370496?(this.words=[oe&67108863,oe/67108864&67108863],this.length=2):(ne(oe<9007199254740992),this.words=[oe&67108863,oe/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(oe,ce,le){if(ne(typeof oe.length=="number"),oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(oe.length/3),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye,me,ve=0;if(le==="be")for(ge=oe.length-1,ye=0;ge>=0;ge-=3)me=oe[ge]|oe[ge-1]<<8|oe[ge-2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);else if(le==="le")for(ge=0,ye=0;ge<oe.length;ge+=3)me=oe[ge]|oe[ge+1]<<8|oe[ge+2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);return this._strip()};function ue(pe,oe){var ce=pe.charCodeAt(oe);if(ce>=48&&ce<=57)return ce-48;if(ce>=65&&ce<=70)return ce-55;if(ce>=97&&ce<=102)return ce-87;ne(!1,"Invalid character in "+pe)}function xe(pe,oe,ce){var le=ue(pe,ce);return ce-1>=oe&&(le|=ue(pe,ce-1)<<4),le}ie.prototype._parseHex=function(oe,ce,le){this.length=Math.ceil((oe.length-ce)/6),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye=0,me=0,ve;if(le==="be")for(ge=oe.length-1;ge>=ce;ge-=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8;else{var he=oe.length-ce;for(ge=he%2===0?ce+1:ce;ge<oe.length;ge+=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8}this._strip()};function Ee(pe,oe,ce,le){for(var ge=0,ye=0,me=Math.min(pe.length,ce),ve=oe;ve<me;ve++){var he=pe.charCodeAt(ve)-48;ge*=le,he>=49?ye=he-49+10:he>=17?ye=he-17+10:ye=he,ne(he>=0&&ye<le,"Invalid character"),ge+=ye}return ge}ie.prototype._parseBase=function(oe,ce,le){this.words=[0],this.length=1;for(var ge=0,ye=1;ye<=67108863;ye*=ce)ge++;ge--,ye=ye/ce|0;for(var me=oe.length-le,ve=me%ge,he=Math.min(me,me-ve)+le,ae=0,be=le;be<he;be+=ge)ae=Ee(oe,be,be+ge,ce),this.imuln(ye),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae);if(ve!==0){var ze=1;for(ae=Ee(oe,be,oe.length,ce),be=0;be<ve;be++)ze*=ce;this.imuln(ze),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae)}this._strip()},ie.prototype.copy=function(oe){oe.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)oe.words[ce]=this.words[ce];oe.length=this.length,oe.negative=this.negative,oe.red=this.red};function Ae(pe,oe){pe.words=oe.words,pe.length=oe.length,pe.negative=oe.negative,pe.red=oe.red}if(ie.prototype._move=function(oe){Ae(oe,this)},ie.prototype.clone=function(){var oe=new ie(null);return this.copy(oe),oe},ie.prototype._expand=function(oe){for(;this.length<oe;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me}catch{ie.prototype.inspect=Me}else ie.prototype.inspect=Me;function Me(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ne=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(oe,ce){oe=oe||10,ce=ce|0||1;var le;if(oe===16||oe==="hex"){le="";for(var ge=0,ye=0,me=0;me<this.length;me++){var ve=this.words[me],he=((ve<<ge|ye)&16777215).toString(16);ye=ve>>>24-ge&16777215,ge+=2,ge>=26&&(ge-=26,me--),ye!==0||me!==this.length-1?le=Pe[6-he.length]+he+le:le=he+le}for(ye!==0&&(le=ye.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(oe===(oe|0)&&oe>=2&&oe<=36){var ae=Ne[oe],be=je[oe];le="";var ze=this.clone();for(ze.negative=0;!ze.isZero();){var Ie=ze.modrn(be).toString(oe);ze=ze.idivn(be),ze.isZero()?le=Ie+le:le=Pe[ae-Ie.length]+Ie+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var oe=this.words[0];return this.length===2?oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?oe+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-oe:oe},ie.prototype.toJSON=function(){return this.toString(16,2)},fe&&(ie.prototype.toBuffer=function(oe,ce){return this.toArrayLike(fe,oe,ce)}),ie.prototype.toArray=function(oe,ce){return this.toArrayLike(Array,oe,ce)};var Ue=function(oe,ce){return oe.allocUnsafe?oe.allocUnsafe(ce):new oe(ce)};ie.prototype.toArrayLike=function(oe,ce,le){this._strip();var ge=this.byteLength(),ye=le||Math.max(1,ge);ne(ge<=ye,"byte array longer than desired length"),ne(ye>0,"Requested array length <= 0");var me=Ue(oe,ye),ve=ce==="le"?"LE":"BE";return this["_toArrayLike"+ve](me,ge),me},ie.prototype._toArrayLikeLE=function(oe,ce){for(var le=0,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le++]=ve&255,le<oe.length&&(oe[le++]=ve>>8&255),le<oe.length&&(oe[le++]=ve>>16&255),me===6?(le<oe.length&&(oe[le++]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le<oe.length)for(oe[le++]=ge;le<oe.length;)oe[le++]=0},ie.prototype._toArrayLikeBE=function(oe,ce){for(var le=oe.length-1,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le--]=ve&255,le>=0&&(oe[le--]=ve>>8&255),le>=0&&(oe[le--]=ve>>16&255),me===6?(le>=0&&(oe[le--]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le>=0)for(oe[le--]=ge;le>=0;)oe[le--]=0},Math.clz32?ie.prototype._countBits=function(oe){return 32-Math.clz32(oe)}:ie.prototype._countBits=function(oe){var ce=oe,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(oe){if(oe===0)return 26;var ce=oe,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var oe=this.words[this.length-1],ce=this._countBits(oe);return(this.length-1)*26+ce};function Ce(pe){for(var oe=new Array(pe.bitLength()),ce=0;ce<oe.length;ce++){var le=ce/26|0,ge=ce%26;oe[ce]=pe.words[le]>>>ge&1}return oe}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var oe=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(oe+=le,le!==26)break}return oe},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(oe){return this.negative!==0?this.abs().inotn(oe).iaddn(1):this.clone()},ie.prototype.fromTwos=function(oe){return this.testn(oe-1)?this.notn(oe).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(oe){for(;this.length<oe.length;)this.words[this.length++]=0;for(var ce=0;ce<oe.length;ce++)this.words[ce]=this.words[ce]|oe.words[ce];return this._strip()},ie.prototype.ior=function(oe){return ne((this.negative|oe.negative)===0),this.iuor(oe)},ie.prototype.or=function(oe){return this.length>oe.length?this.clone().ior(oe):oe.clone().ior(this)},ie.prototype.uor=function(oe){return this.length>oe.length?this.clone().iuor(oe):oe.clone().iuor(this)},ie.prototype.iuand=function(oe){var ce;this.length>oe.length?ce=oe:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&oe.words[le];return this.length=ce.length,this._strip()},ie.prototype.iand=function(oe){return ne((this.negative|oe.negative)===0),this.iuand(oe)},ie.prototype.and=function(oe){return this.length>oe.length?this.clone().iand(oe):oe.clone().iand(this)},ie.prototype.uand=function(oe){return this.length>oe.length?this.clone().iuand(oe):oe.clone().iuand(this)},ie.prototype.iuxor=function(oe){var ce,le;this.length>oe.length?(ce=this,le=oe):(ce=oe,le=this);for(var ge=0;ge<le.length;ge++)this.words[ge]=ce.words[ge]^le.words[ge];if(this!==ce)for(;ge<ce.length;ge++)this.words[ge]=ce.words[ge];return this.length=ce.length,this._strip()},ie.prototype.ixor=function(oe){return ne((this.negative|oe.negative)===0),this.iuxor(oe)},ie.prototype.xor=function(oe){return this.length>oe.length?this.clone().ixor(oe):oe.clone().ixor(this)},ie.prototype.uxor=function(oe){return this.length>oe.length?this.clone().iuxor(oe):oe.clone().iuxor(this)},ie.prototype.inotn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=Math.ceil(oe/26)|0,le=oe%26;this._expand(ce),le>0&&ce--;for(var ge=0;ge<ce;ge++)this.words[ge]=~this.words[ge]&67108863;return le>0&&(this.words[ge]=~this.words[ge]&67108863>>26-le),this._strip()},ie.prototype.notn=function(oe){return this.clone().inotn(oe)},ie.prototype.setn=function(oe,ce){ne(typeof oe=="number"&&oe>=0);var le=oe/26|0,ge=oe%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<ge:this.words[le]=this.words[le]&~(1<<ge),this._strip()},ie.prototype.iadd=function(oe){var ce;if(this.negative!==0&&oe.negative===0)return this.negative=0,ce=this.isub(oe),this.negative^=1,this._normSign();if(this.negative===0&&oe.negative!==0)return oe.negative=0,ce=this.isub(oe),oe.negative=1,ce._normSign();var le,ge;this.length>oe.length?(le=this,ge=oe):(le=oe,ge=this);for(var ye=0,me=0;me<ge.length;me++)ce=(le.words[me]|0)+(ge.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;for(;ye!==0&&me<le.length;me++)ce=(le.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;if(this.length=le.length,ye!==0)this.words[this.length]=ye,this.length++;else if(le!==this)for(;me<le.length;me++)this.words[me]=le.words[me];return this},ie.prototype.add=function(oe){var ce;return oe.negative!==0&&this.negative===0?(oe.negative=0,ce=this.sub(oe),oe.negative^=1,ce):oe.negative===0&&this.negative!==0?(this.negative=0,ce=oe.sub(this),this.negative=1,ce):this.length>oe.length?this.clone().iadd(oe):oe.clone().iadd(this)},ie.prototype.isub=function(oe){if(oe.negative!==0){oe.negative=0;var ce=this.iadd(oe);return oe.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(oe),this.negative=1,this._normSign();var le=this.cmp(oe);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ge,ye;le>0?(ge=this,ye=oe):(ge=oe,ye=this);for(var me=0,ve=0;ve<ye.length;ve++)ce=(ge.words[ve]|0)-(ye.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;for(;me!==0&&ve<ge.length;ve++)ce=(ge.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;if(me===0&&ve<ge.length&&ge!==this)for(;ve<ge.length;ve++)this.words[ve]=ge.words[ve];return this.length=Math.max(this.length,ve),ge!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(oe){return this.clone().isub(oe)};function Be(pe,oe,ce){ce.negative=oe.negative^pe.negative;var le=pe.length+oe.length|0;ce.length=le,le=le-1|0;var ge=pe.words[0]|0,ye=oe.words[0]|0,me=ge*ye,ve=me&67108863,he=me/67108864|0;ce.words[0]=ve;for(var ae=1;ae<le;ae++){for(var be=he>>>26,ze=he&67108863,Ie=Math.min(ae,oe.length-1),We=Math.max(0,ae-pe.length+1);We<=Ie;We++){var ft=ae-We|0;ge=pe.words[ft]|0,ye=oe.words[We]|0,me=ge*ye+ze,be+=me/67108864|0,ze=me&67108863}ce.words[ae]=ze|0,he=be|0}return he!==0?ce.words[ae]=he|0:ce.length--,ce._strip()}var He=function(oe,ce,le){var ge=oe.words,ye=ce.words,me=le.words,ve=0,he,ae,be,ze=ge[0]|0,Ie=ze&8191,We=ze>>>13,ft=ge[1]|0,nt=ft&8191,at=ft>>>13,Ht=ge[2]|0,dt=Ht&8191,gt=Ht>>>13,Jt=ge[3]|0,yt=Jt&8191,Mt=Jt>>>13,it=ge[4]|0,Le=it&8191,De=it>>>13,ct=ge[5]|0,ot=ct&8191,lt=ct>>>13,Pt=ge[6]|0,Et=Pt&8191,St=Pt>>>13,ar=ge[7]|0,Tt=ar&8191,Re=ar>>>13,we=ge[8]|0,_e=we&8191,ke=we>>>13,Ze=ge[9]|0,Je=Ze&8191,tt=Ze>>>13,zt=ye[0]|0,_t=zt&8191,vt=zt>>>13,nr=ye[1]|0,xt=nr&8191,Nt=nr>>>13,Ar=ye[2]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ye[3]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ye[4]|0,Ot=_r&8191,$t=_r>>>13,Sr=ye[5]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ye[6]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ye[7]|0,Te=et&8191,Ye=et>>>13,bt=ye[8]|0,st=bt&8191,ut=bt>>>13,qt=ye[9]|0,At=qt&8191,wt=qt>>>13;le.negative=oe.negative^ce.negative,le.length=19,he=Math.imul(Ie,_t),ae=Math.imul(Ie,vt),ae=ae+Math.imul(We,_t)|0,be=Math.imul(We,vt);var lr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(lr>>>26)|0,lr&=67108863,he=Math.imul(nt,_t),ae=Math.imul(nt,vt),ae=ae+Math.imul(at,_t)|0,be=Math.imul(at,vt),he=he+Math.imul(Ie,xt)|0,ae=ae+Math.imul(Ie,Nt)|0,ae=ae+Math.imul(We,xt)|0,be=be+Math.imul(We,Nt)|0;var Wt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,he=Math.imul(dt,_t),ae=Math.imul(dt,vt),ae=ae+Math.imul(gt,_t)|0,be=Math.imul(gt,vt),he=he+Math.imul(nt,xt)|0,ae=ae+Math.imul(nt,Nt)|0,ae=ae+Math.imul(at,xt)|0,be=be+Math.imul(at,Nt)|0,he=he+Math.imul(Ie,Lt)|0,ae=ae+Math.imul(Ie,Ft)|0,ae=ae+Math.imul(We,Lt)|0,be=be+Math.imul(We,Ft)|0;var tr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(tr>>>26)|0,tr&=67108863,he=Math.imul(yt,_t),ae=Math.imul(yt,vt),ae=ae+Math.imul(Mt,_t)|0,be=Math.imul(Mt,vt),he=he+Math.imul(dt,xt)|0,ae=ae+Math.imul(dt,Nt)|0,ae=ae+Math.imul(gt,xt)|0,be=be+Math.imul(gt,Nt)|0,he=he+Math.imul(nt,Lt)|0,ae=ae+Math.imul(nt,Ft)|0,ae=ae+Math.imul(at,Lt)|0,be=be+Math.imul(at,Ft)|0,he=he+Math.imul(Ie,kt)|0,ae=ae+Math.imul(Ie,Bt)|0,ae=ae+Math.imul(We,kt)|0,be=be+Math.imul(We,Bt)|0;var rr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(rr>>>26)|0,rr&=67108863,he=Math.imul(Le,_t),ae=Math.imul(Le,vt),ae=ae+Math.imul(De,_t)|0,be=Math.imul(De,vt),he=he+Math.imul(yt,xt)|0,ae=ae+Math.imul(yt,Nt)|0,ae=ae+Math.imul(Mt,xt)|0,be=be+Math.imul(Mt,Nt)|0,he=he+Math.imul(dt,Lt)|0,ae=ae+Math.imul(dt,Ft)|0,ae=ae+Math.imul(gt,Lt)|0,be=be+Math.imul(gt,Ft)|0,he=he+Math.imul(nt,kt)|0,ae=ae+Math.imul(nt,Bt)|0,ae=ae+Math.imul(at,kt)|0,be=be+Math.imul(at,Bt)|0,he=he+Math.imul(Ie,Ot)|0,ae=ae+Math.imul(Ie,$t)|0,ae=ae+Math.imul(We,Ot)|0,be=be+Math.imul(We,$t)|0;var ir=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ir>>>26)|0,ir&=67108863,he=Math.imul(ot,_t),ae=Math.imul(ot,vt),ae=ae+Math.imul(lt,_t)|0,be=Math.imul(lt,vt),he=he+Math.imul(Le,xt)|0,ae=ae+Math.imul(Le,Nt)|0,ae=ae+Math.imul(De,xt)|0,be=be+Math.imul(De,Nt)|0,he=he+Math.imul(yt,Lt)|0,ae=ae+Math.imul(yt,Ft)|0,ae=ae+Math.imul(Mt,Lt)|0,be=be+Math.imul(Mt,Ft)|0,he=he+Math.imul(dt,kt)|0,ae=ae+Math.imul(dt,Bt)|0,ae=ae+Math.imul(gt,kt)|0,be=be+Math.imul(gt,Bt)|0,he=he+Math.imul(nt,Ot)|0,ae=ae+Math.imul(nt,$t)|0,ae=ae+Math.imul(at,Ot)|0,be=be+Math.imul(at,$t)|0,he=he+Math.imul(Ie,Dt)|0,ae=ae+Math.imul(Ie,Ct)|0,ae=ae+Math.imul(We,Dt)|0,be=be+Math.imul(We,Ct)|0;var ur=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ur>>>26)|0,ur&=67108863,he=Math.imul(Et,_t),ae=Math.imul(Et,vt),ae=ae+Math.imul(St,_t)|0,be=Math.imul(St,vt),he=he+Math.imul(ot,xt)|0,ae=ae+Math.imul(ot,Nt)|0,ae=ae+Math.imul(lt,xt)|0,be=be+Math.imul(lt,Nt)|0,he=he+Math.imul(Le,Lt)|0,ae=ae+Math.imul(Le,Ft)|0,ae=ae+Math.imul(De,Lt)|0,be=be+Math.imul(De,Ft)|0,he=he+Math.imul(yt,kt)|0,ae=ae+Math.imul(yt,Bt)|0,ae=ae+Math.imul(Mt,kt)|0,be=be+Math.imul(Mt,Bt)|0,he=he+Math.imul(dt,Ot)|0,ae=ae+Math.imul(dt,$t)|0,ae=ae+Math.imul(gt,Ot)|0,be=be+Math.imul(gt,$t)|0,he=he+Math.imul(nt,Dt)|0,ae=ae+Math.imul(nt,Ct)|0,ae=ae+Math.imul(at,Dt)|0,be=be+Math.imul(at,Ct)|0,he=he+Math.imul(Ie,Fe)|0,ae=ae+Math.imul(Ie,Ge)|0,ae=ae+Math.imul(We,Fe)|0,be=be+Math.imul(We,Ge)|0;var or=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(or>>>26)|0,or&=67108863,he=Math.imul(Tt,_t),ae=Math.imul(Tt,vt),ae=ae+Math.imul(Re,_t)|0,be=Math.imul(Re,vt),he=he+Math.imul(Et,xt)|0,ae=ae+Math.imul(Et,Nt)|0,ae=ae+Math.imul(St,xt)|0,be=be+Math.imul(St,Nt)|0,he=he+Math.imul(ot,Lt)|0,ae=ae+Math.imul(ot,Ft)|0,ae=ae+Math.imul(lt,Lt)|0,be=be+Math.imul(lt,Ft)|0,he=he+Math.imul(Le,kt)|0,ae=ae+Math.imul(Le,Bt)|0,ae=ae+Math.imul(De,kt)|0,be=be+Math.imul(De,Bt)|0,he=he+Math.imul(yt,Ot)|0,ae=ae+Math.imul(yt,$t)|0,ae=ae+Math.imul(Mt,Ot)|0,be=be+Math.imul(Mt,$t)|0,he=he+Math.imul(dt,Dt)|0,ae=ae+Math.imul(dt,Ct)|0,ae=ae+Math.imul(gt,Dt)|0,be=be+Math.imul(gt,Ct)|0,he=he+Math.imul(nt,Fe)|0,ae=ae+Math.imul(nt,Ge)|0,ae=ae+Math.imul(at,Fe)|0,be=be+Math.imul(at,Ge)|0,he=he+Math.imul(Ie,Te)|0,ae=ae+Math.imul(Ie,Ye)|0,ae=ae+Math.imul(We,Te)|0,be=be+Math.imul(We,Ye)|0;var cr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(cr>>>26)|0,cr&=67108863,he=Math.imul(_e,_t),ae=Math.imul(_e,vt),ae=ae+Math.imul(ke,_t)|0,be=Math.imul(ke,vt),he=he+Math.imul(Tt,xt)|0,ae=ae+Math.imul(Tt,Nt)|0,ae=ae+Math.imul(Re,xt)|0,be=be+Math.imul(Re,Nt)|0,he=he+Math.imul(Et,Lt)|0,ae=ae+Math.imul(Et,Ft)|0,ae=ae+Math.imul(St,Lt)|0,be=be+Math.imul(St,Ft)|0,he=he+Math.imul(ot,kt)|0,ae=ae+Math.imul(ot,Bt)|0,ae=ae+Math.imul(lt,kt)|0,be=be+Math.imul(lt,Bt)|0,he=he+Math.imul(Le,Ot)|0,ae=ae+Math.imul(Le,$t)|0,ae=ae+Math.imul(De,Ot)|0,be=be+Math.imul(De,$t)|0,he=he+Math.imul(yt,Dt)|0,ae=ae+Math.imul(yt,Ct)|0,ae=ae+Math.imul(Mt,Dt)|0,be=be+Math.imul(Mt,Ct)|0,he=he+Math.imul(dt,Fe)|0,ae=ae+Math.imul(dt,Ge)|0,ae=ae+Math.imul(gt,Fe)|0,be=be+Math.imul(gt,Ge)|0,he=he+Math.imul(nt,Te)|0,ae=ae+Math.imul(nt,Ye)|0,ae=ae+Math.imul(at,Te)|0,be=be+Math.imul(at,Ye)|0,he=he+Math.imul(Ie,st)|0,ae=ae+Math.imul(Ie,ut)|0,ae=ae+Math.imul(We,st)|0,be=be+Math.imul(We,ut)|0;var sr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(sr>>>26)|0,sr&=67108863,he=Math.imul(Je,_t),ae=Math.imul(Je,vt),ae=ae+Math.imul(tt,_t)|0,be=Math.imul(tt,vt),he=he+Math.imul(_e,xt)|0,ae=ae+Math.imul(_e,Nt)|0,ae=ae+Math.imul(ke,xt)|0,be=be+Math.imul(ke,Nt)|0,he=he+Math.imul(Tt,Lt)|0,ae=ae+Math.imul(Tt,Ft)|0,ae=ae+Math.imul(Re,Lt)|0,be=be+Math.imul(Re,Ft)|0,he=he+Math.imul(Et,kt)|0,ae=ae+Math.imul(Et,Bt)|0,ae=ae+Math.imul(St,kt)|0,be=be+Math.imul(St,Bt)|0,he=he+Math.imul(ot,Ot)|0,ae=ae+Math.imul(ot,$t)|0,ae=ae+Math.imul(lt,Ot)|0,be=be+Math.imul(lt,$t)|0,he=he+Math.imul(Le,Dt)|0,ae=ae+Math.imul(Le,Ct)|0,ae=ae+Math.imul(De,Dt)|0,be=be+Math.imul(De,Ct)|0,he=he+Math.imul(yt,Fe)|0,ae=ae+Math.imul(yt,Ge)|0,ae=ae+Math.imul(Mt,Fe)|0,be=be+Math.imul(Mt,Ge)|0,he=he+Math.imul(dt,Te)|0,ae=ae+Math.imul(dt,Ye)|0,ae=ae+Math.imul(gt,Te)|0,be=be+Math.imul(gt,Ye)|0,he=he+Math.imul(nt,st)|0,ae=ae+Math.imul(nt,ut)|0,ae=ae+Math.imul(at,st)|0,be=be+Math.imul(at,ut)|0,he=he+Math.imul(Ie,At)|0,ae=ae+Math.imul(Ie,wt)|0,ae=ae+Math.imul(We,At)|0,be=be+Math.imul(We,wt)|0;var Zt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,he=Math.imul(Je,xt),ae=Math.imul(Je,Nt),ae=ae+Math.imul(tt,xt)|0,be=Math.imul(tt,Nt),he=he+Math.imul(_e,Lt)|0,ae=ae+Math.imul(_e,Ft)|0,ae=ae+Math.imul(ke,Lt)|0,be=be+Math.imul(ke,Ft)|0,he=he+Math.imul(Tt,kt)|0,ae=ae+Math.imul(Tt,Bt)|0,ae=ae+Math.imul(Re,kt)|0,be=be+Math.imul(Re,Bt)|0,he=he+Math.imul(Et,Ot)|0,ae=ae+Math.imul(Et,$t)|0,ae=ae+Math.imul(St,Ot)|0,be=be+Math.imul(St,$t)|0,he=he+Math.imul(ot,Dt)|0,ae=ae+Math.imul(ot,Ct)|0,ae=ae+Math.imul(lt,Dt)|0,be=be+Math.imul(lt,Ct)|0,he=he+Math.imul(Le,Fe)|0,ae=ae+Math.imul(Le,Ge)|0,ae=ae+Math.imul(De,Fe)|0,be=be+Math.imul(De,Ge)|0,he=he+Math.imul(yt,Te)|0,ae=ae+Math.imul(yt,Ye)|0,ae=ae+Math.imul(Mt,Te)|0,be=be+Math.imul(Mt,Ye)|0,he=he+Math.imul(dt,st)|0,ae=ae+Math.imul(dt,ut)|0,ae=ae+Math.imul(gt,st)|0,be=be+Math.imul(gt,ut)|0,he=he+Math.imul(nt,At)|0,ae=ae+Math.imul(nt,wt)|0,ae=ae+Math.imul(at,At)|0,be=be+Math.imul(at,wt)|0;var er=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(er>>>26)|0,er&=67108863,he=Math.imul(Je,Lt),ae=Math.imul(Je,Ft),ae=ae+Math.imul(tt,Lt)|0,be=Math.imul(tt,Ft),he=he+Math.imul(_e,kt)|0,ae=ae+Math.imul(_e,Bt)|0,ae=ae+Math.imul(ke,kt)|0,be=be+Math.imul(ke,Bt)|0,he=he+Math.imul(Tt,Ot)|0,ae=ae+Math.imul(Tt,$t)|0,ae=ae+Math.imul(Re,Ot)|0,be=be+Math.imul(Re,$t)|0,he=he+Math.imul(Et,Dt)|0,ae=ae+Math.imul(Et,Ct)|0,ae=ae+Math.imul(St,Dt)|0,be=be+Math.imul(St,Ct)|0,he=he+Math.imul(ot,Fe)|0,ae=ae+Math.imul(ot,Ge)|0,ae=ae+Math.imul(lt,Fe)|0,be=be+Math.imul(lt,Ge)|0,he=he+Math.imul(Le,Te)|0,ae=ae+Math.imul(Le,Ye)|0,ae=ae+Math.imul(De,Te)|0,be=be+Math.imul(De,Ye)|0,he=he+Math.imul(yt,st)|0,ae=ae+Math.imul(yt,ut)|0,ae=ae+Math.imul(Mt,st)|0,be=be+Math.imul(Mt,ut)|0,he=he+Math.imul(dt,At)|0,ae=ae+Math.imul(dt,wt)|0,ae=ae+Math.imul(gt,At)|0,be=be+Math.imul(gt,wt)|0;var Yt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,he=Math.imul(Je,kt),ae=Math.imul(Je,Bt),ae=ae+Math.imul(tt,kt)|0,be=Math.imul(tt,Bt),he=he+Math.imul(_e,Ot)|0,ae=ae+Math.imul(_e,$t)|0,ae=ae+Math.imul(ke,Ot)|0,be=be+Math.imul(ke,$t)|0,he=he+Math.imul(Tt,Dt)|0,ae=ae+Math.imul(Tt,Ct)|0,ae=ae+Math.imul(Re,Dt)|0,be=be+Math.imul(Re,Ct)|0,he=he+Math.imul(Et,Fe)|0,ae=ae+Math.imul(Et,Ge)|0,ae=ae+Math.imul(St,Fe)|0,be=be+Math.imul(St,Ge)|0,he=he+Math.imul(ot,Te)|0,ae=ae+Math.imul(ot,Ye)|0,ae=ae+Math.imul(lt,Te)|0,be=be+Math.imul(lt,Ye)|0,he=he+Math.imul(Le,st)|0,ae=ae+Math.imul(Le,ut)|0,ae=ae+Math.imul(De,st)|0,be=be+Math.imul(De,ut)|0,he=he+Math.imul(yt,At)|0,ae=ae+Math.imul(yt,wt)|0,ae=ae+Math.imul(Mt,At)|0,be=be+Math.imul(Mt,wt)|0;var Xt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,he=Math.imul(Je,Ot),ae=Math.imul(Je,$t),ae=ae+Math.imul(tt,Ot)|0,be=Math.imul(tt,$t),he=he+Math.imul(_e,Dt)|0,ae=ae+Math.imul(_e,Ct)|0,ae=ae+Math.imul(ke,Dt)|0,be=be+Math.imul(ke,Ct)|0,he=he+Math.imul(Tt,Fe)|0,ae=ae+Math.imul(Tt,Ge)|0,ae=ae+Math.imul(Re,Fe)|0,be=be+Math.imul(Re,Ge)|0,he=he+Math.imul(Et,Te)|0,ae=ae+Math.imul(Et,Ye)|0,ae=ae+Math.imul(St,Te)|0,be=be+Math.imul(St,Ye)|0,he=he+Math.imul(ot,st)|0,ae=ae+Math.imul(ot,ut)|0,ae=ae+Math.imul(lt,st)|0,be=be+Math.imul(lt,ut)|0,he=he+Math.imul(Le,At)|0,ae=ae+Math.imul(Le,wt)|0,ae=ae+Math.imul(De,At)|0,be=be+Math.imul(De,wt)|0;var Qt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,he=Math.imul(Je,Dt),ae=Math.imul(Je,Ct),ae=ae+Math.imul(tt,Dt)|0,be=Math.imul(tt,Ct),he=he+Math.imul(_e,Fe)|0,ae=ae+Math.imul(_e,Ge)|0,ae=ae+Math.imul(ke,Fe)|0,be=be+Math.imul(ke,Ge)|0,he=he+Math.imul(Tt,Te)|0,ae=ae+Math.imul(Tt,Ye)|0,ae=ae+Math.imul(Re,Te)|0,be=be+Math.imul(Re,Ye)|0,he=he+Math.imul(Et,st)|0,ae=ae+Math.imul(Et,ut)|0,ae=ae+Math.imul(St,st)|0,be=be+Math.imul(St,ut)|0,he=he+Math.imul(ot,At)|0,ae=ae+Math.imul(ot,wt)|0,ae=ae+Math.imul(lt,At)|0,be=be+Math.imul(lt,wt)|0;var Gt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,he=Math.imul(Je,Fe),ae=Math.imul(Je,Ge),ae=ae+Math.imul(tt,Fe)|0,be=Math.imul(tt,Ge),he=he+Math.imul(_e,Te)|0,ae=ae+Math.imul(_e,Ye)|0,ae=ae+Math.imul(ke,Te)|0,be=be+Math.imul(ke,Ye)|0,he=he+Math.imul(Tt,st)|0,ae=ae+Math.imul(Tt,ut)|0,ae=ae+Math.imul(Re,st)|0,be=be+Math.imul(Re,ut)|0,he=he+Math.imul(Et,At)|0,ae=ae+Math.imul(Et,wt)|0,ae=ae+Math.imul(St,At)|0,be=be+Math.imul(St,wt)|0;var Rt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,he=Math.imul(Je,Te),ae=Math.imul(Je,Ye),ae=ae+Math.imul(tt,Te)|0,be=Math.imul(tt,Ye),he=he+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,ut)|0,ae=ae+Math.imul(ke,st)|0,be=be+Math.imul(ke,ut)|0,he=he+Math.imul(Tt,At)|0,ae=ae+Math.imul(Tt,wt)|0,ae=ae+Math.imul(Re,At)|0,be=be+Math.imul(Re,wt)|0;var It=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(It>>>26)|0,It&=67108863,he=Math.imul(Je,st),ae=Math.imul(Je,ut),ae=ae+Math.imul(tt,st)|0,be=Math.imul(tt,ut),he=he+Math.imul(_e,At)|0,ae=ae+Math.imul(_e,wt)|0,ae=ae+Math.imul(ke,At)|0,be=be+Math.imul(ke,wt)|0;var Kt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,he=Math.imul(Je,At),ae=Math.imul(Je,wt),ae=ae+Math.imul(tt,At)|0,be=Math.imul(tt,wt);var Ut=(ve+he|0)+((ae&8191)<<13)|0;return ve=(be+(ae>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me[0]=lr,me[1]=Wt,me[2]=tr,me[3]=rr,me[4]=ir,me[5]=ur,me[6]=or,me[7]=cr,me[8]=sr,me[9]=Zt,me[10]=er,me[11]=Yt,me[12]=Xt,me[13]=Qt,me[14]=Gt,me[15]=Rt,me[16]=It,me[17]=Kt,me[18]=Ut,ve!==0&&(me[19]=ve,le.length++),le};Math.imul||(He=Be);function Oe(pe,oe,ce){ce.negative=oe.negative^pe.negative,ce.length=pe.length+oe.length;for(var le=0,ge=0,ye=0;ye<ce.length-1;ye++){var me=ge;ge=0;for(var ve=le&67108863,he=Math.min(ye,oe.length-1),ae=Math.max(0,ye-pe.length+1);ae<=he;ae++){var be=ye-ae,ze=pe.words[be]|0,Ie=oe.words[ae]|0,We=ze*Ie,ft=We&67108863;me=me+(We/67108864|0)|0,ft=ft+ve|0,ve=ft&67108863,me=me+(ft>>>26)|0,ge+=me>>>26,me&=67108863}ce.words[ye]=ve,le=me,me=ge}return le!==0?ce.words[ye]=le:ce.length--,ce._strip()}function Ke(pe,oe,ce){return Oe(pe,oe,ce)}ie.prototype.mulTo=function(oe,ce){var le,ge=this.length+oe.length;return this.length===10&&oe.length===10?le=He(this,oe,ce):ge<63?le=Be(this,oe,ce):ge<1024?le=Oe(this,oe,ce):le=Ke(this,oe,ce),le},ie.prototype.mul=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),this.mulTo(oe,ce)},ie.prototype.mulf=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),Ke(this,oe,ce)},ie.prototype.imul=function(oe){return this.clone().mulTo(oe,this)},ie.prototype.imuln=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(typeof oe=="number"),ne(oe<67108864);for(var le=0,ge=0;ge<this.length;ge++){var ye=(this.words[ge]|0)*oe,me=(ye&67108863)+(le&67108863);le>>=26,le+=ye/67108864|0,le+=me>>>26,this.words[ge]=me&67108863}return le!==0&&(this.words[ge]=le,this.length++),ce?this.ineg():this},ie.prototype.muln=function(oe){return this.clone().imuln(oe)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(oe){var ce=Ce(oe);if(ce.length===0)return new ie(1);for(var le=this,ge=0;ge<ce.length&&ce[ge]===0;ge++,le=le.sqr());if(++ge<ce.length)for(var ye=le.sqr();ge<ce.length;ge++,ye=ye.sqr())ce[ge]!==0&&(le=le.mul(ye));return le},ie.prototype.iushln=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=67108863>>>26-ce<<26-ce,ye;if(ce!==0){var me=0;for(ye=0;ye<this.length;ye++){var ve=this.words[ye]&ge,he=(this.words[ye]|0)-ve<<ce;this.words[ye]=he|me,me=ve>>>26-ce}me&&(this.words[ye]=me,this.length++)}if(le!==0){for(ye=this.length-1;ye>=0;ye--)this.words[ye+le]=this.words[ye];for(ye=0;ye<le;ye++)this.words[ye]=0;this.length+=le}return this._strip()},ie.prototype.ishln=function(oe){return ne(this.negative===0),this.iushln(oe)},ie.prototype.iushrn=function(oe,ce,le){ne(typeof oe=="number"&&oe>=0);var ge;ce?ge=(ce-ce%26)/26:ge=0;var ye=oe%26,me=Math.min((oe-ye)/26,this.length),ve=67108863^67108863>>>ye<<ye,he=le;if(ge-=me,ge=Math.max(0,ge),he){for(var ae=0;ae<me;ae++)he.words[ae]=this.words[ae];he.length=me}if(me!==0)if(this.length>me)for(this.length-=me,ae=0;ae<this.length;ae++)this.words[ae]=this.words[ae+me];else this.words[0]=0,this.length=1;var be=0;for(ae=this.length-1;ae>=0&&(be!==0||ae>=ge);ae--){var ze=this.words[ae]|0;this.words[ae]=be<<26-ye|ze>>>ye,be=ze&ve}return he&&be!==0&&(he.words[he.length++]=be),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(oe,ce,le){return ne(this.negative===0),this.iushrn(oe,ce,le)},ie.prototype.shln=function(oe){return this.clone().ishln(oe)},ie.prototype.ushln=function(oe){return this.clone().iushln(oe)},ie.prototype.shrn=function(oe){return this.clone().ishrn(oe)},ie.prototype.ushrn=function(oe){return this.clone().iushrn(oe)},ie.prototype.testn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return!1;var ye=this.words[le];return!!(ye&ge)},ie.prototype.imaskn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var ge=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=ge}return this._strip()},ie.prototype.maskn=function(oe){return this.clone().imaskn(oe)},ie.prototype.iaddn=function(oe){return ne(typeof oe=="number"),ne(oe<67108864),oe<0?this.isubn(-oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=oe?(this.words[0]=oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(oe),this.negative=1,this):this._iaddn(oe)},ie.prototype._iaddn=function(oe){this.words[0]+=oe;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(oe){if(ne(typeof oe=="number"),ne(oe<67108864),oe<0)return this.iaddn(-oe);if(this.negative!==0)return this.negative=0,this.iaddn(oe),this.negative=1,this;if(this.words[0]-=oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this._strip()},ie.prototype.addn=function(oe){return this.clone().iaddn(oe)},ie.prototype.subn=function(oe){return this.clone().isubn(oe)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(oe,ce,le){var ge=oe.length+le,ye;this._expand(ge);var me,ve=0;for(ye=0;ye<oe.length;ye++){me=(this.words[ye+le]|0)+ve;var he=(oe.words[ye]|0)*ce;me-=he&67108863,ve=(me>>26)-(he/67108864|0),this.words[ye+le]=me&67108863}for(;ye<this.length-le;ye++)me=(this.words[ye+le]|0)+ve,ve=me>>26,this.words[ye+le]=me&67108863;if(ve===0)return this._strip();for(ne(ve===-1),ve=0,ye=0;ye<this.length;ye++)me=-(this.words[ye]|0)+ve,ve=me>>26,this.words[ye]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(oe,ce){var le=this.length-oe.length,ge=this.clone(),ye=oe,me=ye.words[ye.length-1]|0,ve=this._countBits(me);le=26-ve,le!==0&&(ye=ye.ushln(le),ge.iushln(le),me=ye.words[ye.length-1]|0);var he=ge.length-ye.length,ae;if(ce!=="mod"){ae=new ie(null),ae.length=he+1,ae.words=new Array(ae.length);for(var be=0;be<ae.length;be++)ae.words[be]=0}var ze=ge.clone()._ishlnsubmul(ye,1,he);ze.negative===0&&(ge=ze,ae&&(ae.words[he]=1));for(var Ie=he-1;Ie>=0;Ie--){var We=(ge.words[ye.length+Ie]|0)*67108864+(ge.words[ye.length+Ie-1]|0);for(We=Math.min(We/me|0,67108863),ge._ishlnsubmul(ye,We,Ie);ge.negative!==0;)We--,ge.negative=0,ge._ishlnsubmul(ye,1,Ie),ge.isZero()||(ge.negative^=1);ae&&(ae.words[Ie]=We)}return ae&&ae._strip(),ge._strip(),ce!=="div"&&le!==0&&ge.iushrn(le),{div:ae||null,mod:ge}},ie.prototype.divmod=function(oe,ce,le){if(ne(!oe.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var ge,ye,me;return this.negative!==0&&oe.negative===0?(me=this.neg().divmod(oe,ce),ce!=="mod"&&(ge=me.div.neg()),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.iadd(oe)),{div:ge,mod:ye}):this.negative===0&&oe.negative!==0?(me=this.divmod(oe.neg(),ce),ce!=="mod"&&(ge=me.div.neg()),{div:ge,mod:me.mod}):(this.negative&oe.negative)!==0?(me=this.neg().divmod(oe.neg(),ce),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.isub(oe)),{div:me.div,mod:ye}):oe.length>this.length||this.cmp(oe)<0?{div:new ie(0),mod:this}:oe.length===1?ce==="div"?{div:this.divn(oe.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modrn(oe.words[0]))}:{div:this.divn(oe.words[0]),mod:new ie(this.modrn(oe.words[0]))}:this._wordDiv(oe,ce)},ie.prototype.div=function(oe){return this.divmod(oe,"div",!1).div},ie.prototype.mod=function(oe){return this.divmod(oe,"mod",!1).mod},ie.prototype.umod=function(oe){return this.divmod(oe,"mod",!0).mod},ie.prototype.divRound=function(oe){var ce=this.divmod(oe);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(oe):ce.mod,ge=oe.ushrn(1),ye=oe.andln(1),me=le.cmp(ge);return me<0||ye===1&&me===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modrn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=(1<<26)%oe,ge=0,ye=this.length-1;ye>=0;ye--)ge=(le*ge+(this.words[ye]|0))%oe;return ce?-ge:ge},ie.prototype.modn=function(oe){return this.modrn(oe)},ie.prototype.idivn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=0,ge=this.length-1;ge>=0;ge--){var ye=(this.words[ge]|0)+le*67108864;this.words[ge]=ye/oe|0,le=ye%oe}return this._strip(),ce?this.ineg():this},ie.prototype.divn=function(oe){return this.clone().idivn(oe)},ie.prototype.egcd=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=new ie(0),ve=new ie(1),he=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++he;for(var ae=le.clone(),be=ce.clone();!ce.isZero();){for(var ze=0,Ie=1;(ce.words[0]&Ie)===0&&ze<26;++ze,Ie<<=1);if(ze>0)for(ce.iushrn(ze);ze-- >0;)(ge.isOdd()||ye.isOdd())&&(ge.iadd(ae),ye.isub(be)),ge.iushrn(1),ye.iushrn(1);for(var We=0,ft=1;(le.words[0]&ft)===0&&We<26;++We,ft<<=1);if(We>0)for(le.iushrn(We);We-- >0;)(me.isOdd()||ve.isOdd())&&(me.iadd(ae),ve.isub(be)),me.iushrn(1),ve.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(me),ye.isub(ve)):(le.isub(ce),me.isub(ge),ve.isub(ye))}return{a:me,b:ve,gcd:le.iushln(he)}},ie.prototype._invmp=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var ve=0,he=1;(ce.words[0]&he)===0&&ve<26;++ve,he<<=1);if(ve>0)for(ce.iushrn(ve);ve-- >0;)ge.isOdd()&&ge.iadd(me),ge.iushrn(1);for(var ae=0,be=1;(le.words[0]&be)===0&&ae<26;++ae,be<<=1);if(ae>0)for(le.iushrn(ae);ae-- >0;)ye.isOdd()&&ye.iadd(me),ye.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(ye)):(le.isub(ce),ye.isub(ge))}var ze;return ce.cmpn(1)===0?ze=ge:ze=ye,ze.cmpn(0)<0&&ze.iadd(oe),ze},ie.prototype.gcd=function(oe){if(this.isZero())return oe.abs();if(oe.isZero())return this.abs();var ce=this.clone(),le=oe.clone();ce.negative=0,le.negative=0;for(var ge=0;ce.isEven()&&le.isEven();ge++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var ye=ce.cmp(le);if(ye<0){var me=ce;ce=le,le=me}else if(ye===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(ge)},ie.prototype.invm=function(oe){return this.egcd(oe).a.umod(oe)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(oe){return this.words[0]&oe},ie.prototype.bincn=function(oe){ne(typeof oe=="number");var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=ge,this;for(var ye=ge,me=le;ye!==0&&me<this.length;me++){var ve=this.words[me]|0;ve+=ye,ye=ve>>>26,ve&=67108863,this.words[me]=ve}return ye!==0&&(this.words[me]=ye,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(oe){var ce=oe<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this._strip();var le;if(this.length>1)le=1;else{ce&&(oe=-oe),ne(oe<=67108863,"Number is too big");var ge=this.words[0]|0;le=ge===oe?0:ge<oe?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(oe){if(this.negative!==0&&oe.negative===0)return-1;if(this.negative===0&&oe.negative!==0)return 1;var ce=this.ucmp(oe);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(oe){if(this.length>oe.length)return 1;if(this.length<oe.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var ge=this.words[le]|0,ye=oe.words[le]|0;if(ge!==ye){ge<ye?ce=-1:ge>ye&&(ce=1);break}}return ce},ie.prototype.gtn=function(oe){return this.cmpn(oe)===1},ie.prototype.gt=function(oe){return this.cmp(oe)===1},ie.prototype.gten=function(oe){return this.cmpn(oe)>=0},ie.prototype.gte=function(oe){return this.cmp(oe)>=0},ie.prototype.ltn=function(oe){return this.cmpn(oe)===-1},ie.prototype.lt=function(oe){return this.cmp(oe)===-1},ie.prototype.lten=function(oe){return this.cmpn(oe)<=0},ie.prototype.lte=function(oe){return this.cmp(oe)<=0},ie.prototype.eqn=function(oe){return this.cmpn(oe)===0},ie.prototype.eq=function(oe){return this.cmp(oe)===0},ie.red=function(oe){return new Se(oe)},ie.prototype.toRed=function(oe){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),oe.convertTo(this)._forceRed(oe)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(oe){return this.red=oe,this},ie.prototype.forceRed=function(oe){return ne(!this.red,"Already a number in reduction context"),this._forceRed(oe)},ie.prototype.redAdd=function(oe){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,oe)},ie.prototype.redIAdd=function(oe){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,oe)},ie.prototype.redSub=function(oe){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,oe)},ie.prototype.redISub=function(oe){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,oe)},ie.prototype.redShl=function(oe){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,oe)},ie.prototype.redMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.mul(this,oe)},ie.prototype.redIMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.imul(this,oe)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(oe){return ne(this.red&&!oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,oe)};var qe={k256:null,p224:null,p192:null,p25519:null};function Ve(pe,oe){this.name=pe,this.p=new ie(oe,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ve.prototype._tmp=function(){var oe=new ie(null);return oe.words=new Array(Math.ceil(this.n/13)),oe},Ve.prototype.ireduce=function(oe){var ce=oe,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var ge=le<this.n?-1:ce.ucmp(this.p);return ge===0?(ce.words[0]=0,ce.length=1):ge>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ve.prototype.split=function(oe,ce){oe.iushrn(this.n,0,ce)},Ve.prototype.imulK=function(oe){return oe.imul(this.k)};function Xe(){Ve.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Xe,Ve),Xe.prototype.split=function(oe,ce){for(var le=4194303,ge=Math.min(oe.length,9),ye=0;ye<ge;ye++)ce.words[ye]=oe.words[ye];if(ce.length=ge,oe.length<=9){oe.words[0]=0,oe.length=1;return}var me=oe.words[9];for(ce.words[ce.length++]=me&le,ye=10;ye<oe.length;ye++){var ve=oe.words[ye]|0;oe.words[ye-10]=(ve&le)<<4|me>>>22,me=ve}me>>>=22,oe.words[ye-10]=me,me===0&&oe.length>10?oe.length-=10:oe.length-=9},Xe.prototype.imulK=function(oe){oe.words[oe.length]=0,oe.words[oe.length+1]=0,oe.length+=2;for(var ce=0,le=0;le<oe.length;le++){var ge=oe.words[le]|0;ce+=ge*977,oe.words[le]=ce&67108863,ce=ge*64+(ce/67108864|0)}return oe.words[oe.length-1]===0&&(oe.length--,oe.words[oe.length-1]===0&&oe.length--),oe};function rt(){Ve.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(rt,Ve);function mt(){Ve.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(mt,Ve);function Qe(){Ve.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Qe,Ve),Qe.prototype.imulK=function(oe){for(var ce=0,le=0;le<oe.length;le++){var ge=(oe.words[le]|0)*19+ce,ye=ge&67108863;ge>>>=26,oe.words[le]=ye,ce=ge}return ce!==0&&(oe.words[oe.length++]=ce),oe},ie._prime=function(oe){if(qe[oe])return qe[oe];var ce;if(oe==="k256")ce=new Xe;else if(oe==="p224")ce=new rt;else if(oe==="p192")ce=new mt;else if(oe==="p25519")ce=new Qe;else throw new Error("Unknown prime "+oe);return qe[oe]=ce,ce};function Se(pe){if(typeof pe=="string"){var oe=ie._prime(pe);this.m=oe.p,this.prime=oe}else ne(pe.gtn(1),"modulus must be greater than 1"),this.m=pe,this.prime=null}Se.prototype._verify1=function(oe){ne(oe.negative===0,"red works only with positives"),ne(oe.red,"red works only with red numbers")},Se.prototype._verify2=function(oe,ce){ne((oe.negative|ce.negative)===0,"red works only with positives"),ne(oe.red&&oe.red===ce.red,"red works only with red numbers")},Se.prototype.imod=function(oe){return this.prime?this.prime.ireduce(oe)._forceRed(this):(Ae(oe,oe.umod(this.m)._forceRed(this)),oe)},Se.prototype.neg=function(oe){return oe.isZero()?oe.clone():this.m.sub(oe)._forceRed(this)},Se.prototype.add=function(oe,ce){this._verify2(oe,ce);var le=oe.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},Se.prototype.iadd=function(oe,ce){this._verify2(oe,ce);var le=oe.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},Se.prototype.sub=function(oe,ce){this._verify2(oe,ce);var le=oe.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},Se.prototype.isub=function(oe,ce){this._verify2(oe,ce);var le=oe.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},Se.prototype.shl=function(oe,ce){return this._verify1(oe),this.imod(oe.ushln(ce))},Se.prototype.imul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.imul(ce))},Se.prototype.mul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.mul(ce))},Se.prototype.isqr=function(oe){return this.imul(oe,oe.clone())},Se.prototype.sqr=function(oe){return this.mul(oe,oe)},Se.prototype.sqrt=function(oe){if(oe.isZero())return oe.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(oe,le)}for(var ge=this.m.subn(1),ye=0;!ge.isZero()&&ge.andln(1)===0;)ye++,ge.iushrn(1);ne(!ge.isZero());var me=new ie(1).toRed(this),ve=me.redNeg(),he=this.m.subn(1).iushrn(1),ae=this.m.bitLength();for(ae=new ie(2*ae*ae).toRed(this);this.pow(ae,he).cmp(ve)!==0;)ae.redIAdd(ve);for(var be=this.pow(ae,ge),ze=this.pow(oe,ge.addn(1).iushrn(1)),Ie=this.pow(oe,ge),We=ye;Ie.cmp(me)!==0;){for(var ft=Ie,nt=0;ft.cmp(me)!==0;nt++)ft=ft.redSqr();ne(nt<We);var at=this.pow(be,new ie(1).iushln(We-nt-1));ze=ze.redMul(at),be=at.redSqr(),Ie=Ie.redMul(be),We=nt}return ze},Se.prototype.invm=function(oe){var ce=oe._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},Se.prototype.pow=function(oe,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return oe.clone();var le=4,ge=new Array(1<<le);ge[0]=new ie(1).toRed(this),ge[1]=oe;for(var ye=2;ye<ge.length;ye++)ge[ye]=this.mul(ge[ye-1],oe);var me=ge[0],ve=0,he=0,ae=ce.bitLength()%26;for(ae===0&&(ae=26),ye=ce.length-1;ye>=0;ye--){for(var be=ce.words[ye],ze=ae-1;ze>=0;ze--){var Ie=be>>ze&1;if(me!==ge[0]&&(me=this.sqr(me)),Ie===0&&ve===0){he=0;continue}ve<<=1,ve|=Ie,he++,!(he!==le&&(ye!==0||ze!==0))&&(me=this.mul(me,ge[ve]),he=0,ve=0)}ae=26}return me},Se.prototype.convertTo=function(oe){var ce=oe.umod(this.m);return ce===oe?ce.clone():ce},Se.prototype.convertFrom=function(oe){var ce=oe.clone();return ce.red=null,ce},ie.mont=function(oe){return new $e(oe)};function $e(pe){Se.call(this,pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se($e,Se),$e.prototype.convertTo=function(oe){return this.imod(oe.ushln(this.shift))},$e.prototype.convertFrom=function(oe){var ce=this.imod(oe.mul(this.rinv));return ce.red=null,ce},$e.prototype.imul=function(oe,ce){if(oe.isZero()||ce.isZero())return oe.words[0]=0,oe.length=1,oe;var le=oe.imul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.mul=function(oe,ce){if(oe.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=oe.mul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.invm=function(oe){var ce=this.imod(oe._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(re,commonjsGlobal)})(bn$3),function(re){var ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(Me){return Me&&Me.__esModule?Me:{default:Me}};Object.defineProperty(re,"__esModule",{value:!0}),re.parseNearAmount=re.formatNearAmount=re.NEAR_NOMINATION=re.NEAR_NOMINATION_EXP=void 0;const te=ee(bn$3.exports);re.NEAR_NOMINATION_EXP=24,re.NEAR_NOMINATION=new te.default("10",10).pow(new te.default(re.NEAR_NOMINATION_EXP,10));const ne=[],se=new te.default(10);for(let Me=0,Pe=new te.default(5);Me<re.NEAR_NOMINATION_EXP;Me++,Pe=Pe.mul(se))ne[Me]=Pe;function ie(Me,Pe=re.NEAR_NOMINATION_EXP){const Ne=new te.default(Me,10);if(Pe!==re.NEAR_NOMINATION_EXP){const Ce=re.NEAR_NOMINATION_EXP-Pe-1;Ce>0&&Ne.iadd(ne[Ce])}Me=Ne.toString();const je=Me.substring(0,Me.length-re.NEAR_NOMINATION_EXP)||"0",Ue=Me.substring(Me.length-re.NEAR_NOMINATION_EXP).padStart(re.NEAR_NOMINATION_EXP,"0").substring(0,Pe);return xe(`${Ae(je)}.${Ue}`)}re.formatNearAmount=ie;function fe(Me){if(!Me)return null;Me=ue(Me);const Pe=Me.split("."),Ne=Pe[0],je=Pe[1]||"";if(Pe.length>2||je.length>re.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${Me}' as NEAR amount`);return Ee(Ne+je.padEnd(re.NEAR_NOMINATION_EXP,"0"))}re.parseNearAmount=fe;function ue(Me){return Me.replace(/,/g,"").trim()}function xe(Me){return Me.replace(/\.?0*$/,"")}function Ee(Me){return Me=Me.replace(/^0+/,""),Me===""?"0":Me}function Ae(Me){const Pe=/(-?\d+)(\d{3})/;for(;Pe.test(Me);)Me=Me.replace(Pe,"$1,$2");return Me}}(format);var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Pe,Ne,je,Ue){Ue===void 0&&(Ue=je);var Ce=Object.getOwnPropertyDescriptor(Ne,je);(!Ce||("get"in Ce?!Ne.__esModule:Ce.writable||Ce.configurable))&&(Ce={enumerable:!0,get:function(){return Ne[je]}}),Object.defineProperty(Pe,Ue,Ce)}:function(Pe,Ne,je,Ue){Ue===void 0&&(Ue=je),Pe[Ue]=Ne[je]}),te=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Pe,Ne){Object.defineProperty(Pe,"default",{enumerable:!0,value:Ne})}:function(Pe,Ne){Pe.default=Ne}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(Pe){if(Pe&&Pe.__esModule)return Pe;var Ne={};if(Pe!=null)for(var je in Pe)je!=="default"&&Object.prototype.hasOwnProperty.call(Pe,je)&&ee(Ne,Pe,je);return te(Ne,Pe),Ne};Object.defineProperty(re,"__esModule",{value:!0}),re.logWarning=re.rpc_errors=re.KeyPairEd25519=re.KeyPair=re.PublicKey=re.format=re.enums=re.web=re.serialize=re.key_pair=void 0;const se=ne(key_pair);re.key_pair=se;const ie=ne(serialize$2);re.serialize=ie;const fe=ne(requireWeb());re.web=fe;const ue=ne(enums);re.enums=ue;const xe=ne(format);re.format=xe;const Ee=ne(requireRpc_errors());re.rpc_errors=Ee;const Ae=key_pair;Object.defineProperty(re,"PublicKey",{enumerable:!0,get:function(){return Ae.PublicKey}}),Object.defineProperty(re,"KeyPair",{enumerable:!0,get:function(){return Ae.KeyPair}}),Object.defineProperty(re,"KeyPairEd25519",{enumerable:!0,get:function(){return Ae.KeyPairEd25519}});const Me=errors;Object.defineProperty(re,"logWarning",{enumerable:!0,get:function(){return Me.logWarning}})}(utils$d)),utils$d}var transaction={},sha256$3={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(re){return Object.prototype.toString.call(re)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(re){return typeof re=="object"&&re.buffer&&re.buffer.constructor===ArrayBuffer});var createOutputMethod=function(re,ee){return function(te){return new Sha256(ee,!0).update(te)[re]()}},createMethod=function(re){var ee=createOutputMethod("hex",re);NODE_JS&&(ee=nodeWrap(ee,re)),ee.create=function(){return new Sha256(re)},ee.update=function(se){return ee.create().update(se)};for(var te=0;te<OUTPUT_TYPES.length;++te){var ne=OUTPUT_TYPES[te];ee[ne]=createOutputMethod(ne,re)}return ee},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(re){if(typeof re=="string")return crypto.createHash(algorithm).update(re,"utf8").digest("hex");if(re==null)throw new Error(ERROR);return re.constructor===ArrayBuffer&&(re=new Uint8Array(re)),Array.isArray(re)||ArrayBuffer.isView(re)||re.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(re)).digest("hex"):method(re)};return nodeMethod},createHmacOutputMethod=function(re,ee){return function(te,ne){return new HmacSha256(te,ee,!0).update(ne)[re]()}},createHmacMethod=function(re){var ee=createHmacOutputMethod("hex",re);ee.create=function(se){return new HmacSha256(se,re)},ee.update=function(se,ie){return ee.create(se).update(ie)};for(var te=0;te<OUTPUT_TYPES.length;++te){var ne=OUTPUT_TYPES[te];ee[ne]=createHmacOutputMethod(ne,re)}return ee};function Sha256(re,ee){ee?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=re}Sha256.prototype.update=function(re){if(!this.finalized){var ee,te=typeof re;if(te!=="string"){if(te==="object"){if(re===null)throw new Error(ERROR);if(ARRAY_BUFFER&&re.constructor===ArrayBuffer)re=new Uint8Array(re);else if(!Array.isArray(re)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(re)))throw new Error(ERROR)}else throw new Error(ERROR);ee=!0}for(var ne,se=0,ie,fe=re.length,ue=this.blocks;se<fe;){if(this.hashed&&(this.hashed=!1,ue[0]=this.block,ue[16]=ue[1]=ue[2]=ue[3]=ue[4]=ue[5]=ue[6]=ue[7]=ue[8]=ue[9]=ue[10]=ue[11]=ue[12]=ue[13]=ue[14]=ue[15]=0),ee)for(ie=this.start;se<fe&&ie<64;++se)ue[ie>>2]|=re[se]<<SHIFT[ie++&3];else for(ie=this.start;se<fe&&ie<64;++se)ne=re.charCodeAt(se),ne<128?ue[ie>>2]|=ne<<SHIFT[ie++&3]:ne<2048?(ue[ie>>2]|=(192|ne>>6)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]):ne<55296||ne>=57344?(ue[ie>>2]|=(224|ne>>12)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>6&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]):(ne=65536+((ne&1023)<<10|re.charCodeAt(++se)&1023),ue[ie>>2]|=(240|ne>>18)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>12&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne>>6&63)<<SHIFT[ie++&3],ue[ie>>2]|=(128|ne&63)<<SHIFT[ie++&3]);this.lastByteIndex=ie,this.bytes+=ie-this.start,ie>=64?(this.block=ue[16],this.start=ie-64,this.hash(),this.hashed=!0):this.start=ie}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var re=this.blocks,ee=this.lastByteIndex;re[16]=this.block,re[ee>>2]|=EXTRA[ee&3],this.block=re[16],ee>=56&&(this.hashed||this.hash(),re[0]=this.block,re[16]=re[1]=re[2]=re[3]=re[4]=re[5]=re[6]=re[7]=re[8]=re[9]=re[10]=re[11]=re[12]=re[13]=re[14]=re[15]=0),re[14]=this.hBytes<<3|this.bytes>>>29,re[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var re=this.h0,ee=this.h1,te=this.h2,ne=this.h3,se=this.h4,ie=this.h5,fe=this.h6,ue=this.h7,xe=this.blocks,Ee,Ae,Me,Pe,Ne,je,Ue,Ce,Be,He,Oe;for(Ee=16;Ee<64;++Ee)Ne=xe[Ee-15],Ae=(Ne>>>7|Ne<<25)^(Ne>>>18|Ne<<14)^Ne>>>3,Ne=xe[Ee-2],Me=(Ne>>>17|Ne<<15)^(Ne>>>19|Ne<<13)^Ne>>>10,xe[Ee]=xe[Ee-16]+Ae+xe[Ee-7]+Me<<0;for(Oe=ee&te,Ee=0;Ee<64;Ee+=4)this.first?(this.is224?(Ce=300032,Ne=xe[0]-1413257819,ue=Ne-150054599<<0,ne=Ne+24177077<<0):(Ce=704751109,Ne=xe[0]-210244248,ue=Ne-1521486534<<0,ne=Ne+143694565<<0),this.first=!1):(Ae=(re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10),Me=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),Ce=re&ee,Pe=Ce^re&te^Oe,Ue=se&ie^~se&fe,Ne=ue+Me+Ue+K[Ee]+xe[Ee],je=Ae+Pe,ue=ne+Ne<<0,ne=Ne+je<<0),Ae=(ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10),Me=(ue>>>6|ue<<26)^(ue>>>11|ue<<21)^(ue>>>25|ue<<7),Be=ne&re,Pe=Be^ne&ee^Ce,Ue=ue&se^~ue&ie,Ne=fe+Me+Ue+K[Ee+1]+xe[Ee+1],je=Ae+Pe,fe=te+Ne<<0,te=Ne+je<<0,Ae=(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10),Me=(fe>>>6|fe<<26)^(fe>>>11|fe<<21)^(fe>>>25|fe<<7),He=te&ne,Pe=He^te&re^Be,Ue=fe&ue^~fe&se,Ne=ie+Me+Ue+K[Ee+2]+xe[Ee+2],je=Ae+Pe,ie=ee+Ne<<0,ee=Ne+je<<0,Ae=(ee>>>2|ee<<30)^(ee>>>13|ee<<19)^(ee>>>22|ee<<10),Me=(ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7),Oe=ee&te,Pe=Oe^ee&ne^He,Ue=ie&fe^~ie&ue,Ne=se+Me+Ue+K[Ee+3]+xe[Ee+3],je=Ae+Pe,se=re+Ne<<0,re=Ne+je<<0;this.h0=this.h0+re<<0,this.h1=this.h1+ee<<0,this.h2=this.h2+te<<0,this.h3=this.h3+ne<<0,this.h4=this.h4+se<<0,this.h5=this.h5+ie<<0,this.h6=this.h6+fe<<0,this.h7=this.h7+ue<<0},Sha256.prototype.hex=function(){this.finalize();var re=this.h0,ee=this.h1,te=this.h2,ne=this.h3,se=this.h4,ie=this.h5,fe=this.h6,ue=this.h7,xe=HEX_CHARS[re>>28&15]+HEX_CHARS[re>>24&15]+HEX_CHARS[re>>20&15]+HEX_CHARS[re>>16&15]+HEX_CHARS[re>>12&15]+HEX_CHARS[re>>8&15]+HEX_CHARS[re>>4&15]+HEX_CHARS[re&15]+HEX_CHARS[ee>>28&15]+HEX_CHARS[ee>>24&15]+HEX_CHARS[ee>>20&15]+HEX_CHARS[ee>>16&15]+HEX_CHARS[ee>>12&15]+HEX_CHARS[ee>>8&15]+HEX_CHARS[ee>>4&15]+HEX_CHARS[ee&15]+HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]+HEX_CHARS[ne>>28&15]+HEX_CHARS[ne>>24&15]+HEX_CHARS[ne>>20&15]+HEX_CHARS[ne>>16&15]+HEX_CHARS[ne>>12&15]+HEX_CHARS[ne>>8&15]+HEX_CHARS[ne>>4&15]+HEX_CHARS[ne&15]+HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>4&15]+HEX_CHARS[se&15]+HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[ie&15]+HEX_CHARS[fe>>28&15]+HEX_CHARS[fe>>24&15]+HEX_CHARS[fe>>20&15]+HEX_CHARS[fe>>16&15]+HEX_CHARS[fe>>12&15]+HEX_CHARS[fe>>8&15]+HEX_CHARS[fe>>4&15]+HEX_CHARS[fe&15];return this.is224||(xe+=HEX_CHARS[ue>>28&15]+HEX_CHARS[ue>>24&15]+HEX_CHARS[ue>>20&15]+HEX_CHARS[ue>>16&15]+HEX_CHARS[ue>>12&15]+HEX_CHARS[ue>>8&15]+HEX_CHARS[ue>>4&15]+HEX_CHARS[ue&15]),xe},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var re=this.h0,ee=this.h1,te=this.h2,ne=this.h3,se=this.h4,ie=this.h5,fe=this.h6,ue=this.h7,xe=[re>>24&255,re>>16&255,re>>8&255,re&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,te>>24&255,te>>16&255,te>>8&255,te&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255,se>>24&255,se>>16&255,se>>8&255,se&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255];return this.is224||xe.push(ue>>24&255,ue>>16&255,ue>>8&255,ue&255),xe},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var re=new ArrayBuffer(this.is224?28:32),ee=new DataView(re);return ee.setUint32(0,this.h0),ee.setUint32(4,this.h1),ee.setUint32(8,this.h2),ee.setUint32(12,this.h3),ee.setUint32(16,this.h4),ee.setUint32(20,this.h5),ee.setUint32(24,this.h6),this.is224||ee.setUint32(28,this.h7),re};function HmacSha256(re,ee,te){var ne,se=typeof re;if(se==="string"){var ie=[],fe=re.length,ue=0,xe;for(ne=0;ne<fe;++ne)xe=re.charCodeAt(ne),xe<128?ie[ue++]=xe:xe<2048?(ie[ue++]=192|xe>>6,ie[ue++]=128|xe&63):xe<55296||xe>=57344?(ie[ue++]=224|xe>>12,ie[ue++]=128|xe>>6&63,ie[ue++]=128|xe&63):(xe=65536+((xe&1023)<<10|re.charCodeAt(++ne)&1023),ie[ue++]=240|xe>>18,ie[ue++]=128|xe>>12&63,ie[ue++]=128|xe>>6&63,ie[ue++]=128|xe&63);re=ie}else if(se==="object"){if(re===null)throw new Error(ERROR);if(ARRAY_BUFFER&&re.constructor===ArrayBuffer)re=new Uint8Array(re);else if(!Array.isArray(re)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(re)))throw new Error(ERROR)}else throw new Error(ERROR);re.length>64&&(re=new Sha256(ee,!0).update(re).array());var Ee=[],Ae=[];for(ne=0;ne<64;++ne){var Me=re[ne]||0;Ee[ne]=92^Me,Ae[ne]=54^Me}Sha256.call(this,ee,te),this.update(Ae),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=te}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var re=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(re),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$3),function(re){var ee=commonjsGlobal&&commonjsGlobal.__awaiter||function(ae,be,ze,Ie){function We(ft){return ft instanceof ze?ft:new ze(function(nt){nt(ft)})}return new(ze||(ze=Promise))(function(ft,nt){function at(gt){try{dt(Ie.next(gt))}catch(Jt){nt(Jt)}}function Ht(gt){try{dt(Ie.throw(gt))}catch(Jt){nt(Jt)}}function dt(gt){gt.done?ft(gt.value):We(gt.value).then(at,Ht)}dt((Ie=Ie.apply(ae,be||[])).next())})},te=commonjsGlobal&&commonjsGlobal.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(re,"__esModule",{value:!0}),re.signTransaction=re.createTransaction=re.SCHEMA=re.Action=re.SignedTransaction=re.Transaction=re.Signature=re.deleteAccount=re.deleteKey=re.addKey=re.stake=re.transfer=re.functionCall=re.stringifyJsonOrBytes=re.deployContract=re.createAccount=re.DeleteAccount=re.DeleteKey=re.AddKey=re.Stake=re.Transfer=re.FunctionCall=re.DeployContract=re.CreateAccount=re.IAction=re.functionCallAccessKey=re.fullAccessKey=re.AccessKey=re.AccessKeyPermission=re.FullAccessPermission=re.FunctionCallPermission=void 0;const ne=te(sha256$3.exports),se=enums,ie=lib$4,fe=key_pair;class ue extends se.Assignable{}re.FunctionCallPermission=ue;class xe extends se.Assignable{}re.FullAccessPermission=xe;class Ee extends se.Enum{}re.AccessKeyPermission=Ee;class Ae extends se.Assignable{}re.AccessKey=Ae;function Me(){return new Ae({permission:new Ee({fullAccess:new xe({})})})}re.fullAccessKey=Me;function Pe(ae,be,ze){return new Ae({permission:new Ee({functionCall:new ue({receiverId:ae,allowance:ze,methodNames:be})})})}re.functionCallAccessKey=Pe;class Ne extends se.Assignable{}re.IAction=Ne;class je extends Ne{}re.CreateAccount=je;class Ue extends Ne{}re.DeployContract=Ue;class Ce extends Ne{}re.FunctionCall=Ce;class Be extends Ne{}re.Transfer=Be;class He extends Ne{}re.Stake=He;class Oe extends Ne{}re.AddKey=Oe;class Ke extends Ne{}re.DeleteKey=Ke;class qe extends Ne{}re.DeleteAccount=qe;function Ve(){return new ye({createAccount:new je({})})}re.createAccount=Ve;function Xe(ae){return new ye({deployContract:new Ue({code:ae})})}re.deployContract=Xe;function rt(ae){return ae.byteLength!==void 0&&ae.byteLength===ae.length?ae:Buffer.from(JSON.stringify(ae))}re.stringifyJsonOrBytes=rt;function mt(ae,be,ze,Ie,We=rt,ft=!1){return ft?new ye({functionCall:new Ce({methodName:ae,args:be,gas:ze,deposit:Ie})}):new ye({functionCall:new Ce({methodName:ae,args:We(be),gas:ze,deposit:Ie})})}re.functionCall=mt;function Qe(ae){return new ye({transfer:new Be({deposit:ae})})}re.transfer=Qe;function Se(ae,be){return new ye({stake:new He({stake:ae,publicKey:be})})}re.stake=Se;function $e(ae,be){return new ye({addKey:new Oe({publicKey:ae,accessKey:be})})}re.addKey=$e;function pe(ae){return new ye({deleteKey:new Ke({publicKey:ae})})}re.deleteKey=pe;function oe(ae){return new ye({deleteAccount:new qe({beneficiaryId:ae})})}re.deleteAccount=oe;class ce extends se.Assignable{}re.Signature=ce;class le extends se.Assignable{encode(){return(0,ie.serialize)(re.SCHEMA,this)}static decode(be){return(0,ie.deserialize)(re.SCHEMA,le,be)}}re.Transaction=le;class ge extends se.Assignable{encode(){return(0,ie.serialize)(re.SCHEMA,this)}static decode(be){return(0,ie.deserialize)(re.SCHEMA,ge,be)}}re.SignedTransaction=ge;class ye extends se.Enum{}re.Action=ye,re.SCHEMA=new Map([[ce,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[ge,{kind:"struct",fields:[["transaction",le],["signature",ce]]}],[le,{kind:"struct",fields:[["signerId","string"],["publicKey",fe.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[ye]]]}],[fe.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[Ae,{kind:"struct",fields:[["nonce","u64"],["permission",Ee]]}],[Ee,{kind:"enum",field:"enum",values:[["functionCall",ue],["fullAccess",xe]]}],[ue,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[xe,{kind:"struct",fields:[]}],[ye,{kind:"enum",field:"enum",values:[["createAccount",je],["deployContract",Ue],["functionCall",Ce],["transfer",Be],["stake",He],["addKey",Oe],["deleteKey",Ke],["deleteAccount",qe]]}],[je,{kind:"struct",fields:[]}],[Ue,{kind:"struct",fields:[["code",["u8"]]]}],[Ce,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[Be,{kind:"struct",fields:[["deposit","u128"]]}],[He,{kind:"struct",fields:[["stake","u128"],["publicKey",fe.PublicKey]]}],[Oe,{kind:"struct",fields:[["publicKey",fe.PublicKey],["accessKey",Ae]]}],[Ke,{kind:"struct",fields:[["publicKey",fe.PublicKey]]}],[qe,{kind:"struct",fields:[["beneficiaryId","string"]]}]]);function me(ae,be,ze,Ie,We,ft){return new le({signerId:ae,publicKey:be,nonce:Ie,receiverId:ze,actions:We,blockHash:ft})}re.createTransaction=me;function ve(ae,be,ze,Ie){return ee(this,void 0,void 0,function*(){const We=(0,ie.serialize)(re.SCHEMA,ae),ft=new Uint8Array(ne.default.sha256.array(We)),nt=yield be.signMessage(We,ze,Ie),at=new ge({transaction:ae,signature:new ce({keyType:ae.publicKey.keyType,data:nt.signature})});return[ft,at]})}function he(...ae){return ee(this,void 0,void 0,function*(){if(ae[0].constructor===le){const[be,ze,Ie,We]=ae;return ve(be,ze,Ie,We)}else{const[be,ze,Ie,We,ft,nt,at]=ae,Ht=yield ft.getPublicKey(nt,at),dt=me(nt,Ht,be,ze,Ie,We);return ve(dt,ft,nt,at)}})}re.signTransaction=he}(transaction);var validators={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var browser$2=depd;function depd(re){if(!re)throw new TypeError("argument namespace is required");function ee(te){}return ee._file=void 0,ee._ignored=!0,ee._namespace=re,ee._traced=!1,ee._warned=Object.create(null),ee.function=wrapfunction,ee.property=wrapproperty,ee}function wrapfunction(re,ee){if(typeof re!="function")throw new TypeError("argument fn must be a function");return re}function wrapproperty(re,ee,te){if(!re||typeof re!="object"&&typeof re!="function")throw new TypeError("argument obj must be object");var ne=Object.getOwnPropertyDescriptor(re,ee);if(!ne)throw new TypeError("must call property on owner object");if(!ne.configurable)throw new TypeError("property must be configurable")}var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(validators,"__esModule",{value:!0}),validators.diffEpochValidators=validators.findSeatPrice=void 0;const bn_js_1$1=__importDefault$2(bn$3.exports),depd_1=__importDefault$2(browser$2);function findSeatPrice(re,ee,te,ne){return ne&&ne<49?findSeatPriceForProtocolBefore49(re,ee):(te||((0,depd_1.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),te=[1,6250]),findSeatPriceForProtocolAfter49(re,ee,te))}validators.findSeatPrice=findSeatPrice;function findSeatPriceForProtocolBefore49(re,ee){const te=re.map(ue=>new bn_js_1$1.default(ue.stake,10)).sort((ue,xe)=>ue.cmp(xe)),ne=new bn_js_1$1.default(ee),se=te.reduce((ue,xe)=>ue.add(xe));if(se.lt(ne))throw new Error("Stakes are below seats");let ie=new bn_js_1$1.default(1),fe=se.add(new bn_js_1$1.default(1));for(;!ie.eq(fe.sub(new bn_js_1$1.default(1)));){const ue=ie.add(fe).div(new bn_js_1$1.default(2));let xe=!1,Ee=new bn_js_1$1.default(0);for(let Ae=0;Ae<te.length;++Ae)if(Ee=Ee.add(te[Ae].div(ue)),Ee.gte(ne)){ie=ue,xe=!0;break}xe||(fe=ue)}return ie}function findSeatPriceForProtocolAfter49(re,ee,te){if(te.length!=2)throw Error("minimumStakeRatio should have 2 elements");const ne=re.map(ie=>new bn_js_1$1.default(ie.stake,10)).sort((ie,fe)=>ie.cmp(fe)),se=ne.reduce((ie,fe)=>ie.add(fe));return re.length<ee?se.mul(new bn_js_1$1.default(te[0])).div(new bn_js_1$1.default(te[1])):ne[0].add(new bn_js_1$1.default(1))}function diffEpochValidators(re,ee){const te=new Map;re.forEach(se=>te.set(se.account_id,se));const ne=new Set(ee.map(se=>se.account_id));return{newValidators:ee.filter(se=>!te.has(se.account_id)),removedValidators:re.filter(se=>!ne.has(se.account_id)),changedValidators:ee.filter(se=>te.has(se.account_id)&&te.get(se.account_id).stake!=se.stake).map(se=>({current:te.get(se.account_id),next:se}))}}validators.diffEpochValidators=diffEpochValidators;var account={},constants={},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(constants,"__esModule",{value:!0}),constants.DEFAULT_FUNCTION_CALL_GAS=void 0;const bn_js_1=__importDefault$1(bn$3.exports);constants.DEFAULT_FUNCTION_CALL_GAS=new bn_js_1.default("30000000000000");var hasRequiredAccount;function requireAccount(){if(hasRequiredAccount)return account;hasRequiredAccount=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(He,Oe,Ke,qe){function Ve(Xe){return Xe instanceof Ke?Xe:new Ke(function(rt){rt(Xe)})}return new(Ke||(Ke=Promise))(function(Xe,rt){function mt($e){try{Se(qe.next($e))}catch(pe){rt(pe)}}function Qe($e){try{Se(qe.throw($e))}catch(pe){rt(pe)}}function Se($e){$e.done?Xe($e.value):Ve($e.value).then(mt,Qe)}Se((qe=qe.apply(He,Oe||[])).next())})},ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(He){return He&&He.__esModule?He:{default:He}};Object.defineProperty(account,"__esModule",{value:!0}),account.Account=void 0;const te=ee(bn$3.exports),ne=ee(browser$2),se=transaction,ie=requireProviders(),fe=lib$4,ue=key_pair,xe=errors,Ee=requireRpc_errors(),Ae=constants,Me=ee(exponentialBackoff$1),Pe=12,Ne=500,je=1.5;function Ue(He){return JSON.parse(Buffer.from(He).toString())}function Ce(He){return Buffer.from(JSON.stringify(He))}class Be{constructor(Oe,Ke){this.accessKeyByPublicKeyCache={},this.connection=Oe,this.accountId=Ke}state(){return re(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}printLogsAndFailures(Oe,Ke){if(!process.env.NEAR_NO_LOGS)for(const qe of Ke)console.log(`Receipt${qe.receiptIds.length>1?"s":""}: ${qe.receiptIds.join(", ")}`),this.printLogs(Oe,qe.logs,"	"),qe.failure&&console.warn(`	Failure [${Oe}]: ${qe.failure}`)}printLogs(Oe,Ke,qe=""){if(!process.env.NEAR_NO_LOGS)for(const Ve of Ke)console.log(`${qe}Log [${Oe}]: ${Ve}`)}signTransaction(Oe,Ke){return re(this,void 0,void 0,function*(){const qe=yield this.findAccessKey(Oe,Ke);if(!qe)throw new ie.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:Ve}=qe,rt=(yield this.connection.provider.block({finality:"final"})).header.hash,mt=Ve.nonce.add(new te.default(1));return yield(0,se.signTransaction)(Oe,mt,Ke,(0,fe.baseDecode)(rt),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:Oe,actions:Ke,returnError:qe}){return re(this,void 0,void 0,function*(){let Ve,Xe;const rt=yield(0,Me.default)(Ne,Pe,je,()=>re(this,void 0,void 0,function*(){[Ve,Xe]=yield this.signTransaction(Oe,Ke);const Qe=Xe.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(Xe)}catch(Se){if(Se.type==="InvalidNonce")return(0,xe.logWarning)(`Retrying transaction ${Oe}:${(0,fe.baseEncode)(Ve)} with new nonce.`),delete this.accessKeyByPublicKeyCache[Qe.toString()],null;if(Se.type==="Expired")return(0,xe.logWarning)(`Retrying transaction ${Oe}:${(0,fe.baseEncode)(Ve)} due to expired block hash`),null;throw Se.context=new ie.ErrorContext((0,fe.baseEncode)(Ve)),Se}}));if(!rt)throw new ie.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");const mt=[rt.transaction_outcome,...rt.receipts_outcome].reduce((Qe,Se)=>Se.outcome.logs.length||typeof Se.outcome.status=="object"&&typeof Se.outcome.status.Failure=="object"?Qe.concat({receiptIds:Se.outcome.receipt_ids,logs:Se.outcome.logs,failure:typeof Se.outcome.status.Failure<"u"?(0,Ee.parseRpcError)(Se.outcome.status.Failure):null}):Qe,[]);if(this.printLogsAndFailures(Xe.transaction.receiverId,mt),!qe&&typeof rt.status=="object"&&typeof rt.status.Failure=="object"&&rt.status.Failure!==null)throw rt.status.Failure.error_message&&rt.status.Failure.error_type?new ie.TypedError(`Transaction ${rt.transaction_outcome.id} failed. ${rt.status.Failure.error_message}`,rt.status.Failure.error_type):(0,Ee.parseResultError)(rt);return rt})}findAccessKey(Oe,Ke){return re(this,void 0,void 0,function*(){const qe=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!qe)throw new ie.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const Ve=this.accessKeyByPublicKeyCache[qe.toString()];if(Ve!==void 0)return{publicKey:qe,accessKey:Ve};try{const Xe=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:qe.toString(),finality:"optimistic"}),rt=Object.assign(Object.assign({},Xe),{nonce:new te.default(Xe.nonce)});return this.accessKeyByPublicKeyCache[qe.toString()]?{publicKey:qe,accessKey:this.accessKeyByPublicKeyCache[qe.toString()]}:(this.accessKeyByPublicKeyCache[qe.toString()]=rt,{publicKey:qe,accessKey:rt})}catch(Xe){if(Xe.type=="AccessKeyDoesNotExist")return null;throw Xe}})}createAndDeployContract(Oe,Ke,qe,Ve){return re(this,void 0,void 0,function*(){const Xe=(0,se.fullAccessKey)();return yield this.signAndSendTransaction({receiverId:Oe,actions:[(0,se.createAccount)(),(0,se.transfer)(Ve),(0,se.addKey)(ue.PublicKey.from(Ke),Xe),(0,se.deployContract)(qe)]}),new Be(this.connection,Oe)})}sendMoney(Oe,Ke){return re(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:Oe,actions:[(0,se.transfer)(Ke)]})})}createAccount(Oe,Ke,qe){return re(this,void 0,void 0,function*(){const Ve=(0,se.fullAccessKey)();return this.signAndSendTransaction({receiverId:Oe,actions:[(0,se.createAccount)(),(0,se.transfer)(qe),(0,se.addKey)(ue.PublicKey.from(Ke),Ve)]})})}deleteAccount(Oe){return re(this,void 0,void 0,function*(){return process.env.NEAR_NO_LOGS||console.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[(0,se.deleteAccount)(Oe)]})})}deployContract(Oe){return re(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[(0,se.deployContract)(Oe)]})})}encodeJSContractArgs(Oe,Ke,qe){return Buffer.concat([Buffer.from(Oe),Buffer.from([0]),Buffer.from(Ke),Buffer.from([0]),Buffer.from(qe)])}functionCall({contractId:Oe,methodName:Ke,args:qe={},gas:Ve=Ae.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:Xe,walletMeta:rt,walletCallbackUrl:mt,stringify:Qe,jsContract:Se}){return re(this,void 0,void 0,function*(){this.validateArgs(qe);let $e;if(Se){const pe=this.encodeJSContractArgs(Oe,Ke,JSON.stringify(qe));$e=["call_js_contract",pe,Ve,Xe,null,!0]}else{const pe=Qe===void 0?se.stringifyJsonOrBytes:Qe;$e=[Ke,qe,Ve,Xe,pe,!1]}return this.signAndSendTransaction({receiverId:Se?this.connection.jsvmAccountId:Oe,actions:[se.functionCall.apply(void 0,$e)],walletMeta:rt,walletCallbackUrl:mt})})}addKey(Oe,Ke,qe,Ve){return re(this,void 0,void 0,function*(){qe||(qe=[]),Array.isArray(qe)||(qe=[qe]);let Xe;return Ke?Xe=(0,se.functionCallAccessKey)(Ke,qe,Ve):Xe=(0,se.fullAccessKey)(),this.signAndSendTransaction({receiverId:this.accountId,actions:[(0,se.addKey)(ue.PublicKey.from(Oe),Xe)]})})}deleteKey(Oe){return re(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[(0,se.deleteKey)(ue.PublicKey.from(Oe))]})})}stake(Oe,Ke){return re(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[(0,se.stake)(Ke,ue.PublicKey.from(Oe))]})})}validateArgs(Oe){if(!(Oe.byteLength!==void 0&&Oe.byteLength===Oe.length)&&(Array.isArray(Oe)||typeof Oe!="object"))throw new xe.PositionalArgsError}viewFunction(...Oe){return re(this,void 0,void 0,function*(){if(typeof Oe[0]=="string"){const Ke=Oe[0],qe=Oe[1],Ve=Oe[2],Xe=Oe[3];return yield this.viewFunctionV1(Ke,qe,Ve,Xe)}else return yield this.viewFunctionV2(Oe[0])})}viewFunctionV1(Oe,Ke,qe={},{parse:Ve=Ue,stringify:Xe=Ce,jsContract:rt=!1,blockQuery:mt={finality:"optimistic"}}={}){return re(this,void 0,void 0,function*(){return(0,ne.default)("Account.viewFunction(contractId, methodName, args, options)")("use `Account.viewFunction(ViewFunctionCallOptions)` instead"),this.viewFunctionV2({contractId:Oe,methodName:Ke,args:qe,parse:Ve,stringify:Xe,jsContract:rt,blockQuery:mt})})}viewFunctionV2({contractId:Oe,methodName:Ke,args:qe,parse:Ve=Ue,stringify:Xe=Ce,jsContract:rt=!1,blockQuery:mt={finality:"optimistic"}}){return re(this,void 0,void 0,function*(){let Qe;this.validateArgs(qe),rt?Qe=this.encodeJSContractArgs(Oe,Ke,Object.keys(qe).length>0?JSON.stringify(qe):""):Qe=Xe(qe);const Se=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},mt),{account_id:rt?this.connection.jsvmAccountId:Oe,method_name:rt?"view_js_contract":Ke,args_base64:Qe.toString("base64")}));return Se.logs&&this.printLogs(Oe,Se.logs),Se.result&&Se.result.length>0&&Ve(Buffer.from(Se.result))})}viewState(Oe,Ke={finality:"optimistic"}){return re(this,void 0,void 0,function*(){const{values:qe}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},Ke),{account_id:this.accountId,prefix_base64:Buffer.from(Oe).toString("base64")}));return qe.map(({key:Ve,value:Xe})=>({key:Buffer.from(Ve,"base64"),value:Buffer.from(Xe,"base64")}))})}getAccessKeys(){var Oe;return re(this,void 0,void 0,function*(){const Ke=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(Oe=Ke?.keys)===null||Oe===void 0?void 0:Oe.map(qe=>Object.assign(Object.assign({},qe),{access_key:Object.assign(Object.assign({},qe.access_key),{nonce:new te.default(qe.access_key.nonce)})}))})}getAccountDetails(){return re(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(qe=>qe.access_key.permission!=="FullAccess").map(qe=>{const Ve=qe.access_key.permission;return{contractId:Ve.FunctionCall.receiver_id,amount:Ve.FunctionCall.allowance,publicKey:qe.public_key}})}})}getAccountBalance(){return re(this,void 0,void 0,function*(){const Oe=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),Ke=yield this.state(),qe=new te.default(Oe.runtime_config.storage_amount_per_byte),Ve=new te.default(Ke.storage_usage).mul(qe),Xe=new te.default(Ke.locked),rt=new te.default(Ke.amount).add(Xe),mt=rt.sub(te.default.max(Xe,Ve));return{total:rt.toString(),stateStaked:Ve.toString(),staked:Xe.toString(),available:mt.toString()}})}getActiveDelegatedStakeBalance(){return re(this,void 0,void 0,function*(){const Oe=yield this.connection.provider.block({finality:"final"}),Ke=Oe.header.hash,qe=Oe.header.epoch_id,{current_validators:Ve,next_validators:Xe,current_proposals:rt}=yield this.connection.provider.validators(qe),mt=new Set;[...Ve,...Xe,...rt].forEach(ce=>mt.add(ce.account_id));const Qe=[...mt],Se=Qe.map(ce=>this.viewFunction({contractId:ce,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:Ke}})),$e=yield Promise.allSettled(Se);if($e.some(ce=>ce.status==="rejected"&&ce.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const oe=$e.reduce((ce,le,ge)=>{const ye=Qe[ge];if(le.status==="fulfilled"){const me=new te.default(le.value);if(!me.isZero())return Object.assign(Object.assign({},ce),{stakedValidators:[...ce.stakedValidators,{validatorId:ye,amount:me.toString()}],total:ce.total.add(me)})}return le.status==="rejected"?Object.assign(Object.assign({},ce),{failedValidators:[...ce.failedValidators,{validatorId:ye,error:le.reason}]}):ce},{stakedValidators:[],failedValidators:[],total:new te.default(0)});return Object.assign(Object.assign({},oe),{total:oe.total.toString()})})}}return account.Account=Be,account}var account_multisig={},hasRequiredAccount_multisig;function requireAccount_multisig(){return hasRequiredAccount_multisig||(hasRequiredAccount_multisig=1,function(re){var ee=commonjsGlobal&&commonjsGlobal.__awaiter||function(Oe,Ke,qe,Ve){function Xe(rt){return rt instanceof qe?rt:new qe(function(mt){mt(rt)})}return new(qe||(qe=Promise))(function(rt,mt){function Qe(pe){try{$e(Ve.next(pe))}catch(oe){mt(oe)}}function Se(pe){try{$e(Ve.throw(pe))}catch(oe){mt(oe)}}function $e(pe){pe.done?rt(pe.value):Xe(pe.value).then(Qe,Se)}$e((Ve=Ve.apply(Oe,Ke||[])).next())})},te=commonjsGlobal&&commonjsGlobal.__importDefault||function(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}};Object.defineProperty(re,"__esModule",{value:!0}),re.Account2FA=re.AccountMultisig=re.MultisigStateStatus=re.MultisigDeleteRequestRejectionError=re.MULTISIG_CONFIRM_METHODS=re.MULTISIG_CHANGE_METHODS=re.MULTISIG_DEPOSIT=re.MULTISIG_GAS=re.MULTISIG_ALLOWANCE=re.MULTISIG_STORAGE_KEY=void 0;const ne=te(bn$3.exports),se=requireAccount(),ie=format,fe=key_pair,ue=transaction,xe=requireProviders(),Ee=requireWeb();re.MULTISIG_STORAGE_KEY="__multisigRequest",re.MULTISIG_ALLOWANCE=new ne.default((0,ie.parseNearAmount)("1")),re.MULTISIG_GAS=new ne.default("100000000000000"),re.MULTISIG_DEPOSIT=new ne.default("0"),re.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],re.MULTISIG_CONFIRM_METHODS=["confirm"];var Ae;(function(Oe){Oe.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",Oe.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",Oe.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",Oe.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",Oe.METHOD_NOT_FOUND="Contract method is not found"})(Ae=re.MultisigDeleteRequestRejectionError||(re.MultisigDeleteRequestRejectionError={}));var Me;(function(Oe){Oe[Oe.INVALID_STATE=0]="INVALID_STATE",Oe[Oe.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",Oe[Oe.VALID_STATE=2]="VALID_STATE",Oe[Oe.UNKNOWN_STATE=3]="UNKNOWN_STATE"})(Me=re.MultisigStateStatus||(re.MultisigStateStatus={}));var Pe;(function(Oe){Oe[Oe.INVALID_CODE=0]="INVALID_CODE",Oe[Oe.VALID_CODE=1]="VALID_CODE",Oe[Oe.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(Pe||(Pe={}));const Ne={[re.MULTISIG_STORAGE_KEY]:null};class je extends se.Account{constructor(Ke,qe,Ve){super(Ke,qe),this.storage=Ve.storage,this.onAddRequestResult=Ve.onAddRequestResult}signAndSendTransactionWithAccount(Ke,qe){const Ve=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ee(this,void 0,void 0,function*(){return Ve.signAndSendTransaction.call(this,{receiverId:Ke,actions:qe})})}signAndSendTransaction({receiverId:Ke,actions:qe}){const Ve=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ee(this,void 0,void 0,function*(){const{accountId:Xe}=this,rt=Buffer.from(JSON.stringify({request:{receiver_id:Ke,actions:He(qe,Xe,Ke)}}));let mt;try{mt=yield Ve.signAndSendTransaction.call(this,{receiverId:Xe,actions:[(0,ue.functionCall)("add_request_and_confirm",rt,re.MULTISIG_GAS,re.MULTISIG_DEPOSIT)]})}catch(Se){if(Se.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:Ke,actions:qe});throw Se}if(!mt.status)throw new Error("Request failed");const Qe=Object.assign({},mt.status);if(!Qe.SuccessValue||typeof Qe.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:Xe,actions:qe,requestId:parseInt(Buffer.from(Qe.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(mt)),this.deleteUnconfirmedRequests(),mt})}checkMultisigCodeAndStateStatus(Ke){const qe=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ee(this,void 0,void 0,function*(){const Xe=Ke?Pe.UNKNOWN_CODE:Pe.VALID_CODE;try{return Ke?yield qe.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[(0,ue.deployContract)(Ke),(0,ue.functionCall)("delete_request",{request_id:4294967295},re.MULTISIG_GAS,re.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:Pe.VALID_CODE,stateStatus:Me.VALID_STATE}}catch(rt){if(new RegExp(Ae.CANNOT_DESERIALIZE_STATE).test(rt&&rt.kind&&rt.kind.ExecutionError))return{codeStatus:Xe,stateStatus:Me.INVALID_STATE};if(new RegExp(Ae.MULTISIG_NOT_INITIALIZED).test(rt&&rt.kind&&rt.kind.ExecutionError))return{codeStatus:Xe,stateStatus:Me.STATE_NOT_INITIALIZED};if(new RegExp(Ae.NO_SUCH_REQUEST).test(rt&&rt.kind&&rt.kind.ExecutionError))return{codeStatus:Xe,stateStatus:Me.VALID_STATE};if(new RegExp(Ae.METHOD_NOT_FOUND).test(rt&&rt.message))return{codeStatus:Pe.INVALID_CODE,stateStatus:Me.UNKNOWN_STATE};throw rt}})}deleteRequest(Ke){return super.signAndSendTransaction({receiverId:this.accountId,actions:[(0,ue.functionCall)("delete_request",{request_id:Ke},re.MULTISIG_GAS,re.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return ee(this,void 0,void 0,function*(){const Ke=yield this.getRequestIds();Ke.length&&(yield Promise.all(Ke.map(qe=>this.deleteRequest(qe))))})}deleteUnconfirmedRequests(){const Ke=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ee(this,void 0,void 0,function*(){const qe=yield this.getRequestIds(),{requestId:Ve}=this.getRequest();for(const Xe of qe)if(Xe!=Ve)try{yield Ke.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[(0,ue.functionCall)("delete_request",{request_id:Xe},re.MULTISIG_GAS,re.MULTISIG_DEPOSIT)]})}catch{console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return ee(this,void 0,void 0,function*(){return this.viewFunction(this.accountId,"list_request_ids")})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(re.MULTISIG_STORAGE_KEY)||"{}"):Ne[re.MULTISIG_STORAGE_KEY]}setRequest(Ke){if(this.storage)return this.storage.setItem(re.MULTISIG_STORAGE_KEY,JSON.stringify(Ke));Ne[re.MULTISIG_STORAGE_KEY]=Ke}}re.AccountMultisig=je;class Ue extends je{constructor(Ke,qe,Ve){super(Ke,qe,Ve),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=Ve.helperUrl||this.helperUrl,this.storage=Ve.storage,this.sendCode=Ve.sendCode||this.sendCodeDefault,this.getCode=Ve.getCode||this.getCodeDefault,this.verifyCode=Ve.verifyCode||this.verifyCodeDefault,this.onConfirmResult=Ve.onConfirmResult}signAndSendTransaction({receiverId:Ke,actions:qe}){const Ve=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ee(this,void 0,void 0,function*(){yield Ve.signAndSendTransaction.call(this,{receiverId:Ke,actions:qe}),yield this.sendCode();const Xe=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(Xe)),Xe})}deployMultisig(Ke){const qe=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return ee(this,void 0,void 0,function*(){const{accountId:Ve}=this,Xe=(yield this.getRecoveryMethods()).data.filter(({kind:oe,publicKey:ce})=>(oe==="phrase"||oe==="ledger")&&ce!==null).map(oe=>oe.publicKey),rt=(yield this.getAccessKeys()).filter(({public_key:oe,access_key:{permission:ce}})=>ce==="FullAccess"&&!Xe.includes(oe)).map(oe=>oe.public_key).map(Ce),mt=Ce((yield this.postSignedJson("/2fa/getAccessKey",{accountId:Ve})).publicKey),Qe=Buffer.from(JSON.stringify({num_confirmations:2})),Se=[...rt.map(oe=>(0,ue.deleteKey)(oe)),...rt.map(oe=>(0,ue.addKey)(oe,(0,ue.functionCallAccessKey)(Ve,re.MULTISIG_CHANGE_METHODS,null))),(0,ue.addKey)(mt,(0,ue.functionCallAccessKey)(Ve,re.MULTISIG_CONFIRM_METHODS,null)),(0,ue.deployContract)(Ke)],$e=Se.concat((0,ue.functionCall)("new",Qe,re.MULTISIG_GAS,re.MULTISIG_DEPOSIT));console.log("deploying multisig contract for",Ve);const{stateStatus:pe}=yield this.checkMultisigCodeAndStateStatus(Ke);switch(pe){case Me.STATE_NOT_INITIALIZED:return yield qe.signAndSendTransactionWithAccount.call(this,Ve,$e);case Me.VALID_STATE:return yield qe.signAndSendTransactionWithAccount.call(this,Ve,Se);case Me.INVALID_STATE:throw new xe.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new xe.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:Ke,cleanupContractBytes:qe}){return ee(this,void 0,void 0,function*(){let Ve=[];qe&&(yield this.deleteAllRequests().catch(Qe=>Qe),Ve=yield this.get2faDisableCleanupActions(qe));const Xe=yield this.get2faDisableKeyConversionActions(),rt=[...Ve,...Xe,(0,ue.deployContract)(Ke)],mt=yield this.findAccessKey(this.accountId,rt);if(mt&&mt.accessKey&&mt.accessKey.permission!=="FullAccess")throw new xe.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,rt)})}get2faDisableCleanupActions(Ke){return ee(this,void 0,void 0,function*(){const qe=yield this.viewState("").catch(Xe=>{const rt=Xe.cause&&Xe.cause.name;if(rt=="NO_CONTRACT_CODE")return[];throw rt=="TOO_LARGE_CONTRACT_STATE"?new xe.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):Xe}),Ve=qe.map(({key:Xe})=>Xe.toString("base64"));return qe.length?[(0,ue.deployContract)(Ke),(0,ue.functionCall)("clean",{keys:Ve},re.MULTISIG_GAS,new ne.default("0"))]:[]})}get2faDisableKeyConversionActions(){return ee(this,void 0,void 0,function*(){const{accountId:Ke}=this,Ve=(yield this.getAccessKeys()).filter(({access_key:rt})=>rt.permission!=="FullAccess").filter(({access_key:rt})=>{const mt=rt.permission.FunctionCall;return mt.receiver_id===Ke&&mt.method_names.length===4&&mt.method_names.includes("add_request_and_confirm")}),Xe=fe.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:Ke})).publicKey);return[(0,ue.deleteKey)(Xe),...Ve.map(({public_key:rt})=>(0,ue.deleteKey)(fe.PublicKey.from(rt))),...Ve.map(({public_key:rt})=>(0,ue.addKey)(fe.PublicKey.from(rt),(0,ue.fullAccessKey)()))]})}disable(Ke,qe){return ee(this,void 0,void 0,function*(){const{stateStatus:Ve}=yield this.checkMultisigCodeAndStateStatus();if(Ve!==Me.VALID_STATE&&Ve!==Me.STATE_NOT_INITIALIZED)throw new xe.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let Xe;yield this.deleteAllRequests().catch(Qe=>Xe=Qe);const mt=[...yield this.get2faDisableCleanupActions(qe).catch(Qe=>{throw Qe.type==="ContractHasExistingState"&&Xe||Qe}),...yield this.get2faDisableKeyConversionActions(),(0,ue.deployContract)(Ke)];return console.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:mt})})}sendCodeDefault(){return ee(this,void 0,void 0,function*(){const{accountId:Ke}=this,{requestId:qe}=this.getRequest(),Ve=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:Ke,method:Ve,requestId:qe}),qe})}getCodeDefault(){return ee(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return ee(this,void 0,void 0,function*(){const Ke=yield this.get2faMethod(),qe=yield this.getCode(Ke);try{return yield this.verifyCode(qe)}catch(Ve){if(console.warn("Error validating security code:",Ve),Ve.toString().includes("invalid 2fa code provided")||Ve.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw Ve}})}verifyCodeDefault(Ke){return ee(this,void 0,void 0,function*(){const{accountId:qe}=this,Ve=this.getRequest();if(!Ve)throw new Error("no request pending");const{requestId:Xe}=Ve;return yield this.postSignedJson("/2fa/verify",{accountId:qe,securityCode:Ke,requestId:Xe})})}getRecoveryMethods(){return ee(this,void 0,void 0,function*(){const{accountId:Ke}=this;return{accountId:Ke,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:Ke})}})}get2faMethod(){return ee(this,void 0,void 0,function*(){let{data:Ke}=yield this.getRecoveryMethods();if(Ke&&Ke.length&&(Ke=Ke.find(Xe=>Xe.kind.indexOf("2fa-")===0)),!Ke)return null;const{kind:qe,detail:Ve}=Ke;return{kind:qe,detail:Ve}})}signatureFor(){return ee(this,void 0,void 0,function*(){const{accountId:Ke}=this,Ve=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),Xe=yield this.connection.signer.signMessage(Buffer.from(Ve),Ke,this.connection.networkId),rt=Buffer.from(Xe.signature).toString("base64");return{blockNumber:Ve,blockNumberSignature:rt}})}postSignedJson(Ke,qe){return ee(this,void 0,void 0,function*(){return yield(0,Ee.fetchJson)(this.helperUrl+Ke,JSON.stringify(Object.assign(Object.assign({},qe),yield this.signatureFor())))})}}re.Account2FA=Ue;const Ce=Oe=>fe.PublicKey.from(Oe),Be=Oe=>Oe.toString().replace("ed25519:",""),He=(Oe,Ke,qe)=>Oe.map(Ve=>{const Xe=Ve.enum,{gas:rt,publicKey:mt,methodName:Qe,args:Se,deposit:$e,accessKey:pe,code:oe}=Ve[Xe],ce={type:Xe[0].toUpperCase()+Xe.substr(1),gas:rt&&rt.toString()||void 0,public_key:mt&&Be(mt)||void 0,method_name:Qe,args:Se&&Buffer.from(Se).toString("base64")||void 0,code:oe&&Buffer.from(oe).toString("base64")||void 0,amount:$e&&$e.toString()||void 0,deposit:$e&&$e.toString()||"0",permission:void 0};if(pe&&(qe===Ke&&pe.permission.enum!=="fullAccess"&&(ce.permission={receiver_id:Ke,allowance:re.MULTISIG_ALLOWANCE.toString(),method_names:re.MULTISIG_CHANGE_METHODS}),pe.permission.enum==="functionCall")){const{receiverId:le,methodNames:ge,allowance:ye}=pe.permission.functionCall;ce.permission={receiver_id:le,allowance:ye&&ye.toString()||void 0,method_names:ge}}return ce})}(account_multisig)),account_multisig}var account_creator={},hasRequiredAccount_creator;function requireAccount_creator(){if(hasRequiredAccount_creator)return account_creator;hasRequiredAccount_creator=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(ie,fe,ue,xe){function Ee(Ae){return Ae instanceof ue?Ae:new ue(function(Me){Me(Ae)})}return new(ue||(ue=Promise))(function(Ae,Me){function Pe(Ue){try{je(xe.next(Ue))}catch(Ce){Me(Ce)}}function Ne(Ue){try{je(xe.throw(Ue))}catch(Ce){Me(Ce)}}function je(Ue){Ue.done?Ae(Ue.value):Ee(Ue.value).then(Pe,Ne)}je((xe=xe.apply(ie,fe||[])).next())})};Object.defineProperty(account_creator,"__esModule",{value:!0}),account_creator.UrlAccountCreator=account_creator.LocalAccountCreator=account_creator.AccountCreator=void 0;const ee=requireWeb();class te{}account_creator.AccountCreator=te;class ne extends te{constructor(fe,ue){super(),this.masterAccount=fe,this.initialBalance=ue}createAccount(fe,ue){return re(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(fe,ue,this.initialBalance)})}}account_creator.LocalAccountCreator=ne;class se extends te{constructor(fe,ue){super(),this.connection=fe,this.helperUrl=ue}createAccount(fe,ue){return re(this,void 0,void 0,function*(){yield(0,ee.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:fe,newAccountPublicKey:ue.toString()}))})}}return account_creator.UrlAccountCreator=se,account_creator}var connection={},signer={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(signer,"__esModule",{value:!0}),signer.InMemorySigner=signer.Signer=void 0;const js_sha256_1=__importDefault(sha256$3.exports),key_pair_1=key_pair,in_memory_key_store_1=in_memory_key_store;class Signer$1{}signer.Signer=Signer$1;class InMemorySigner extends Signer$1{constructor(ee){super(),this.keyStore=ee}static fromKeyPair(ee,te,ne){return __awaiter$9(this,void 0,void 0,function*(){const se=new in_memory_key_store_1.InMemoryKeyStore;return yield se.setKey(ee,te,ne),new InMemorySigner(se)})}createKey(ee,te){return __awaiter$9(this,void 0,void 0,function*(){const ne=key_pair_1.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(te,ee,ne),ne.getPublicKey()})}getPublicKey(ee,te){return __awaiter$9(this,void 0,void 0,function*(){const ne=yield this.keyStore.getKey(te,ee);return ne===null?null:ne.getPublicKey()})}signMessage(ee,te,ne){return __awaiter$9(this,void 0,void 0,function*(){const se=new Uint8Array(js_sha256_1.default.sha256.array(ee));if(!te)throw new Error("InMemorySigner requires provided account id");const ie=yield this.keyStore.getKey(ne,te);if(ie===null)throw new Error(`Key for ${te} not found in ${ne}`);return ie.sign(se)})}toString(){return`InMemorySigner(${this.keyStore})`}}signer.InMemorySigner=InMemorySigner;var hasRequiredConnection;function requireConnection(){if(hasRequiredConnection)return connection;hasRequiredConnection=1,Object.defineProperty(connection,"__esModule",{value:!0}),connection.Connection=void 0;const re=requireProviders(),ee=signer;function te(ie){switch(ie.type){case void 0:return ie;case"JsonRpcProvider":return new re.JsonRpcProvider(Object.assign({},ie.args));default:throw new Error(`Unknown provider type ${ie.type}`)}}function ne(ie){switch(ie.type){case void 0:return ie;case"InMemorySigner":return new ee.InMemorySigner(ie.keyStore);default:throw new Error(`Unknown signer type ${ie.type}`)}}class se{constructor(fe,ue,xe,Ee){this.networkId=fe,this.provider=ue,this.signer=xe,this.jsvmAccountId=Ee}static fromConfig(fe){const ue=te(fe.provider),xe=ne(fe.signer);return new se(fe.networkId,ue,xe,fe.jsvmAccountId)}}return connection.Connection=se,connection}var contract={},hasRequiredContract;function requireContract(){if(hasRequiredContract)return contract;hasRequiredContract=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(Me,Pe,Ne,je){function Ue(Ce){return Ce instanceof Ne?Ce:new Ne(function(Be){Be(Ce)})}return new(Ne||(Ne=Promise))(function(Ce,Be){function He(qe){try{Ke(je.next(qe))}catch(Ve){Be(Ve)}}function Oe(qe){try{Ke(je.throw(qe))}catch(Ve){Be(Ve)}}function Ke(qe){qe.done?Ce(qe.value):Ue(qe.value).then(He,Oe)}Ke((je=je.apply(Me,Pe||[])).next())})},ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(Me){return Me&&Me.__esModule?Me:{default:Me}};Object.defineProperty(contract,"__esModule",{value:!0}),contract.Contract=void 0;const te=ee(bn$3.exports),ne=ee(browser$2),se=requireProviders(),ie=errors;function fe(Me,Pe){return{[Me](...Ne){return Pe(...Ne)}}[Me]}const ue=Me=>Me&&Me.byteLength!==void 0&&Me.byteLength===Me.length,xe=Me=>Object.prototype.toString.call(Me)==="[object Object]";class Ee{constructor(Pe,Ne,je){this.account=Pe,this.contractId=Ne;const{viewMethods:Ue=[],changeMethods:Ce=[]}=je;Ue.forEach(Be=>{Object.defineProperty(this,Be,{writable:!1,enumerable:!0,value:fe(Be,(He={},Oe={},...Ke)=>re(this,void 0,void 0,function*(){if(Ke.length||!(xe(He)||ue(He))||!xe(Oe))throw new ie.PositionalArgsError;return this.account.viewFunction(this.contractId,Be,He,Oe)}))})}),Ce.forEach(Be=>{Object.defineProperty(this,Be,{writable:!1,enumerable:!0,value:fe(Be,(...He)=>re(this,void 0,void 0,function*(){if(He.length&&(He.length>3||!(xe(He[0])||ue(He[0]))))throw new ie.PositionalArgsError;return He.length>1||!(He[0]&&He[0].args)?((0,ne.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),this._changeMethod({methodName:Be,args:He[0],gas:He[1],amount:He[2]})):this._changeMethod(Object.assign({methodName:Be},He[0]))}))})})}_changeMethod({args:Pe,methodName:Ne,gas:je,amount:Ue,meta:Ce,callbackUrl:Be}){return re(this,void 0,void 0,function*(){Ae({gas:je,amount:Ue});const He=yield this.account.functionCall({contractId:this.contractId,methodName:Ne,args:Pe,gas:je,attachedDeposit:Ue,walletMeta:Ce,walletCallbackUrl:Be});return(0,se.getTransactionLastResult)(He)})}}contract.Contract=Ee;function Ae(Me){const Pe="number, decimal string or BN";for(const Ne of Object.keys(Me)){const je=Me[Ne];if(je&&!te.default.isBN(je)&&isNaN(je))throw new ie.ArgumentTypeError(Ne,Pe,je)}}return contract}var near={},hasRequiredNear;function requireNear(){if(hasRequiredNear)return near;hasRequiredNear=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(ue,xe,Ee,Ae){function Me(Pe){return Pe instanceof Ee?Pe:new Ee(function(Ne){Ne(Pe)})}return new(Ee||(Ee=Promise))(function(Pe,Ne){function je(Be){try{Ce(Ae.next(Be))}catch(He){Ne(He)}}function Ue(Be){try{Ce(Ae.throw(Be))}catch(He){Ne(He)}}function Ce(Be){Be.done?Pe(Be.value):Me(Be.value).then(je,Ue)}Ce((Ae=Ae.apply(ue,xe||[])).next())})},ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(ue){return ue&&ue.__esModule?ue:{default:ue}};Object.defineProperty(near,"__esModule",{value:!0}),near.Near=void 0;const te=ee(bn$3.exports),ne=requireAccount(),se=requireConnection(),ie=requireAccount_creator();class fe{constructor(xe){if(this.config=xe,this.connection=se.Connection.fromConfig({networkId:xe.networkId,provider:{type:"JsonRpcProvider",args:{url:xe.nodeUrl,headers:xe.headers}},signer:xe.signer||{type:"InMemorySigner",keyStore:xe.keyStore},jsvmAccountId:xe.jsvmAccountId||`jsvm.${xe.networkId}`}),xe.masterAccount){const Ee=xe.initialBalance?new te.default(xe.initialBalance):new te.default("500000000000000000000000000");this.accountCreator=new ie.LocalAccountCreator(new ne.Account(this.connection,xe.masterAccount),Ee)}else xe.helperUrl?this.accountCreator=new ie.UrlAccountCreator(this.connection,xe.helperUrl):this.accountCreator=null}account(xe){return re(this,void 0,void 0,function*(){return new ne.Account(this.connection,xe)})}createAccount(xe,Ee){return re(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(xe,Ee),new ne.Account(this.connection,xe)})}}return near.Near=fe,near}var walletAccount={},hasRequiredWalletAccount;function requireWalletAccount(){if(hasRequiredWalletAccount)return walletAccount;hasRequiredWalletAccount=1;var re=commonjsGlobal&&commonjsGlobal.__awaiter||function(je,Ue,Ce,Be){function He(Oe){return Oe instanceof Ce?Oe:new Ce(function(Ke){Ke(Oe)})}return new(Ce||(Ce=Promise))(function(Oe,Ke){function qe(rt){try{Xe(Be.next(rt))}catch(mt){Ke(mt)}}function Ve(rt){try{Xe(Be.throw(rt))}catch(mt){Ke(mt)}}function Xe(rt){rt.done?Oe(rt.value):He(rt.value).then(qe,Ve)}Xe((Be=Be.apply(je,Ue||[])).next())})},ee=commonjsGlobal&&commonjsGlobal.__importDefault||function(je){return je&&je.__esModule?je:{default:je}};Object.defineProperty(walletAccount,"__esModule",{value:!0}),walletAccount.ConnectedWalletAccount=walletAccount.WalletConnection=void 0;const te=requireAccount(),ne=transaction,se=requireUtils(),ie=lib$4,fe=lib$4,ue=ee(bn$3.exports),xe="/login/",Ee="add_request_and_confirm",Ae="_wallet_auth_key",Me="pending_key";class Pe{constructor(Ue,Ce){if(typeof window>"u")return new Proxy(this,{get(Oe,Ke){return Ke==="isSignedIn"?()=>!1:Ke==="getAccountId"?()=>"":Oe[Ke]&&typeof Oe[Ke]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:Oe[Ke]}});this._near=Ue;const Be=Ce+Ae,He=JSON.parse(window.localStorage.getItem(Be));this._networkId=Ue.config.networkId,this._walletBaseUrl=Ue.config.walletUrl,Ce=Ce||Ue.config.contractName||"default",this._keyStore=Ue.connection.signer.keyStore,this._authData=He||{allKeys:[]},this._authDataKey=Be,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return re(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignIn({contractId:Ue,methodNames:Ce,successUrl:Be,failureUrl:He}){return re(this,void 0,void 0,function*(){const Oe=new URL(window.location.href),Ke=new URL(this._walletBaseUrl+xe);if(Ke.searchParams.set("success_url",Be||Oe.href),Ke.searchParams.set("failure_url",He||Oe.href),Ue){yield(yield this._near.account(Ue)).state(),Ke.searchParams.set("contract_id",Ue);const Ve=se.KeyPair.fromRandom("ed25519");Ke.searchParams.set("public_key",Ve.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,Me+Ve.getPublicKey(),Ve)}Ce&&Ce.forEach(qe=>{Ke.searchParams.append("methodNames",qe)}),window.location.assign(Ke.toString())})}requestSignTransactions({transactions:Ue,meta:Ce,callbackUrl:Be}){return re(this,void 0,void 0,function*(){const He=new URL(window.location.href),Oe=new URL("sign",this._walletBaseUrl);Oe.searchParams.set("transactions",Ue.map(Ke=>(0,fe.serialize)(ne.SCHEMA,Ke)).map(Ke=>Buffer.from(Ke).toString("base64")).join(",")),Oe.searchParams.set("callbackUrl",Be||He.href),Ce&&Oe.searchParams.set("meta",Ce),window.location.assign(Oe.toString())})}_completeSignInWithAccessKey(){return re(this,void 0,void 0,function*(){const Ue=new URL(window.location.href),Ce=Ue.searchParams.get("public_key")||"",Be=(Ue.searchParams.get("all_keys")||"").split(","),He=Ue.searchParams.get("account_id")||"";if(He){const Oe={accountId:He,allKeys:Be};window.localStorage.setItem(this._authDataKey,JSON.stringify(Oe)),Ce&&(yield this._moveKeyFromTempToPermanent(He,Ce)),this._authData=Oe}Ue.searchParams.delete("public_key"),Ue.searchParams.delete("all_keys"),Ue.searchParams.delete("account_id"),Ue.searchParams.delete("meta"),Ue.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,Ue.toString())})}_moveKeyFromTempToPermanent(Ue,Ce){return re(this,void 0,void 0,function*(){const Be=yield this._keyStore.getKey(this._networkId,Me+Ce);yield this._keyStore.setKey(this._networkId,Ue,Be),yield this._keyStore.removeKey(this._networkId,Me+Ce)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new Ne(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}walletAccount.WalletConnection=Pe;class Ne extends te.Account{constructor(Ue,Ce,Be){super(Ce,Be),this.walletConnection=Ue}signAndSendTransaction({receiverId:Ue,actions:Ce,walletMeta:Be,walletCallbackUrl:He=window.location.href}){const Oe=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return re(this,void 0,void 0,function*(){const Ke=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let qe=yield this.accessKeyForTransaction(Ue,Ce,Ke);if(!qe)throw new Error(`Cannot find matching key for transaction sent to ${Ue}`);if(Ke&&Ke.toString()===qe.public_key)try{return yield Oe.signAndSendTransaction.call(this,{receiverId:Ue,actions:Ce})}catch(Se){if(Se.type==="NotEnoughAllowance")qe=yield this.accessKeyForTransaction(Ue,Ce);else throw Se}const Ve=yield this.connection.provider.block({finality:"final"}),Xe=(0,ie.baseDecode)(Ve.header.hash),rt=se.PublicKey.from(qe.public_key),mt=qe.access_key.nonce.add(new ue.default(1)),Qe=(0,ne.createTransaction)(this.accountId,rt,Ue,mt,Ce,Xe);return yield this.walletConnection.requestSignTransactions({transactions:[Qe],meta:Be,callbackUrl:He}),new Promise((Se,$e)=>{setTimeout(()=>{$e(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(Ue,Ce,Be){return re(this,void 0,void 0,function*(){const{access_key:{permission:He}}=Ue;if(He==="FullAccess")return!0;if(He.FunctionCall){const{receiver_id:Oe,method_names:Ke}=He.FunctionCall;if(Oe===this.accountId&&Ke.includes(Ee))return!0;if(Oe===Ce){if(Be.length!==1)return!1;const[{functionCall:qe}]=Be;return qe&&(!qe.deposit||qe.deposit.toString()==="0")&&(Ke.length===0||Ke.includes(qe.methodName))}}return!1})}accessKeyForTransaction(Ue,Ce,Be){return re(this,void 0,void 0,function*(){const He=yield this.getAccessKeys();if(Be){const Ke=He.find(qe=>qe.public_key.toString()===Be.toString());if(Ke&&(yield this.accessKeyMatchesTransaction(Ke,Ue,Ce)))return Ke}const Oe=this.walletConnection._authData.allKeys;for(const Ke of He)if(Oe.indexOf(Ke.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(Ke,Ue,Ce)))return Ke;return null})}}return walletAccount.ConnectedWalletAccount=Ne,walletAccount}var hasRequiredCommonIndex;function requireCommonIndex(){return hasRequiredCommonIndex||(hasRequiredCommonIndex=1,function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Be,He,Oe,Ke){Ke===void 0&&(Ke=Oe);var qe=Object.getOwnPropertyDescriptor(He,Oe);(!qe||("get"in qe?!He.__esModule:qe.writable||qe.configurable))&&(qe={enumerable:!0,get:function(){return He[Oe]}}),Object.defineProperty(Be,Ke,qe)}:function(Be,He,Oe,Ke){Ke===void 0&&(Ke=Oe),Be[Ke]=He[Oe]}),te=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Be,He){Object.defineProperty(Be,"default",{enumerable:!0,value:He})}:function(Be,He){Be.default=He}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(Be){if(Be&&Be.__esModule)return Be;var He={};if(Be!=null)for(var Oe in Be)Oe!=="default"&&Object.prototype.hasOwnProperty.call(Be,Oe)&&ee(He,Be,Oe);return te(He,Be),He};Object.defineProperty(re,"__esModule",{value:!0}),re.WalletConnection=re.ConnectedWalletAccount=re.Near=re.KeyPair=re.Signer=re.InMemorySigner=re.Contract=re.Connection=re.Account=re.multisig=re.validators=re.transactions=re.utils=re.providers=re.accountCreator=void 0;const se=ne(requireProviders());re.providers=se;const ie=ne(requireUtils());re.utils=ie;const fe=ne(transaction);re.transactions=fe;const ue=ne(validators);re.validators=ue;const xe=requireAccount();Object.defineProperty(re,"Account",{enumerable:!0,get:function(){return xe.Account}});const Ee=ne(requireAccount_multisig());re.multisig=Ee;const Ae=ne(requireAccount_creator());re.accountCreator=Ae;const Me=requireConnection();Object.defineProperty(re,"Connection",{enumerable:!0,get:function(){return Me.Connection}});const Pe=signer;Object.defineProperty(re,"Signer",{enumerable:!0,get:function(){return Pe.Signer}}),Object.defineProperty(re,"InMemorySigner",{enumerable:!0,get:function(){return Pe.InMemorySigner}});const Ne=requireContract();Object.defineProperty(re,"Contract",{enumerable:!0,get:function(){return Ne.Contract}});const je=key_pair;Object.defineProperty(re,"KeyPair",{enumerable:!0,get:function(){return je.KeyPair}});const Ue=requireNear();Object.defineProperty(re,"Near",{enumerable:!0,get:function(){return Ue.Near}});const Ce=requireWalletAccount();Object.defineProperty(re,"ConnectedWalletAccount",{enumerable:!0,get:function(){return Ce.ConnectedWalletAccount}}),Object.defineProperty(re,"WalletConnection",{enumerable:!0,get:function(){return Ce.WalletConnection}})}(commonIndex)),commonIndex}var browserConnect={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};Object.defineProperty(browserConnect,"__esModule",{value:!0}),browserConnect.connect=void 0;const near_1=requireNear();function connect(re){return __awaiter$8(this,void 0,void 0,function*(){return new near_1.Near(re)})}browserConnect.connect=connect;var errorPolyfill={exports:{}},capability$3={exports:{}},CapabilityDetector$1=function(){this.tests={},this.cache={}};CapabilityDetector$1.prototype={constructor:CapabilityDetector$1,define:function(re,ee){if(typeof re!="string"||!(ee instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[re])throw new Error('Duplicated capability definition by "'+re+'".');this.tests[re]=ee},check:function(re){if(!this.test(re))throw new Error('The current environment does not support "'+re+'", therefore we cannot continue.')},test:function(re){if(this.cache[re]!==void 0)return this.cache[re];if(!this.tests[re])throw new Error('Unknown capability with name "'+re+'".');var ee=this.tests[re];return this.cache[re]=!!ee(),this.cache[re]}};var CapabilityDetector_1=CapabilityDetector$1,CapabilityDetector=CapabilityDetector_1,detector=new CapabilityDetector,capability$2=function(re){return detector.test(re)};capability$2.define=function(re,ee){detector.define(re,ee)},capability$2.check=function(re){detector.check(re)},capability$2.test=capability$2;var lib$3=capability$2,capability$1=lib$3,define$1=capability$1.define,test=capability$1.test;define$1("strict mode",function(){return this===void 0}),define$1("arguments.callee.caller",function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch{return!1}}),define$1("es5",function(){return test("Array.prototype.forEach")&&test("Array.prototype.map")&&test("Function.prototype.bind")&&test("Object.create")&&test("Object.defineProperties")&&test("Object.defineProperty")&&test("Object.prototype.hasOwnProperty")}),define$1("Array.prototype.forEach",function(){return Array.prototype.forEach}),define$1("Array.prototype.map",function(){return Array.prototype.map}),define$1("Function.prototype.bind",function(){return Function.prototype.bind}),define$1("Object.create",function(){return Object.create}),define$1("Object.defineProperties",function(){return Object.defineProperties}),define$1("Object.defineProperty",function(){return Object.defineProperty}),define$1("Object.prototype.hasOwnProperty",function(){return Object.prototype.hasOwnProperty}),define$1("Error.captureStackTrace",function(){return Error.captureStackTrace}),define$1("Error.prototype.stack",function(){try{throw new Error}catch(re){return re.stack||re.stacktrace}}),function(re){re.exports=lib$3}(capability$3),capability$3.exports.check("es5");var prepareStackTrace_1,hasRequiredPrepareStackTrace;function requirePrepareStackTrace(){if(hasRequiredPrepareStackTrace)return prepareStackTrace_1;hasRequiredPrepareStackTrace=1;var re=function(ee,te,ne){var se="";if(se+=ee.name||"Error",se+=": "+(ee.message||""),ne instanceof Array)for(var ie in ne){var fe=ne[ie];se+=`
   # `+fe}for(var ue in te){var xe=te[ue];se+=`
   at `+xe.toString()}return se};return prepareStackTrace_1=re,prepareStackTrace_1}var v8,hasRequiredV8;function requireV8(){if(hasRequiredV8)return v8;hasRequiredV8=1;var re=requirePrepareStackTrace();return v8=function(){return Error.getStackTrace=function(ee){return ee.stack},{prepareStackTrace:re}},v8}var o3={exports:{}},Class_1,hasRequiredClass;function requireClass(){if(hasRequiredClass)return Class_1;hasRequiredClass=1;var re=function(){var ee=Object.create({Source:Object,config:{},buildArgs:[]});function te(xe){var Ee="config";if(xe instanceof Function)Ee="Source";else if(xe instanceof Array)Ee="buildArgs";else if(xe instanceof Object)Ee="config";else throw new Error("Invalid configuration option.");if(ee.hasOwnProperty(Ee))throw new Error("Duplicated configuration option: "+Ee+".");ee[Ee]=xe}for(var ne=0,se=arguments.length;ne<se;++ne)te(arguments[ne]);var ie=ee.Source,fe=ee.config,ue=ee.buildArgs;return(ie.extend||re.extend).call(ie,fe,ue)};return re.factory=function(){return function(){var ee=this;ee.build instanceof Function&&ee.build.apply(ee,arguments),ee.init instanceof Function&&ee.init.apply(ee,arguments)}},re.extend=function(ee,te){var ne=this;ee||(ee={});var se;return ee.prototype instanceof Object&&ee.prototype.constructor!==Object?se=ee.prototype.constructor:ee.factory instanceof Function&&(se=ee.factory.call(ne)),se=(ne.clone||re.clone).call(ne,se,te),(se.merge||re.merge).call(se,ee),se},re.prototype.extend=function(ee,te){var ne=this,se=(ne.clone||re.prototype.clone).apply(ne,te);return(se.merge||re.prototype.merge).call(se,ee),se},re.clone=function(ee,te){var ne=this;ee instanceof Function||(ee=(ne.factory||re.factory).call(ne)),ee.prototype=(ne.prototype.clone||re.prototype.clone).apply(ne.prototype,te||[]),ee.prototype.constructor=ee;for(var se in ne)se!=="prototype"&&(ee[se]=ne[se]);return ee},re.prototype.clone=function(){var ee=this,te=Object.create(ee);return te.build instanceof Function&&te.build.apply(te,arguments),te},re.merge=function(ee){var te=this;for(var ne in ee)ne!=="prototype"&&(te[ne]=ee[ne]);return ee.prototype instanceof Object&&(te.prototype.merge||re.prototype.merge).call(te.prototype,ee.prototype),te},re.prototype.merge=function(ee){var te=this;for(var ne in ee)ne!=="constructor"&&(te[ne]=ee[ne]);return te},re.absorb=function(ee){var te=this;for(var ne in ee)ne!=="prototype"&&(te[ne]===void 0||te[ne]===Function.prototype[ne])&&(te[ne]=ee[ne]);return ee.prototype instanceof Object&&(te.prototype.absorb||re.prototype.absorb).call(te.prototype,ee.prototype),te},re.prototype.absorb=function(ee){var te=this;for(var ne in ee)ne!=="constructor"&&(te[ne]===void 0||te[ne]===Object.prototype[ne])&&(te[ne]=ee[ne]);return te},re.getAncestor=function(){var ee=this;if(ee!==ee.prototype.constructor)return ee.prototype.constructor},re.newInstance=function(){var ee=this,te=Object.create(this.prototype);return ee.apply(te,arguments),te},Class_1=re,Class_1}var abstractMethod,hasRequiredAbstractMethod;function requireAbstractMethod(){return hasRequiredAbstractMethod||(hasRequiredAbstractMethod=1,abstractMethod=function(){throw new Error("Not implemented.")}),abstractMethod}var lib$2,hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,lib$2={Class:requireClass(),abstractMethod:requireAbstractMethod()}),lib$2}var hasRequiredO3;function requireO3(){return hasRequiredO3||(hasRequiredO3=1,function(re){re.exports=requireLib$1()}(o3)),o3.exports}var u3={exports:{}},cache_1,hasRequiredCache;function requireCache(){if(hasRequiredCache)return cache_1;hasRequiredCache=1;var re=function(ee){var te=!1,ne;return ee instanceof Function||(te=!0,ne=ee,ee=null),function(){return te||(te=!0,ne=ee.apply(this,arguments),ee=null),ne}};return cache_1=re,cache_1}var eachCombination,hasRequiredEachCombination;function requireEachCombination(){return hasRequiredEachCombination||(hasRequiredEachCombination=1,eachCombination=function re(ee,te,ne){if(ne||(ne=[]),ne.length<ee.length){var se=ee[ne.length];for(var ie in se)ne[ne.length]=se[ie],re(ee,te,ne),--ne.length}else te.apply(null,ne)}),eachCombination}var lib$1,hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,lib$1={cache:requireCache(),eachCombination:requireEachCombination()}),lib$1}var hasRequiredU3;function requireU3(){return hasRequiredU3||(hasRequiredU3=1,function(re){re.exports=requireLib()}(u3)),u3.exports}var FrameStringSource,hasRequiredFrameStringSource;function requireFrameStringSource(){if(hasRequiredFrameStringSource)return FrameStringSource;hasRequiredFrameStringSource=1;var re=requireO3().Class,ee=requireO3().abstractMethod,te=requireU3().eachCombination,ne=requireU3().cache,se=capability$3.exports,ie=re(Object,{prototype:{captureFrameStrings:function(ue){var xe=this.createError();ue.unshift(this.captureFrameStrings),ue.unshift(this.createError);var Ee=this.getFrameStrings(xe),Ae=Ee.slice(ue.length),Me=[];if(se("arguments.callee.caller")){var Pe=[this.createError,this.captureFrameStrings];try{for(var Ne=arguments.callee;Ne=Ne.caller;)Pe.push(Ne)}catch{}Me=Pe.slice(ue.length)}return{frameStrings:Ae,functionValues:Me}},getFrameStrings:function(ue){var xe=ue.message||"",Ee=ue.name||"",Ae=this.getStackString(ue);if(Ae!==void 0){var Me=Ae.split(`
`),Pe=0,Ne=Me.length;return this.hasHeader&&(Pe+=Ee.split(`
`).length+xe.split(`
`).length-1),this.hasFooter&&(Ne-=1),Me.slice(Pe,Ne)}},createError:ee,getStackString:ee,hasHeader:void 0,hasFooter:void 0}}),fe=re(Object,{prototype:{calibrateClass:function(ue){return this.calibrateMethods(ue)&&this.calibrateEnvelope(ue)},calibrateMethods:function(ue){try{te([[function(xe){return new Error(xe)},function(xe){try{throw new Error(xe)}catch(Ee){return Ee}}],[function(xe){return xe.stack},function(xe){return xe.stacktrace}]],function(xe,Ee){if(Ee(xe()))throw{getStackString:Ee,createError:xe}})}catch(xe){return re.merge.call(ue,{prototype:xe}),!0}return!1},calibrateEnvelope:function(ue){var xe=ue.prototype.getStackString,Ee=ue.prototype.createError,Ae=xe(Ee("marker")),Me=Ae.split(`
`);return re.merge.call(ue,{prototype:{hasHeader:/marker/.test(Me[0]),hasFooter:Me[Me.length-1]===""}}),!0}}});return FrameStringSource={getClass:ne(function(){var ue;if(ue)return ue;ue=re(ie,{});var xe=new fe;if(!xe.calibrateClass(ue))throw new Error("Cannot read Error.prototype.stack in this environment.");return ue}),getInstance:ne(function(){var ue=this.getClass(),xe=new ue;return xe})},FrameStringSource}var Frame_1,hasRequiredFrame;function requireFrame(){if(hasRequiredFrame)return Frame_1;hasRequiredFrame=1;var re=requireO3().Class,ee=requireO3().abstractMethod,te=re(Object,{prototype:{init:re.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:ee,getTypeName:ee,getFunction:function(){return this.functionValue},getFunctionName:ee,getMethodName:ee,getFileName:ee,getLineNumber:ee,getColumnNumber:ee,getEvalOrigin:ee,isTopLevel:ee,isEval:ee,isNative:ee,isConstructor:ee}});return Frame_1=te,Frame_1}var FrameStringParser_1,hasRequiredFrameStringParser;function requireFrameStringParser(){if(hasRequiredFrameStringParser)return FrameStringParser_1;hasRequiredFrameStringParser=1;var re=requireO3().Class,ee=requireFrame(),te=requireU3().cache,ne=re(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(se){re.prototype.merge.call(this,se)},getFrames:function(se,ie){for(var fe=[],ue=0,xe=se.length;ue<xe;++ue)fe[ue]=this.getFrame(se[ue],ie[ue]);return fe},getFrame:function(se,ie){var fe={frameString:se,functionValue:ie};return new ee(fe)}}});return FrameStringParser_1={getClass:te(function(){return ne}),getInstance:te(function(){var se=this.getClass(),ie=new se;return ie})},FrameStringParser_1}var nonV8,hasRequiredNonV8;function requireNonV8(){if(hasRequiredNonV8)return nonV8;hasRequiredNonV8=1;var re=requireFrameStringSource(),ee=requireFrameStringParser(),te=requireU3().cache,ne=requirePrepareStackTrace();return nonV8=function(){return Error.captureStackTrace=function se(ie,fe){var ue,xe=[se];fe&&xe.push(fe);var Ee=re.getInstance().captureFrameStrings(xe);Object.defineProperties(ie,{stack:{configurable:!0,get:te(function(){var Ae=ee.getInstance().getFrames(Ee.frameStrings,Ee.functionValues);return(Error.prepareStackTrace||ne)(ie,Ae,ue)})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(se){if(se.cachedStack)return se.stack;var ie=re.getInstance().getFrameStrings(se),fe=[],ue;ie?fe=ee.getInstance().getFrames(ie,[]):ue=["The stack is not readable by unthrown errors in this environment."];var xe=(Error.prepareStackTrace||ne)(se,fe,ue);if(ie)try{Object.defineProperties(se,{stack:{configurable:!0,writable:!0,enumerable:!1,value:xe},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch{}return xe},{prepareStackTrace:ne}},nonV8}var unsupported,hasRequiredUnsupported;function requireUnsupported(){if(hasRequiredUnsupported)return unsupported;hasRequiredUnsupported=1;var re=requireU3().cache,ee=requirePrepareStackTrace();return unsupported=function(){return Error.captureStackTrace=function(te,ne){Object.defineProperties(te,{stack:{configurable:!0,get:re(function(){return(Error.prepareStackTrace||ee)(te,[])})},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(te){if(te.cachedStack)return te.stack;var ne=(Error.prepareStackTrace||ee)(te,[]);try{Object.defineProperties(te,{stack:{configurable:!0,writable:!0,enumerable:!1,value:ne},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch{}return ne},{prepareStackTrace:ee}},unsupported}var capability=capability$3.exports,polyfill;capability("Error.captureStackTrace")?polyfill=requireV8():capability("Error.prototype.stack")?polyfill=requireNonV8():polyfill=requireUnsupported();var lib=polyfill();(function(re){re.exports=lib})(errorPolyfill),function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ie,fe,ue,xe){xe===void 0&&(xe=ue);var Ee=Object.getOwnPropertyDescriptor(fe,ue);(!Ee||("get"in Ee?!fe.__esModule:Ee.writable||Ee.configurable))&&(Ee={enumerable:!0,get:function(){return fe[ue]}}),Object.defineProperty(ie,xe,Ee)}:function(ie,fe,ue,xe){xe===void 0&&(xe=ue),ie[xe]=fe[ue]}),te=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ie,fe){Object.defineProperty(ie,"default",{enumerable:!0,value:fe})}:function(ie,fe){ie.default=fe}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(ie){if(ie&&ie.__esModule)return ie;var fe={};if(ie!=null)for(var ue in ie)ue!=="default"&&Object.prototype.hasOwnProperty.call(ie,ue)&&ee(fe,ie,ue);return te(fe,ie),fe},se=commonjsGlobal&&commonjsGlobal.__exportStar||function(ie,fe){for(var ue in ie)ue!=="default"&&!Object.prototype.hasOwnProperty.call(fe,ue)&&ee(fe,ie,ue)};Object.defineProperty(re,"__esModule",{value:!0}),re.keyStores=void 0,re.keyStores=ne(browserIndex),se(requireCommonIndex(),re),se(browserConnect,re)}(browserIndex$1);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(re,ee,te,ne){ne===void 0&&(ne=te);var se=Object.getOwnPropertyDescriptor(ee,te);(!se||("get"in se?!ee.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return ee[te]}}),Object.defineProperty(re,ne,se)}:function(re,ee,te,ne){ne===void 0&&(ne=te),re[ne]=ee[te]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(re,ee){Object.defineProperty(re,"default",{enumerable:!0,value:ee})}:function(re,ee){re.default=ee}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(re){if(re&&re.__esModule)return re;var ee={};if(re!=null)for(var te in re)te!=="default"&&Object.prototype.hasOwnProperty.call(re,te)&&__createBinding(ee,re,te);return __setModuleDefault(ee,re),ee};Object.defineProperty(NearProvider$1,"__esModule",{value:!0}),NearProvider$1.NearProvider=void 0;const face_types_1$3=dist,ethers_1=require$$1$4,nearAPI=__importStar(browserIndex$1);class NearProvider{constructor(ee){this.internal=ee}async getPublicKeys(){return(await this.internal.getAddresses(face_types_1$3.Blockchain.NEAR)).map(te=>nearAPI.utils.PublicKey.fromString(nearAPI.utils.serialize.base_encode(Buffer.from(te,"hex"))))}async getBalance(ee,te){const ne=await this.internal.sendRpc({method:face_types_1$3.JsonRpcMethod.near_get_balance,params:[ee,te]});return ethers_1.BigNumber.from(ne)}async signAndSendTransaction(ee){const te={serializedHex:Buffer.from(nearAPI.utils.serialize.serialize(nearAPI.transactions.SCHEMA,ee)).toString("hex")};return await this.internal.sendRpc({method:"near_broadcast_tx_async",params:[te]})}}NearProvider$1.NearProvider=NearProvider,Object.defineProperty(Near$1,"__esModule",{value:!0}),Near$1.Near=void 0;const NearProvider_1=NearProvider$1;class Near{constructor(ee){this.internal=ee}getProvider(){return new NearProvider_1.NearProvider(this.internal)}}Near$1.Near=Near;var Solana$1={},SolanaProvider$1={},buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(re){const ee=base64Js,te=ieee754,ne=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;re.Buffer=ue,re.SlowBuffer=He,re.INSPECT_MAX_BYTES=50;const se=2147483647;re.kMaxLength=se,ue.TYPED_ARRAY_SUPPORT=ie(),!ue.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ie(){try{const Re=new Uint8Array(1),we={foo:function(){return 42}};return Object.setPrototypeOf(we,Uint8Array.prototype),Object.setPrototypeOf(Re,we),Re.foo()===42}catch{return!1}}Object.defineProperty(ue.prototype,"parent",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.buffer}}),Object.defineProperty(ue.prototype,"offset",{enumerable:!0,get:function(){if(!!ue.isBuffer(this))return this.byteOffset}});function fe(Re){if(Re>se)throw new RangeError('The value "'+Re+'" is invalid for option "size"');const we=new Uint8Array(Re);return Object.setPrototypeOf(we,ue.prototype),we}function ue(Re,we,_e){if(typeof Re=="number"){if(typeof we=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Me(Re)}return xe(Re,we,_e)}ue.poolSize=8192;function xe(Re,we,_e){if(typeof Re=="string")return Pe(Re,we);if(ArrayBuffer.isView(Re))return je(Re);if(Re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Re);if(Pt(Re,ArrayBuffer)||Re&&Pt(Re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt(Re,SharedArrayBuffer)||Re&&Pt(Re.buffer,SharedArrayBuffer)))return Ue(Re,we,_e);if(typeof Re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ke=Re.valueOf&&Re.valueOf();if(ke!=null&&ke!==Re)return ue.from(ke,we,_e);const Ze=Ce(Re);if(Ze)return Ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Re[Symbol.toPrimitive]=="function")return ue.from(Re[Symbol.toPrimitive]("string"),we,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Re)}ue.from=function(Re,we,_e){return xe(Re,we,_e)},Object.setPrototypeOf(ue.prototype,Uint8Array.prototype),Object.setPrototypeOf(ue,Uint8Array);function Ee(Re){if(typeof Re!="number")throw new TypeError('"size" argument must be of type number');if(Re<0)throw new RangeError('The value "'+Re+'" is invalid for option "size"')}function Ae(Re,we,_e){return Ee(Re),Re<=0?fe(Re):we!==void 0?typeof _e=="string"?fe(Re).fill(we,_e):fe(Re).fill(we):fe(Re)}ue.alloc=function(Re,we,_e){return Ae(Re,we,_e)};function Me(Re){return Ee(Re),fe(Re<0?0:Be(Re)|0)}ue.allocUnsafe=function(Re){return Me(Re)},ue.allocUnsafeSlow=function(Re){return Me(Re)};function Pe(Re,we){if((typeof we!="string"||we==="")&&(we="utf8"),!ue.isEncoding(we))throw new TypeError("Unknown encoding: "+we);const _e=Oe(Re,we)|0;let ke=fe(_e);const Ze=ke.write(Re,we);return Ze!==_e&&(ke=ke.slice(0,Ze)),ke}function Ne(Re){const we=Re.length<0?0:Be(Re.length)|0,_e=fe(we);for(let ke=0;ke<we;ke+=1)_e[ke]=Re[ke]&255;return _e}function je(Re){if(Pt(Re,Uint8Array)){const we=new Uint8Array(Re);return Ue(we.buffer,we.byteOffset,we.byteLength)}return Ne(Re)}function Ue(Re,we,_e){if(we<0||Re.byteLength<we)throw new RangeError('"offset" is outside of buffer bounds');if(Re.byteLength<we+(_e||0))throw new RangeError('"length" is outside of buffer bounds');let ke;return we===void 0&&_e===void 0?ke=new Uint8Array(Re):_e===void 0?ke=new Uint8Array(Re,we):ke=new Uint8Array(Re,we,_e),Object.setPrototypeOf(ke,ue.prototype),ke}function Ce(Re){if(ue.isBuffer(Re)){const we=Be(Re.length)|0,_e=fe(we);return _e.length===0||Re.copy(_e,0,0,we),_e}if(Re.length!==void 0)return typeof Re.length!="number"||Et(Re.length)?fe(0):Ne(Re);if(Re.type==="Buffer"&&Array.isArray(Re.data))return Ne(Re.data)}function Be(Re){if(Re>=se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+se.toString(16)+" bytes");return Re|0}function He(Re){return+Re!=Re&&(Re=0),ue.alloc(+Re)}ue.isBuffer=function(we){return we!=null&&we._isBuffer===!0&&we!==ue.prototype},ue.compare=function(we,_e){if(Pt(we,Uint8Array)&&(we=ue.from(we,we.offset,we.byteLength)),Pt(_e,Uint8Array)&&(_e=ue.from(_e,_e.offset,_e.byteLength)),!ue.isBuffer(we)||!ue.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(we===_e)return 0;let ke=we.length,Ze=_e.length;for(let Je=0,tt=Math.min(ke,Ze);Je<tt;++Je)if(we[Je]!==_e[Je]){ke=we[Je],Ze=_e[Je];break}return ke<Ze?-1:Ze<ke?1:0},ue.isEncoding=function(we){switch(String(we).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ue.concat=function(we,_e){if(!Array.isArray(we))throw new TypeError('"list" argument must be an Array of Buffers');if(we.length===0)return ue.alloc(0);let ke;if(_e===void 0)for(_e=0,ke=0;ke<we.length;++ke)_e+=we[ke].length;const Ze=ue.allocUnsafe(_e);let Je=0;for(ke=0;ke<we.length;++ke){let tt=we[ke];if(Pt(tt,Uint8Array))Je+tt.length>Ze.length?(ue.isBuffer(tt)||(tt=ue.from(tt)),tt.copy(Ze,Je)):Uint8Array.prototype.set.call(Ze,tt,Je);else if(ue.isBuffer(tt))tt.copy(Ze,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=tt.length}return Ze};function Oe(Re,we){if(ue.isBuffer(Re))return Re.length;if(ArrayBuffer.isView(Re)||Pt(Re,ArrayBuffer))return Re.byteLength;if(typeof Re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Re);const _e=Re.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&_e===0)return 0;let Ze=!1;for(;;)switch(we){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return Le(Re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return ot(Re).length;default:if(Ze)return ke?-1:Le(Re).length;we=(""+we).toLowerCase(),Ze=!0}}ue.byteLength=Oe;function Ke(Re,we,_e){let ke=!1;if((we===void 0||we<0)&&(we=0),we>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,we>>>=0,_e<=we))return"";for(Re||(Re="utf8");;)switch(Re){case"hex":return me(this,we,_e);case"utf8":case"utf-8":return oe(this,we,_e);case"ascii":return ge(this,we,_e);case"latin1":case"binary":return ye(this,we,_e);case"base64":return pe(this,we,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,we,_e);default:if(ke)throw new TypeError("Unknown encoding: "+Re);Re=(Re+"").toLowerCase(),ke=!0}}ue.prototype._isBuffer=!0;function qe(Re,we,_e){const ke=Re[we];Re[we]=Re[_e],Re[_e]=ke}ue.prototype.swap16=function(){const we=this.length;if(we%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _e=0;_e<we;_e+=2)qe(this,_e,_e+1);return this},ue.prototype.swap32=function(){const we=this.length;if(we%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _e=0;_e<we;_e+=4)qe(this,_e,_e+3),qe(this,_e+1,_e+2);return this},ue.prototype.swap64=function(){const we=this.length;if(we%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _e=0;_e<we;_e+=8)qe(this,_e,_e+7),qe(this,_e+1,_e+6),qe(this,_e+2,_e+5),qe(this,_e+3,_e+4);return this},ue.prototype.toString=function(){const we=this.length;return we===0?"":arguments.length===0?oe(this,0,we):Ke.apply(this,arguments)},ue.prototype.toLocaleString=ue.prototype.toString,ue.prototype.equals=function(we){if(!ue.isBuffer(we))throw new TypeError("Argument must be a Buffer");return this===we?!0:ue.compare(this,we)===0},ue.prototype.inspect=function(){let we="";const _e=re.INSPECT_MAX_BYTES;return we=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(we+=" ... "),"<Buffer "+we+">"},ne&&(ue.prototype[ne]=ue.prototype.inspect),ue.prototype.compare=function(we,_e,ke,Ze,Je){if(Pt(we,Uint8Array)&&(we=ue.from(we,we.offset,we.byteLength)),!ue.isBuffer(we))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof we);if(_e===void 0&&(_e=0),ke===void 0&&(ke=we?we.length:0),Ze===void 0&&(Ze=0),Je===void 0&&(Je=this.length),_e<0||ke>we.length||Ze<0||Je>this.length)throw new RangeError("out of range index");if(Ze>=Je&&_e>=ke)return 0;if(Ze>=Je)return-1;if(_e>=ke)return 1;if(_e>>>=0,ke>>>=0,Ze>>>=0,Je>>>=0,this===we)return 0;let tt=Je-Ze,zt=ke-_e;const _t=Math.min(tt,zt),vt=this.slice(Ze,Je),nr=we.slice(_e,ke);for(let xt=0;xt<_t;++xt)if(vt[xt]!==nr[xt]){tt=vt[xt],zt=nr[xt];break}return tt<zt?-1:zt<tt?1:0};function Ve(Re,we,_e,ke,Ze){if(Re.length===0)return-1;if(typeof _e=="string"?(ke=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,Et(_e)&&(_e=Ze?0:Re.length-1),_e<0&&(_e=Re.length+_e),_e>=Re.length){if(Ze)return-1;_e=Re.length-1}else if(_e<0)if(Ze)_e=0;else return-1;if(typeof we=="string"&&(we=ue.from(we,ke)),ue.isBuffer(we))return we.length===0?-1:Xe(Re,we,_e,ke,Ze);if(typeof we=="number")return we=we&255,typeof Uint8Array.prototype.indexOf=="function"?Ze?Uint8Array.prototype.indexOf.call(Re,we,_e):Uint8Array.prototype.lastIndexOf.call(Re,we,_e):Xe(Re,[we],_e,ke,Ze);throw new TypeError("val must be string, number or Buffer")}function Xe(Re,we,_e,ke,Ze){let Je=1,tt=Re.length,zt=we.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(Re.length<2||we.length<2)return-1;Je=2,tt/=2,zt/=2,_e/=2}function _t(nr,xt){return Je===1?nr[xt]:nr.readUInt16BE(xt*Je)}let vt;if(Ze){let nr=-1;for(vt=_e;vt<tt;vt++)if(_t(Re,vt)===_t(we,nr===-1?0:vt-nr)){if(nr===-1&&(nr=vt),vt-nr+1===zt)return nr*Je}else nr!==-1&&(vt-=vt-nr),nr=-1}else for(_e+zt>tt&&(_e=tt-zt),vt=_e;vt>=0;vt--){let nr=!0;for(let xt=0;xt<zt;xt++)if(_t(Re,vt+xt)!==_t(we,xt)){nr=!1;break}if(nr)return vt}return-1}ue.prototype.includes=function(we,_e,ke){return this.indexOf(we,_e,ke)!==-1},ue.prototype.indexOf=function(we,_e,ke){return Ve(this,we,_e,ke,!0)},ue.prototype.lastIndexOf=function(we,_e,ke){return Ve(this,we,_e,ke,!1)};function rt(Re,we,_e,ke){_e=Number(_e)||0;const Ze=Re.length-_e;ke?(ke=Number(ke),ke>Ze&&(ke=Ze)):ke=Ze;const Je=we.length;ke>Je/2&&(ke=Je/2);let tt;for(tt=0;tt<ke;++tt){const zt=parseInt(we.substr(tt*2,2),16);if(Et(zt))return tt;Re[_e+tt]=zt}return tt}function mt(Re,we,_e,ke){return lt(Le(we,Re.length-_e),Re,_e,ke)}function Qe(Re,we,_e,ke){return lt(De(we),Re,_e,ke)}function Se(Re,we,_e,ke){return lt(ot(we),Re,_e,ke)}function $e(Re,we,_e,ke){return lt(ct(we,Re.length-_e),Re,_e,ke)}ue.prototype.write=function(we,_e,ke,Ze){if(_e===void 0)Ze="utf8",ke=this.length,_e=0;else if(ke===void 0&&typeof _e=="string")Ze=_e,ke=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(ke)?(ke=ke>>>0,Ze===void 0&&(Ze="utf8")):(Ze=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Je=this.length-_e;if((ke===void 0||ke>Je)&&(ke=Je),we.length>0&&(ke<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");let tt=!1;for(;;)switch(Ze){case"hex":return rt(this,we,_e,ke);case"utf8":case"utf-8":return mt(this,we,_e,ke);case"ascii":case"latin1":case"binary":return Qe(this,we,_e,ke);case"base64":return Se(this,we,_e,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,we,_e,ke);default:if(tt)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),tt=!0}},ue.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(Re,we,_e){return we===0&&_e===Re.length?ee.fromByteArray(Re):ee.fromByteArray(Re.slice(we,_e))}function oe(Re,we,_e){_e=Math.min(Re.length,_e);const ke=[];let Ze=we;for(;Ze<_e;){const Je=Re[Ze];let tt=null,zt=Je>239?4:Je>223?3:Je>191?2:1;if(Ze+zt<=_e){let _t,vt,nr,xt;switch(zt){case 1:Je<128&&(tt=Je);break;case 2:_t=Re[Ze+1],(_t&192)===128&&(xt=(Je&31)<<6|_t&63,xt>127&&(tt=xt));break;case 3:_t=Re[Ze+1],vt=Re[Ze+2],(_t&192)===128&&(vt&192)===128&&(xt=(Je&15)<<12|(_t&63)<<6|vt&63,xt>2047&&(xt<55296||xt>57343)&&(tt=xt));break;case 4:_t=Re[Ze+1],vt=Re[Ze+2],nr=Re[Ze+3],(_t&192)===128&&(vt&192)===128&&(nr&192)===128&&(xt=(Je&15)<<18|(_t&63)<<12|(vt&63)<<6|nr&63,xt>65535&&xt<1114112&&(tt=xt))}}tt===null?(tt=65533,zt=1):tt>65535&&(tt-=65536,ke.push(tt>>>10&1023|55296),tt=56320|tt&1023),ke.push(tt),Ze+=zt}return le(ke)}const ce=4096;function le(Re){const we=Re.length;if(we<=ce)return String.fromCharCode.apply(String,Re);let _e="",ke=0;for(;ke<we;)_e+=String.fromCharCode.apply(String,Re.slice(ke,ke+=ce));return _e}function ge(Re,we,_e){let ke="";_e=Math.min(Re.length,_e);for(let Ze=we;Ze<_e;++Ze)ke+=String.fromCharCode(Re[Ze]&127);return ke}function ye(Re,we,_e){let ke="";_e=Math.min(Re.length,_e);for(let Ze=we;Ze<_e;++Ze)ke+=String.fromCharCode(Re[Ze]);return ke}function me(Re,we,_e){const ke=Re.length;(!we||we<0)&&(we=0),(!_e||_e<0||_e>ke)&&(_e=ke);let Ze="";for(let Je=we;Je<_e;++Je)Ze+=St[Re[Je]];return Ze}function ve(Re,we,_e){const ke=Re.slice(we,_e);let Ze="";for(let Je=0;Je<ke.length-1;Je+=2)Ze+=String.fromCharCode(ke[Je]+ke[Je+1]*256);return Ze}ue.prototype.slice=function(we,_e){const ke=this.length;we=~~we,_e=_e===void 0?ke:~~_e,we<0?(we+=ke,we<0&&(we=0)):we>ke&&(we=ke),_e<0?(_e+=ke,_e<0&&(_e=0)):_e>ke&&(_e=ke),_e<we&&(_e=we);const Ze=this.subarray(we,_e);return Object.setPrototypeOf(Ze,ue.prototype),Ze};function he(Re,we,_e){if(Re%1!==0||Re<0)throw new RangeError("offset is not uint");if(Re+we>_e)throw new RangeError("Trying to access beyond buffer length")}ue.prototype.readUintLE=ue.prototype.readUIntLE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we],Je=1,tt=0;for(;++tt<_e&&(Je*=256);)Ze+=this[we+tt]*Je;return Ze},ue.prototype.readUintBE=ue.prototype.readUIntBE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we+--_e],Je=1;for(;_e>0&&(Je*=256);)Ze+=this[we+--_e]*Je;return Ze},ue.prototype.readUint8=ue.prototype.readUInt8=function(we,_e){return we=we>>>0,_e||he(we,1,this.length),this[we]},ue.prototype.readUint16LE=ue.prototype.readUInt16LE=function(we,_e){return we=we>>>0,_e||he(we,2,this.length),this[we]|this[we+1]<<8},ue.prototype.readUint16BE=ue.prototype.readUInt16BE=function(we,_e){return we=we>>>0,_e||he(we,2,this.length),this[we]<<8|this[we+1]},ue.prototype.readUint32LE=ue.prototype.readUInt32LE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),(this[we]|this[we+1]<<8|this[we+2]<<16)+this[we+3]*16777216},ue.prototype.readUint32BE=ue.prototype.readUInt32BE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]*16777216+(this[we+1]<<16|this[we+2]<<8|this[we+3])},ue.prototype.readBigUInt64LE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=_e+this[++we]*2**8+this[++we]*2**16+this[++we]*2**24,Je=this[++we]+this[++we]*2**8+this[++we]*2**16+ke*2**24;return BigInt(Ze)+(BigInt(Je)<<BigInt(32))}),ue.prototype.readBigUInt64BE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=_e*2**24+this[++we]*2**16+this[++we]*2**8+this[++we],Je=this[++we]*2**24+this[++we]*2**16+this[++we]*2**8+ke;return(BigInt(Ze)<<BigInt(32))+BigInt(Je)}),ue.prototype.readIntLE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=this[we],Je=1,tt=0;for(;++tt<_e&&(Je*=256);)Ze+=this[we+tt]*Je;return Je*=128,Ze>=Je&&(Ze-=Math.pow(2,8*_e)),Ze},ue.prototype.readIntBE=function(we,_e,ke){we=we>>>0,_e=_e>>>0,ke||he(we,_e,this.length);let Ze=_e,Je=1,tt=this[we+--Ze];for(;Ze>0&&(Je*=256);)tt+=this[we+--Ze]*Je;return Je*=128,tt>=Je&&(tt-=Math.pow(2,8*_e)),tt},ue.prototype.readInt8=function(we,_e){return we=we>>>0,_e||he(we,1,this.length),this[we]&128?(255-this[we]+1)*-1:this[we]},ue.prototype.readInt16LE=function(we,_e){we=we>>>0,_e||he(we,2,this.length);const ke=this[we]|this[we+1]<<8;return ke&32768?ke|4294901760:ke},ue.prototype.readInt16BE=function(we,_e){we=we>>>0,_e||he(we,2,this.length);const ke=this[we+1]|this[we]<<8;return ke&32768?ke|4294901760:ke},ue.prototype.readInt32LE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]|this[we+1]<<8|this[we+2]<<16|this[we+3]<<24},ue.prototype.readInt32BE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),this[we]<<24|this[we+1]<<16|this[we+2]<<8|this[we+3]},ue.prototype.readBigInt64LE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=this[we+4]+this[we+5]*2**8+this[we+6]*2**16+(ke<<24);return(BigInt(Ze)<<BigInt(32))+BigInt(_e+this[++we]*2**8+this[++we]*2**16+this[++we]*2**24)}),ue.prototype.readBigInt64BE=ar(function(we){we=we>>>0,Jt(we,"offset");const _e=this[we],ke=this[we+7];(_e===void 0||ke===void 0)&&yt(we,this.length-8);const Ze=(_e<<24)+this[++we]*2**16+this[++we]*2**8+this[++we];return(BigInt(Ze)<<BigInt(32))+BigInt(this[++we]*2**24+this[++we]*2**16+this[++we]*2**8+ke)}),ue.prototype.readFloatLE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),te.read(this,we,!0,23,4)},ue.prototype.readFloatBE=function(we,_e){return we=we>>>0,_e||he(we,4,this.length),te.read(this,we,!1,23,4)},ue.prototype.readDoubleLE=function(we,_e){return we=we>>>0,_e||he(we,8,this.length),te.read(this,we,!0,52,8)},ue.prototype.readDoubleBE=function(we,_e){return we=we>>>0,_e||he(we,8,this.length),te.read(this,we,!1,52,8)};function ae(Re,we,_e,ke,Ze,Je){if(!ue.isBuffer(Re))throw new TypeError('"buffer" argument must be a Buffer instance');if(we>Ze||we<Je)throw new RangeError('"value" argument is out of bounds');if(_e+ke>Re.length)throw new RangeError("Index out of range")}ue.prototype.writeUintLE=ue.prototype.writeUIntLE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,ke=ke>>>0,!Ze){const zt=Math.pow(2,8*ke)-1;ae(this,we,_e,ke,zt,0)}let Je=1,tt=0;for(this[_e]=we&255;++tt<ke&&(Je*=256);)this[_e+tt]=we/Je&255;return _e+ke},ue.prototype.writeUintBE=ue.prototype.writeUIntBE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,ke=ke>>>0,!Ze){const zt=Math.pow(2,8*ke)-1;ae(this,we,_e,ke,zt,0)}let Je=ke-1,tt=1;for(this[_e+Je]=we&255;--Je>=0&&(tt*=256);)this[_e+Je]=we/tt&255;return _e+ke},ue.prototype.writeUint8=ue.prototype.writeUInt8=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,1,255,0),this[_e]=we&255,_e+1},ue.prototype.writeUint16LE=ue.prototype.writeUInt16LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,65535,0),this[_e]=we&255,this[_e+1]=we>>>8,_e+2},ue.prototype.writeUint16BE=ue.prototype.writeUInt16BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,65535,0),this[_e]=we>>>8,this[_e+1]=we&255,_e+2},ue.prototype.writeUint32LE=ue.prototype.writeUInt32LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,4294967295,0),this[_e+3]=we>>>24,this[_e+2]=we>>>16,this[_e+1]=we>>>8,this[_e]=we&255,_e+4},ue.prototype.writeUint32BE=ue.prototype.writeUInt32BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,4294967295,0),this[_e]=we>>>24,this[_e+1]=we>>>16,this[_e+2]=we>>>8,this[_e+3]=we&255,_e+4};function be(Re,we,_e,ke,Ze){gt(we,ke,Ze,Re,_e,7);let Je=Number(we&BigInt(4294967295));Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je,Je=Je>>8,Re[_e++]=Je;let tt=Number(we>>BigInt(32)&BigInt(4294967295));return Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,tt=tt>>8,Re[_e++]=tt,_e}function ze(Re,we,_e,ke,Ze){gt(we,ke,Ze,Re,_e,7);let Je=Number(we&BigInt(4294967295));Re[_e+7]=Je,Je=Je>>8,Re[_e+6]=Je,Je=Je>>8,Re[_e+5]=Je,Je=Je>>8,Re[_e+4]=Je;let tt=Number(we>>BigInt(32)&BigInt(4294967295));return Re[_e+3]=tt,tt=tt>>8,Re[_e+2]=tt,tt=tt>>8,Re[_e+1]=tt,tt=tt>>8,Re[_e]=tt,_e+8}ue.prototype.writeBigUInt64LE=ar(function(we,_e=0){return be(this,we,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeBigUInt64BE=ar(function(we,_e=0){return ze(this,we,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),ue.prototype.writeIntLE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,!Ze){const _t=Math.pow(2,8*ke-1);ae(this,we,_e,ke,_t-1,-_t)}let Je=0,tt=1,zt=0;for(this[_e]=we&255;++Je<ke&&(tt*=256);)we<0&&zt===0&&this[_e+Je-1]!==0&&(zt=1),this[_e+Je]=(we/tt>>0)-zt&255;return _e+ke},ue.prototype.writeIntBE=function(we,_e,ke,Ze){if(we=+we,_e=_e>>>0,!Ze){const _t=Math.pow(2,8*ke-1);ae(this,we,_e,ke,_t-1,-_t)}let Je=ke-1,tt=1,zt=0;for(this[_e+Je]=we&255;--Je>=0&&(tt*=256);)we<0&&zt===0&&this[_e+Je+1]!==0&&(zt=1),this[_e+Je]=(we/tt>>0)-zt&255;return _e+ke},ue.prototype.writeInt8=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,1,127,-128),we<0&&(we=255+we+1),this[_e]=we&255,_e+1},ue.prototype.writeInt16LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,32767,-32768),this[_e]=we&255,this[_e+1]=we>>>8,_e+2},ue.prototype.writeInt16BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,2,32767,-32768),this[_e]=we>>>8,this[_e+1]=we&255,_e+2},ue.prototype.writeInt32LE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,2147483647,-2147483648),this[_e]=we&255,this[_e+1]=we>>>8,this[_e+2]=we>>>16,this[_e+3]=we>>>24,_e+4},ue.prototype.writeInt32BE=function(we,_e,ke){return we=+we,_e=_e>>>0,ke||ae(this,we,_e,4,2147483647,-2147483648),we<0&&(we=4294967295+we+1),this[_e]=we>>>24,this[_e+1]=we>>>16,this[_e+2]=we>>>8,this[_e+3]=we&255,_e+4},ue.prototype.writeBigInt64LE=ar(function(we,_e=0){return be(this,we,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ue.prototype.writeBigInt64BE=ar(function(we,_e=0){return ze(this,we,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(Re,we,_e,ke,Ze,Je){if(_e+ke>Re.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function We(Re,we,_e,ke,Ze){return we=+we,_e=_e>>>0,Ze||Ie(Re,we,_e,4),te.write(Re,we,_e,ke,23,4),_e+4}ue.prototype.writeFloatLE=function(we,_e,ke){return We(this,we,_e,!0,ke)},ue.prototype.writeFloatBE=function(we,_e,ke){return We(this,we,_e,!1,ke)};function ft(Re,we,_e,ke,Ze){return we=+we,_e=_e>>>0,Ze||Ie(Re,we,_e,8),te.write(Re,we,_e,ke,52,8),_e+8}ue.prototype.writeDoubleLE=function(we,_e,ke){return ft(this,we,_e,!0,ke)},ue.prototype.writeDoubleBE=function(we,_e,ke){return ft(this,we,_e,!1,ke)},ue.prototype.copy=function(we,_e,ke,Ze){if(!ue.isBuffer(we))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Ze&&Ze!==0&&(Ze=this.length),_e>=we.length&&(_e=we.length),_e||(_e=0),Ze>0&&Ze<ke&&(Ze=ke),Ze===ke||we.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),we.length-_e<Ze-ke&&(Ze=we.length-_e+ke);const Je=Ze-ke;return this===we&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,ke,Ze):Uint8Array.prototype.set.call(we,this.subarray(ke,Ze),_e),Je},ue.prototype.fill=function(we,_e,ke,Ze){if(typeof we=="string"){if(typeof _e=="string"?(Ze=_e,_e=0,ke=this.length):typeof ke=="string"&&(Ze=ke,ke=this.length),Ze!==void 0&&typeof Ze!="string")throw new TypeError("encoding must be a string");if(typeof Ze=="string"&&!ue.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze);if(we.length===1){const tt=we.charCodeAt(0);(Ze==="utf8"&&tt<128||Ze==="latin1")&&(we=tt)}}else typeof we=="number"?we=we&255:typeof we=="boolean"&&(we=Number(we));if(_e<0||this.length<_e||this.length<ke)throw new RangeError("Out of range index");if(ke<=_e)return this;_e=_e>>>0,ke=ke===void 0?this.length:ke>>>0,we||(we=0);let Je;if(typeof we=="number")for(Je=_e;Je<ke;++Je)this[Je]=we;else{const tt=ue.isBuffer(we)?we:ue.from(we,Ze),zt=tt.length;if(zt===0)throw new TypeError('The value "'+we+'" is invalid for argument "value"');for(Je=0;Je<ke-_e;++Je)this[Je+_e]=tt[Je%zt]}return this};const nt={};function at(Re,we,_e){nt[Re]=class extends _e{constructor(){super(),Object.defineProperty(this,"message",{value:we.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Re}]`,this.stack,delete this.name}get code(){return Re}set code(Ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ze,writable:!0})}toString(){return`${this.name} [${Re}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(Re){return Re?`${Re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(Re,we){return`The "${Re}" argument must be of type number. Received type ${typeof we}`},TypeError),at("ERR_OUT_OF_RANGE",function(Re,we,_e){let ke=`The value of "${Re}" is out of range.`,Ze=_e;return Number.isInteger(_e)&&Math.abs(_e)>2**32?Ze=Ht(String(_e)):typeof _e=="bigint"&&(Ze=String(_e),(_e>BigInt(2)**BigInt(32)||_e<-(BigInt(2)**BigInt(32)))&&(Ze=Ht(Ze)),Ze+="n"),ke+=` It must be ${we}. Received ${Ze}`,ke},RangeError);function Ht(Re){let we="",_e=Re.length;const ke=Re[0]==="-"?1:0;for(;_e>=ke+4;_e-=3)we=`_${Re.slice(_e-3,_e)}${we}`;return`${Re.slice(0,_e)}${we}`}function dt(Re,we,_e){Jt(we,"offset"),(Re[we]===void 0||Re[we+_e]===void 0)&&yt(we,Re.length-(_e+1))}function gt(Re,we,_e,ke,Ze,Je){if(Re>_e||Re<we){const tt=typeof we=="bigint"?"n":"";let zt;throw Je>3?we===0||we===BigInt(0)?zt=`>= 0${tt} and < 2${tt} ** ${(Je+1)*8}${tt}`:zt=`>= -(2${tt} ** ${(Je+1)*8-1}${tt}) and < 2 ** ${(Je+1)*8-1}${tt}`:zt=`>= ${we}${tt} and <= ${_e}${tt}`,new nt.ERR_OUT_OF_RANGE("value",zt,Re)}dt(ke,Ze,Je)}function Jt(Re,we){if(typeof Re!="number")throw new nt.ERR_INVALID_ARG_TYPE(we,"number",Re)}function yt(Re,we,_e){throw Math.floor(Re)!==Re?(Jt(Re,_e),new nt.ERR_OUT_OF_RANGE(_e||"offset","an integer",Re)):we<0?new nt.ERR_BUFFER_OUT_OF_BOUNDS:new nt.ERR_OUT_OF_RANGE(_e||"offset",`>= ${_e?1:0} and <= ${we}`,Re)}const Mt=/[^+/0-9A-Za-z-_]/g;function it(Re){if(Re=Re.split("=")[0],Re=Re.trim().replace(Mt,""),Re.length<2)return"";for(;Re.length%4!==0;)Re=Re+"=";return Re}function Le(Re,we){we=we||1/0;let _e;const ke=Re.length;let Ze=null;const Je=[];for(let tt=0;tt<ke;++tt){if(_e=Re.charCodeAt(tt),_e>55295&&_e<57344){if(!Ze){if(_e>56319){(we-=3)>-1&&Je.push(239,191,189);continue}else if(tt+1===ke){(we-=3)>-1&&Je.push(239,191,189);continue}Ze=_e;continue}if(_e<56320){(we-=3)>-1&&Je.push(239,191,189),Ze=_e;continue}_e=(Ze-55296<<10|_e-56320)+65536}else Ze&&(we-=3)>-1&&Je.push(239,191,189);if(Ze=null,_e<128){if((we-=1)<0)break;Je.push(_e)}else if(_e<2048){if((we-=2)<0)break;Je.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((we-=3)<0)break;Je.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((we-=4)<0)break;Je.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return Je}function De(Re){const we=[];for(let _e=0;_e<Re.length;++_e)we.push(Re.charCodeAt(_e)&255);return we}function ct(Re,we){let _e,ke,Ze;const Je=[];for(let tt=0;tt<Re.length&&!((we-=2)<0);++tt)_e=Re.charCodeAt(tt),ke=_e>>8,Ze=_e%256,Je.push(Ze),Je.push(ke);return Je}function ot(Re){return ee.toByteArray(it(Re))}function lt(Re,we,_e,ke){let Ze;for(Ze=0;Ze<ke&&!(Ze+_e>=we.length||Ze>=Re.length);++Ze)we[Ze+_e]=Re[Ze];return Ze}function Pt(Re,we){return Re instanceof we||Re!=null&&Re.constructor!=null&&Re.constructor.name!=null&&Re.constructor.name===we.name}function Et(Re){return Re!==Re}const St=function(){const Re="0123456789abcdef",we=new Array(256);for(let _e=0;_e<16;++_e){const ke=_e*16;for(let Ze=0;Ze<16;++Ze)we[ke+Ze]=Re[_e]+Re[Ze]}return we}();function ar(Re){return typeof BigInt>"u"?Tt:Re}function Tt(){throw new Error("BigInt not supported")}})(buffer);function number$1(re){if(!Number.isSafeInteger(re)||re<0)throw new Error(`Wrong positive integer: ${re}`)}function bool(re){if(typeof re!="boolean")throw new Error(`Expected boolean, not ${re}`)}function bytes(re,...ee){if(!(re instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ee.length>0&&!ee.includes(re.length))throw new TypeError(`Expected Uint8Array of length ${ee}, not of length=${re.length}`)}function hash$1(re){if(typeof re!="function"||typeof re.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(re.outputLen),number$1(re.blockLen)}function exists(re,ee=!0){if(re.destroyed)throw new Error("Hash instance has been destroyed");if(ee&&re.finished)throw new Error("Hash#digest() has already been called")}function output(re,ee){bytes(re);const te=ee.outputLen;if(re.length<te)throw new Error(`digestInto() expects output buffer of length at least ${te}`)}const assert$e={number:number$1,bool,bytes,hash:hash$1,exists,output};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$1=re=>new Uint32Array(re.buffer,re.byteOffset,Math.floor(re.byteLength/4)),createView=re=>new DataView(re.buffer,re.byteOffset,re.byteLength),rotr=(re,ee)=>re<<32-ee|re>>>ee,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function utf8ToBytes(re){if(typeof re!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof re}`);return new TextEncoder().encode(re)}function toBytes(re){if(typeof re=="string"&&(re=utf8ToBytes(re)),!(re instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof re})`);return re}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(re){const ee=ne=>re().update(toBytes(ne)).digest(),te=re();return ee.outputLen=te.outputLen,ee.blockLen=te.blockLen,ee.create=()=>re(),ee}function wrapConstructorWithOpts(re){const ee=(ne,se)=>re(se).update(toBytes(ne)).digest(),te=re({});return ee.outputLen=te.outputLen,ee.blockLen=te.blockLen,ee.create=ne=>re(ne),ee}function setBigUint64(re,ee,te,ne){if(typeof re.setBigUint64=="function")return re.setBigUint64(ee,te,ne);const se=BigInt(32),ie=BigInt(4294967295),fe=Number(te>>se&ie),ue=Number(te&ie),xe=ne?4:0,Ee=ne?0:4;re.setUint32(ee+xe,fe,ne),re.setUint32(ee+Ee,ue,ne)}class SHA2 extends Hash{constructor(ee,te,ne,se){super(),this.blockLen=ee,this.outputLen=te,this.padOffset=ne,this.isLE=se,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ee),this.view=createView(this.buffer)}update(ee){assert$e.exists(this);const{view:te,buffer:ne,blockLen:se}=this;ee=toBytes(ee);const ie=ee.length;for(let fe=0;fe<ie;){const ue=Math.min(se-this.pos,ie-fe);if(ue===se){const xe=createView(ee);for(;se<=ie-fe;fe+=se)this.process(xe,fe);continue}ne.set(ee.subarray(fe,fe+ue),this.pos),this.pos+=ue,fe+=ue,this.pos===se&&(this.process(te,0),this.pos=0)}return this.length+=ee.length,this.roundClean(),this}digestInto(ee){assert$e.exists(this),assert$e.output(ee,this),this.finished=!0;const{buffer:te,view:ne,blockLen:se,isLE:ie}=this;let{pos:fe}=this;te[fe++]=128,this.buffer.subarray(fe).fill(0),this.padOffset>se-fe&&(this.process(ne,0),fe=0);for(let Me=fe;Me<se;Me++)te[Me]=0;setBigUint64(ne,se-8,BigInt(this.length*8),ie),this.process(ne,0);const ue=createView(ee),xe=this.outputLen;if(xe%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Ee=this.get(),Ae=xe/4;if(Ae>Ee.length)throw new Error("_sha2: outputLen bigger than state");for(let Me=0;Me<Ae;Me++)ue.setUint32(4*Me,Ee[Me],ie)}digest(){const{buffer:ee,outputLen:te}=this;this.digestInto(ee);const ne=ee.slice(0,te);return this.destroy(),ne}_cloneInto(ee){ee||(ee=new this.constructor),ee.set(...this.get());const{blockLen:te,buffer:ne,length:se,finished:ie,destroyed:fe,pos:ue}=this;return ee.length=se,ee.pos=ue,ee.finished=ie,ee.destroyed=fe,se%te&&ee.buffer.set(ne),ee}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(re,ee=!1){return ee?{h:Number(re&U32_MASK64),l:Number(re>>_32n&U32_MASK64)}:{h:Number(re>>_32n&U32_MASK64)|0,l:Number(re&U32_MASK64)|0}}function split(re,ee=!1){let te=new Uint32Array(re.length),ne=new Uint32Array(re.length);for(let se=0;se<re.length;se++){const{h:ie,l:fe}=fromBig(re[se],ee);[te[se],ne[se]]=[ie,fe]}return[te,ne]}const toBig=(re,ee)=>BigInt(re>>>0)<<_32n|BigInt(ee>>>0),shrSH=(re,ee,te)=>re>>>te,shrSL=(re,ee,te)=>re<<32-te|ee>>>te,rotrSH=(re,ee,te)=>re>>>te|ee<<32-te,rotrSL=(re,ee,te)=>re<<32-te|ee>>>te,rotrBH=(re,ee,te)=>re<<64-te|ee>>>te-32,rotrBL=(re,ee,te)=>re>>>te-32|ee<<64-te,rotr32H=(re,ee)=>ee,rotr32L=(re,ee)=>re,rotlSH=(re,ee,te)=>re<<te|ee>>>32-te,rotlSL=(re,ee,te)=>ee<<te|re>>>32-te,rotlBH=(re,ee,te)=>ee<<te-32|re>>>64-te,rotlBL=(re,ee,te)=>re<<te-32|ee>>>64-te;function add(re,ee,te,ne){const se=(ee>>>0)+(ne>>>0);return{h:re+te+(se/2**32|0)|0,l:se|0}}const add3L=(re,ee,te)=>(re>>>0)+(ee>>>0)+(te>>>0),add3H=(re,ee,te,ne)=>ee+te+ne+(re/2**32|0)|0,add4L=(re,ee,te,ne)=>(re>>>0)+(ee>>>0)+(te>>>0)+(ne>>>0),add4H=(re,ee,te,ne,se)=>ee+te+ne+se+(re/2**32|0)|0,add5L=(re,ee,te,ne,se)=>(re>>>0)+(ee>>>0)+(te>>>0)+(ne>>>0)+(se>>>0),add5H=(re,ee,te,ne,se,ie)=>ee+te+ne+se+ie+(re/2**32|0)|0,u64$1={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(re=>BigInt(re))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512$2 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:ee,Al:te,Bh:ne,Bl:se,Ch:ie,Cl:fe,Dh:ue,Dl:xe,Eh:Ee,El:Ae,Fh:Me,Fl:Pe,Gh:Ne,Gl:je,Hh:Ue,Hl:Ce}=this;return[ee,te,ne,se,ie,fe,ue,xe,Ee,Ae,Me,Pe,Ne,je,Ue,Ce]}set(ee,te,ne,se,ie,fe,ue,xe,Ee,Ae,Me,Pe,Ne,je,Ue,Ce){this.Ah=ee|0,this.Al=te|0,this.Bh=ne|0,this.Bl=se|0,this.Ch=ie|0,this.Cl=fe|0,this.Dh=ue|0,this.Dl=xe|0,this.Eh=Ee|0,this.El=Ae|0,this.Fh=Me|0,this.Fl=Pe|0,this.Gh=Ne|0,this.Gl=je|0,this.Hh=Ue|0,this.Hl=Ce|0}process(ee,te){for(let Oe=0;Oe<16;Oe++,te+=4)SHA512_W_H[Oe]=ee.getUint32(te),SHA512_W_L[Oe]=ee.getUint32(te+=4);for(let Oe=16;Oe<80;Oe++){const Ke=SHA512_W_H[Oe-15]|0,qe=SHA512_W_L[Oe-15]|0,Ve=u64$1.rotrSH(Ke,qe,1)^u64$1.rotrSH(Ke,qe,8)^u64$1.shrSH(Ke,qe,7),Xe=u64$1.rotrSL(Ke,qe,1)^u64$1.rotrSL(Ke,qe,8)^u64$1.shrSL(Ke,qe,7),rt=SHA512_W_H[Oe-2]|0,mt=SHA512_W_L[Oe-2]|0,Qe=u64$1.rotrSH(rt,mt,19)^u64$1.rotrBH(rt,mt,61)^u64$1.shrSH(rt,mt,6),Se=u64$1.rotrSL(rt,mt,19)^u64$1.rotrBL(rt,mt,61)^u64$1.shrSL(rt,mt,6),$e=u64$1.add4L(Xe,Se,SHA512_W_L[Oe-7],SHA512_W_L[Oe-16]),pe=u64$1.add4H($e,Ve,Qe,SHA512_W_H[Oe-7],SHA512_W_H[Oe-16]);SHA512_W_H[Oe]=pe|0,SHA512_W_L[Oe]=$e|0}let{Ah:ne,Al:se,Bh:ie,Bl:fe,Ch:ue,Cl:xe,Dh:Ee,Dl:Ae,Eh:Me,El:Pe,Fh:Ne,Fl:je,Gh:Ue,Gl:Ce,Hh:Be,Hl:He}=this;for(let Oe=0;Oe<80;Oe++){const Ke=u64$1.rotrSH(Me,Pe,14)^u64$1.rotrSH(Me,Pe,18)^u64$1.rotrBH(Me,Pe,41),qe=u64$1.rotrSL(Me,Pe,14)^u64$1.rotrSL(Me,Pe,18)^u64$1.rotrBL(Me,Pe,41),Ve=Me&Ne^~Me&Ue,Xe=Pe&je^~Pe&Ce,rt=u64$1.add5L(He,qe,Xe,SHA512_Kl[Oe],SHA512_W_L[Oe]),mt=u64$1.add5H(rt,Be,Ke,Ve,SHA512_Kh[Oe],SHA512_W_H[Oe]),Qe=rt|0,Se=u64$1.rotrSH(ne,se,28)^u64$1.rotrBH(ne,se,34)^u64$1.rotrBH(ne,se,39),$e=u64$1.rotrSL(ne,se,28)^u64$1.rotrBL(ne,se,34)^u64$1.rotrBL(ne,se,39),pe=ne&ie^ne&ue^ie&ue,oe=se&fe^se&xe^fe&xe;Be=Ue|0,He=Ce|0,Ue=Ne|0,Ce=je|0,Ne=Me|0,je=Pe|0,{h:Me,l:Pe}=u64$1.add(Ee|0,Ae|0,mt|0,Qe|0),Ee=ue|0,Ae=xe|0,ue=ie|0,xe=fe|0,ie=ne|0,fe=se|0;const ce=u64$1.add3L(Qe,$e,oe);ne=u64$1.add3H(ce,mt,Se,pe),se=ce|0}({h:ne,l:se}=u64$1.add(this.Ah|0,this.Al|0,ne|0,se|0)),{h:ie,l:fe}=u64$1.add(this.Bh|0,this.Bl|0,ie|0,fe|0),{h:ue,l:xe}=u64$1.add(this.Ch|0,this.Cl|0,ue|0,xe|0),{h:Ee,l:Ae}=u64$1.add(this.Dh|0,this.Dl|0,Ee|0,Ae|0),{h:Me,l:Pe}=u64$1.add(this.Eh|0,this.El|0,Me|0,Pe|0),{h:Ne,l:je}=u64$1.add(this.Fh|0,this.Fl|0,Ne|0,je|0),{h:Ue,l:Ce}=u64$1.add(this.Gh|0,this.Gl|0,Ue|0,Ce|0),{h:Be,l:He}=u64$1.add(this.Hh|0,this.Hl|0,Be|0,He|0),this.set(ne,se,ie,fe,ue,xe,Ee,Ae,Me,Pe,Ne,je,Ue,Ce,Be,He)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512$2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384$1 extends SHA512$2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512$1=wrapConstructor(()=>new SHA512$2);wrapConstructor(()=>new SHA512_256),wrapConstructor(()=>new SHA384$1);/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE$1=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256$1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(ee,te,ne,se){this.x=ee,this.y=te,this.z=ne,this.t=se}static fromAffine(ee){if(!(ee instanceof Point$2))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return ee.equals(Point$2.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(ee.x,ee.y,_1n$2,mod$1(ee.x*ee.y))}static toAffineBatch(ee){const te=invertBatch$1(ee.map(ne=>ne.z));return ee.map((ne,se)=>ne.toAffine(te[se]))}static normalizeZ(ee){return this.toAffineBatch(ee).map(this.fromAffine)}equals(ee){assertExtPoint(ee);const{x:te,y:ne,z:se}=this,{x:ie,y:fe,z:ue}=ee,xe=mod$1(te*ue),Ee=mod$1(ie*se),Ae=mod$1(ne*ue),Me=mod$1(fe*se);return xe===Ee&&Ae===Me}negate(){return new ExtendedPoint(mod$1(-this.x),this.y,this.z,mod$1(-this.t))}double(){const{x:ee,y:te,z:ne}=this,{a:se}=CURVE$1,ie=mod$1(ee*ee),fe=mod$1(te*te),ue=mod$1(_2n$2*mod$1(ne*ne)),xe=mod$1(se*ie),Ee=ee+te,Ae=mod$1(mod$1(Ee*Ee)-ie-fe),Me=xe+fe,Pe=Me-ue,Ne=xe-fe,je=mod$1(Ae*Pe),Ue=mod$1(Me*Ne),Ce=mod$1(Ae*Ne),Be=mod$1(Pe*Me);return new ExtendedPoint(je,Ue,Be,Ce)}add(ee){assertExtPoint(ee);const{x:te,y:ne,z:se,t:ie}=this,{x:fe,y:ue,z:xe,t:Ee}=ee,Ae=mod$1((ne-te)*(ue+fe)),Me=mod$1((ne+te)*(ue-fe)),Pe=mod$1(Me-Ae);if(Pe===_0n$2)return this.double();const Ne=mod$1(se*_2n$2*Ee),je=mod$1(ie*_2n$2*xe),Ue=je+Ne,Ce=Me+Ae,Be=je-Ne,He=mod$1(Ue*Pe),Oe=mod$1(Ce*Be),Ke=mod$1(Ue*Be),qe=mod$1(Pe*Ce);return new ExtendedPoint(He,Oe,qe,Ke)}subtract(ee){return this.add(ee.negate())}precomputeWindow(ee){const te=1+256/ee,ne=[];let se=this,ie=se;for(let fe=0;fe<te;fe++){ie=se,ne.push(ie);for(let ue=1;ue<2**(ee-1);ue++)ie=ie.add(se),ne.push(ie);se=ie.double()}return ne}wNAF(ee,te){!te&&this.equals(ExtendedPoint.BASE)&&(te=Point$2.BASE);const ne=te&&te._WINDOW_SIZE||1;if(256%ne)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let se=te&&pointPrecomputes$1.get(te);se||(se=this.precomputeWindow(ne),te&&ne!==1&&(se=ExtendedPoint.normalizeZ(se),pointPrecomputes$1.set(te,se)));let ie=ExtendedPoint.ZERO,fe=ExtendedPoint.ZERO;const ue=1+256/ne,xe=2**(ne-1),Ee=BigInt(2**ne-1),Ae=2**ne,Me=BigInt(ne);for(let Pe=0;Pe<ue;Pe++){const Ne=Pe*xe;let je=Number(ee&Ee);if(ee>>=Me,je>xe&&(je-=Ae,ee+=_1n$2),je===0){let Ue=se[Ne];Pe%2&&(Ue=Ue.negate()),fe=fe.add(Ue)}else{let Ue=se[Ne+Math.abs(je)-1];je<0&&(Ue=Ue.negate()),ie=ie.add(Ue)}}return ExtendedPoint.normalizeZ([ie,fe])[0]}multiply(ee,te){return this.wNAF(normalizeScalar$1(ee,CURVE$1.l),te)}multiplyUnsafe(ee){let te=normalizeScalar$1(ee,CURVE$1.l,!1);const ne=ExtendedPoint.BASE,se=ExtendedPoint.ZERO;if(te===_0n$2)return se;if(this.equals(se)||te===_1n$2)return this;if(this.equals(ne))return this.wNAF(te);let ie=se,fe=this;for(;te>_0n$2;)te&_1n$2&&(ie=ie.add(fe)),fe=fe.double(),te>>=_1n$2;return ie}isSmallOrder(){return this.multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){return this.multiplyUnsafe(CURVE$1.l).equals(ExtendedPoint.ZERO)}toAffine(ee=invert$1(this.z)){const{x:te,y:ne,z:se}=this,ie=mod$1(te*ee),fe=mod$1(ne*ee);if(mod$1(se*ee)!==_1n$2)throw new Error("invZ was invalid");return new Point$2(ie,fe)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE$1.Gx,CURVE$1.Gy,_1n$2,mod$1(CURVE$1.Gx*CURVE$1.Gy)),ExtendedPoint.ZERO=new ExtendedPoint(_0n$2,_1n$2,_1n$2,_0n$2);function assertExtPoint(re){if(!(re instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(re){if(!(re instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(ee){this.ep=ee}static calcElligatorRistrettoMap(ee){const{d:te}=CURVE$1,ne=mod$1(SQRT_M1*ee*ee),se=mod$1((ne+_1n$2)*ONE_MINUS_D_SQ);let ie=BigInt(-1);const fe=mod$1((ie-te*ne)*mod$1(ne+te));let{isValid:ue,value:xe}=uvRatio(se,fe),Ee=mod$1(xe*ee);edIsNegative(Ee)||(Ee=mod$1(-Ee)),ue||(xe=Ee),ue||(ie=ne);const Ae=mod$1(ie*(ne-_1n$2)*D_MINUS_ONE_SQ-fe),Me=xe*xe,Pe=mod$1((xe+xe)*fe),Ne=mod$1(Ae*SQRT_AD_MINUS_ONE),je=mod$1(_1n$2-Me),Ue=mod$1(_1n$2+Me);return new ExtendedPoint(mod$1(Pe*Ue),mod$1(je*Ne),mod$1(Ne*Ue),mod$1(Pe*je))}static hashToCurve(ee){ee=ensureBytes$1(ee,64);const te=bytes255ToNumberLE(ee.slice(0,32)),ne=this.calcElligatorRistrettoMap(te),se=bytes255ToNumberLE(ee.slice(32,64)),ie=this.calcElligatorRistrettoMap(se);return new RistrettoPoint(ne.add(ie))}static fromHex(ee){ee=ensureBytes$1(ee,32);const{a:te,d:ne}=CURVE$1,se="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ie=bytes255ToNumberLE(ee);if(!equalBytes(numberTo32BytesLE(ie),ee)||edIsNegative(ie))throw new Error(se);const fe=mod$1(ie*ie),ue=mod$1(_1n$2+te*fe),xe=mod$1(_1n$2-te*fe),Ee=mod$1(ue*ue),Ae=mod$1(xe*xe),Me=mod$1(te*ne*Ee-Ae),{isValid:Pe,value:Ne}=invertSqrt(mod$1(Me*Ae)),je=mod$1(Ne*xe),Ue=mod$1(Ne*je*Me);let Ce=mod$1((ie+ie)*je);edIsNegative(Ce)&&(Ce=mod$1(-Ce));const Be=mod$1(ue*Ue),He=mod$1(Ce*Be);if(!Pe||edIsNegative(He)||Be===_0n$2)throw new Error(se);return new RistrettoPoint(new ExtendedPoint(Ce,Be,_1n$2,He))}toRawBytes(){let{x:ee,y:te,z:ne,t:se}=this.ep;const ie=mod$1(mod$1(ne+te)*mod$1(ne-te)),fe=mod$1(ee*te),ue=mod$1(fe*fe),{value:xe}=invertSqrt(mod$1(ie*ue)),Ee=mod$1(xe*ie),Ae=mod$1(xe*fe),Me=mod$1(Ee*Ae*se);let Pe;if(edIsNegative(se*Me)){let je=mod$1(te*SQRT_M1),Ue=mod$1(ee*SQRT_M1);ee=je,te=Ue,Pe=mod$1(Ee*INVSQRT_A_MINUS_D)}else Pe=Ae;edIsNegative(ee*Me)&&(te=mod$1(-te));let Ne=mod$1((ne-te)*Pe);return edIsNegative(Ne)&&(Ne=mod$1(-Ne)),numberTo32BytesLE(Ne)}toHex(){return bytesToHex$1(this.toRawBytes())}toString(){return this.toHex()}equals(ee){assertRstPoint(ee);const te=this.ep,ne=ee.ep,se=mod$1(te.x*ne.y)===mod$1(te.y*ne.x),ie=mod$1(te.y*ne.y)===mod$1(te.x*ne.x);return se||ie}add(ee){return assertRstPoint(ee),new RistrettoPoint(this.ep.add(ee.ep))}subtract(ee){return assertRstPoint(ee),new RistrettoPoint(this.ep.subtract(ee.ep))}multiply(ee){return new RistrettoPoint(this.ep.multiply(ee))}multiplyUnsafe(ee){return new RistrettoPoint(this.ep.multiplyUnsafe(ee))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE),RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes$1=new WeakMap;class Point$2{constructor(ee,te){this.x=ee,this.y=te}_setWindowSize(ee){this._WINDOW_SIZE=ee,pointPrecomputes$1.delete(this)}static fromHex(ee,te=!0){const{d:ne,P:se}=CURVE$1;ee=ensureBytes$1(ee,32);const ie=ee.slice();ie[31]=ee[31]&-129;const fe=bytesToNumberLE(ie);if(te&&fe>=se)throw new Error("Expected 0 < hex < P");if(!te&&fe>=POW_2_256$1)throw new Error("Expected 0 < hex < 2**256");const ue=mod$1(fe*fe),xe=mod$1(ue-_1n$2),Ee=mod$1(ne*ue+_1n$2);let{isValid:Ae,value:Me}=uvRatio(xe,Ee);if(!Ae)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Me&_1n$2)===_1n$2;return(ee[31]&128)!==0!==Pe&&(Me=mod$1(-Me)),new Point$2(Me,fe)}static async fromPrivateKey(ee){return(await getExtendedPublicKey(ee)).point}toRawBytes(){const ee=numberTo32BytesLE(this.y);return ee[31]|=this.x&_1n$2?128:0,ee}toHex(){return bytesToHex$1(this.toRawBytes())}toX25519(){const{y:ee}=this,te=mod$1((_1n$2+ee)*invert$1(_1n$2-ee));return numberTo32BytesLE(te)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(ee){return this.x===ee.x&&this.y===ee.y}negate(){return new Point$2(mod$1(-this.x),this.y)}add(ee){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(ee)).toAffine()}subtract(ee){return this.add(ee.negate())}multiply(ee){return ExtendedPoint.fromAffine(this).multiply(ee,this).toAffine()}}Point$2.BASE=new Point$2(CURVE$1.Gx,CURVE$1.Gy),Point$2.ZERO=new Point$2(_0n$2,_1n$2);class Signature$2{constructor(ee,te){this.r=ee,this.s=te,this.assertValidity()}static fromHex(ee){const te=ensureBytes$1(ee,64),ne=Point$2.fromHex(te.slice(0,32),!1),se=bytesToNumberLE(te.slice(32,64));return new Signature$2(ne,se)}assertValidity(){const{r:ee,s:te}=this;if(!(ee instanceof Point$2))throw new Error("Expected Point instance");return normalizeScalar$1(te,CURVE$1.l,!1),this}toRawBytes(){const ee=new Uint8Array(64);return ee.set(this.r.toRawBytes()),ee.set(numberTo32BytesLE(this.s),32),ee}toHex(){return bytesToHex$1(this.toRawBytes())}}function concatBytes$1(...re){if(!re.every(ne=>ne instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(re.length===1)return re[0];const ee=re.reduce((ne,se)=>ne+se.length,0),te=new Uint8Array(ee);for(let ne=0,se=0;ne<re.length;ne++){const ie=re[ne];te.set(ie,se),se+=ie.length}return te}const hexes$1=Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function bytesToHex$1(re){if(!(re instanceof Uint8Array))throw new Error("Uint8Array expected");let ee="";for(let te=0;te<re.length;te++)ee+=hexes$1[re[te]];return ee}function hexToBytes$1(re){if(typeof re!="string")throw new TypeError("hexToBytes: expected string, got "+typeof re);if(re.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const ee=new Uint8Array(re.length/2);for(let te=0;te<ee.length;te++){const ne=te*2,se=re.slice(ne,ne+2),ie=Number.parseInt(se,16);if(Number.isNaN(ie)||ie<0)throw new Error("Invalid byte sequence");ee[te]=ie}return ee}function numberTo32BytesBE(re){const te=re.toString(16).padStart(64,"0");return hexToBytes$1(te)}function numberTo32BytesLE(re){return numberTo32BytesBE(re).reverse()}function edIsNegative(re){return(mod$1(re)&_1n$2)===_1n$2}function bytesToNumberLE(re){if(!(re instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex$1(Uint8Array.from(re).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(re){return mod$1(bytesToNumberLE(re)&MAX_255B)}function mod$1(re,ee=CURVE$1.P){const te=re%ee;return te>=_0n$2?te:ee+te}function invert$1(re,ee=CURVE$1.P){if(re===_0n$2||ee<=_0n$2)throw new Error(`invert: expected positive integers, got n=${re} mod=${ee}`);let te=mod$1(re,ee),ne=ee,se=_0n$2,ie=_1n$2;for(;te!==_0n$2;){const ue=ne/te,xe=ne%te,Ee=se-ie*ue;ne=te,te=xe,se=ie,ie=Ee}if(ne!==_1n$2)throw new Error("invert: does not exist");return mod$1(se,ee)}function invertBatch$1(re,ee=CURVE$1.P){const te=new Array(re.length),ne=re.reduce((ie,fe,ue)=>fe===_0n$2?ie:(te[ue]=ie,mod$1(ie*fe,ee)),_1n$2),se=invert$1(ne,ee);return re.reduceRight((ie,fe,ue)=>fe===_0n$2?ie:(te[ue]=mod$1(ie*te[ue],ee),mod$1(ie*fe,ee)),se),te}function pow2$1(re,ee){const{P:te}=CURVE$1;let ne=re;for(;ee-- >_0n$2;)ne*=ne,ne%=te;return ne}function pow_2_252_3(re){const{P:ee}=CURVE$1,te=BigInt(5),ne=BigInt(10),se=BigInt(20),ie=BigInt(40),fe=BigInt(80),xe=re*re%ee*re%ee,Ee=pow2$1(xe,_2n$2)*xe%ee,Ae=pow2$1(Ee,_1n$2)*re%ee,Me=pow2$1(Ae,te)*Ae%ee,Pe=pow2$1(Me,ne)*Me%ee,Ne=pow2$1(Pe,se)*Pe%ee,je=pow2$1(Ne,ie)*Ne%ee,Ue=pow2$1(je,fe)*je%ee,Ce=pow2$1(Ue,fe)*je%ee,Be=pow2$1(Ce,ne)*Me%ee;return{pow_p_5_8:pow2$1(Be,_2n$2)*re%ee,b2:xe}}function uvRatio(re,ee){const te=mod$1(ee*ee*ee),ne=mod$1(te*te*ee),se=pow_2_252_3(re*ne).pow_p_5_8;let ie=mod$1(re*te*se);const fe=mod$1(ee*ie*ie),ue=ie,xe=mod$1(ie*SQRT_M1),Ee=fe===re,Ae=fe===mod$1(-re),Me=fe===mod$1(-re*SQRT_M1);return Ee&&(ie=ue),(Ae||Me)&&(ie=xe),edIsNegative(ie)&&(ie=mod$1(-ie)),{isValid:Ee||Ae,value:ie}}function invertSqrt(re){return uvRatio(_1n$2,re)}function modlLE(re){return mod$1(bytesToNumberLE(re),CURVE$1.l)}function equalBytes(re,ee){if(re.length!==ee.length)return!1;for(let te=0;te<re.length;te++)if(re[te]!==ee[te])return!1;return!0}function ensureBytes$1(re,ee){const te=re instanceof Uint8Array?Uint8Array.from(re):hexToBytes$1(re);if(typeof ee=="number"&&te.length!==ee)throw new Error(`Expected ${ee} bytes`);return te}function normalizeScalar$1(re,ee,te=!0){if(!ee)throw new TypeError("Specify max value");if(typeof re=="number"&&Number.isSafeInteger(re)&&(re=BigInt(re)),typeof re=="bigint"&&re<ee){if(te){if(_0n$2<re)return re}else if(_0n$2<=re)return re}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(re){return re[0]&=248,re[31]&=127,re[31]|=64,re}function checkPrivateKey(re){if(re=typeof re=="bigint"||typeof re=="number"?numberTo32BytesBE(normalizeScalar$1(re,POW_2_256$1)):ensureBytes$1(re),re.length!==32)throw new Error("Expected 32 bytes");return re}function getKeyFromHash(re){const ee=adjustBytes25519(re.slice(0,32)),te=re.slice(32,64),ne=modlLE(ee),se=Point$2.BASE.multiply(ne),ie=se.toRawBytes();return{head:ee,prefix:te,scalar:ne,point:se,pointBytes:ie}}let _sha512Sync;function sha512s(...re){if(typeof _sha512Sync!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return _sha512Sync(...re)}async function getExtendedPublicKey(re){return getKeyFromHash(await utils$c.sha512(checkPrivateKey(re)))}function getExtendedPublicKeySync(re){return getKeyFromHash(sha512s(checkPrivateKey(re)))}function getPublicKeySync(re){return getExtendedPublicKeySync(re).pointBytes}function signSync$1(re,ee){re=ensureBytes$1(re);const{prefix:te,scalar:ne,pointBytes:se}=getExtendedPublicKeySync(ee),ie=modlLE(sha512s(te,re)),fe=Point$2.BASE.multiply(ie),ue=modlLE(sha512s(fe.toRawBytes(),se,re)),xe=mod$1(ie+ue*ne,CURVE$1.l);return new Signature$2(fe,xe).toRawBytes()}function prepareVerification(re,ee,te){ee=ensureBytes$1(ee),te instanceof Point$2||(te=Point$2.fromHex(te,!1));const{r:ne,s:se}=re instanceof Signature$2?re.assertValidity():Signature$2.fromHex(re),ie=ExtendedPoint.BASE.multiplyUnsafe(se);return{r:ne,s:se,SB:ie,pub:te,msg:ee}}function finishVerification(re,ee,te,ne){const se=modlLE(ne),ie=ExtendedPoint.fromAffine(re).multiplyUnsafe(se);return ExtendedPoint.fromAffine(ee).add(ie).subtract(te).multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}function verifySync(re,ee,te){const{r:ne,SB:se,msg:ie,pub:fe}=prepareVerification(re,ee,te),ue=sha512s(ne.toRawBytes(),fe.toRawBytes(),ie);return finishVerification(fe,ne,se,ue)}const sync={getExtendedPublicKey:getExtendedPublicKeySync,getPublicKey:getPublicKeySync,sign:signSync$1,verify:verifySync};Point$2.BASE._setWindowSize(8);const crypto$3={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils$c={bytesToHex:bytesToHex$1,hexToBytes:hexToBytes$1,concatBytes:concatBytes$1,getExtendedPublicKey,mod:mod$1,invert:invert$1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:re=>{if(re=ensureBytes$1(re),re.length<40||re.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod$1(bytesToNumberLE(re),CURVE$1.l-_1n$2)+_1n$2},randomBytes:(re=32)=>{if(crypto$3.web)return crypto$3.web.getRandomValues(new Uint8Array(re));if(crypto$3.node){const{randomBytes:ee}=crypto$3.node;return new Uint8Array(ee(re).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$c.randomBytes(32),sha512:async(...re)=>{const ee=concatBytes$1(...re);if(crypto$3.web){const te=await crypto$3.web.subtle.digest("SHA-512",ee.buffer);return new Uint8Array(te)}else{if(crypto$3.node)return Uint8Array.from(crypto$3.node.createHash("sha512").update(ee).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(re=8,ee=Point$2.BASE){const te=ee.equals(Point$2.BASE)?ee:new Point$2(ee.x,ee.y);return te._setWindowSize(re),te.multiply(_2n$2),te},sha512Sync:void 0};Object.defineProperties(utils$c,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(re){_sha512Sync||(_sha512Sync=re)}}});var bn$2={exports:{}};(function(re){(function(ee,te){function ne(pe,oe){if(!pe)throw new Error(oe||"Assertion failed")}function se(pe,oe){pe.super_=oe;var ce=function(){};ce.prototype=oe.prototype,pe.prototype=new ce,pe.prototype.constructor=pe}function ie(pe,oe,ce){if(ie.isBN(pe))return pe;this.negative=0,this.words=null,this.length=0,this.red=null,pe!==null&&((oe==="le"||oe==="be")&&(ce=oe,oe=10),this._init(pe||0,oe||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{typeof window<"u"&&typeof window.Buffer<"u"?fe=window.Buffer:fe=require$$0$4.Buffer}catch{}ie.isBN=function(oe){return oe instanceof ie?!0:oe!==null&&typeof oe=="object"&&oe.constructor.wordSize===ie.wordSize&&Array.isArray(oe.words)},ie.max=function(oe,ce){return oe.cmp(ce)>0?oe:ce},ie.min=function(oe,ce){return oe.cmp(ce)<0?oe:ce},ie.prototype._init=function(oe,ce,le){if(typeof oe=="number")return this._initNumber(oe,ce,le);if(typeof oe=="object")return this._initArray(oe,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),oe=oe.toString().replace(/\s+/g,"");var ge=0;oe[0]==="-"&&(ge++,this.negative=1),ge<oe.length&&(ce===16?this._parseHex(oe,ge,le):(this._parseBase(oe,ce,ge),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(oe,ce,le){oe<0&&(this.negative=1,oe=-oe),oe<67108864?(this.words=[oe&67108863],this.length=1):oe<4503599627370496?(this.words=[oe&67108863,oe/67108864&67108863],this.length=2):(ne(oe<9007199254740992),this.words=[oe&67108863,oe/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(oe,ce,le){if(ne(typeof oe.length=="number"),oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(oe.length/3),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye,me,ve=0;if(le==="be")for(ge=oe.length-1,ye=0;ge>=0;ge-=3)me=oe[ge]|oe[ge-1]<<8|oe[ge-2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);else if(le==="le")for(ge=0,ye=0;ge<oe.length;ge+=3)me=oe[ge]|oe[ge+1]<<8|oe[ge+2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);return this._strip()};function ue(pe,oe){var ce=pe.charCodeAt(oe);if(ce>=48&&ce<=57)return ce-48;if(ce>=65&&ce<=70)return ce-55;if(ce>=97&&ce<=102)return ce-87;ne(!1,"Invalid character in "+pe)}function xe(pe,oe,ce){var le=ue(pe,ce);return ce-1>=oe&&(le|=ue(pe,ce-1)<<4),le}ie.prototype._parseHex=function(oe,ce,le){this.length=Math.ceil((oe.length-ce)/6),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye=0,me=0,ve;if(le==="be")for(ge=oe.length-1;ge>=ce;ge-=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8;else{var he=oe.length-ce;for(ge=he%2===0?ce+1:ce;ge<oe.length;ge+=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8}this._strip()};function Ee(pe,oe,ce,le){for(var ge=0,ye=0,me=Math.min(pe.length,ce),ve=oe;ve<me;ve++){var he=pe.charCodeAt(ve)-48;ge*=le,he>=49?ye=he-49+10:he>=17?ye=he-17+10:ye=he,ne(he>=0&&ye<le,"Invalid character"),ge+=ye}return ge}ie.prototype._parseBase=function(oe,ce,le){this.words=[0],this.length=1;for(var ge=0,ye=1;ye<=67108863;ye*=ce)ge++;ge--,ye=ye/ce|0;for(var me=oe.length-le,ve=me%ge,he=Math.min(me,me-ve)+le,ae=0,be=le;be<he;be+=ge)ae=Ee(oe,be,be+ge,ce),this.imuln(ye),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae);if(ve!==0){var ze=1;for(ae=Ee(oe,be,oe.length,ce),be=0;be<ve;be++)ze*=ce;this.imuln(ze),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae)}this._strip()},ie.prototype.copy=function(oe){oe.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)oe.words[ce]=this.words[ce];oe.length=this.length,oe.negative=this.negative,oe.red=this.red};function Ae(pe,oe){pe.words=oe.words,pe.length=oe.length,pe.negative=oe.negative,pe.red=oe.red}if(ie.prototype._move=function(oe){Ae(oe,this)},ie.prototype.clone=function(){var oe=new ie(null);return this.copy(oe),oe},ie.prototype._expand=function(oe){for(;this.length<oe;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me}catch{ie.prototype.inspect=Me}else ie.prototype.inspect=Me;function Me(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ne=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(oe,ce){oe=oe||10,ce=ce|0||1;var le;if(oe===16||oe==="hex"){le="";for(var ge=0,ye=0,me=0;me<this.length;me++){var ve=this.words[me],he=((ve<<ge|ye)&16777215).toString(16);ye=ve>>>24-ge&16777215,ge+=2,ge>=26&&(ge-=26,me--),ye!==0||me!==this.length-1?le=Pe[6-he.length]+he+le:le=he+le}for(ye!==0&&(le=ye.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(oe===(oe|0)&&oe>=2&&oe<=36){var ae=Ne[oe],be=je[oe];le="";var ze=this.clone();for(ze.negative=0;!ze.isZero();){var Ie=ze.modrn(be).toString(oe);ze=ze.idivn(be),ze.isZero()?le=Ie+le:le=Pe[ae-Ie.length]+Ie+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var oe=this.words[0];return this.length===2?oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?oe+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-oe:oe},ie.prototype.toJSON=function(){return this.toString(16,2)},fe&&(ie.prototype.toBuffer=function(oe,ce){return this.toArrayLike(fe,oe,ce)}),ie.prototype.toArray=function(oe,ce){return this.toArrayLike(Array,oe,ce)};var Ue=function(oe,ce){return oe.allocUnsafe?oe.allocUnsafe(ce):new oe(ce)};ie.prototype.toArrayLike=function(oe,ce,le){this._strip();var ge=this.byteLength(),ye=le||Math.max(1,ge);ne(ge<=ye,"byte array longer than desired length"),ne(ye>0,"Requested array length <= 0");var me=Ue(oe,ye),ve=ce==="le"?"LE":"BE";return this["_toArrayLike"+ve](me,ge),me},ie.prototype._toArrayLikeLE=function(oe,ce){for(var le=0,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le++]=ve&255,le<oe.length&&(oe[le++]=ve>>8&255),le<oe.length&&(oe[le++]=ve>>16&255),me===6?(le<oe.length&&(oe[le++]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le<oe.length)for(oe[le++]=ge;le<oe.length;)oe[le++]=0},ie.prototype._toArrayLikeBE=function(oe,ce){for(var le=oe.length-1,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le--]=ve&255,le>=0&&(oe[le--]=ve>>8&255),le>=0&&(oe[le--]=ve>>16&255),me===6?(le>=0&&(oe[le--]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le>=0)for(oe[le--]=ge;le>=0;)oe[le--]=0},Math.clz32?ie.prototype._countBits=function(oe){return 32-Math.clz32(oe)}:ie.prototype._countBits=function(oe){var ce=oe,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(oe){if(oe===0)return 26;var ce=oe,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var oe=this.words[this.length-1],ce=this._countBits(oe);return(this.length-1)*26+ce};function Ce(pe){for(var oe=new Array(pe.bitLength()),ce=0;ce<oe.length;ce++){var le=ce/26|0,ge=ce%26;oe[ce]=pe.words[le]>>>ge&1}return oe}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var oe=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(oe+=le,le!==26)break}return oe},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(oe){return this.negative!==0?this.abs().inotn(oe).iaddn(1):this.clone()},ie.prototype.fromTwos=function(oe){return this.testn(oe-1)?this.notn(oe).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(oe){for(;this.length<oe.length;)this.words[this.length++]=0;for(var ce=0;ce<oe.length;ce++)this.words[ce]=this.words[ce]|oe.words[ce];return this._strip()},ie.prototype.ior=function(oe){return ne((this.negative|oe.negative)===0),this.iuor(oe)},ie.prototype.or=function(oe){return this.length>oe.length?this.clone().ior(oe):oe.clone().ior(this)},ie.prototype.uor=function(oe){return this.length>oe.length?this.clone().iuor(oe):oe.clone().iuor(this)},ie.prototype.iuand=function(oe){var ce;this.length>oe.length?ce=oe:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&oe.words[le];return this.length=ce.length,this._strip()},ie.prototype.iand=function(oe){return ne((this.negative|oe.negative)===0),this.iuand(oe)},ie.prototype.and=function(oe){return this.length>oe.length?this.clone().iand(oe):oe.clone().iand(this)},ie.prototype.uand=function(oe){return this.length>oe.length?this.clone().iuand(oe):oe.clone().iuand(this)},ie.prototype.iuxor=function(oe){var ce,le;this.length>oe.length?(ce=this,le=oe):(ce=oe,le=this);for(var ge=0;ge<le.length;ge++)this.words[ge]=ce.words[ge]^le.words[ge];if(this!==ce)for(;ge<ce.length;ge++)this.words[ge]=ce.words[ge];return this.length=ce.length,this._strip()},ie.prototype.ixor=function(oe){return ne((this.negative|oe.negative)===0),this.iuxor(oe)},ie.prototype.xor=function(oe){return this.length>oe.length?this.clone().ixor(oe):oe.clone().ixor(this)},ie.prototype.uxor=function(oe){return this.length>oe.length?this.clone().iuxor(oe):oe.clone().iuxor(this)},ie.prototype.inotn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=Math.ceil(oe/26)|0,le=oe%26;this._expand(ce),le>0&&ce--;for(var ge=0;ge<ce;ge++)this.words[ge]=~this.words[ge]&67108863;return le>0&&(this.words[ge]=~this.words[ge]&67108863>>26-le),this._strip()},ie.prototype.notn=function(oe){return this.clone().inotn(oe)},ie.prototype.setn=function(oe,ce){ne(typeof oe=="number"&&oe>=0);var le=oe/26|0,ge=oe%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<ge:this.words[le]=this.words[le]&~(1<<ge),this._strip()},ie.prototype.iadd=function(oe){var ce;if(this.negative!==0&&oe.negative===0)return this.negative=0,ce=this.isub(oe),this.negative^=1,this._normSign();if(this.negative===0&&oe.negative!==0)return oe.negative=0,ce=this.isub(oe),oe.negative=1,ce._normSign();var le,ge;this.length>oe.length?(le=this,ge=oe):(le=oe,ge=this);for(var ye=0,me=0;me<ge.length;me++)ce=(le.words[me]|0)+(ge.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;for(;ye!==0&&me<le.length;me++)ce=(le.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;if(this.length=le.length,ye!==0)this.words[this.length]=ye,this.length++;else if(le!==this)for(;me<le.length;me++)this.words[me]=le.words[me];return this},ie.prototype.add=function(oe){var ce;return oe.negative!==0&&this.negative===0?(oe.negative=0,ce=this.sub(oe),oe.negative^=1,ce):oe.negative===0&&this.negative!==0?(this.negative=0,ce=oe.sub(this),this.negative=1,ce):this.length>oe.length?this.clone().iadd(oe):oe.clone().iadd(this)},ie.prototype.isub=function(oe){if(oe.negative!==0){oe.negative=0;var ce=this.iadd(oe);return oe.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(oe),this.negative=1,this._normSign();var le=this.cmp(oe);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ge,ye;le>0?(ge=this,ye=oe):(ge=oe,ye=this);for(var me=0,ve=0;ve<ye.length;ve++)ce=(ge.words[ve]|0)-(ye.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;for(;me!==0&&ve<ge.length;ve++)ce=(ge.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;if(me===0&&ve<ge.length&&ge!==this)for(;ve<ge.length;ve++)this.words[ve]=ge.words[ve];return this.length=Math.max(this.length,ve),ge!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(oe){return this.clone().isub(oe)};function Be(pe,oe,ce){ce.negative=oe.negative^pe.negative;var le=pe.length+oe.length|0;ce.length=le,le=le-1|0;var ge=pe.words[0]|0,ye=oe.words[0]|0,me=ge*ye,ve=me&67108863,he=me/67108864|0;ce.words[0]=ve;for(var ae=1;ae<le;ae++){for(var be=he>>>26,ze=he&67108863,Ie=Math.min(ae,oe.length-1),We=Math.max(0,ae-pe.length+1);We<=Ie;We++){var ft=ae-We|0;ge=pe.words[ft]|0,ye=oe.words[We]|0,me=ge*ye+ze,be+=me/67108864|0,ze=me&67108863}ce.words[ae]=ze|0,he=be|0}return he!==0?ce.words[ae]=he|0:ce.length--,ce._strip()}var He=function(oe,ce,le){var ge=oe.words,ye=ce.words,me=le.words,ve=0,he,ae,be,ze=ge[0]|0,Ie=ze&8191,We=ze>>>13,ft=ge[1]|0,nt=ft&8191,at=ft>>>13,Ht=ge[2]|0,dt=Ht&8191,gt=Ht>>>13,Jt=ge[3]|0,yt=Jt&8191,Mt=Jt>>>13,it=ge[4]|0,Le=it&8191,De=it>>>13,ct=ge[5]|0,ot=ct&8191,lt=ct>>>13,Pt=ge[6]|0,Et=Pt&8191,St=Pt>>>13,ar=ge[7]|0,Tt=ar&8191,Re=ar>>>13,we=ge[8]|0,_e=we&8191,ke=we>>>13,Ze=ge[9]|0,Je=Ze&8191,tt=Ze>>>13,zt=ye[0]|0,_t=zt&8191,vt=zt>>>13,nr=ye[1]|0,xt=nr&8191,Nt=nr>>>13,Ar=ye[2]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ye[3]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ye[4]|0,Ot=_r&8191,$t=_r>>>13,Sr=ye[5]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ye[6]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ye[7]|0,Te=et&8191,Ye=et>>>13,bt=ye[8]|0,st=bt&8191,ut=bt>>>13,qt=ye[9]|0,At=qt&8191,wt=qt>>>13;le.negative=oe.negative^ce.negative,le.length=19,he=Math.imul(Ie,_t),ae=Math.imul(Ie,vt),ae=ae+Math.imul(We,_t)|0,be=Math.imul(We,vt);var lr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(lr>>>26)|0,lr&=67108863,he=Math.imul(nt,_t),ae=Math.imul(nt,vt),ae=ae+Math.imul(at,_t)|0,be=Math.imul(at,vt),he=he+Math.imul(Ie,xt)|0,ae=ae+Math.imul(Ie,Nt)|0,ae=ae+Math.imul(We,xt)|0,be=be+Math.imul(We,Nt)|0;var Wt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,he=Math.imul(dt,_t),ae=Math.imul(dt,vt),ae=ae+Math.imul(gt,_t)|0,be=Math.imul(gt,vt),he=he+Math.imul(nt,xt)|0,ae=ae+Math.imul(nt,Nt)|0,ae=ae+Math.imul(at,xt)|0,be=be+Math.imul(at,Nt)|0,he=he+Math.imul(Ie,Lt)|0,ae=ae+Math.imul(Ie,Ft)|0,ae=ae+Math.imul(We,Lt)|0,be=be+Math.imul(We,Ft)|0;var tr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(tr>>>26)|0,tr&=67108863,he=Math.imul(yt,_t),ae=Math.imul(yt,vt),ae=ae+Math.imul(Mt,_t)|0,be=Math.imul(Mt,vt),he=he+Math.imul(dt,xt)|0,ae=ae+Math.imul(dt,Nt)|0,ae=ae+Math.imul(gt,xt)|0,be=be+Math.imul(gt,Nt)|0,he=he+Math.imul(nt,Lt)|0,ae=ae+Math.imul(nt,Ft)|0,ae=ae+Math.imul(at,Lt)|0,be=be+Math.imul(at,Ft)|0,he=he+Math.imul(Ie,kt)|0,ae=ae+Math.imul(Ie,Bt)|0,ae=ae+Math.imul(We,kt)|0,be=be+Math.imul(We,Bt)|0;var rr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(rr>>>26)|0,rr&=67108863,he=Math.imul(Le,_t),ae=Math.imul(Le,vt),ae=ae+Math.imul(De,_t)|0,be=Math.imul(De,vt),he=he+Math.imul(yt,xt)|0,ae=ae+Math.imul(yt,Nt)|0,ae=ae+Math.imul(Mt,xt)|0,be=be+Math.imul(Mt,Nt)|0,he=he+Math.imul(dt,Lt)|0,ae=ae+Math.imul(dt,Ft)|0,ae=ae+Math.imul(gt,Lt)|0,be=be+Math.imul(gt,Ft)|0,he=he+Math.imul(nt,kt)|0,ae=ae+Math.imul(nt,Bt)|0,ae=ae+Math.imul(at,kt)|0,be=be+Math.imul(at,Bt)|0,he=he+Math.imul(Ie,Ot)|0,ae=ae+Math.imul(Ie,$t)|0,ae=ae+Math.imul(We,Ot)|0,be=be+Math.imul(We,$t)|0;var ir=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ir>>>26)|0,ir&=67108863,he=Math.imul(ot,_t),ae=Math.imul(ot,vt),ae=ae+Math.imul(lt,_t)|0,be=Math.imul(lt,vt),he=he+Math.imul(Le,xt)|0,ae=ae+Math.imul(Le,Nt)|0,ae=ae+Math.imul(De,xt)|0,be=be+Math.imul(De,Nt)|0,he=he+Math.imul(yt,Lt)|0,ae=ae+Math.imul(yt,Ft)|0,ae=ae+Math.imul(Mt,Lt)|0,be=be+Math.imul(Mt,Ft)|0,he=he+Math.imul(dt,kt)|0,ae=ae+Math.imul(dt,Bt)|0,ae=ae+Math.imul(gt,kt)|0,be=be+Math.imul(gt,Bt)|0,he=he+Math.imul(nt,Ot)|0,ae=ae+Math.imul(nt,$t)|0,ae=ae+Math.imul(at,Ot)|0,be=be+Math.imul(at,$t)|0,he=he+Math.imul(Ie,Dt)|0,ae=ae+Math.imul(Ie,Ct)|0,ae=ae+Math.imul(We,Dt)|0,be=be+Math.imul(We,Ct)|0;var ur=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ur>>>26)|0,ur&=67108863,he=Math.imul(Et,_t),ae=Math.imul(Et,vt),ae=ae+Math.imul(St,_t)|0,be=Math.imul(St,vt),he=he+Math.imul(ot,xt)|0,ae=ae+Math.imul(ot,Nt)|0,ae=ae+Math.imul(lt,xt)|0,be=be+Math.imul(lt,Nt)|0,he=he+Math.imul(Le,Lt)|0,ae=ae+Math.imul(Le,Ft)|0,ae=ae+Math.imul(De,Lt)|0,be=be+Math.imul(De,Ft)|0,he=he+Math.imul(yt,kt)|0,ae=ae+Math.imul(yt,Bt)|0,ae=ae+Math.imul(Mt,kt)|0,be=be+Math.imul(Mt,Bt)|0,he=he+Math.imul(dt,Ot)|0,ae=ae+Math.imul(dt,$t)|0,ae=ae+Math.imul(gt,Ot)|0,be=be+Math.imul(gt,$t)|0,he=he+Math.imul(nt,Dt)|0,ae=ae+Math.imul(nt,Ct)|0,ae=ae+Math.imul(at,Dt)|0,be=be+Math.imul(at,Ct)|0,he=he+Math.imul(Ie,Fe)|0,ae=ae+Math.imul(Ie,Ge)|0,ae=ae+Math.imul(We,Fe)|0,be=be+Math.imul(We,Ge)|0;var or=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(or>>>26)|0,or&=67108863,he=Math.imul(Tt,_t),ae=Math.imul(Tt,vt),ae=ae+Math.imul(Re,_t)|0,be=Math.imul(Re,vt),he=he+Math.imul(Et,xt)|0,ae=ae+Math.imul(Et,Nt)|0,ae=ae+Math.imul(St,xt)|0,be=be+Math.imul(St,Nt)|0,he=he+Math.imul(ot,Lt)|0,ae=ae+Math.imul(ot,Ft)|0,ae=ae+Math.imul(lt,Lt)|0,be=be+Math.imul(lt,Ft)|0,he=he+Math.imul(Le,kt)|0,ae=ae+Math.imul(Le,Bt)|0,ae=ae+Math.imul(De,kt)|0,be=be+Math.imul(De,Bt)|0,he=he+Math.imul(yt,Ot)|0,ae=ae+Math.imul(yt,$t)|0,ae=ae+Math.imul(Mt,Ot)|0,be=be+Math.imul(Mt,$t)|0,he=he+Math.imul(dt,Dt)|0,ae=ae+Math.imul(dt,Ct)|0,ae=ae+Math.imul(gt,Dt)|0,be=be+Math.imul(gt,Ct)|0,he=he+Math.imul(nt,Fe)|0,ae=ae+Math.imul(nt,Ge)|0,ae=ae+Math.imul(at,Fe)|0,be=be+Math.imul(at,Ge)|0,he=he+Math.imul(Ie,Te)|0,ae=ae+Math.imul(Ie,Ye)|0,ae=ae+Math.imul(We,Te)|0,be=be+Math.imul(We,Ye)|0;var cr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(cr>>>26)|0,cr&=67108863,he=Math.imul(_e,_t),ae=Math.imul(_e,vt),ae=ae+Math.imul(ke,_t)|0,be=Math.imul(ke,vt),he=he+Math.imul(Tt,xt)|0,ae=ae+Math.imul(Tt,Nt)|0,ae=ae+Math.imul(Re,xt)|0,be=be+Math.imul(Re,Nt)|0,he=he+Math.imul(Et,Lt)|0,ae=ae+Math.imul(Et,Ft)|0,ae=ae+Math.imul(St,Lt)|0,be=be+Math.imul(St,Ft)|0,he=he+Math.imul(ot,kt)|0,ae=ae+Math.imul(ot,Bt)|0,ae=ae+Math.imul(lt,kt)|0,be=be+Math.imul(lt,Bt)|0,he=he+Math.imul(Le,Ot)|0,ae=ae+Math.imul(Le,$t)|0,ae=ae+Math.imul(De,Ot)|0,be=be+Math.imul(De,$t)|0,he=he+Math.imul(yt,Dt)|0,ae=ae+Math.imul(yt,Ct)|0,ae=ae+Math.imul(Mt,Dt)|0,be=be+Math.imul(Mt,Ct)|0,he=he+Math.imul(dt,Fe)|0,ae=ae+Math.imul(dt,Ge)|0,ae=ae+Math.imul(gt,Fe)|0,be=be+Math.imul(gt,Ge)|0,he=he+Math.imul(nt,Te)|0,ae=ae+Math.imul(nt,Ye)|0,ae=ae+Math.imul(at,Te)|0,be=be+Math.imul(at,Ye)|0,he=he+Math.imul(Ie,st)|0,ae=ae+Math.imul(Ie,ut)|0,ae=ae+Math.imul(We,st)|0,be=be+Math.imul(We,ut)|0;var sr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(sr>>>26)|0,sr&=67108863,he=Math.imul(Je,_t),ae=Math.imul(Je,vt),ae=ae+Math.imul(tt,_t)|0,be=Math.imul(tt,vt),he=he+Math.imul(_e,xt)|0,ae=ae+Math.imul(_e,Nt)|0,ae=ae+Math.imul(ke,xt)|0,be=be+Math.imul(ke,Nt)|0,he=he+Math.imul(Tt,Lt)|0,ae=ae+Math.imul(Tt,Ft)|0,ae=ae+Math.imul(Re,Lt)|0,be=be+Math.imul(Re,Ft)|0,he=he+Math.imul(Et,kt)|0,ae=ae+Math.imul(Et,Bt)|0,ae=ae+Math.imul(St,kt)|0,be=be+Math.imul(St,Bt)|0,he=he+Math.imul(ot,Ot)|0,ae=ae+Math.imul(ot,$t)|0,ae=ae+Math.imul(lt,Ot)|0,be=be+Math.imul(lt,$t)|0,he=he+Math.imul(Le,Dt)|0,ae=ae+Math.imul(Le,Ct)|0,ae=ae+Math.imul(De,Dt)|0,be=be+Math.imul(De,Ct)|0,he=he+Math.imul(yt,Fe)|0,ae=ae+Math.imul(yt,Ge)|0,ae=ae+Math.imul(Mt,Fe)|0,be=be+Math.imul(Mt,Ge)|0,he=he+Math.imul(dt,Te)|0,ae=ae+Math.imul(dt,Ye)|0,ae=ae+Math.imul(gt,Te)|0,be=be+Math.imul(gt,Ye)|0,he=he+Math.imul(nt,st)|0,ae=ae+Math.imul(nt,ut)|0,ae=ae+Math.imul(at,st)|0,be=be+Math.imul(at,ut)|0,he=he+Math.imul(Ie,At)|0,ae=ae+Math.imul(Ie,wt)|0,ae=ae+Math.imul(We,At)|0,be=be+Math.imul(We,wt)|0;var Zt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,he=Math.imul(Je,xt),ae=Math.imul(Je,Nt),ae=ae+Math.imul(tt,xt)|0,be=Math.imul(tt,Nt),he=he+Math.imul(_e,Lt)|0,ae=ae+Math.imul(_e,Ft)|0,ae=ae+Math.imul(ke,Lt)|0,be=be+Math.imul(ke,Ft)|0,he=he+Math.imul(Tt,kt)|0,ae=ae+Math.imul(Tt,Bt)|0,ae=ae+Math.imul(Re,kt)|0,be=be+Math.imul(Re,Bt)|0,he=he+Math.imul(Et,Ot)|0,ae=ae+Math.imul(Et,$t)|0,ae=ae+Math.imul(St,Ot)|0,be=be+Math.imul(St,$t)|0,he=he+Math.imul(ot,Dt)|0,ae=ae+Math.imul(ot,Ct)|0,ae=ae+Math.imul(lt,Dt)|0,be=be+Math.imul(lt,Ct)|0,he=he+Math.imul(Le,Fe)|0,ae=ae+Math.imul(Le,Ge)|0,ae=ae+Math.imul(De,Fe)|0,be=be+Math.imul(De,Ge)|0,he=he+Math.imul(yt,Te)|0,ae=ae+Math.imul(yt,Ye)|0,ae=ae+Math.imul(Mt,Te)|0,be=be+Math.imul(Mt,Ye)|0,he=he+Math.imul(dt,st)|0,ae=ae+Math.imul(dt,ut)|0,ae=ae+Math.imul(gt,st)|0,be=be+Math.imul(gt,ut)|0,he=he+Math.imul(nt,At)|0,ae=ae+Math.imul(nt,wt)|0,ae=ae+Math.imul(at,At)|0,be=be+Math.imul(at,wt)|0;var er=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(er>>>26)|0,er&=67108863,he=Math.imul(Je,Lt),ae=Math.imul(Je,Ft),ae=ae+Math.imul(tt,Lt)|0,be=Math.imul(tt,Ft),he=he+Math.imul(_e,kt)|0,ae=ae+Math.imul(_e,Bt)|0,ae=ae+Math.imul(ke,kt)|0,be=be+Math.imul(ke,Bt)|0,he=he+Math.imul(Tt,Ot)|0,ae=ae+Math.imul(Tt,$t)|0,ae=ae+Math.imul(Re,Ot)|0,be=be+Math.imul(Re,$t)|0,he=he+Math.imul(Et,Dt)|0,ae=ae+Math.imul(Et,Ct)|0,ae=ae+Math.imul(St,Dt)|0,be=be+Math.imul(St,Ct)|0,he=he+Math.imul(ot,Fe)|0,ae=ae+Math.imul(ot,Ge)|0,ae=ae+Math.imul(lt,Fe)|0,be=be+Math.imul(lt,Ge)|0,he=he+Math.imul(Le,Te)|0,ae=ae+Math.imul(Le,Ye)|0,ae=ae+Math.imul(De,Te)|0,be=be+Math.imul(De,Ye)|0,he=he+Math.imul(yt,st)|0,ae=ae+Math.imul(yt,ut)|0,ae=ae+Math.imul(Mt,st)|0,be=be+Math.imul(Mt,ut)|0,he=he+Math.imul(dt,At)|0,ae=ae+Math.imul(dt,wt)|0,ae=ae+Math.imul(gt,At)|0,be=be+Math.imul(gt,wt)|0;var Yt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,he=Math.imul(Je,kt),ae=Math.imul(Je,Bt),ae=ae+Math.imul(tt,kt)|0,be=Math.imul(tt,Bt),he=he+Math.imul(_e,Ot)|0,ae=ae+Math.imul(_e,$t)|0,ae=ae+Math.imul(ke,Ot)|0,be=be+Math.imul(ke,$t)|0,he=he+Math.imul(Tt,Dt)|0,ae=ae+Math.imul(Tt,Ct)|0,ae=ae+Math.imul(Re,Dt)|0,be=be+Math.imul(Re,Ct)|0,he=he+Math.imul(Et,Fe)|0,ae=ae+Math.imul(Et,Ge)|0,ae=ae+Math.imul(St,Fe)|0,be=be+Math.imul(St,Ge)|0,he=he+Math.imul(ot,Te)|0,ae=ae+Math.imul(ot,Ye)|0,ae=ae+Math.imul(lt,Te)|0,be=be+Math.imul(lt,Ye)|0,he=he+Math.imul(Le,st)|0,ae=ae+Math.imul(Le,ut)|0,ae=ae+Math.imul(De,st)|0,be=be+Math.imul(De,ut)|0,he=he+Math.imul(yt,At)|0,ae=ae+Math.imul(yt,wt)|0,ae=ae+Math.imul(Mt,At)|0,be=be+Math.imul(Mt,wt)|0;var Xt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,he=Math.imul(Je,Ot),ae=Math.imul(Je,$t),ae=ae+Math.imul(tt,Ot)|0,be=Math.imul(tt,$t),he=he+Math.imul(_e,Dt)|0,ae=ae+Math.imul(_e,Ct)|0,ae=ae+Math.imul(ke,Dt)|0,be=be+Math.imul(ke,Ct)|0,he=he+Math.imul(Tt,Fe)|0,ae=ae+Math.imul(Tt,Ge)|0,ae=ae+Math.imul(Re,Fe)|0,be=be+Math.imul(Re,Ge)|0,he=he+Math.imul(Et,Te)|0,ae=ae+Math.imul(Et,Ye)|0,ae=ae+Math.imul(St,Te)|0,be=be+Math.imul(St,Ye)|0,he=he+Math.imul(ot,st)|0,ae=ae+Math.imul(ot,ut)|0,ae=ae+Math.imul(lt,st)|0,be=be+Math.imul(lt,ut)|0,he=he+Math.imul(Le,At)|0,ae=ae+Math.imul(Le,wt)|0,ae=ae+Math.imul(De,At)|0,be=be+Math.imul(De,wt)|0;var Qt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,he=Math.imul(Je,Dt),ae=Math.imul(Je,Ct),ae=ae+Math.imul(tt,Dt)|0,be=Math.imul(tt,Ct),he=he+Math.imul(_e,Fe)|0,ae=ae+Math.imul(_e,Ge)|0,ae=ae+Math.imul(ke,Fe)|0,be=be+Math.imul(ke,Ge)|0,he=he+Math.imul(Tt,Te)|0,ae=ae+Math.imul(Tt,Ye)|0,ae=ae+Math.imul(Re,Te)|0,be=be+Math.imul(Re,Ye)|0,he=he+Math.imul(Et,st)|0,ae=ae+Math.imul(Et,ut)|0,ae=ae+Math.imul(St,st)|0,be=be+Math.imul(St,ut)|0,he=he+Math.imul(ot,At)|0,ae=ae+Math.imul(ot,wt)|0,ae=ae+Math.imul(lt,At)|0,be=be+Math.imul(lt,wt)|0;var Gt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,he=Math.imul(Je,Fe),ae=Math.imul(Je,Ge),ae=ae+Math.imul(tt,Fe)|0,be=Math.imul(tt,Ge),he=he+Math.imul(_e,Te)|0,ae=ae+Math.imul(_e,Ye)|0,ae=ae+Math.imul(ke,Te)|0,be=be+Math.imul(ke,Ye)|0,he=he+Math.imul(Tt,st)|0,ae=ae+Math.imul(Tt,ut)|0,ae=ae+Math.imul(Re,st)|0,be=be+Math.imul(Re,ut)|0,he=he+Math.imul(Et,At)|0,ae=ae+Math.imul(Et,wt)|0,ae=ae+Math.imul(St,At)|0,be=be+Math.imul(St,wt)|0;var Rt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,he=Math.imul(Je,Te),ae=Math.imul(Je,Ye),ae=ae+Math.imul(tt,Te)|0,be=Math.imul(tt,Ye),he=he+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,ut)|0,ae=ae+Math.imul(ke,st)|0,be=be+Math.imul(ke,ut)|0,he=he+Math.imul(Tt,At)|0,ae=ae+Math.imul(Tt,wt)|0,ae=ae+Math.imul(Re,At)|0,be=be+Math.imul(Re,wt)|0;var It=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(It>>>26)|0,It&=67108863,he=Math.imul(Je,st),ae=Math.imul(Je,ut),ae=ae+Math.imul(tt,st)|0,be=Math.imul(tt,ut),he=he+Math.imul(_e,At)|0,ae=ae+Math.imul(_e,wt)|0,ae=ae+Math.imul(ke,At)|0,be=be+Math.imul(ke,wt)|0;var Kt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,he=Math.imul(Je,At),ae=Math.imul(Je,wt),ae=ae+Math.imul(tt,At)|0,be=Math.imul(tt,wt);var Ut=(ve+he|0)+((ae&8191)<<13)|0;return ve=(be+(ae>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me[0]=lr,me[1]=Wt,me[2]=tr,me[3]=rr,me[4]=ir,me[5]=ur,me[6]=or,me[7]=cr,me[8]=sr,me[9]=Zt,me[10]=er,me[11]=Yt,me[12]=Xt,me[13]=Qt,me[14]=Gt,me[15]=Rt,me[16]=It,me[17]=Kt,me[18]=Ut,ve!==0&&(me[19]=ve,le.length++),le};Math.imul||(He=Be);function Oe(pe,oe,ce){ce.negative=oe.negative^pe.negative,ce.length=pe.length+oe.length;for(var le=0,ge=0,ye=0;ye<ce.length-1;ye++){var me=ge;ge=0;for(var ve=le&67108863,he=Math.min(ye,oe.length-1),ae=Math.max(0,ye-pe.length+1);ae<=he;ae++){var be=ye-ae,ze=pe.words[be]|0,Ie=oe.words[ae]|0,We=ze*Ie,ft=We&67108863;me=me+(We/67108864|0)|0,ft=ft+ve|0,ve=ft&67108863,me=me+(ft>>>26)|0,ge+=me>>>26,me&=67108863}ce.words[ye]=ve,le=me,me=ge}return le!==0?ce.words[ye]=le:ce.length--,ce._strip()}function Ke(pe,oe,ce){return Oe(pe,oe,ce)}ie.prototype.mulTo=function(oe,ce){var le,ge=this.length+oe.length;return this.length===10&&oe.length===10?le=He(this,oe,ce):ge<63?le=Be(this,oe,ce):ge<1024?le=Oe(this,oe,ce):le=Ke(this,oe,ce),le},ie.prototype.mul=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),this.mulTo(oe,ce)},ie.prototype.mulf=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),Ke(this,oe,ce)},ie.prototype.imul=function(oe){return this.clone().mulTo(oe,this)},ie.prototype.imuln=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(typeof oe=="number"),ne(oe<67108864);for(var le=0,ge=0;ge<this.length;ge++){var ye=(this.words[ge]|0)*oe,me=(ye&67108863)+(le&67108863);le>>=26,le+=ye/67108864|0,le+=me>>>26,this.words[ge]=me&67108863}return le!==0&&(this.words[ge]=le,this.length++),ce?this.ineg():this},ie.prototype.muln=function(oe){return this.clone().imuln(oe)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(oe){var ce=Ce(oe);if(ce.length===0)return new ie(1);for(var le=this,ge=0;ge<ce.length&&ce[ge]===0;ge++,le=le.sqr());if(++ge<ce.length)for(var ye=le.sqr();ge<ce.length;ge++,ye=ye.sqr())ce[ge]!==0&&(le=le.mul(ye));return le},ie.prototype.iushln=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=67108863>>>26-ce<<26-ce,ye;if(ce!==0){var me=0;for(ye=0;ye<this.length;ye++){var ve=this.words[ye]&ge,he=(this.words[ye]|0)-ve<<ce;this.words[ye]=he|me,me=ve>>>26-ce}me&&(this.words[ye]=me,this.length++)}if(le!==0){for(ye=this.length-1;ye>=0;ye--)this.words[ye+le]=this.words[ye];for(ye=0;ye<le;ye++)this.words[ye]=0;this.length+=le}return this._strip()},ie.prototype.ishln=function(oe){return ne(this.negative===0),this.iushln(oe)},ie.prototype.iushrn=function(oe,ce,le){ne(typeof oe=="number"&&oe>=0);var ge;ce?ge=(ce-ce%26)/26:ge=0;var ye=oe%26,me=Math.min((oe-ye)/26,this.length),ve=67108863^67108863>>>ye<<ye,he=le;if(ge-=me,ge=Math.max(0,ge),he){for(var ae=0;ae<me;ae++)he.words[ae]=this.words[ae];he.length=me}if(me!==0)if(this.length>me)for(this.length-=me,ae=0;ae<this.length;ae++)this.words[ae]=this.words[ae+me];else this.words[0]=0,this.length=1;var be=0;for(ae=this.length-1;ae>=0&&(be!==0||ae>=ge);ae--){var ze=this.words[ae]|0;this.words[ae]=be<<26-ye|ze>>>ye,be=ze&ve}return he&&be!==0&&(he.words[he.length++]=be),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(oe,ce,le){return ne(this.negative===0),this.iushrn(oe,ce,le)},ie.prototype.shln=function(oe){return this.clone().ishln(oe)},ie.prototype.ushln=function(oe){return this.clone().iushln(oe)},ie.prototype.shrn=function(oe){return this.clone().ishrn(oe)},ie.prototype.ushrn=function(oe){return this.clone().iushrn(oe)},ie.prototype.testn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return!1;var ye=this.words[le];return!!(ye&ge)},ie.prototype.imaskn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var ge=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=ge}return this._strip()},ie.prototype.maskn=function(oe){return this.clone().imaskn(oe)},ie.prototype.iaddn=function(oe){return ne(typeof oe=="number"),ne(oe<67108864),oe<0?this.isubn(-oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=oe?(this.words[0]=oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(oe),this.negative=1,this):this._iaddn(oe)},ie.prototype._iaddn=function(oe){this.words[0]+=oe;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(oe){if(ne(typeof oe=="number"),ne(oe<67108864),oe<0)return this.iaddn(-oe);if(this.negative!==0)return this.negative=0,this.iaddn(oe),this.negative=1,this;if(this.words[0]-=oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this._strip()},ie.prototype.addn=function(oe){return this.clone().iaddn(oe)},ie.prototype.subn=function(oe){return this.clone().isubn(oe)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(oe,ce,le){var ge=oe.length+le,ye;this._expand(ge);var me,ve=0;for(ye=0;ye<oe.length;ye++){me=(this.words[ye+le]|0)+ve;var he=(oe.words[ye]|0)*ce;me-=he&67108863,ve=(me>>26)-(he/67108864|0),this.words[ye+le]=me&67108863}for(;ye<this.length-le;ye++)me=(this.words[ye+le]|0)+ve,ve=me>>26,this.words[ye+le]=me&67108863;if(ve===0)return this._strip();for(ne(ve===-1),ve=0,ye=0;ye<this.length;ye++)me=-(this.words[ye]|0)+ve,ve=me>>26,this.words[ye]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(oe,ce){var le=this.length-oe.length,ge=this.clone(),ye=oe,me=ye.words[ye.length-1]|0,ve=this._countBits(me);le=26-ve,le!==0&&(ye=ye.ushln(le),ge.iushln(le),me=ye.words[ye.length-1]|0);var he=ge.length-ye.length,ae;if(ce!=="mod"){ae=new ie(null),ae.length=he+1,ae.words=new Array(ae.length);for(var be=0;be<ae.length;be++)ae.words[be]=0}var ze=ge.clone()._ishlnsubmul(ye,1,he);ze.negative===0&&(ge=ze,ae&&(ae.words[he]=1));for(var Ie=he-1;Ie>=0;Ie--){var We=(ge.words[ye.length+Ie]|0)*67108864+(ge.words[ye.length+Ie-1]|0);for(We=Math.min(We/me|0,67108863),ge._ishlnsubmul(ye,We,Ie);ge.negative!==0;)We--,ge.negative=0,ge._ishlnsubmul(ye,1,Ie),ge.isZero()||(ge.negative^=1);ae&&(ae.words[Ie]=We)}return ae&&ae._strip(),ge._strip(),ce!=="div"&&le!==0&&ge.iushrn(le),{div:ae||null,mod:ge}},ie.prototype.divmod=function(oe,ce,le){if(ne(!oe.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var ge,ye,me;return this.negative!==0&&oe.negative===0?(me=this.neg().divmod(oe,ce),ce!=="mod"&&(ge=me.div.neg()),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.iadd(oe)),{div:ge,mod:ye}):this.negative===0&&oe.negative!==0?(me=this.divmod(oe.neg(),ce),ce!=="mod"&&(ge=me.div.neg()),{div:ge,mod:me.mod}):(this.negative&oe.negative)!==0?(me=this.neg().divmod(oe.neg(),ce),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.isub(oe)),{div:me.div,mod:ye}):oe.length>this.length||this.cmp(oe)<0?{div:new ie(0),mod:this}:oe.length===1?ce==="div"?{div:this.divn(oe.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modrn(oe.words[0]))}:{div:this.divn(oe.words[0]),mod:new ie(this.modrn(oe.words[0]))}:this._wordDiv(oe,ce)},ie.prototype.div=function(oe){return this.divmod(oe,"div",!1).div},ie.prototype.mod=function(oe){return this.divmod(oe,"mod",!1).mod},ie.prototype.umod=function(oe){return this.divmod(oe,"mod",!0).mod},ie.prototype.divRound=function(oe){var ce=this.divmod(oe);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(oe):ce.mod,ge=oe.ushrn(1),ye=oe.andln(1),me=le.cmp(ge);return me<0||ye===1&&me===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modrn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=(1<<26)%oe,ge=0,ye=this.length-1;ye>=0;ye--)ge=(le*ge+(this.words[ye]|0))%oe;return ce?-ge:ge},ie.prototype.modn=function(oe){return this.modrn(oe)},ie.prototype.idivn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=0,ge=this.length-1;ge>=0;ge--){var ye=(this.words[ge]|0)+le*67108864;this.words[ge]=ye/oe|0,le=ye%oe}return this._strip(),ce?this.ineg():this},ie.prototype.divn=function(oe){return this.clone().idivn(oe)},ie.prototype.egcd=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=new ie(0),ve=new ie(1),he=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++he;for(var ae=le.clone(),be=ce.clone();!ce.isZero();){for(var ze=0,Ie=1;(ce.words[0]&Ie)===0&&ze<26;++ze,Ie<<=1);if(ze>0)for(ce.iushrn(ze);ze-- >0;)(ge.isOdd()||ye.isOdd())&&(ge.iadd(ae),ye.isub(be)),ge.iushrn(1),ye.iushrn(1);for(var We=0,ft=1;(le.words[0]&ft)===0&&We<26;++We,ft<<=1);if(We>0)for(le.iushrn(We);We-- >0;)(me.isOdd()||ve.isOdd())&&(me.iadd(ae),ve.isub(be)),me.iushrn(1),ve.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(me),ye.isub(ve)):(le.isub(ce),me.isub(ge),ve.isub(ye))}return{a:me,b:ve,gcd:le.iushln(he)}},ie.prototype._invmp=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var ve=0,he=1;(ce.words[0]&he)===0&&ve<26;++ve,he<<=1);if(ve>0)for(ce.iushrn(ve);ve-- >0;)ge.isOdd()&&ge.iadd(me),ge.iushrn(1);for(var ae=0,be=1;(le.words[0]&be)===0&&ae<26;++ae,be<<=1);if(ae>0)for(le.iushrn(ae);ae-- >0;)ye.isOdd()&&ye.iadd(me),ye.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(ye)):(le.isub(ce),ye.isub(ge))}var ze;return ce.cmpn(1)===0?ze=ge:ze=ye,ze.cmpn(0)<0&&ze.iadd(oe),ze},ie.prototype.gcd=function(oe){if(this.isZero())return oe.abs();if(oe.isZero())return this.abs();var ce=this.clone(),le=oe.clone();ce.negative=0,le.negative=0;for(var ge=0;ce.isEven()&&le.isEven();ge++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var ye=ce.cmp(le);if(ye<0){var me=ce;ce=le,le=me}else if(ye===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(ge)},ie.prototype.invm=function(oe){return this.egcd(oe).a.umod(oe)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(oe){return this.words[0]&oe},ie.prototype.bincn=function(oe){ne(typeof oe=="number");var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=ge,this;for(var ye=ge,me=le;ye!==0&&me<this.length;me++){var ve=this.words[me]|0;ve+=ye,ye=ve>>>26,ve&=67108863,this.words[me]=ve}return ye!==0&&(this.words[me]=ye,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(oe){var ce=oe<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this._strip();var le;if(this.length>1)le=1;else{ce&&(oe=-oe),ne(oe<=67108863,"Number is too big");var ge=this.words[0]|0;le=ge===oe?0:ge<oe?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(oe){if(this.negative!==0&&oe.negative===0)return-1;if(this.negative===0&&oe.negative!==0)return 1;var ce=this.ucmp(oe);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(oe){if(this.length>oe.length)return 1;if(this.length<oe.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var ge=this.words[le]|0,ye=oe.words[le]|0;if(ge!==ye){ge<ye?ce=-1:ge>ye&&(ce=1);break}}return ce},ie.prototype.gtn=function(oe){return this.cmpn(oe)===1},ie.prototype.gt=function(oe){return this.cmp(oe)===1},ie.prototype.gten=function(oe){return this.cmpn(oe)>=0},ie.prototype.gte=function(oe){return this.cmp(oe)>=0},ie.prototype.ltn=function(oe){return this.cmpn(oe)===-1},ie.prototype.lt=function(oe){return this.cmp(oe)===-1},ie.prototype.lten=function(oe){return this.cmpn(oe)<=0},ie.prototype.lte=function(oe){return this.cmp(oe)<=0},ie.prototype.eqn=function(oe){return this.cmpn(oe)===0},ie.prototype.eq=function(oe){return this.cmp(oe)===0},ie.red=function(oe){return new Se(oe)},ie.prototype.toRed=function(oe){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),oe.convertTo(this)._forceRed(oe)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(oe){return this.red=oe,this},ie.prototype.forceRed=function(oe){return ne(!this.red,"Already a number in reduction context"),this._forceRed(oe)},ie.prototype.redAdd=function(oe){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,oe)},ie.prototype.redIAdd=function(oe){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,oe)},ie.prototype.redSub=function(oe){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,oe)},ie.prototype.redISub=function(oe){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,oe)},ie.prototype.redShl=function(oe){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,oe)},ie.prototype.redMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.mul(this,oe)},ie.prototype.redIMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.imul(this,oe)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(oe){return ne(this.red&&!oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,oe)};var qe={k256:null,p224:null,p192:null,p25519:null};function Ve(pe,oe){this.name=pe,this.p=new ie(oe,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ve.prototype._tmp=function(){var oe=new ie(null);return oe.words=new Array(Math.ceil(this.n/13)),oe},Ve.prototype.ireduce=function(oe){var ce=oe,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var ge=le<this.n?-1:ce.ucmp(this.p);return ge===0?(ce.words[0]=0,ce.length=1):ge>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ve.prototype.split=function(oe,ce){oe.iushrn(this.n,0,ce)},Ve.prototype.imulK=function(oe){return oe.imul(this.k)};function Xe(){Ve.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Xe,Ve),Xe.prototype.split=function(oe,ce){for(var le=4194303,ge=Math.min(oe.length,9),ye=0;ye<ge;ye++)ce.words[ye]=oe.words[ye];if(ce.length=ge,oe.length<=9){oe.words[0]=0,oe.length=1;return}var me=oe.words[9];for(ce.words[ce.length++]=me&le,ye=10;ye<oe.length;ye++){var ve=oe.words[ye]|0;oe.words[ye-10]=(ve&le)<<4|me>>>22,me=ve}me>>>=22,oe.words[ye-10]=me,me===0&&oe.length>10?oe.length-=10:oe.length-=9},Xe.prototype.imulK=function(oe){oe.words[oe.length]=0,oe.words[oe.length+1]=0,oe.length+=2;for(var ce=0,le=0;le<oe.length;le++){var ge=oe.words[le]|0;ce+=ge*977,oe.words[le]=ce&67108863,ce=ge*64+(ce/67108864|0)}return oe.words[oe.length-1]===0&&(oe.length--,oe.words[oe.length-1]===0&&oe.length--),oe};function rt(){Ve.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(rt,Ve);function mt(){Ve.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(mt,Ve);function Qe(){Ve.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Qe,Ve),Qe.prototype.imulK=function(oe){for(var ce=0,le=0;le<oe.length;le++){var ge=(oe.words[le]|0)*19+ce,ye=ge&67108863;ge>>>=26,oe.words[le]=ye,ce=ge}return ce!==0&&(oe.words[oe.length++]=ce),oe},ie._prime=function(oe){if(qe[oe])return qe[oe];var ce;if(oe==="k256")ce=new Xe;else if(oe==="p224")ce=new rt;else if(oe==="p192")ce=new mt;else if(oe==="p25519")ce=new Qe;else throw new Error("Unknown prime "+oe);return qe[oe]=ce,ce};function Se(pe){if(typeof pe=="string"){var oe=ie._prime(pe);this.m=oe.p,this.prime=oe}else ne(pe.gtn(1),"modulus must be greater than 1"),this.m=pe,this.prime=null}Se.prototype._verify1=function(oe){ne(oe.negative===0,"red works only with positives"),ne(oe.red,"red works only with red numbers")},Se.prototype._verify2=function(oe,ce){ne((oe.negative|ce.negative)===0,"red works only with positives"),ne(oe.red&&oe.red===ce.red,"red works only with red numbers")},Se.prototype.imod=function(oe){return this.prime?this.prime.ireduce(oe)._forceRed(this):(Ae(oe,oe.umod(this.m)._forceRed(this)),oe)},Se.prototype.neg=function(oe){return oe.isZero()?oe.clone():this.m.sub(oe)._forceRed(this)},Se.prototype.add=function(oe,ce){this._verify2(oe,ce);var le=oe.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},Se.prototype.iadd=function(oe,ce){this._verify2(oe,ce);var le=oe.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},Se.prototype.sub=function(oe,ce){this._verify2(oe,ce);var le=oe.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},Se.prototype.isub=function(oe,ce){this._verify2(oe,ce);var le=oe.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},Se.prototype.shl=function(oe,ce){return this._verify1(oe),this.imod(oe.ushln(ce))},Se.prototype.imul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.imul(ce))},Se.prototype.mul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.mul(ce))},Se.prototype.isqr=function(oe){return this.imul(oe,oe.clone())},Se.prototype.sqr=function(oe){return this.mul(oe,oe)},Se.prototype.sqrt=function(oe){if(oe.isZero())return oe.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(oe,le)}for(var ge=this.m.subn(1),ye=0;!ge.isZero()&&ge.andln(1)===0;)ye++,ge.iushrn(1);ne(!ge.isZero());var me=new ie(1).toRed(this),ve=me.redNeg(),he=this.m.subn(1).iushrn(1),ae=this.m.bitLength();for(ae=new ie(2*ae*ae).toRed(this);this.pow(ae,he).cmp(ve)!==0;)ae.redIAdd(ve);for(var be=this.pow(ae,ge),ze=this.pow(oe,ge.addn(1).iushrn(1)),Ie=this.pow(oe,ge),We=ye;Ie.cmp(me)!==0;){for(var ft=Ie,nt=0;ft.cmp(me)!==0;nt++)ft=ft.redSqr();ne(nt<We);var at=this.pow(be,new ie(1).iushln(We-nt-1));ze=ze.redMul(at),be=at.redSqr(),Ie=Ie.redMul(be),We=nt}return ze},Se.prototype.invm=function(oe){var ce=oe._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},Se.prototype.pow=function(oe,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return oe.clone();var le=4,ge=new Array(1<<le);ge[0]=new ie(1).toRed(this),ge[1]=oe;for(var ye=2;ye<ge.length;ye++)ge[ye]=this.mul(ge[ye-1],oe);var me=ge[0],ve=0,he=0,ae=ce.bitLength()%26;for(ae===0&&(ae=26),ye=ce.length-1;ye>=0;ye--){for(var be=ce.words[ye],ze=ae-1;ze>=0;ze--){var Ie=be>>ze&1;if(me!==ge[0]&&(me=this.sqr(me)),Ie===0&&ve===0){he=0;continue}ve<<=1,ve|=Ie,he++,!(he!==le&&(ye!==0||ze!==0))&&(me=this.mul(me,ge[ve]),he=0,ve=0)}ae=26}return me},Se.prototype.convertTo=function(oe){var ce=oe.umod(this.m);return ce===oe?ce.clone():ce},Se.prototype.convertFrom=function(oe){var ce=oe.clone();return ce.red=null,ce},ie.mont=function(oe){return new $e(oe)};function $e(pe){Se.call(this,pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se($e,Se),$e.prototype.convertTo=function(oe){return this.imod(oe.ushln(this.shift))},$e.prototype.convertFrom=function(oe){var ce=this.imod(oe.mul(this.rinv));return ce.red=null,ce},$e.prototype.imul=function(oe,ce){if(oe.isZero()||ce.isZero())return oe.words[0]=0,oe.length=1,oe;var le=oe.imul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.mul=function(oe,ce){if(oe.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=oe.mul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.invm=function(oe){var ce=this.imod(oe._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(re,commonjsGlobal)})(bn$2);var BN$2=bn$2.exports;const Chi=(re,ee,te)=>re&ee^~re&te,Maj=(re,ee,te)=>re&ee^re&te^ee&te,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256$2 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:ee,B:te,C:ne,D:se,E:ie,F:fe,G:ue,H:xe}=this;return[ee,te,ne,se,ie,fe,ue,xe]}set(ee,te,ne,se,ie,fe,ue,xe){this.A=ee|0,this.B=te|0,this.C=ne|0,this.D=se|0,this.E=ie|0,this.F=fe|0,this.G=ue|0,this.H=xe|0}process(ee,te){for(let Me=0;Me<16;Me++,te+=4)SHA256_W[Me]=ee.getUint32(te,!1);for(let Me=16;Me<64;Me++){const Pe=SHA256_W[Me-15],Ne=SHA256_W[Me-2],je=rotr(Pe,7)^rotr(Pe,18)^Pe>>>3,Ue=rotr(Ne,17)^rotr(Ne,19)^Ne>>>10;SHA256_W[Me]=Ue+SHA256_W[Me-7]+je+SHA256_W[Me-16]|0}let{A:ne,B:se,C:ie,D:fe,E:ue,F:xe,G:Ee,H:Ae}=this;for(let Me=0;Me<64;Me++){const Pe=rotr(ue,6)^rotr(ue,11)^rotr(ue,25),Ne=Ae+Pe+Chi(ue,xe,Ee)+SHA256_K[Me]+SHA256_W[Me]|0,Ue=(rotr(ne,2)^rotr(ne,13)^rotr(ne,22))+Maj(ne,se,ie)|0;Ae=Ee,Ee=xe,xe=ue,ue=fe+Ne|0,fe=ie,ie=se,se=ne,ne=Ne+Ue|0}ne=ne+this.A|0,se=se+this.B|0,ie=ie+this.C|0,fe=fe+this.D|0,ue=ue+this.E|0,xe=xe+this.F|0,Ee=Ee+this.G|0,Ae=Ae+this.H|0,this.set(ne,se,ie,fe,ue,xe,Ee,Ae)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$2=wrapConstructor(()=>new SHA256$2);var Layout$1={};Object.defineProperty(Layout$1,"__esModule",{value:!0}),Layout$1.s16=Layout$1.s8=Layout$1.nu64be=Layout$1.u48be=Layout$1.u40be=Layout$1.u32be=Layout$1.u24be=Layout$1.u16be=nu64=Layout$1.nu64=Layout$1.u48=Layout$1.u40=u32=Layout$1.u32=Layout$1.u24=u16=Layout$1.u16=u8=Layout$1.u8=offset=Layout$1.offset=Layout$1.greedy=Layout$1.Constant=Layout$1.UTF8=Layout$1.CString=Layout$1.Blob=Layout$1.Boolean=Layout$1.BitField=Layout$1.BitStructure=Layout$1.VariantLayout=Layout$1.Union=Layout$1.UnionLayoutDiscriminator=Layout$1.UnionDiscriminator=Layout$1.Structure=Layout$1.Sequence=Layout$1.DoubleBE=Layout$1.Double=Layout$1.FloatBE=Layout$1.Float=Layout$1.NearInt64BE=Layout$1.NearInt64=Layout$1.NearUInt64BE=Layout$1.NearUInt64=Layout$1.IntBE=Layout$1.Int=Layout$1.UIntBE=Layout$1.UInt=Layout$1.OffsetLayout=Layout$1.GreedyCount=Layout$1.ExternalLayout=Layout$1.bindConstructorLayout=Layout$1.nameWithProperty=Layout$1.Layout=Layout$1.uint8ArrayToBuffer=Layout$1.checkUint8Array=void 0,Layout$1.constant=Layout$1.utf8=Layout$1.cstr=blob=Layout$1.blob=Layout$1.unionLayoutDiscriminator=Layout$1.union=seq=Layout$1.seq=Layout$1.bits=struct=Layout$1.struct=Layout$1.f64be=Layout$1.f64=Layout$1.f32be=Layout$1.f32=Layout$1.ns64be=Layout$1.s48be=Layout$1.s40be=Layout$1.s32be=Layout$1.s24be=Layout$1.s16be=ns64=Layout$1.ns64=Layout$1.s48=Layout$1.s40=Layout$1.s32=Layout$1.s24=void 0;const buffer_1=buffer$1;function checkUint8Array(re){if(!(re instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$1.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(re){return checkUint8Array(re),buffer_1.Buffer.from(re.buffer,re.byteOffset,re.length)}Layout$1.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout{constructor(ee,te){if(!Number.isInteger(ee))throw new TypeError("span must be an integer");this.span=ee,this.property=te}makeDestinationObject(){return{}}getSpan(ee,te){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(ee){const te=Object.create(this.constructor.prototype);return Object.assign(te,this),te.property=ee,te}fromArray(ee){}}Layout$1.Layout=Layout;function nameWithProperty(re,ee){return ee.property?re+"["+ee.property+"]":re}Layout$1.nameWithProperty=nameWithProperty;function bindConstructorLayout(re,ee){if(typeof re!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(re,"layout_"))throw new Error("Class is already bound to a layout");if(!(ee&&ee instanceof Layout))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(ee,"boundConstructor_"))throw new Error("layout is already bound to a constructor");re.layout_=ee,ee.boundConstructor_=re,ee.makeDestinationObject=()=>new re,Object.defineProperty(re.prototype,"encode",{value(te,ne){return ee.encode(this,te,ne)},writable:!0}),Object.defineProperty(re,"decode",{value(te,ne){return ee.decode(te,ne)},writable:!0})}Layout$1.bindConstructorLayout=bindConstructorLayout;class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$1.ExternalLayout=ExternalLayout;class GreedyCount extends ExternalLayout{constructor(ee=1,te){if(!Number.isInteger(ee)||0>=ee)throw new TypeError("elementSpan must be a (positive) integer");super(-1,te),this.elementSpan=ee}isCount(){return!0}decode(ee,te=0){checkUint8Array(ee);const ne=ee.length-te;return Math.floor(ne/this.elementSpan)}encode(ee,te,ne){return 0}}Layout$1.GreedyCount=GreedyCount;class OffsetLayout extends ExternalLayout{constructor(ee,te=0,ne){if(!(ee instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(te))throw new TypeError("offset must be integer or undefined");super(ee.span,ne||ee.property),this.layout=ee,this.offset=te}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(ee,te=0){return this.layout.decode(ee,te+this.offset)}encode(ee,te,ne=0){return this.layout.encode(ee,te,ne+this.offset)}}Layout$1.OffsetLayout=OffsetLayout;class UInt extends Layout{constructor(ee,te){if(super(ee,te),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,te=0){return uint8ArrayToBuffer(ee).readUIntLE(te,this.span)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeUIntLE(ee,ne,this.span),this.span}}Layout$1.UInt=UInt;class UIntBE extends Layout{constructor(ee,te){if(super(ee,te),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,te=0){return uint8ArrayToBuffer(ee).readUIntBE(te,this.span)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeUIntBE(ee,ne,this.span),this.span}}Layout$1.UIntBE=UIntBE;class Int extends Layout{constructor(ee,te){if(super(ee,te),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,te=0){return uint8ArrayToBuffer(ee).readIntLE(te,this.span)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeIntLE(ee,ne,this.span),this.span}}Layout$1.Int=Int;class IntBE extends Layout{constructor(ee,te){if(super(ee,te),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(ee,te=0){return uint8ArrayToBuffer(ee).readIntBE(te,this.span)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeIntBE(ee,ne,this.span),this.span}}Layout$1.IntBE=IntBE;const V2E32=Math.pow(2,32);function divmodInt64(re){const ee=Math.floor(re/V2E32),te=re-ee*V2E32;return{hi32:ee,lo32:te}}function roundedInt64(re,ee){return re*V2E32+ee}class NearUInt64 extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){const ne=uint8ArrayToBuffer(ee),se=ne.readUInt32LE(te),ie=ne.readUInt32LE(te+4);return roundedInt64(ie,se)}encode(ee,te,ne=0){const se=divmodInt64(ee),ie=uint8ArrayToBuffer(te);return ie.writeUInt32LE(se.lo32,ne),ie.writeUInt32LE(se.hi32,ne+4),8}}Layout$1.NearUInt64=NearUInt64;class NearUInt64BE extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){const ne=uint8ArrayToBuffer(ee),se=ne.readUInt32BE(te),ie=ne.readUInt32BE(te+4);return roundedInt64(se,ie)}encode(ee,te,ne=0){const se=divmodInt64(ee),ie=uint8ArrayToBuffer(te);return ie.writeUInt32BE(se.hi32,ne),ie.writeUInt32BE(se.lo32,ne+4),8}}Layout$1.NearUInt64BE=NearUInt64BE;class NearInt64 extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){const ne=uint8ArrayToBuffer(ee),se=ne.readUInt32LE(te),ie=ne.readInt32LE(te+4);return roundedInt64(ie,se)}encode(ee,te,ne=0){const se=divmodInt64(ee),ie=uint8ArrayToBuffer(te);return ie.writeUInt32LE(se.lo32,ne),ie.writeInt32LE(se.hi32,ne+4),8}}Layout$1.NearInt64=NearInt64;class NearInt64BE extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){const ne=uint8ArrayToBuffer(ee),se=ne.readInt32BE(te),ie=ne.readUInt32BE(te+4);return roundedInt64(se,ie)}encode(ee,te,ne=0){const se=divmodInt64(ee),ie=uint8ArrayToBuffer(te);return ie.writeInt32BE(se.hi32,ne),ie.writeUInt32BE(se.lo32,ne+4),8}}Layout$1.NearInt64BE=NearInt64BE;class Float extends Layout{constructor(ee){super(4,ee)}decode(ee,te=0){return uint8ArrayToBuffer(ee).readFloatLE(te)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeFloatLE(ee,ne),4}}Layout$1.Float=Float;class FloatBE extends Layout{constructor(ee){super(4,ee)}decode(ee,te=0){return uint8ArrayToBuffer(ee).readFloatBE(te)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeFloatBE(ee,ne),4}}Layout$1.FloatBE=FloatBE;class Double extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){return uint8ArrayToBuffer(ee).readDoubleLE(te)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeDoubleLE(ee,ne),8}}Layout$1.Double=Double;class DoubleBE extends Layout{constructor(ee){super(8,ee)}decode(ee,te=0){return uint8ArrayToBuffer(ee).readDoubleBE(te)}encode(ee,te,ne=0){return uint8ArrayToBuffer(te).writeDoubleBE(ee,ne),8}}Layout$1.DoubleBE=DoubleBE;class Sequence extends Layout{constructor(ee,te,ne){if(!(ee instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(te instanceof ExternalLayout&&te.isCount()||Number.isInteger(te)&&0<=te))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let se=-1;!(te instanceof ExternalLayout)&&0<ee.span&&(se=te*ee.span),super(se,ne),this.elementLayout=ee,this.count=te}getSpan(ee,te=0){if(0<=this.span)return this.span;let ne=0,se=this.count;if(se instanceof ExternalLayout&&(se=se.decode(ee,te)),0<this.elementLayout.span)ne=se*this.elementLayout.span;else{let ie=0;for(;ie<se;)ne+=this.elementLayout.getSpan(ee,te+ne),++ie}return ne}decode(ee,te=0){const ne=[];let se=0,ie=this.count;for(ie instanceof ExternalLayout&&(ie=ie.decode(ee,te));se<ie;)ne.push(this.elementLayout.decode(ee,te)),te+=this.elementLayout.getSpan(ee,te),se+=1;return ne}encode(ee,te,ne=0){const se=this.elementLayout,ie=ee.reduce((fe,ue)=>fe+se.encode(ue,te,ne+fe),0);return this.count instanceof ExternalLayout&&this.count.encode(ee.length,te,ne),ie}}Layout$1.Sequence=Sequence;class Structure extends Layout{constructor(ee,te,ne){if(!(Array.isArray(ee)&&ee.reduce((ie,fe)=>ie&&fe instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof te=="boolean"&&ne===void 0&&(ne=te,te=void 0);for(const ie of ee)if(0>ie.span&&ie.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let se=-1;try{se=ee.reduce((ie,fe)=>ie+fe.getSpan(),0)}catch{}super(se,te),this.fields=ee,this.decodePrefixes=!!ne}getSpan(ee,te=0){if(0<=this.span)return this.span;let ne=0;try{ne=this.fields.reduce((se,ie)=>{const fe=ie.getSpan(ee,te);return te+=fe,se+fe},0)}catch{throw new RangeError("indeterminate span")}return ne}decode(ee,te=0){checkUint8Array(ee);const ne=this.makeDestinationObject();for(const se of this.fields)if(se.property!==void 0&&(ne[se.property]=se.decode(ee,te)),te+=se.getSpan(ee,te),this.decodePrefixes&&ee.length===te)break;return ne}encode(ee,te,ne=0){const se=ne;let ie=0,fe=0;for(const ue of this.fields){let xe=ue.span;if(fe=0<xe?xe:0,ue.property!==void 0){const Ee=ee[ue.property];Ee!==void 0&&(fe=ue.encode(Ee,te,ne),0>xe&&(xe=ue.getSpan(te,ne)))}ie=ne,ne+=xe}return ie+fe-se}fromArray(ee){const te=this.makeDestinationObject();for(const ne of this.fields)ne.property!==void 0&&0<ee.length&&(te[ne.property]=ee.shift());return te}layoutFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const te of this.fields)if(te.property===ee)return te}offsetOf(ee){if(typeof ee!="string")throw new TypeError("property must be string");let te=0;for(const ne of this.fields){if(ne.property===ee)return te;0>ne.span?te=-1:0<=te&&(te+=ne.span)}}}Layout$1.Structure=Structure;class UnionDiscriminator{constructor(ee){this.property=ee}decode(ee,te){throw new Error("UnionDiscriminator is abstract")}encode(ee,te,ne){throw new Error("UnionDiscriminator is abstract")}}Layout$1.UnionDiscriminator=UnionDiscriminator;class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(ee,te){if(!(ee instanceof ExternalLayout&&ee.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(te||ee.property||"variant"),this.layout=ee}decode(ee,te){return this.layout.decode(ee,te)}encode(ee,te,ne){return this.layout.encode(ee,te,ne)}}Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;class Union extends Layout{constructor(ee,te,ne){let se;if(ee instanceof UInt||ee instanceof UIntBE)se=new UnionLayoutDiscriminator(new OffsetLayout(ee));else if(ee instanceof ExternalLayout&&ee.isCount())se=new UnionLayoutDiscriminator(ee);else if(ee instanceof UnionDiscriminator)se=ee;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(te===void 0&&(te=null),!(te===null||te instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(te!==null){if(0>te.span)throw new Error("defaultLayout must have constant span");te.property===void 0&&(te=te.replicate("content"))}let ie=-1;te&&(ie=te.span,0<=ie&&(ee instanceof UInt||ee instanceof UIntBE)&&(ie+=se.layout.span)),super(ie,ne),this.discriminator=se,this.usesPrefixDiscriminator=ee instanceof UInt||ee instanceof UIntBE,this.defaultLayout=te,this.registry={};let fe=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ue){return fe(ue)},this.configGetSourceVariant=function(ue){fe=ue.bind(this)}}getSpan(ee,te=0){if(0<=this.span)return this.span;const ne=this.getVariant(ee,te);if(!ne)throw new Error("unable to determine span for unrecognized variant");return ne.getSpan(ee,te)}defaultGetSourceVariant(ee){if(Object.prototype.hasOwnProperty.call(ee,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(ee,this.defaultLayout.property))return;const te=this.registry[ee[this.discriminator.property]];if(te&&(!te.layout||te.property&&Object.prototype.hasOwnProperty.call(ee,te.property)))return te}else for(const te in this.registry){const ne=this.registry[te];if(ne.property&&Object.prototype.hasOwnProperty.call(ee,ne.property))return ne}throw new Error("unable to infer src variant")}decode(ee,te=0){let ne;const se=this.discriminator,ie=se.decode(ee,te),fe=this.registry[ie];if(fe===void 0){const ue=this.defaultLayout;let xe=0;this.usesPrefixDiscriminator&&(xe=se.layout.span),ne=this.makeDestinationObject(),ne[se.property]=ie,ne[ue.property]=ue.decode(ee,te+xe)}else ne=fe.decode(ee,te);return ne}encode(ee,te,ne=0){const se=this.getSourceVariant(ee);if(se===void 0){const ie=this.discriminator,fe=this.defaultLayout;let ue=0;return this.usesPrefixDiscriminator&&(ue=ie.layout.span),ie.encode(ee[ie.property],te,ne),ue+fe.encode(ee[fe.property],te,ne+ue)}return se.encode(ee,te,ne)}addVariant(ee,te,ne){const se=new VariantLayout(this,ee,te,ne);return this.registry[ee]=se,se}getVariant(ee,te=0){let ne;return ee instanceof Uint8Array?ne=this.discriminator.decode(ee,te):ne=ee,this.registry[ne]}}Layout$1.Union=Union;class VariantLayout extends Layout{constructor(ee,te,ne,se){if(!(ee instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(te)||0>te)throw new TypeError("variant must be a (non-negative) integer");if(typeof ne=="string"&&se===void 0&&(se=ne,ne=null),ne){if(!(ne instanceof Layout))throw new TypeError("layout must be a Layout");if(ee.defaultLayout!==null&&0<=ne.span&&ne.span>ee.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof se!="string")throw new TypeError("variant must have a String property")}let ie=ee.span;0>ee.span&&(ie=ne?ne.span:0,0<=ie&&ee.usesPrefixDiscriminator&&(ie+=ee.discriminator.layout.span)),super(ie,se),this.union=ee,this.variant=te,this.layout=ne||null}getSpan(ee,te=0){if(0<=this.span)return this.span;let ne=0;this.union.usesPrefixDiscriminator&&(ne=this.union.discriminator.layout.span);let se=0;return this.layout&&(se=this.layout.getSpan(ee,te+ne)),ne+se}decode(ee,te=0){const ne=this.makeDestinationObject();if(this!==this.union.getVariant(ee,te))throw new Error("variant mismatch");let se=0;return this.union.usesPrefixDiscriminator&&(se=this.union.discriminator.layout.span),this.layout?ne[this.property]=this.layout.decode(ee,te+se):this.property?ne[this.property]=!0:this.union.usesPrefixDiscriminator&&(ne[this.union.discriminator.property]=this.variant),ne}encode(ee,te,ne=0){let se=0;if(this.union.usesPrefixDiscriminator&&(se=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(ee,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,te,ne);let ie=se;if(this.layout&&(this.layout.encode(ee[this.property],te,ne+se),ie+=this.layout.getSpan(te,ne+se),0<=this.union.span&&ie>this.union.span))throw new Error("encoded variant overruns containing union");return ie}fromArray(ee){if(this.layout)return this.layout.fromArray(ee)}}Layout$1.VariantLayout=VariantLayout;function fixBitwiseResult(re){return 0>re&&(re+=4294967296),re}class BitStructure extends Layout{constructor(ee,te,ne){if(!(ee instanceof UInt||ee instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof te=="string"&&ne===void 0&&(ne=te,te=!1),4<ee.span)throw new RangeError("word cannot exceed 32 bits");super(ee.span,ne),this.word=ee,this.msb=!!te,this.fields=[];let se=0;this._packedSetValue=function(ie){return se=fixBitwiseResult(ie),this},this._packedGetValue=function(){return se}}decode(ee,te=0){const ne=this.makeDestinationObject(),se=this.word.decode(ee,te);this._packedSetValue(se);for(const ie of this.fields)ie.property!==void 0&&(ne[ie.property]=ie.decode(ee));return ne}encode(ee,te,ne=0){const se=this.word.decode(te,ne);this._packedSetValue(se);for(const ie of this.fields)if(ie.property!==void 0){const fe=ee[ie.property];fe!==void 0&&ie.encode(fe)}return this.word.encode(this._packedGetValue(),te,ne)}addField(ee,te){const ne=new BitField(this,ee,te);return this.fields.push(ne),ne}addBoolean(ee){const te=new Boolean$1(this,ee);return this.fields.push(te),te}fieldFor(ee){if(typeof ee!="string")throw new TypeError("property must be string");for(const te of this.fields)if(te.property===ee)return te}}Layout$1.BitStructure=BitStructure;class BitField{constructor(ee,te,ne){if(!(ee instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(te)||0>=te)throw new TypeError("bits must be positive integer");const se=8*ee.span,ie=ee.fields.reduce((fe,ue)=>fe+ue.bits,0);if(te+ie>se)throw new Error("bits too long for span remainder ("+(se-ie)+" of "+se+" remain)");this.container=ee,this.bits=te,this.valueMask=(1<<te)-1,te===32&&(this.valueMask=4294967295),this.start=ie,this.container.msb&&(this.start=se-ie-te),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=ne}decode(ee,te){const ne=this.container._packedGetValue();return fixBitwiseResult(ne&this.wordMask)>>>this.start}encode(ee){if(typeof ee!="number"||!Number.isInteger(ee)||ee!==fixBitwiseResult(ee&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const te=this.container._packedGetValue(),ne=fixBitwiseResult(ee<<this.start);this.container._packedSetValue(fixBitwiseResult(te&~this.wordMask)|ne)}}Layout$1.BitField=BitField;class Boolean$1 extends BitField{constructor(ee,te){super(ee,1,te)}decode(ee,te){return!!super.decode(ee,te)}encode(ee){typeof ee=="boolean"&&(ee=+ee),super.encode(ee)}}Layout$1.Boolean=Boolean$1;class Blob extends Layout{constructor(ee,te){if(!(ee instanceof ExternalLayout&&ee.isCount()||Number.isInteger(ee)&&0<=ee))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let ne=-1;ee instanceof ExternalLayout||(ne=ee),super(ne,te),this.length=ee}getSpan(ee,te){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,te)),ne}decode(ee,te=0){let ne=this.span;return 0>ne&&(ne=this.length.decode(ee,te)),uint8ArrayToBuffer(ee).slice(te,te+ne)}encode(ee,te,ne){let se=this.length;if(this.length instanceof ExternalLayout&&(se=ee.length),!(ee instanceof Uint8Array&&se===ee.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+se+") Uint8Array as src");if(ne+se>te.length)throw new RangeError("encoding overruns Uint8Array");const ie=uint8ArrayToBuffer(ee);return uint8ArrayToBuffer(te).write(ie.toString("hex"),ne,se,"hex"),this.length instanceof ExternalLayout&&this.length.encode(se,te,ne),se}}Layout$1.Blob=Blob;class CString extends Layout{constructor(ee){super(-1,ee)}getSpan(ee,te=0){checkUint8Array(ee);let ne=te;for(;ne<ee.length&&ee[ne]!==0;)ne+=1;return 1+ne-te}decode(ee,te=0){const ne=this.getSpan(ee,te);return uint8ArrayToBuffer(ee).slice(te,te+ne-1).toString("utf-8")}encode(ee,te,ne=0){typeof ee!="string"&&(ee=String(ee));const se=buffer_1.Buffer.from(ee,"utf8"),ie=se.length;if(ne+ie>te.length)throw new RangeError("encoding overruns Buffer");const fe=uint8ArrayToBuffer(te);return se.copy(fe,ne),fe[ne+ie]=0,ie+1}}Layout$1.CString=CString;class UTF8 extends Layout{constructor(ee,te){if(typeof ee=="string"&&te===void 0&&(te=ee,ee=void 0),ee===void 0)ee=-1;else if(!Number.isInteger(ee))throw new TypeError("maxSpan must be an integer");super(-1,te),this.maxSpan=ee}getSpan(ee,te=0){return checkUint8Array(ee),ee.length-te}decode(ee,te=0){const ne=this.getSpan(ee,te);if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(ee).slice(te,te+ne).toString("utf-8")}encode(ee,te,ne=0){typeof ee!="string"&&(ee=String(ee));const se=buffer_1.Buffer.from(ee,"utf8"),ie=se.length;if(0<=this.maxSpan&&this.maxSpan<ie)throw new RangeError("text length exceeds maxSpan");if(ne+ie>te.length)throw new RangeError("encoding overruns Buffer");return se.copy(uint8ArrayToBuffer(te),ne),ie}}Layout$1.UTF8=UTF8;class Constant extends Layout{constructor(ee,te){super(0,te),this.value=ee}decode(ee,te){return this.value}encode(ee,te,ne){return 0}}Layout$1.Constant=Constant,Layout$1.greedy=(re,ee)=>new GreedyCount(re,ee);var offset=Layout$1.offset=(re,ee,te)=>new OffsetLayout(re,ee,te),u8=Layout$1.u8=re=>new UInt(1,re),u16=Layout$1.u16=re=>new UInt(2,re);Layout$1.u24=re=>new UInt(3,re);var u32=Layout$1.u32=re=>new UInt(4,re);Layout$1.u40=re=>new UInt(5,re),Layout$1.u48=re=>new UInt(6,re);var nu64=Layout$1.nu64=re=>new NearUInt64(re);Layout$1.u16be=re=>new UIntBE(2,re),Layout$1.u24be=re=>new UIntBE(3,re),Layout$1.u32be=re=>new UIntBE(4,re),Layout$1.u40be=re=>new UIntBE(5,re),Layout$1.u48be=re=>new UIntBE(6,re),Layout$1.nu64be=re=>new NearUInt64BE(re),Layout$1.s8=re=>new Int(1,re),Layout$1.s16=re=>new Int(2,re),Layout$1.s24=re=>new Int(3,re),Layout$1.s32=re=>new Int(4,re),Layout$1.s40=re=>new Int(5,re),Layout$1.s48=re=>new Int(6,re);var ns64=Layout$1.ns64=re=>new NearInt64(re);Layout$1.s16be=re=>new IntBE(2,re),Layout$1.s24be=re=>new IntBE(3,re),Layout$1.s32be=re=>new IntBE(4,re),Layout$1.s40be=re=>new IntBE(5,re),Layout$1.s48be=re=>new IntBE(6,re),Layout$1.ns64be=re=>new NearInt64BE(re),Layout$1.f32=re=>new Float(re),Layout$1.f32be=re=>new FloatBE(re),Layout$1.f64=re=>new Double(re),Layout$1.f64be=re=>new DoubleBE(re);var struct=Layout$1.struct=(re,ee,te)=>new Structure(re,ee,te);Layout$1.bits=(re,ee,te)=>new BitStructure(re,ee,te);var seq=Layout$1.seq=(re,ee,te)=>new Sequence(re,ee,te);Layout$1.union=(re,ee,te)=>new Union(re,ee,te),Layout$1.unionLayoutDiscriminator=(re,ee)=>new UnionLayoutDiscriminator(re,ee);var blob=Layout$1.blob=(re,ee)=>new Blob(re,ee);Layout$1.cstr=re=>new CString(re),Layout$1.utf8=(re,ee)=>new UTF8(re,ee),Layout$1.constant=(re,ee)=>new Constant(re,ee);var browser$1={};Object.defineProperty(browser$1,"__esModule",{value:!0});function toBigIntLE(re){{const ee=Buffer.from(re);ee.reverse();const te=ee.toString("hex");return te.length===0?BigInt(0):BigInt(`0x${te}`)}}var toBigIntLE_1=browser$1.toBigIntLE=toBigIntLE;function toBigIntBE(re){{const ee=re.toString("hex");return ee.length===0?BigInt(0):BigInt(`0x${ee}`)}}browser$1.toBigIntBE=toBigIntBE;function toBufferLE(re,ee){{const te=re.toString(16),ne=Buffer.from(te.padStart(ee*2,"0").slice(0,ee*2),"hex");return ne.reverse(),ne}}var toBufferLE_1=browser$1.toBufferLE=toBufferLE;function toBufferBE(re,ee){{const te=re.toString(16);return Buffer.from(te.padStart(ee*2,"0").slice(0,ee*2),"hex")}}browser$1.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(ee,te){let ne;const{message:se,...ie}=ee,{path:fe}=ee,ue=fe.length===0?se:"At path: "+fe.join(".")+" -- "+se;super(ue),Object.assign(this,ie),this.name=this.constructor.name,this.failures=()=>{var xe;return(xe=ne)!=null?xe:ne=[ee,...te()]}}}function isIterable(re){return isObject(re)&&typeof re[Symbol.iterator]=="function"}function isObject(re){return typeof re=="object"&&re!=null}function print(re){return typeof re=="string"?JSON.stringify(re):""+re}function shiftIterator(re){const{done:ee,value:te}=re.next();return ee?void 0:te}function toFailure(re,ee,te,ne){if(re===!0)return;re===!1?re={}:typeof re=="string"&&(re={message:re});const{path:se,branch:ie}=ee,{type:fe}=te,{refinement:ue,message:xe="Expected a value of type `"+fe+"`"+(ue?" with refinement `"+ue+"`":"")+", but received: `"+print(ne)+"`"}=re;return{value:ne,type:fe,refinement:ue,key:se[se.length-1],path:se,branch:ie,...re,message:xe}}function*toFailures(re,ee,te,ne){isIterable(re)||(re=[re]);for(const se of re){const ie=toFailure(se,ee,te,ne);ie&&(yield ie)}}function*run(re,ee,te={}){const{path:ne=[],branch:se=[re],coerce:ie=!1,mask:fe=!1}=te,ue={path:ne,branch:se};if(ie&&(re=ee.coercer(re,ue),fe&&ee.type!=="type"&&isObject(ee.schema)&&isObject(re)&&!Array.isArray(re)))for(const Ee in re)ee.schema[Ee]===void 0&&delete re[Ee];let xe=!0;for(const Ee of ee.validator(re,ue))xe=!1,yield[Ee,void 0];for(let[Ee,Ae,Me]of ee.entries(re,ue)){const Pe=run(Ae,Me,{path:Ee===void 0?ne:[...ne,Ee],branch:Ee===void 0?se:[...se,Ae],coerce:ie,mask:fe});for(const Ne of Pe)Ne[0]?(xe=!1,yield[Ne[0],void 0]):ie&&(Ae=Ne[1],Ee===void 0?re=Ae:re instanceof Map?re.set(Ee,Ae):re instanceof Set?re.add(Ae):isObject(re)&&(re[Ee]=Ae))}if(xe)for(const Ee of ee.refiner(re,ue))xe=!1,yield[Ee,void 0];xe&&(yield[void 0,re])}class Struct$1{constructor(ee){const{type:te,schema:ne,validator:se,refiner:ie,coercer:fe=xe=>xe,entries:ue=function*(){}}=ee;this.type=te,this.schema=ne,this.entries=ue,this.coercer=fe,se?this.validator=(xe,Ee)=>{const Ae=se(xe,Ee);return toFailures(Ae,Ee,this,xe)}:this.validator=()=>[],ie?this.refiner=(xe,Ee)=>{const Ae=ie(xe,Ee);return toFailures(Ae,Ee,this,xe)}:this.refiner=()=>[]}assert(ee){return assert$d(ee,this)}create(ee){return create(ee,this)}is(ee){return is(ee,this)}mask(ee){return mask(ee,this)}validate(ee,te={}){return validate$1(ee,this,te)}}function assert$d(re,ee){const te=validate$1(re,ee);if(te[0])throw te[0]}function create(re,ee){const te=validate$1(re,ee,{coerce:!0});if(te[0])throw te[0];return te[1]}function mask(re,ee){const te=validate$1(re,ee,{coerce:!0,mask:!0});if(te[0])throw te[0];return te[1]}function is(re,ee){return!validate$1(re,ee)[0]}function validate$1(re,ee,te={}){const ne=run(re,ee,te),se=shiftIterator(ne);if(se[0])return[new StructError(se[0],function*(){for(const fe of ne)fe[0]&&(yield fe[0])}),void 0];{const ie=se[1];return[void 0,ie]}}function define(re,ee){return new Struct$1({type:re,schema:null,validator:ee})}function any(){return define("any",()=>!0)}function array(re){return new Struct$1({type:"array",schema:re,*entries(ee){if(re&&Array.isArray(ee))for(const[te,ne]of ee.entries())yield[te,ne,re]},coercer(ee){return Array.isArray(ee)?ee.slice():ee},validator(ee){return Array.isArray(ee)||"Expected an array value, but received: "+print(ee)}})}function boolean(){return define("boolean",re=>typeof re=="boolean")}function instance(re){return define("instance",ee=>ee instanceof re||"Expected a `"+re.name+"` instance, but received: "+print(ee))}function literal(re){const ee=print(re),te=typeof re;return new Struct$1({type:"literal",schema:te==="string"||te==="number"||te==="boolean"?re:null,validator(ne){return ne===re||"Expected the literal `"+ee+"`, but received: "+print(ne)}})}function never(){return define("never",()=>!1)}function nullable(re){return new Struct$1({...re,validator:(ee,te)=>ee===null||re.validator(ee,te),refiner:(ee,te)=>ee===null||re.refiner(ee,te)})}function number(){return define("number",re=>typeof re=="number"&&!isNaN(re)||"Expected a number, but received: "+print(re))}function optional(re){return new Struct$1({...re,validator:(ee,te)=>ee===void 0||re.validator(ee,te),refiner:(ee,te)=>ee===void 0||re.refiner(ee,te)})}function record(re,ee){return new Struct$1({type:"record",schema:null,*entries(te){if(isObject(te))for(const ne in te){const se=te[ne];yield[ne,ne,re],yield[ne,se,ee]}},validator(te){return isObject(te)||"Expected an object, but received: "+print(te)}})}function string(){return define("string",re=>typeof re=="string"||"Expected a string, but received: "+print(re))}function tuple(re){const ee=never();return new Struct$1({type:"tuple",schema:null,*entries(te){if(Array.isArray(te)){const ne=Math.max(re.length,te.length);for(let se=0;se<ne;se++)yield[se,te[se],re[se]||ee]}},validator(te){return Array.isArray(te)||"Expected an array, but received: "+print(te)}})}function type(re){const ee=Object.keys(re);return new Struct$1({type:"type",schema:re,*entries(te){if(isObject(te))for(const ne of ee)yield[ne,te[ne],re[ne]]},validator(te){return isObject(te)||"Expected an object, but received: "+print(te)}})}function union(re){const ee=re.map(te=>te.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(te,ne){const se=[];for(const ie of re){const[...fe]=run(te,ie,ne),[ue]=fe;if(ue[0])for(const[xe]of fe)xe&&se.push(xe);else return[]}return["Expected the value to satisfy a union of `"+ee+"`, but received: "+print(te),...se]}})}function unknown(){return define("unknown",()=>!0)}function coerce(re,ee,te){return new Struct$1({...re,coercer:(ne,se)=>is(ne,ee)?re.coercer(te(ne,se),se):re.coercer(ne,se)})}var index_browser={},interopRequireDefault={exports:{}};(function(re){function ee(te){return te&&te.__esModule?te:{default:te}}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports})(interopRequireDefault);var createClass={exports:{}},toPropertyKey={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(re){function ee(te){return re.exports=ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},re.exports.__esModule=!0,re.exports.default=re.exports,ee(te)}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports}(_typeof)),_typeof.exports}var toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(re){var ee=require_typeof().default;function te(ne,se){if(ee(ne)!=="object"||ne===null)return ne;var ie=ne[Symbol.toPrimitive];if(ie!==void 0){var fe=ie.call(ne,se||"default");if(ee(fe)!=="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(ne)}re.exports=te,re.exports.__esModule=!0,re.exports.default=re.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(re){var ee=require_typeof().default,te=requireToPrimitive();function ne(se){var ie=te(se,"string");return ee(ie)==="symbol"?ie:String(ie)}re.exports=ne,re.exports.__esModule=!0,re.exports.default=re.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(re){var ee=requireToPropertyKey();function te(se,ie){for(var fe=0;fe<ie.length;fe++){var ue=ie[fe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(se,ee(ue.key),ue)}}function ne(se,ie,fe){return ie&&te(se.prototype,ie),fe&&te(se,fe),Object.defineProperty(se,"prototype",{writable:!1}),se}re.exports=ne,re.exports.__esModule=!0,re.exports.default=re.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(re){function ee(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports}(classCallCheck)),classCallCheck.exports}var inherits$1={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(re){function ee(te,ne){return re.exports=ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ie,fe){return ie.__proto__=fe,ie},re.exports.__esModule=!0,re.exports.default=re.exports,ee(te,ne)}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(re){var ee=requireSetPrototypeOf();function te(ne,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(se&&se.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),se&&ee(ne,se)}re.exports=te,re.exports.__esModule=!0,re.exports.default=re.exports}(inherits$1)),inherits$1.exports}var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(re){function ee(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(re){var ee=require_typeof().default,te=requireAssertThisInitialized();function ne(se,ie){if(ie&&(ee(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(se)}re.exports=ne,re.exports.__esModule=!0,re.exports.default=re.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(re){function ee(te){return re.exports=ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},re.exports.__esModule=!0,re.exports.default=re.exports,ee(te)}re.exports=ee,re.exports.__esModule=!0,re.exports.default=re.exports}(getPrototypeOf)),getPrototypeOf.exports}var websocket_browser={},hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(re){var ee=interopRequireDefault.exports;Object.defineProperty(re,"__esModule",{value:!0}),re.default=Me;var te=ee(requireClassCallCheck()),ne=ee(requireCreateClass()),se=ee(requireInherits()),ie=ee(requirePossibleConstructorReturn()),fe=ee(requireGetPrototypeOf()),ue=eventemitter3.exports;function xe(Pe){var Ne=Ee();return function(){var Ue=(0,fe.default)(Pe),Ce;if(Ne){var Be=(0,fe.default)(this).constructor;Ce=Reflect.construct(Ue,arguments,Be)}else Ce=Ue.apply(this,arguments);return(0,ie.default)(this,Ce)}}function Ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ae=function(Pe){(0,se.default)(je,Pe);var Ne=xe(je);function je(Ue,Ce,Be){var He;return(0,te.default)(this,je),He=Ne.call(this),He.socket=new window.WebSocket(Ue,Be),He.socket.onopen=function(){return He.emit("open")},He.socket.onmessage=function(Oe){return He.emit("message",Oe.data)},He.socket.onerror=function(Oe){return He.emit("error",Oe)},He.socket.onclose=function(Oe){He.emit("close",Oe.code,Oe.reason)},He}return(0,ne.default)(je,[{key:"send",value:function(Ce,Be,He){var Oe=He||Be;try{this.socket.send(Ce),Oe()}catch(Ke){Oe(Ke)}}},{key:"close",value:function(Ce,Be){this.socket.close(Ce,Be)}},{key:"addEventListener",value:function(Ce,Be,He){this.socket.addEventListener(Ce,Be,He)}}]),je}(ue.EventEmitter);function Me(Pe,Ne){return new Ae(Pe,Ne)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(re){var ee=require_typeof().default;function te(){re.exports=te=function(){return ne},re.exports.__esModule=!0,re.exports.default=re.exports;var ne={},se=Object.prototype,ie=se.hasOwnProperty,fe=Object.defineProperty||function(ce,le,ge){ce[le]=ge.value},ue=typeof Symbol=="function"?Symbol:{},xe=ue.iterator||"@@iterator",Ee=ue.asyncIterator||"@@asyncIterator",Ae=ue.toStringTag||"@@toStringTag";function Me(ce,le,ge){return Object.defineProperty(ce,le,{value:ge,enumerable:!0,configurable:!0,writable:!0}),ce[le]}try{Me({},"")}catch{Me=function(ge,ye,me){return ge[ye]=me}}function Pe(ce,le,ge,ye){var me=le&&le.prototype instanceof Ue?le:Ue,ve=Object.create(me.prototype),he=new $e(ye||[]);return fe(ve,"_invoke",{value:rt(ce,ge,he)}),ve}function Ne(ce,le,ge){try{return{type:"normal",arg:ce.call(le,ge)}}catch(ye){return{type:"throw",arg:ye}}}ne.wrap=Pe;var je={};function Ue(){}function Ce(){}function Be(){}var He={};Me(He,xe,function(){return this});var Oe=Object.getPrototypeOf,Ke=Oe&&Oe(Oe(pe([])));Ke&&Ke!==se&&ie.call(Ke,xe)&&(He=Ke);var qe=Be.prototype=Ue.prototype=Object.create(He);function Ve(ce){["next","throw","return"].forEach(function(le){Me(ce,le,function(ge){return this._invoke(le,ge)})})}function Xe(ce,le){function ge(me,ve,he,ae){var be=Ne(ce[me],ce,ve);if(be.type!=="throw"){var ze=be.arg,Ie=ze.value;return Ie&&ee(Ie)=="object"&&ie.call(Ie,"__await")?le.resolve(Ie.__await).then(function(We){ge("next",We,he,ae)},function(We){ge("throw",We,he,ae)}):le.resolve(Ie).then(function(We){ze.value=We,he(ze)},function(We){return ge("throw",We,he,ae)})}ae(be.arg)}var ye;fe(this,"_invoke",{value:function(ve,he){function ae(){return new le(function(be,ze){ge(ve,he,be,ze)})}return ye=ye?ye.then(ae,ae):ae()}})}function rt(ce,le,ge){var ye="suspendedStart";return function(me,ve){if(ye==="executing")throw new Error("Generator is already running");if(ye==="completed"){if(me==="throw")throw ve;return oe()}for(ge.method=me,ge.arg=ve;;){var he=ge.delegate;if(he){var ae=mt(he,ge);if(ae){if(ae===je)continue;return ae}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if(ye==="suspendedStart")throw ye="completed",ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);ye="executing";var be=Ne(ce,le,ge);if(be.type==="normal"){if(ye=ge.done?"completed":"suspendedYield",be.arg===je)continue;return{value:be.arg,done:ge.done}}be.type==="throw"&&(ye="completed",ge.method="throw",ge.arg=be.arg)}}}function mt(ce,le){var ge=le.method,ye=ce.iterator[ge];if(ye===void 0)return le.delegate=null,ge==="throw"&&ce.iterator.return&&(le.method="return",le.arg=void 0,mt(ce,le),le.method==="throw")||ge!=="return"&&(le.method="throw",le.arg=new TypeError("The iterator does not provide a '"+ge+"' method")),je;var me=Ne(ye,ce.iterator,le.arg);if(me.type==="throw")return le.method="throw",le.arg=me.arg,le.delegate=null,je;var ve=me.arg;return ve?ve.done?(le[ce.resultName]=ve.value,le.next=ce.nextLoc,le.method!=="return"&&(le.method="next",le.arg=void 0),le.delegate=null,je):ve:(le.method="throw",le.arg=new TypeError("iterator result is not an object"),le.delegate=null,je)}function Qe(ce){var le={tryLoc:ce[0]};1 in ce&&(le.catchLoc=ce[1]),2 in ce&&(le.finallyLoc=ce[2],le.afterLoc=ce[3]),this.tryEntries.push(le)}function Se(ce){var le=ce.completion||{};le.type="normal",delete le.arg,ce.completion=le}function $e(ce){this.tryEntries=[{tryLoc:"root"}],ce.forEach(Qe,this),this.reset(!0)}function pe(ce){if(ce){var le=ce[xe];if(le)return le.call(ce);if(typeof ce.next=="function")return ce;if(!isNaN(ce.length)){var ge=-1,ye=function me(){for(;++ge<ce.length;)if(ie.call(ce,ge))return me.value=ce[ge],me.done=!1,me;return me.value=void 0,me.done=!0,me};return ye.next=ye}}return{next:oe}}function oe(){return{value:void 0,done:!0}}return Ce.prototype=Be,fe(qe,"constructor",{value:Be,configurable:!0}),fe(Be,"constructor",{value:Ce,configurable:!0}),Ce.displayName=Me(Be,Ae,"GeneratorFunction"),ne.isGeneratorFunction=function(ce){var le=typeof ce=="function"&&ce.constructor;return!!le&&(le===Ce||(le.displayName||le.name)==="GeneratorFunction")},ne.mark=function(ce){return Object.setPrototypeOf?Object.setPrototypeOf(ce,Be):(ce.__proto__=Be,Me(ce,Ae,"GeneratorFunction")),ce.prototype=Object.create(qe),ce},ne.awrap=function(ce){return{__await:ce}},Ve(Xe.prototype),Me(Xe.prototype,Ee,function(){return this}),ne.AsyncIterator=Xe,ne.async=function(ce,le,ge,ye,me){me===void 0&&(me=Promise);var ve=new Xe(Pe(ce,le,ge,ye),me);return ne.isGeneratorFunction(le)?ve:ve.next().then(function(he){return he.done?he.value:ve.next()})},Ve(qe),Me(qe,Ae,"Generator"),Me(qe,xe,function(){return this}),Me(qe,"toString",function(){return"[object Generator]"}),ne.keys=function(ce){var le=Object(ce),ge=[];for(var ye in le)ge.push(ye);return ge.reverse(),function me(){for(;ge.length;){var ve=ge.pop();if(ve in le)return me.value=ve,me.done=!1,me}return me.done=!0,me}},ne.values=pe,$e.prototype={constructor:$e,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Se),!le)for(var ge in this)ge.charAt(0)==="t"&&ie.call(this,ge)&&!isNaN(+ge.slice(1))&&(this[ge]=void 0)},stop:function(){this.done=!0;var le=this.tryEntries[0].completion;if(le.type==="throw")throw le.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var ge=this;function ye(ze,Ie){return he.type="throw",he.arg=le,ge.next=ze,Ie&&(ge.method="next",ge.arg=void 0),!!Ie}for(var me=this.tryEntries.length-1;me>=0;--me){var ve=this.tryEntries[me],he=ve.completion;if(ve.tryLoc==="root")return ye("end");if(ve.tryLoc<=this.prev){var ae=ie.call(ve,"catchLoc"),be=ie.call(ve,"finallyLoc");if(ae&&be){if(this.prev<ve.catchLoc)return ye(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return ye(ve.finallyLoc)}else if(ae){if(this.prev<ve.catchLoc)return ye(ve.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return ye(ve.finallyLoc)}}}},abrupt:function(le,ge){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var me=this.tryEntries[ye];if(me.tryLoc<=this.prev&&ie.call(me,"finallyLoc")&&this.prev<me.finallyLoc){var ve=me;break}}ve&&(le==="break"||le==="continue")&&ve.tryLoc<=ge&&ge<=ve.finallyLoc&&(ve=null);var he=ve?ve.completion:{};return he.type=le,he.arg=ge,ve?(this.method="next",this.next=ve.finallyLoc,je):this.complete(he)},complete:function(le,ge){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&ge&&(this.next=ge),je},finish:function(le){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ye=this.tryEntries[ge];if(ye.finallyLoc===le)return this.complete(ye.completion,ye.afterLoc),Se(ye),je}},catch:function(le){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ye=this.tryEntries[ge];if(ye.tryLoc===le){var me=ye.completion;if(me.type==="throw"){var ve=me.arg;Se(ye)}return ve}}throw new Error("illegal catch attempt")},delegateYield:function(le,ge,ye){return this.delegate={iterator:pe(le),resultName:ge,nextLoc:ye},this.method==="next"&&(this.arg=void 0),je}},ne}re.exports=te,re.exports.__esModule=!0,re.exports.default=re.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var re=requireRegeneratorRuntime()();regenerator=re;try{regeneratorRuntime=re}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=re:Function("r","regeneratorRuntime = r")(re)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(re){function ee(ne,se,ie,fe,ue,xe,Ee){try{var Ae=ne[xe](Ee),Me=Ae.value}catch(Pe){ie(Pe);return}Ae.done?se(Me):Promise.resolve(Me).then(fe,ue)}function te(ne){return function(){var se=this,ie=arguments;return new Promise(function(fe,ue){var xe=ne.apply(se,ie);function Ee(Me){ee(xe,fe,ue,Ee,Ae,"next",Me)}function Ae(Me){ee(xe,fe,ue,Ee,Ae,"throw",Me)}Ee(void 0)})}}re.exports=te,re.exports.__esModule=!0,re.exports.default=re.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(re){var ee=interopRequireDefault.exports;Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var te=ee(requireRegenerator()),ne=ee(requireAsyncToGenerator()),se=ee(require_typeof()),ie=ee(requireClassCallCheck()),fe=ee(requireCreateClass()),ue=ee(requireInherits()),xe=ee(requirePossibleConstructorReturn()),Ee=ee(requireGetPrototypeOf()),Ae=eventemitter3.exports;function Me(Ue){var Ce=Pe();return function(){var He=(0,Ee.default)(Ue),Oe;if(Ce){var Ke=(0,Ee.default)(this).constructor;Oe=Reflect.construct(He,arguments,Ke)}else Oe=He.apply(this,arguments);return(0,xe.default)(this,Oe)}}function Pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ne=function(Ue,Ce){var Be={};for(var He in Ue)Object.prototype.hasOwnProperty.call(Ue,He)&&Ce.indexOf(He)<0&&(Be[He]=Ue[He]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oe=0,He=Object.getOwnPropertySymbols(Ue);Oe<He.length;Oe++)Ce.indexOf(He[Oe])<0&&Object.prototype.propertyIsEnumerable.call(Ue,He[Oe])&&(Be[He[Oe]]=Ue[He[Oe]]);return Be},je=function(Ue){(0,ue.default)(Be,Ue);var Ce=Me(Be);function Be(He){var Oe,Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ve=arguments.length>3?arguments[3]:void 0;(0,ie.default)(this,Be);var Xe=qe.autoconnect,rt=Xe===void 0?!0:Xe,mt=qe.reconnect,Qe=mt===void 0?!0:mt,Se=qe.reconnect_interval,$e=Se===void 0?1e3:Se,pe=qe.max_reconnects,oe=pe===void 0?5:pe,ce=Ne(qe,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Oe=Ce.call(this),Oe.webSocketFactory=He,Oe.queue={},Oe.rpc_id=0,Oe.address=Ke,Oe.autoconnect=rt,Oe.ready=!1,Oe.reconnect=Qe,Oe.reconnect_interval=$e,Oe.max_reconnects=oe,Oe.rest_options=ce,Oe.current_reconnects=0,Oe.generate_request_id=Ve||function(){return++Oe.rpc_id},Oe.autoconnect&&Oe._connect(Oe.address,Object.assign({autoconnect:Oe.autoconnect,reconnect:Oe.reconnect,reconnect_interval:Oe.reconnect_interval,max_reconnects:Oe.max_reconnects},Oe.rest_options)),Oe}return(0,fe.default)(Be,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Oe,Ke,qe,Ve){var Xe=this;return!Ve&&(0,se.default)(qe)==="object"&&(Ve=qe,qe=null),new Promise(function(rt,mt){if(!Xe.ready)return mt(new Error("socket not ready"));var Qe=Xe.generate_request_id(Oe,Ke),Se={jsonrpc:"2.0",method:Oe,params:Ke||null,id:Qe};Xe.socket.send(JSON.stringify(Se),Ve,function($e){if($e)return mt($e);Xe.queue[Qe]={promise:[rt,mt]},qe&&(Xe.queue[Qe].timeout=setTimeout(function(){delete Xe.queue[Qe],mt(new Error("reply timeout"))},qe))})})}},{key:"login",value:function(){var He=(0,ne.default)(te.default.mark(function Ke(qe){var Ve;return te.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,this.call("rpc.login",qe);case 2:if(Ve=rt.sent,Ve){rt.next=5;break}throw new Error("authentication failed");case 5:return rt.abrupt("return",Ve);case 6:case"end":return rt.stop()}},Ke,this)}));function Oe(Ke){return He.apply(this,arguments)}return Oe}()},{key:"listMethods",value:function(){var He=(0,ne.default)(te.default.mark(function Ke(){return te.default.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,this.call("__listMethods");case 2:return Ve.abrupt("return",Ve.sent);case 3:case"end":return Ve.stop()}},Ke,this)}));function Oe(){return He.apply(this,arguments)}return Oe}()},{key:"notify",value:function(Oe,Ke){var qe=this;return new Promise(function(Ve,Xe){if(!qe.ready)return Xe(new Error("socket not ready"));var rt={jsonrpc:"2.0",method:Oe,params:Ke||null};qe.socket.send(JSON.stringify(rt),function(mt){if(mt)return Xe(mt);Ve()})})}},{key:"subscribe",value:function(){var He=(0,ne.default)(te.default.mark(function Ke(qe){var Ve;return te.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return typeof qe=="string"&&(qe=[qe]),rt.next=3,this.call("rpc.on",qe);case 3:if(Ve=rt.sent,!(typeof qe=="string"&&Ve[qe]!=="ok")){rt.next=6;break}throw new Error("Failed subscribing to an event '"+qe+"' with: "+Ve[qe]);case 6:return rt.abrupt("return",Ve);case 7:case"end":return rt.stop()}},Ke,this)}));function Oe(Ke){return He.apply(this,arguments)}return Oe}()},{key:"unsubscribe",value:function(){var He=(0,ne.default)(te.default.mark(function Ke(qe){var Ve;return te.default.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return typeof qe=="string"&&(qe=[qe]),rt.next=3,this.call("rpc.off",qe);case 3:if(Ve=rt.sent,!(typeof qe=="string"&&Ve[qe]!=="ok")){rt.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Ve);case 6:return rt.abrupt("return",Ve);case 7:case"end":return rt.stop()}},Ke,this)}));function Oe(Ke){return He.apply(this,arguments)}return Oe}()},{key:"close",value:function(Oe,Ke){this.socket.close(Oe||1e3,Ke)}},{key:"_connect",value:function(Oe,Ke){var qe=this;this.socket=this.webSocketFactory(Oe,Ke),this.socket.addEventListener("open",function(){qe.ready=!0,qe.emit("open"),qe.current_reconnects=0}),this.socket.addEventListener("message",function(Ve){var Xe=Ve.data;Xe instanceof ArrayBuffer&&(Xe=Buffer.from(Xe).toString());try{Xe=JSON.parse(Xe)}catch{return}if(Xe.notification&&qe.listeners(Xe.notification).length){if(!Object.keys(Xe.params).length)return qe.emit(Xe.notification);var rt=[Xe.notification];if(Xe.params.constructor===Object)rt.push(Xe.params);else for(var mt=0;mt<Xe.params.length;mt++)rt.push(Xe.params[mt]);return Promise.resolve().then(function(){qe.emit.apply(qe,rt)})}if(!qe.queue[Xe.id])return Xe.method&&Xe.params?Promise.resolve().then(function(){qe.emit(Xe.method,Xe.params)}):void 0;"error"in Xe=="result"in Xe&&qe.queue[Xe.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),qe.queue[Xe.id].timeout&&clearTimeout(qe.queue[Xe.id].timeout),Xe.error?qe.queue[Xe.id].promise[1](Xe.error):qe.queue[Xe.id].promise[0](Xe.result),delete qe.queue[Xe.id]}),this.socket.addEventListener("error",function(Ve){return qe.emit("error",Ve)}),this.socket.addEventListener("close",function(Ve){var Xe=Ve.code,rt=Ve.reason;qe.ready&&setTimeout(function(){return qe.emit("close",Xe,rt)},0),qe.ready=!1,qe.socket=void 0,Xe!==1e3&&(qe.current_reconnects++,qe.reconnect&&(qe.max_reconnects>qe.current_reconnects||qe.max_reconnects===0)&&setTimeout(function(){return qe._connect(Oe,Ke)},qe.reconnect_interval))})}}]),Be}(Ae.EventEmitter);re.default=je}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(re){var ee=_isNativeReflectConstruct();return function(){var ne=(0,_getPrototypeOf2.default)(re),se;if(ee){var ie=(0,_getPrototypeOf2.default)(this).constructor;se=Reflect.construct(ne,arguments,ie)}else se=ne.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,se)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(re){(0,_inherits2.default)(te,re);var ee=_createSuper(te);function te(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=se.autoconnect,fe=ie===void 0?!0:ie,ue=se.reconnect,xe=ue===void 0?!0:ue,Ee=se.reconnect_interval,Ae=Ee===void 0?1e3:Ee,Me=se.max_reconnects,Pe=Me===void 0?5:Me,Ne=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,te),ee.call(this,_websocket.default,ne,{autoconnect:fe,reconnect:xe,reconnect_interval:Ae,max_reconnects:Pe},Ne)}return(0,_createClass2.default)(te)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(re){return typeof re=="string"&&REGEX.test(re)}for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$1(re){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,te=(byteToHex[re[ee+0]]+byteToHex[re[ee+1]]+byteToHex[re[ee+2]]+byteToHex[re[ee+3]]+"-"+byteToHex[re[ee+4]]+byteToHex[re[ee+5]]+"-"+byteToHex[re[ee+6]]+byteToHex[re[ee+7]]+"-"+byteToHex[re[ee+8]]+byteToHex[re[ee+9]]+"-"+byteToHex[re[ee+10]]+byteToHex[re[ee+11]]+byteToHex[re[ee+12]]+byteToHex[re[ee+13]]+byteToHex[re[ee+14]]+byteToHex[re[ee+15]]).toLowerCase();if(!validate(te))throw TypeError("Stringified UUID is invalid");return te}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(re,ee,te){var ne=ee&&te||0,se=ee||new Array(16);re=re||{};var ie=re.node||_nodeId,fe=re.clockseq!==void 0?re.clockseq:_clockseq;if(ie==null||fe==null){var ue=re.random||(re.rng||rng)();ie==null&&(ie=_nodeId=[ue[0]|1,ue[1],ue[2],ue[3],ue[4],ue[5]]),fe==null&&(fe=_clockseq=(ue[6]<<8|ue[7])&16383)}var xe=re.msecs!==void 0?re.msecs:Date.now(),Ee=re.nsecs!==void 0?re.nsecs:_lastNSecs+1,Ae=xe-_lastMSecs+(Ee-_lastNSecs)/1e4;if(Ae<0&&re.clockseq===void 0&&(fe=fe+1&16383),(Ae<0||xe>_lastMSecs)&&re.nsecs===void 0&&(Ee=0),Ee>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=xe,_lastNSecs=Ee,_clockseq=fe,xe+=122192928e5;var Me=((xe&268435455)*1e4+Ee)%4294967296;se[ne++]=Me>>>24&255,se[ne++]=Me>>>16&255,se[ne++]=Me>>>8&255,se[ne++]=Me&255;var Pe=xe/4294967296*1e4&268435455;se[ne++]=Pe>>>8&255,se[ne++]=Pe&255,se[ne++]=Pe>>>24&15|16,se[ne++]=Pe>>>16&255,se[ne++]=fe>>>8|128,se[ne++]=fe&255;for(var Ne=0;Ne<6;++Ne)se[ne+Ne]=ie[Ne];return ee||stringify$1(se)}function parse$1(re){if(!validate(re))throw TypeError("Invalid UUID");var ee,te=new Uint8Array(16);return te[0]=(ee=parseInt(re.slice(0,8),16))>>>24,te[1]=ee>>>16&255,te[2]=ee>>>8&255,te[3]=ee&255,te[4]=(ee=parseInt(re.slice(9,13),16))>>>8,te[5]=ee&255,te[6]=(ee=parseInt(re.slice(14,18),16))>>>8,te[7]=ee&255,te[8]=(ee=parseInt(re.slice(19,23),16))>>>8,te[9]=ee&255,te[10]=(ee=parseInt(re.slice(24,36),16))/1099511627776&255,te[11]=ee/4294967296&255,te[12]=ee>>>24&255,te[13]=ee>>>16&255,te[14]=ee>>>8&255,te[15]=ee&255,te}function stringToBytes(re){re=unescape(encodeURIComponent(re));for(var ee=[],te=0;te<re.length;++te)ee.push(re.charCodeAt(te));return ee}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(re,ee,te){function ne(se,ie,fe,ue){if(typeof se=="string"&&(se=stringToBytes(se)),typeof ie=="string"&&(ie=parse$1(ie)),ie.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var xe=new Uint8Array(16+se.length);if(xe.set(ie),xe.set(se,ie.length),xe=te(xe),xe[6]=xe[6]&15|ee,xe[8]=xe[8]&63|128,fe){ue=ue||0;for(var Ee=0;Ee<16;++Ee)fe[ue+Ee]=xe[Ee];return fe}return stringify$1(xe)}try{ne.name=re}catch{}return ne.DNS=DNS,ne.URL=URL$1,ne}function md5(re){if(typeof re=="string"){var ee=unescape(encodeURIComponent(re));re=new Uint8Array(ee.length);for(var te=0;te<ee.length;++te)re[te]=ee.charCodeAt(te)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(re),re.length*8))}function md5ToHexEncodedArray(re){for(var ee=[],te=re.length*32,ne="0123456789abcdef",se=0;se<te;se+=8){var ie=re[se>>5]>>>se%32&255,fe=parseInt(ne.charAt(ie>>>4&15)+ne.charAt(ie&15),16);ee.push(fe)}return ee}function getOutputLength(re){return(re+64>>>9<<4)+14+1}function wordsToMd5(re,ee){re[ee>>5]|=128<<ee%32,re[getOutputLength(ee)-1]=ee;for(var te=1732584193,ne=-271733879,se=-1732584194,ie=271733878,fe=0;fe<re.length;fe+=16){var ue=te,xe=ne,Ee=se,Ae=ie;te=md5ff(te,ne,se,ie,re[fe],7,-680876936),ie=md5ff(ie,te,ne,se,re[fe+1],12,-389564586),se=md5ff(se,ie,te,ne,re[fe+2],17,606105819),ne=md5ff(ne,se,ie,te,re[fe+3],22,-1044525330),te=md5ff(te,ne,se,ie,re[fe+4],7,-176418897),ie=md5ff(ie,te,ne,se,re[fe+5],12,1200080426),se=md5ff(se,ie,te,ne,re[fe+6],17,-1473231341),ne=md5ff(ne,se,ie,te,re[fe+7],22,-45705983),te=md5ff(te,ne,se,ie,re[fe+8],7,1770035416),ie=md5ff(ie,te,ne,se,re[fe+9],12,-1958414417),se=md5ff(se,ie,te,ne,re[fe+10],17,-42063),ne=md5ff(ne,se,ie,te,re[fe+11],22,-1990404162),te=md5ff(te,ne,se,ie,re[fe+12],7,1804603682),ie=md5ff(ie,te,ne,se,re[fe+13],12,-40341101),se=md5ff(se,ie,te,ne,re[fe+14],17,-1502002290),ne=md5ff(ne,se,ie,te,re[fe+15],22,1236535329),te=md5gg(te,ne,se,ie,re[fe+1],5,-165796510),ie=md5gg(ie,te,ne,se,re[fe+6],9,-1069501632),se=md5gg(se,ie,te,ne,re[fe+11],14,643717713),ne=md5gg(ne,se,ie,te,re[fe],20,-373897302),te=md5gg(te,ne,se,ie,re[fe+5],5,-701558691),ie=md5gg(ie,te,ne,se,re[fe+10],9,38016083),se=md5gg(se,ie,te,ne,re[fe+15],14,-660478335),ne=md5gg(ne,se,ie,te,re[fe+4],20,-405537848),te=md5gg(te,ne,se,ie,re[fe+9],5,568446438),ie=md5gg(ie,te,ne,se,re[fe+14],9,-1019803690),se=md5gg(se,ie,te,ne,re[fe+3],14,-187363961),ne=md5gg(ne,se,ie,te,re[fe+8],20,1163531501),te=md5gg(te,ne,se,ie,re[fe+13],5,-1444681467),ie=md5gg(ie,te,ne,se,re[fe+2],9,-51403784),se=md5gg(se,ie,te,ne,re[fe+7],14,1735328473),ne=md5gg(ne,se,ie,te,re[fe+12],20,-1926607734),te=md5hh(te,ne,se,ie,re[fe+5],4,-378558),ie=md5hh(ie,te,ne,se,re[fe+8],11,-2022574463),se=md5hh(se,ie,te,ne,re[fe+11],16,1839030562),ne=md5hh(ne,se,ie,te,re[fe+14],23,-35309556),te=md5hh(te,ne,se,ie,re[fe+1],4,-1530992060),ie=md5hh(ie,te,ne,se,re[fe+4],11,1272893353),se=md5hh(se,ie,te,ne,re[fe+7],16,-155497632),ne=md5hh(ne,se,ie,te,re[fe+10],23,-1094730640),te=md5hh(te,ne,se,ie,re[fe+13],4,681279174),ie=md5hh(ie,te,ne,se,re[fe],11,-358537222),se=md5hh(se,ie,te,ne,re[fe+3],16,-722521979),ne=md5hh(ne,se,ie,te,re[fe+6],23,76029189),te=md5hh(te,ne,se,ie,re[fe+9],4,-640364487),ie=md5hh(ie,te,ne,se,re[fe+12],11,-421815835),se=md5hh(se,ie,te,ne,re[fe+15],16,530742520),ne=md5hh(ne,se,ie,te,re[fe+2],23,-995338651),te=md5ii(te,ne,se,ie,re[fe],6,-198630844),ie=md5ii(ie,te,ne,se,re[fe+7],10,1126891415),se=md5ii(se,ie,te,ne,re[fe+14],15,-1416354905),ne=md5ii(ne,se,ie,te,re[fe+5],21,-57434055),te=md5ii(te,ne,se,ie,re[fe+12],6,1700485571),ie=md5ii(ie,te,ne,se,re[fe+3],10,-1894986606),se=md5ii(se,ie,te,ne,re[fe+10],15,-1051523),ne=md5ii(ne,se,ie,te,re[fe+1],21,-2054922799),te=md5ii(te,ne,se,ie,re[fe+8],6,1873313359),ie=md5ii(ie,te,ne,se,re[fe+15],10,-30611744),se=md5ii(se,ie,te,ne,re[fe+6],15,-1560198380),ne=md5ii(ne,se,ie,te,re[fe+13],21,1309151649),te=md5ii(te,ne,se,ie,re[fe+4],6,-145523070),ie=md5ii(ie,te,ne,se,re[fe+11],10,-1120210379),se=md5ii(se,ie,te,ne,re[fe+2],15,718787259),ne=md5ii(ne,se,ie,te,re[fe+9],21,-343485551),te=safeAdd(te,ue),ne=safeAdd(ne,xe),se=safeAdd(se,Ee),ie=safeAdd(ie,Ae)}return[te,ne,se,ie]}function bytesToWords(re){if(re.length===0)return[];for(var ee=re.length*8,te=new Uint32Array(getOutputLength(ee)),ne=0;ne<ee;ne+=8)te[ne>>5]|=(re[ne/8]&255)<<ne%32;return te}function safeAdd(re,ee){var te=(re&65535)+(ee&65535),ne=(re>>16)+(ee>>16)+(te>>16);return ne<<16|te&65535}function bitRotateLeft(re,ee){return re<<ee|re>>>32-ee}function md5cmn(re,ee,te,ne,se,ie){return safeAdd(bitRotateLeft(safeAdd(safeAdd(ee,re),safeAdd(ne,ie)),se),te)}function md5ff(re,ee,te,ne,se,ie,fe){return md5cmn(ee&te|~ee&ne,re,ee,se,ie,fe)}function md5gg(re,ee,te,ne,se,ie,fe){return md5cmn(ee&ne|te&~ne,re,ee,se,ie,fe)}function md5hh(re,ee,te,ne,se,ie,fe){return md5cmn(ee^te^ne,re,ee,se,ie,fe)}function md5ii(re,ee,te,ne,se,ie,fe){return md5cmn(te^(ee|~ne),re,ee,se,ie,fe)}var v3=v35("v3",48,md5),v3$1=v3;function v4(re,ee,te){re=re||{};var ne=re.random||(re.rng||rng)();if(ne[6]=ne[6]&15|64,ne[8]=ne[8]&63|128,ee){te=te||0;for(var se=0;se<16;++se)ee[te+se]=ne[se];return ee}return stringify$1(ne)}function f$1(re,ee,te,ne){switch(re){case 0:return ee&te^~ee&ne;case 1:return ee^te^ne;case 2:return ee&te^ee&ne^te&ne;case 3:return ee^te^ne}}function ROTL(re,ee){return re<<ee|re>>>32-ee}function sha1(re){var ee=[1518500249,1859775393,2400959708,3395469782],te=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof re=="string"){var ne=unescape(encodeURIComponent(re));re=[];for(var se=0;se<ne.length;++se)re.push(ne.charCodeAt(se))}else Array.isArray(re)||(re=Array.prototype.slice.call(re));re.push(128);for(var ie=re.length/4+2,fe=Math.ceil(ie/16),ue=new Array(fe),xe=0;xe<fe;++xe){for(var Ee=new Uint32Array(16),Ae=0;Ae<16;++Ae)Ee[Ae]=re[xe*64+Ae*4]<<24|re[xe*64+Ae*4+1]<<16|re[xe*64+Ae*4+2]<<8|re[xe*64+Ae*4+3];ue[xe]=Ee}ue[fe-1][14]=(re.length-1)*8/Math.pow(2,32),ue[fe-1][14]=Math.floor(ue[fe-1][14]),ue[fe-1][15]=(re.length-1)*8&4294967295;for(var Me=0;Me<fe;++Me){for(var Pe=new Uint32Array(80),Ne=0;Ne<16;++Ne)Pe[Ne]=ue[Me][Ne];for(var je=16;je<80;++je)Pe[je]=ROTL(Pe[je-3]^Pe[je-8]^Pe[je-14]^Pe[je-16],1);for(var Ue=te[0],Ce=te[1],Be=te[2],He=te[3],Oe=te[4],Ke=0;Ke<80;++Ke){var qe=Math.floor(Ke/20),Ve=ROTL(Ue,5)+f$1(qe,Ce,Be,He)+Oe+ee[qe]+Pe[Ke]>>>0;Oe=He,He=Be,Be=ROTL(Ce,30)>>>0,Ce=Ue,Ue=Ve}te[0]=te[0]+Ue>>>0,te[1]=te[1]+Ce>>>0,te[2]=te[2]+Be>>>0,te[3]=te[3]+He>>>0,te[4]=te[4]+Oe>>>0}return[te[0]>>24&255,te[0]>>16&255,te[0]>>8&255,te[0]&255,te[1]>>24&255,te[1]>>16&255,te[1]>>8&255,te[1]&255,te[2]>>24&255,te[2]>>16&255,te[2]>>8&255,te[2]&255,te[3]>>24&255,te[3]>>16&255,te[3]>>8&255,te[3]&255,te[4]>>24&255,te[4]>>16&255,te[4]>>8&255,te[4]&255]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$m(re){if(!validate(re))throw TypeError("Invalid UUID");return parseInt(re.substr(14,1),16)}var esmBrowser=Object.freeze({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version:version$m,validate,stringify:stringify$1,parse:parse$1}),require$$0$1=getAugmentedNamespace(esmBrowser);const uuid$1=require$$0$1.v4,generateRequest$1=function(re,ee,te,ne){if(typeof re!="string")throw new TypeError(re+" must be a string");ne=ne||{};const se=typeof ne.version=="number"?ne.version:2;if(se!==1&&se!==2)throw new TypeError(se+" must be 1 or 2");const ie={method:re};if(se===2&&(ie.jsonrpc="2.0"),ee){if(typeof ee!="object"&&!Array.isArray(ee))throw new TypeError(ee+" must be an object, array or omitted");ie.params=ee}if(typeof te>"u"){const fe=typeof ne.generator=="function"?ne.generator:function(){return uuid$1()};ie.id=fe(ie,ne)}else se===2&&te===null?ne.notificationIdNull&&(ie.id=null):ie.id=te;return ie};var generateRequest_1=generateRequest$1;const uuid=require$$0$1.v4,generateRequest=generateRequest_1,ClientBrowser=function(re,ee){if(!(this instanceof ClientBrowser))return new ClientBrowser(re,ee);ee||(ee={}),this.options={reviver:typeof ee.reviver<"u"?ee.reviver:null,replacer:typeof ee.replacer<"u"?ee.replacer:null,generator:typeof ee.generator<"u"?ee.generator:function(){return uuid()},version:typeof ee.version<"u"?ee.version:2,notificationIdNull:typeof ee.notificationIdNull=="boolean"?ee.notificationIdNull:!1},this.callServer=re};var browser=ClientBrowser;ClientBrowser.prototype.request=function(re,ee,te,ne){const se=this;let ie=null;const fe=Array.isArray(re)&&typeof ee=="function";if(this.options.version===1&&fe)throw new TypeError("JSON-RPC 1.0 does not support batching");if(fe||!fe&&re&&typeof re=="object"&&typeof ee=="function")ne=ee,ie=re;else{typeof te=="function"&&(ne=te,te=void 0);const Ee=typeof ne=="function";try{ie=generateRequest(re,ee,te,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(Ae){if(Ee)return ne(Ae);throw Ae}if(!Ee)return ie}let xe;try{xe=JSON.stringify(ie,this.options.replacer)}catch(Ee){return ne(Ee)}return this.callServer(xe,function(Ee,Ae){se._parseResponse(Ee,Ae,ne)}),ie},ClientBrowser.prototype._parseResponse=function(re,ee,te){if(re){te(re);return}if(!ee)return te();let ne;try{ne=JSON.parse(ee,this.options.reviver)}catch(se){return te(se)}if(te.length===3)if(Array.isArray(ne)){const se=function(fe){return typeof fe.error<"u"},ie=function(fe){return!se(fe)};return te(null,ne.filter(se),ne.filter(ie))}else return te(null,ne.error,ne.result);te(null,ne)};const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let re=0,ee=_1n$1,te=1,ne=0;re<24;re++){[te,ne]=[ne,(2*te+3*ne)%5],SHA3_PI.push(2*(5*ne+te)),SHA3_ROTL.push((re+1)*(re+2)/2%64);let se=_0n$1;for(let ie=0;ie<7;ie++)ee=(ee<<_1n$1^(ee>>_7n)*_0x71n)%_256n,ee&_2n$1&&(se^=_1n$1<<(_1n$1<<BigInt(ie))-_1n$1);_SHA3_IOTA.push(se)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64$1.split(_SHA3_IOTA,!0),rotlH=(re,ee,te)=>te>32?u64$1.rotlBH(re,ee,te):u64$1.rotlSH(re,ee,te),rotlL=(re,ee,te)=>te>32?u64$1.rotlBL(re,ee,te):u64$1.rotlSL(re,ee,te);function keccakP(re,ee=24){const te=new Uint32Array(10);for(let ne=24-ee;ne<24;ne++){for(let fe=0;fe<10;fe++)te[fe]=re[fe]^re[fe+10]^re[fe+20]^re[fe+30]^re[fe+40];for(let fe=0;fe<10;fe+=2){const ue=(fe+8)%10,xe=(fe+2)%10,Ee=te[xe],Ae=te[xe+1],Me=rotlH(Ee,Ae,1)^te[ue],Pe=rotlL(Ee,Ae,1)^te[ue+1];for(let Ne=0;Ne<50;Ne+=10)re[fe+Ne]^=Me,re[fe+Ne+1]^=Pe}let se=re[2],ie=re[3];for(let fe=0;fe<24;fe++){const ue=SHA3_ROTL[fe],xe=rotlH(se,ie,ue),Ee=rotlL(se,ie,ue),Ae=SHA3_PI[fe];se=re[Ae],ie=re[Ae+1],re[Ae]=xe,re[Ae+1]=Ee}for(let fe=0;fe<50;fe+=10){for(let ue=0;ue<10;ue++)te[ue]=re[fe+ue];for(let ue=0;ue<10;ue++)re[fe+ue]^=~te[(ue+2)%10]&te[(ue+4)%10]}re[0]^=SHA3_IOTA_H[ne],re[1]^=SHA3_IOTA_L[ne]}te.fill(0)}class Keccak extends Hash{constructor(ee,te,ne,se=!1,ie=24){if(super(),this.blockLen=ee,this.suffix=te,this.outputLen=ne,this.enableXOF=se,this.rounds=ie,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$e.number(ne),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(ee){assert$e.exists(this);const{blockLen:te,state:ne}=this;ee=toBytes(ee);const se=ee.length;for(let ie=0;ie<se;){const fe=Math.min(te-this.pos,se-ie);for(let ue=0;ue<fe;ue++)ne[this.pos++]^=ee[ie++];this.pos===te&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ee,suffix:te,pos:ne,blockLen:se}=this;ee[ne]^=te,(te&128)!==0&&ne===se-1&&this.keccak(),ee[se-1]^=128,this.keccak()}writeInto(ee){assert$e.exists(this,!1),assert$e.bytes(ee),this.finish();const te=this.state,{blockLen:ne}=this;for(let se=0,ie=ee.length;se<ie;){this.posOut>=ne&&this.keccak();const fe=Math.min(ne-this.posOut,ie-se);ee.set(te.subarray(this.posOut,this.posOut+fe),se),this.posOut+=fe,se+=fe}return ee}xofInto(ee){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ee)}xof(ee){return assert$e.number(ee),this.xofInto(new Uint8Array(ee))}digestInto(ee){if(assert$e.output(ee,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ee),this.destroy(),ee}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(ee){const{blockLen:te,suffix:ne,outputLen:se,rounds:ie,enableXOF:fe}=this;return ee||(ee=new Keccak(te,ne,se,fe,ie)),ee.state32.set(this.state32),ee.pos=this.pos,ee.posOut=this.posOut,ee.finished=this.finished,ee.rounds=ie,ee.suffix=ne,ee.outputLen=se,ee.enableXOF=fe,ee.destroyed=this.destroyed,ee}}const gen=(re,ee,te)=>wrapConstructor(()=>new Keccak(ee,re,te));gen(6,144,224/8),gen(6,136,256/8),gen(6,104,384/8),gen(6,72,512/8),gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8),gen(1,72,512/8);const genShake=(re,ee,te)=>wrapConstructorWithOpts((ne={})=>new Keccak(ee,re,ne.dkLen===void 0?te:ne.dkLen,!0));genShake(31,168,128/8),genShake(31,136,256/8);class HMAC extends Hash{constructor(ee,te){super(),this.finished=!1,this.destroyed=!1,assert$e.hash(ee);const ne=toBytes(te);if(this.iHash=ee.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const se=this.blockLen,ie=new Uint8Array(se);ie.set(ne.length>se?ee.create().update(ne).digest():ne);for(let fe=0;fe<ie.length;fe++)ie[fe]^=54;this.iHash.update(ie),this.oHash=ee.create();for(let fe=0;fe<ie.length;fe++)ie[fe]^=106;this.oHash.update(ie),ie.fill(0)}update(ee){return assert$e.exists(this),this.iHash.update(ee),this}digestInto(ee){assert$e.exists(this),assert$e.bytes(ee,this.outputLen),this.finished=!0,this.iHash.digestInto(ee),this.oHash.update(ee),this.oHash.digestInto(ee),this.destroy()}digest(){const ee=new Uint8Array(this.oHash.outputLen);return this.digestInto(ee),ee}_cloneInto(ee){ee||(ee=Object.create(Object.getPrototypeOf(this),{}));const{oHash:te,iHash:ne,finished:se,destroyed:ie,blockLen:fe,outputLen:ue}=this;return ee=ee,ee.finished=se,ee.destroyed=ie,ee.blockLen=fe,ee.outputLen=ue,ee.oHash=te._cloneInto(ee.oHash),ee.iHash=ne._cloneInto(ee.iHash),ee}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$1=(re,ee,te)=>new HMAC(re,ee).update(te).digest();hmac$1.create=(re,ee)=>new HMAC(re,ee);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(re){const{a:ee,b:te}=CURVE,ne=mod(re*re),se=mod(ne*re);return mod(se+ee*re+te)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(ee){super(ee)}}class JacobianPoint{constructor(ee,te,ne){this.x=ee,this.y=te,this.z=ne}static fromAffine(ee){if(!(ee instanceof Point$1))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(ee.x,ee.y,_1n)}static toAffineBatch(ee){const te=invertBatch(ee.map(ne=>ne.z));return ee.map((ne,se)=>ne.toAffine(te[se]))}static normalizeZ(ee){return JacobianPoint.toAffineBatch(ee).map(JacobianPoint.fromAffine)}equals(ee){if(!(ee instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:te,y:ne,z:se}=this,{x:ie,y:fe,z:ue}=ee,xe=mod(se*se),Ee=mod(ue*ue),Ae=mod(te*Ee),Me=mod(ie*xe),Pe=mod(mod(ne*ue)*Ee),Ne=mod(mod(fe*se)*xe);return Ae===Me&&Pe===Ne}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:ee,y:te,z:ne}=this,se=mod(ee*ee),ie=mod(te*te),fe=mod(ie*ie),ue=ee+ie,xe=mod(_2n*(mod(ue*ue)-se-fe)),Ee=mod(_3n*se),Ae=mod(Ee*Ee),Me=mod(Ae-_2n*xe),Pe=mod(Ee*(xe-Me)-_8n*fe),Ne=mod(_2n*te*ne);return new JacobianPoint(Me,Pe,Ne)}add(ee){if(!(ee instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:te,y:ne,z:se}=this,{x:ie,y:fe,z:ue}=ee;if(ie===_0n||fe===_0n)return this;if(te===_0n||ne===_0n)return ee;const xe=mod(se*se),Ee=mod(ue*ue),Ae=mod(te*Ee),Me=mod(ie*xe),Pe=mod(mod(ne*ue)*Ee),Ne=mod(mod(fe*se)*xe),je=mod(Me-Ae),Ue=mod(Ne-Pe);if(je===_0n)return Ue===_0n?this.double():JacobianPoint.ZERO;const Ce=mod(je*je),Be=mod(je*Ce),He=mod(Ae*Ce),Oe=mod(Ue*Ue-Be-_2n*He),Ke=mod(Ue*(He-Oe)-Pe*Be),qe=mod(se*ue*je);return new JacobianPoint(Oe,Ke,qe)}subtract(ee){return this.add(ee.negate())}multiplyUnsafe(ee){const te=JacobianPoint.ZERO;if(typeof ee=="bigint"&&ee===_0n)return te;let ne=normalizeScalar(ee);if(ne===_1n)return this;if(!USE_ENDOMORPHISM){let Me=te,Pe=this;for(;ne>_0n;)ne&_1n&&(Me=Me.add(Pe)),Pe=Pe.double(),ne>>=_1n;return Me}let{k1neg:se,k1:ie,k2neg:fe,k2:ue}=splitScalarEndo(ne),xe=te,Ee=te,Ae=this;for(;ie>_0n||ue>_0n;)ie&_1n&&(xe=xe.add(Ae)),ue&_1n&&(Ee=Ee.add(Ae)),Ae=Ae.double(),ie>>=_1n,ue>>=_1n;return se&&(xe=xe.negate()),fe&&(Ee=Ee.negate()),Ee=new JacobianPoint(mod(Ee.x*CURVE.beta),Ee.y,Ee.z),xe.add(Ee)}precomputeWindow(ee){const te=USE_ENDOMORPHISM?128/ee+1:256/ee+1,ne=[];let se=this,ie=se;for(let fe=0;fe<te;fe++){ie=se,ne.push(ie);for(let ue=1;ue<2**(ee-1);ue++)ie=ie.add(se),ne.push(ie);se=ie.double()}return ne}wNAF(ee,te){!te&&this.equals(JacobianPoint.BASE)&&(te=Point$1.BASE);const ne=te&&te._WINDOW_SIZE||1;if(256%ne)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let se=te&&pointPrecomputes.get(te);se||(se=this.precomputeWindow(ne),te&&ne!==1&&(se=JacobianPoint.normalizeZ(se),pointPrecomputes.set(te,se)));let ie=JacobianPoint.ZERO,fe=JacobianPoint.ZERO;const ue=1+(USE_ENDOMORPHISM?128/ne:256/ne),xe=2**(ne-1),Ee=BigInt(2**ne-1),Ae=2**ne,Me=BigInt(ne);for(let Pe=0;Pe<ue;Pe++){const Ne=Pe*xe;let je=Number(ee&Ee);if(ee>>=Me,je>xe&&(je-=Ae,ee+=_1n),je===0){let Ue=se[Ne];Pe%2&&(Ue=Ue.negate()),fe=fe.add(Ue)}else{let Ue=se[Ne+Math.abs(je)-1];je<0&&(Ue=Ue.negate()),ie=ie.add(Ue)}}return{p:ie,f:fe}}multiply(ee,te){let ne=normalizeScalar(ee),se,ie;if(USE_ENDOMORPHISM){const{k1neg:fe,k1:ue,k2neg:xe,k2:Ee}=splitScalarEndo(ne);let{p:Ae,f:Me}=this.wNAF(ue,te),{p:Pe,f:Ne}=this.wNAF(Ee,te);fe&&(Ae=Ae.negate()),xe&&(Pe=Pe.negate()),Pe=new JacobianPoint(mod(Pe.x*CURVE.beta),Pe.y,Pe.z),se=Ae.add(Pe),ie=Me.add(Ne)}else{const{p:fe,f:ue}=this.wNAF(ne,te);se=fe,ie=ue}return JacobianPoint.normalizeZ([se,ie])[0]}toAffine(ee=invert(this.z)){const{x:te,y:ne,z:se}=this,ie=ee,fe=mod(ie*ie),ue=mod(fe*ie),xe=mod(te*fe),Ee=mod(ne*ue);if(mod(se*ie)!==_1n)throw new Error("invZ was invalid");return new Point$1(xe,Ee)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n),JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point$1{constructor(ee,te){this.x=ee,this.y=te}_setWindowSize(ee){this._WINDOW_SIZE=ee,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(ee){const te=ee.length===32,ne=bytesToNumber(te?ee:ee.subarray(1));if(!isValidFieldElement(ne))throw new Error("Point is not on curve");const se=weistrass(ne);let ie=sqrtMod(se);const fe=(ie&_1n)===_1n;te?fe&&(ie=mod(-ie)):(ee[0]&1)===1!==fe&&(ie=mod(-ie));const ue=new Point$1(ne,ie);return ue.assertValidity(),ue}static fromUncompressedHex(ee){const te=bytesToNumber(ee.subarray(1,33)),ne=bytesToNumber(ee.subarray(33,65)),se=new Point$1(te,ne);return se.assertValidity(),se}static fromHex(ee){const te=ensureBytes(ee),ne=te.length,se=te[0];if(ne===32||ne===33&&(se===2||se===3))return this.fromCompressedHex(te);if(ne===65&&se===4)return this.fromUncompressedHex(te);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${ne}`)}static fromPrivateKey(ee){return Point$1.BASE.multiply(normalizePrivateKey(ee))}static fromSignature(ee,te,ne){ee=ensureBytes(ee);const se=truncateHash(ee),{r:ie,s:fe}=normalizeSignature(te);if(ne!==0&&ne!==1)throw new Error("Cannot recover signature: invalid recovery bit");const ue=ne&1?"03":"02",xe=Point$1.fromHex(ue+numTo32bStr(ie)),{n:Ee}=CURVE,Ae=invert(ie,Ee),Me=mod(-se*Ae,Ee),Pe=mod(fe*Ae,Ee),Ne=Point$1.BASE.multiplyAndAddUnsafe(xe,Me,Pe);if(!Ne)throw new Error("Cannot recover signature: point at infinify");return Ne.assertValidity(),Ne}toRawBytes(ee=!1){return hexToBytes(this.toHex(ee))}toHex(ee=!1){const te=numTo32bStr(this.x);return ee?`${this.hasEvenY()?"02":"03"}${te}`:`04${te}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const ee="Point is not on elliptic curve",{x:te,y:ne}=this;if(!isValidFieldElement(te)||!isValidFieldElement(ne))throw new Error(ee);const se=mod(ne*ne),ie=weistrass(te);if(mod(se-ie)!==_0n)throw new Error(ee)}equals(ee){return this.x===ee.x&&this.y===ee.y}negate(){return new Point$1(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(ee){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(ee)).toAffine()}subtract(ee){return this.add(ee.negate())}multiply(ee){return JacobianPoint.fromAffine(this).multiply(ee,this).toAffine()}multiplyAndAddUnsafe(ee,te,ne){const se=JacobianPoint.fromAffine(this),ie=te===_0n||te===_1n||this!==Point$1.BASE?se.multiplyUnsafe(te):se.multiply(te),fe=JacobianPoint.fromAffine(ee).multiplyUnsafe(ne),ue=ie.add(fe);return ue.equals(JacobianPoint.ZERO)?void 0:ue.toAffine()}}Point$1.BASE=new Point$1(CURVE.Gx,CURVE.Gy),Point$1.ZERO=new Point$1(_0n,_0n);function sliceDER(re){return Number.parseInt(re[0],16)>=8?"00"+re:re}function parseDERInt(re){if(re.length<2||re[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex(re)}`);const ee=re[1],te=re.subarray(2,ee+2);if(!ee||te.length!==ee)throw new Error("Invalid signature integer: wrong length");if(te[0]===0&&te[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(te),left:re.subarray(ee+2)}}function parseDERSignature(re){if(re.length<2||re[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex(re)}`);if(re[1]!==re.length-2)throw new Error("Invalid signature: incorrect length");const{data:ee,left:te}=parseDERInt(re.subarray(2)),{data:ne,left:se}=parseDERInt(te);if(se.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(se)}`);return{r:ee,s:ne}}class Signature$1{constructor(ee,te){this.r=ee,this.s=te,this.assertValidity()}static fromCompact(ee){const te=ee instanceof Uint8Array,ne="Signature.fromCompact";if(typeof ee!="string"&&!te)throw new TypeError(`${ne}: Expected string or Uint8Array`);const se=te?bytesToHex(ee):ee;if(se.length!==128)throw new Error(`${ne}: Expected 64-byte hex`);return new Signature$1(hexToNumber(se.slice(0,64)),hexToNumber(se.slice(64,128)))}static fromDER(ee){const te=ee instanceof Uint8Array;if(typeof ee!="string"&&!te)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:ne,s:se}=parseDERSignature(te?ee:hexToBytes(ee));return new Signature$1(ne,se)}static fromHex(ee){return this.fromDER(ee)}assertValidity(){const{r:ee,s:te}=this;if(!isWithinCurveOrder(ee))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(te))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const ee=CURVE.n>>_1n;return this.s>ee}normalizeS(){return this.hasHighS()?new Signature$1(this.r,CURVE.n-this.s):this}toDERRawBytes(ee=!1){return hexToBytes(this.toDERHex(ee))}toDERHex(ee=!1){const te=sliceDER(numberToHexUnpadded(this.s));if(ee)return te;const ne=sliceDER(numberToHexUnpadded(this.r)),se=numberToHexUnpadded(ne.length/2),ie=numberToHexUnpadded(te.length/2);return`30${numberToHexUnpadded(ne.length/2+te.length/2+4)}02${se}${ne}02${ie}${te}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...re){if(!re.every(ne=>ne instanceof Uint8Array))throw new Error("Uint8Array list expected");if(re.length===1)return re[0];const ee=re.reduce((ne,se)=>ne+se.length,0),te=new Uint8Array(ee);for(let ne=0,se=0;ne<re.length;ne++){const ie=re[ne];te.set(ie,se),se+=ie.length}return te}const hexes=Array.from({length:256},(re,ee)=>ee.toString(16).padStart(2,"0"));function bytesToHex(re){if(!(re instanceof Uint8Array))throw new Error("Expected Uint8Array");let ee="";for(let te=0;te<re.length;te++)ee+=hexes[re[te]];return ee}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(re){if(typeof re!="bigint")throw new Error("Expected bigint");if(!(_0n<=re&&re<POW_2_256))throw new Error("Expected number < 2^256");return re.toString(16).padStart(64,"0")}function numTo32b(re){const ee=hexToBytes(numTo32bStr(re));if(ee.length!==32)throw new Error("Error: expected 32 bytes");return ee}function numberToHexUnpadded(re){const ee=re.toString(16);return ee.length&1?`0${ee}`:ee}function hexToNumber(re){if(typeof re!="string")throw new TypeError("hexToNumber: expected string, got "+typeof re);return BigInt(`0x${re}`)}function hexToBytes(re){if(typeof re!="string")throw new TypeError("hexToBytes: expected string, got "+typeof re);if(re.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+re.length);const ee=new Uint8Array(re.length/2);for(let te=0;te<ee.length;te++){const ne=te*2,se=re.slice(ne,ne+2),ie=Number.parseInt(se,16);if(Number.isNaN(ie)||ie<0)throw new Error("Invalid byte sequence");ee[te]=ie}return ee}function bytesToNumber(re){return hexToNumber(bytesToHex(re))}function ensureBytes(re){return re instanceof Uint8Array?Uint8Array.from(re):hexToBytes(re)}function normalizeScalar(re){if(typeof re=="number"&&Number.isSafeInteger(re)&&re>0)return BigInt(re);if(typeof re=="bigint"&&isWithinCurveOrder(re))return re;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(re,ee=CURVE.P){const te=re%ee;return te>=_0n?te:ee+te}function pow2(re,ee){const{P:te}=CURVE;let ne=re;for(;ee-- >_0n;)ne*=ne,ne%=te;return ne}function sqrtMod(re){const{P:ee}=CURVE,te=BigInt(6),ne=BigInt(11),se=BigInt(22),ie=BigInt(23),fe=BigInt(44),ue=BigInt(88),xe=re*re*re%ee,Ee=xe*xe*re%ee,Ae=pow2(Ee,_3n)*Ee%ee,Me=pow2(Ae,_3n)*Ee%ee,Pe=pow2(Me,_2n)*xe%ee,Ne=pow2(Pe,ne)*Pe%ee,je=pow2(Ne,se)*Ne%ee,Ue=pow2(je,fe)*je%ee,Ce=pow2(Ue,ue)*Ue%ee,Be=pow2(Ce,fe)*je%ee,He=pow2(Be,_3n)*Ee%ee,Oe=pow2(He,ie)*Ne%ee,Ke=pow2(Oe,te)*xe%ee;return pow2(Ke,_2n)}function invert(re,ee=CURVE.P){if(re===_0n||ee<=_0n)throw new Error(`invert: expected positive integers, got n=${re} mod=${ee}`);let te=mod(re,ee),ne=ee,se=_0n,ie=_1n;for(;te!==_0n;){const ue=ne/te,xe=ne%te,Ee=se-ie*ue;ne=te,te=xe,se=ie,ie=Ee}if(ne!==_1n)throw new Error("invert: does not exist");return mod(se,ee)}function invertBatch(re,ee=CURVE.P){const te=new Array(re.length),ne=re.reduce((ie,fe,ue)=>fe===_0n?ie:(te[ue]=ie,mod(ie*fe,ee)),_1n),se=invert(ne,ee);return re.reduceRight((ie,fe,ue)=>fe===_0n?ie:(te[ue]=mod(ie*te[ue],ee),mod(ie*fe,ee)),se),te}const divNearest=(re,ee)=>(re+ee/_2n)/ee,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(re){const{n:ee}=CURVE,{a1:te,b1:ne,a2:se,b2:ie,POW_2_128:fe}=ENDO,ue=divNearest(ie*re,ee),xe=divNearest(-ne*re,ee);let Ee=mod(re-ue*te-xe*se,ee),Ae=mod(-ue*ne-xe*ie,ee);const Me=Ee>fe,Pe=Ae>fe;if(Me&&(Ee=ee-Ee),Pe&&(Ae=ee-Ae),Ee>fe||Ae>fe)throw new Error("splitScalarEndo: Endomorphism failed, k="+re);return{k1neg:Me,k1:Ee,k2neg:Pe,k2:Ae}}function truncateHash(re){const{n:ee}=CURVE,ne=re.length*8-256;let se=bytesToNumber(re);return ne>0&&(se=se>>BigInt(ne)),se>=ee&&(se-=ee),se}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...ee){return utils$b.hmacSha256(this.k,...ee)}hmacSync(...ee){return _hmacSha256Sync(this.k,...ee)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(ee=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),ee),this.v=await this.hmac(this.v),ee.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),ee),this.v=await this.hmac(this.v))}reseedSync(ee=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),ee),this.v=this.hmacSync(this.v),ee.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),ee),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function isWithinCurveOrder(re){return _0n<re&&re<CURVE.n}function isValidFieldElement(re){return _0n<re&&re<CURVE.P}function kmdToSig(re,ee,te){const ne=bytesToNumber(re);if(!isWithinCurveOrder(ne))return;const{n:se}=CURVE,ie=Point$1.BASE.multiply(ne),fe=mod(ie.x,se);if(fe===_0n)return;const ue=mod(invert(ne,se)*mod(ee+te*fe,se),se);if(ue===_0n)return;const xe=new Signature$1(fe,ue),Ee=(ie.x===xe.r?0:2)|Number(ie.y&_1n);return{sig:xe,recovery:Ee}}function normalizePrivateKey(re){let ee;if(typeof re=="bigint")ee=re;else if(typeof re=="number"&&Number.isSafeInteger(re)&&re>0)ee=BigInt(re);else if(typeof re=="string"){if(re.length!==64)throw new Error("Expected 32 bytes of private key");ee=hexToNumber(re)}else if(re instanceof Uint8Array){if(re.length!==32)throw new Error("Expected 32 bytes of private key");ee=bytesToNumber(re)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(ee))throw new Error("Expected private key: 0 < key < n");return ee}function normalizeSignature(re){if(re instanceof Signature$1)return re.assertValidity(),re;try{return Signature$1.fromDER(re)}catch{return Signature$1.fromCompact(re)}}function getPublicKey$1(re,ee=!1){return Point$1.fromPrivateKey(re).toRawBytes(ee)}function bits2int(re){const ee=re.length>32?re.slice(0,32):re;return bytesToNumber(ee)}function bits2octets(re){const ee=bits2int(re),te=mod(ee,CURVE.n);return int2octets(te<_0n?ee:te)}function int2octets(re){return numTo32b(re)}function initSigArgs(re,ee,te){if(re==null)throw new Error(`sign: expected valid message hash, not "${re}"`);const ne=ensureBytes(re),se=normalizePrivateKey(ee),ie=[int2octets(se),bits2octets(ne)];if(te!=null){te===!0&&(te=utils$b.randomBytes(32));const xe=ensureBytes(te);if(xe.length!==32)throw new Error("sign: Expected 32 bytes of extra data");ie.push(xe)}const fe=concatBytes(...ie),ue=bits2int(ne);return{seed:fe,m:ue,d:se}}function finalizeSig(re,ee){let{sig:te,recovery:ne}=re;const{canonical:se,der:ie,recovered:fe}=Object.assign({canonical:!0,der:!0},ee);se&&te.hasHighS()&&(te=te.normalizeS(),ne^=1);const ue=ie?te.toDERRawBytes():te.toCompactRawBytes();return fe?[ue,ne]:ue}function signSync(re,ee,te={}){const{seed:ne,m:se,d:ie}=initSigArgs(re,ee,te.extraEntropy);let fe;const ue=new HmacDrbg;for(ue.reseedSync(ne);!(fe=kmdToSig(ue.generateSync(),se,ie));)ue.reseedSync();return finalizeSig(fe,te)}Point$1.BASE._setWindowSize(8);const crypto$2={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$b={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(re){try{return normalizePrivateKey(re),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:re=>{if(re=ensureBytes(re),re.length<40||re.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const ee=mod(bytesToNumber(re),CURVE.n-_1n)+_1n;return numTo32b(ee)},randomBytes:(re=32)=>{if(crypto$2.web)return crypto$2.web.getRandomValues(new Uint8Array(re));if(crypto$2.node){const{randomBytes:ee}=crypto$2.node;return Uint8Array.from(ee(re))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$b.hashToPrivateKey(utils$b.randomBytes(40)),sha256:async(...re)=>{if(crypto$2.web){const ee=await crypto$2.web.subtle.digest("SHA-256",concatBytes(...re));return new Uint8Array(ee)}else if(crypto$2.node){const{createHash:ee}=crypto$2.node,te=ee("sha256");return re.forEach(ne=>te.update(ne)),Uint8Array.from(te.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(re,...ee)=>{if(crypto$2.web){const te=await crypto$2.web.subtle.importKey("raw",re,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ne=concatBytes(...ee),se=await crypto$2.web.subtle.sign("HMAC",te,ne);return new Uint8Array(se)}else if(crypto$2.node){const{createHmac:te}=crypto$2.node,ne=te("sha256",re);return ee.forEach(se=>ne.update(se)),Uint8Array.from(ne.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(re,...ee)=>{let te=TAGGED_HASH_PREFIXES[re];if(te===void 0){const ne=await utils$b.sha256(Uint8Array.from(re,se=>se.charCodeAt(0)));te=concatBytes(ne,ne),TAGGED_HASH_PREFIXES[re]=te}return utils$b.sha256(te,...ee)},taggedHashSync:(re,...ee)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let te=TAGGED_HASH_PREFIXES[re];if(te===void 0){const ne=_sha256Sync(Uint8Array.from(re,se=>se.charCodeAt(0)));te=concatBytes(ne,ne),TAGGED_HASH_PREFIXES[re]=te}return _sha256Sync(te,...ee)},precompute(re=8,ee=Point$1.BASE){const te=ee===Point$1.BASE?ee:new Point$1(ee.x,ee.y);return te._setWindowSize(re),te.multiply(_3n),te}};Object.defineProperties(utils$b,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(re){_sha256Sync||(_sha256Sync=re)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(re){_hmacSha256Sync||(_hmacSha256Sync=re)}}}),utils$c.sha512Sync=(...re)=>sha512$1(utils$c.concatBytes(...re));const generatePrivateKey=utils$c.randomPrivateKey,generateKeypair=()=>{const re=utils$c.randomPrivateKey(),ee=getPublicKey(re),te=new Uint8Array(64);return te.set(re),te.set(ee,32),{publicKey:ee,secretKey:te}},getPublicKey=sync.getPublicKey;function isOnCurve(re){try{return Point$2.fromHex(re,!0),!0}catch{return!1}}const sign=(re,ee)=>sync.sign(re,ee.slice(0,32)),verify=sync.verify,toBuffer=re=>buffer.Buffer.isBuffer(re)?re:re instanceof Uint8Array?buffer.Buffer.from(re.buffer,re.byteOffset,re.byteLength):buffer.Buffer.from(re);class Struct{constructor(ee){Object.assign(this,ee)}encode(){return buffer.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(ee){return deserialize_1(SOLANA_SCHEMA,this,ee)}static decodeUnchecked(ee){return deserializeUnchecked_1(SOLANA_SCHEMA,this,ee)}}class Enum extends Struct{constructor(ee){if(super(ee),this.enum="",Object.keys(ee).length!==1)throw new Error("Enum can only take single value");Object.keys(ee).map(te=>{this.enum=te})}}const SOLANA_SCHEMA=new Map;let _Symbol$toStringTag;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(re){return re._bn!==void 0}let uniquePublicKeyCounter=1;_Symbol$toStringTag=Symbol.toStringTag;class PublicKey extends Struct{constructor(ee){if(super({}),this._bn=void 0,isPublicKeyData(ee))this._bn=ee._bn;else{if(typeof ee=="string"){const te=bs58.decode(ee);if(te.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN$2(te)}else this._bn=new BN$2(ee);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const ee=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(ee.toBuffer())}equals(ee){return this._bn.eq(ee._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const ee=this._bn.toArrayLike(buffer.Buffer);if(ee.length===PUBLIC_KEY_LENGTH)return ee;const te=buffer.Buffer.alloc(32);return ee.copy(te,32-ee.length),te}get[_Symbol$toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(ee,te,ne){const se=buffer.Buffer.concat([ee.toBuffer(),buffer.Buffer.from(te),ne.toBuffer()]),ie=sha256$2(se);return new PublicKey(ie)}static createProgramAddressSync(ee,te){let ne=buffer.Buffer.alloc(0);ee.forEach(function(ie){if(ie.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");ne=buffer.Buffer.concat([ne,toBuffer(ie)])}),ne=buffer.Buffer.concat([ne,te.toBuffer(),buffer.Buffer.from("ProgramDerivedAddress")]);const se=sha256$2(ne);if(isOnCurve(se))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(se)}static async createProgramAddress(ee,te){return this.createProgramAddressSync(ee,te)}static findProgramAddressSync(ee,te){let ne=255,se;for(;ne!=0;){try{const ie=ee.concat(buffer.Buffer.from([ne]));se=this.createProgramAddressSync(ie,te)}catch(ie){if(ie instanceof TypeError)throw ie;ne--;continue}return[se,ne]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(ee,te){return this.findProgramAddressSync(ee,te)}static isOnCurve(ee){const te=new PublicKey(ee);return isOnCurve(te.toBytes())}}PublicKey.default=new PublicKey("11111111111111111111111111111111"),SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(ee){if(this._publicKey=void 0,this._secretKey=void 0,ee){const te=toBuffer(ee);if(ee.length!==64)throw new Error("bad secret key size");this._publicKey=te.slice(32,64),this._secretKey=te.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return buffer.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(ee){super(`Signature ${ee} has expired: block height exceeded.`),this.signature=void 0,this.signature=ee}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(ee,te){super(`Transaction was not confirmed in ${te.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${ee} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=ee}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(ee){super(`Signature ${ee} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=ee}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(ee,te){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=ee,this.accountKeysFromLookups=te}keySegments(){const ee=[this.staticAccountKeys];return this.accountKeysFromLookups&&(ee.push(this.accountKeysFromLookups.writable),ee.push(this.accountKeysFromLookups.readonly)),ee}get(ee){for(const te of this.keySegments()){if(ee<te.length)return te[ee];ee-=te.length}}get length(){return this.keySegments().flat().length}compileInstructions(ee){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const ne=new Map;this.keySegments().flat().forEach((ie,fe)=>{ne.set(ie.toBase58(),fe)});const se=ie=>{const fe=ne.get(ie.toBase58());if(fe===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return fe};return ee.map(ie=>({programIdIndex:se(ie.programId),accountKeyIndexes:ie.keys.map(fe=>se(fe.pubkey)),data:ie.data}))}}const publicKey=(re="publicKey")=>blob(32,re),signature$1=(re="signature")=>blob(64,re),rustString=(re="string")=>{const ee=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],re),te=ee.decode.bind(ee),ne=ee.encode.bind(ee),se=ee;return se.decode=(ie,fe)=>te(ie,fe).chars.toString(),se.encode=(ie,fe,ue)=>{const xe={chars:buffer.Buffer.from(ie,"utf8")};return ne(xe,fe,ue)},se.alloc=ie=>u32().span+u32().span+buffer.Buffer.from(ie,"utf8").length,se},authorized=(re="authorized")=>struct([publicKey("staker"),publicKey("withdrawer")],re),lockup=(re="lockup")=>struct([ns64("unixTimestamp"),ns64("epoch"),publicKey("custodian")],re),voteInit=(re="voteInit")=>struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),u8("commission")],re),voteAuthorizeWithSeedArgs=(re="voteAuthorizeWithSeedArgs")=>struct([u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],re);function getAlloc(re,ee){const te=se=>{if(se.span>=0)return se.span;if(typeof se.alloc=="function")return se.alloc(ee[se.property]);if("count"in se&&"elementLayout"in se){const ie=ee[se.property];if(Array.isArray(ie))return ie.length*te(se.elementLayout)}else if("fields"in se)return getAlloc({layout:se},ee[se.property]);return 0};let ne=0;return re.layout.fields.forEach(se=>{ne+=te(se)}),ne}function decodeLength(re){let ee=0,te=0;for(;;){let ne=re.shift();if(ee|=(ne&127)<<te*7,te+=1,(ne&128)===0)break}return ee}function encodeLength(re,ee){let te=ee;for(;;){let ne=te&127;if(te>>=7,te==0){re.push(ne);break}else ne|=128,re.push(ne)}}function assert$c(re,ee){if(!re)throw new Error(ee||"Assertion failed")}class CompiledKeys{constructor(ee,te){this.payer=void 0,this.keyMetaMap=void 0,this.payer=ee,this.keyMetaMap=te}static compile(ee,te){const ne=new Map,se=fe=>{const ue=fe.toBase58();let xe=ne.get(ue);return xe===void 0&&(xe={isSigner:!1,isWritable:!1,isInvoked:!1},ne.set(ue,xe)),xe},ie=se(te);ie.isSigner=!0,ie.isWritable=!0;for(const fe of ee){se(fe.programId).isInvoked=!0;for(const ue of fe.keys){const xe=se(ue.pubkey);xe.isSigner||(xe.isSigner=ue.isSigner),xe.isWritable||(xe.isWritable=ue.isWritable)}}return new CompiledKeys(te,ne)}getMessageComponents(){const ee=[...this.keyMetaMap.entries()];assert$c(ee.length<=256,"Max static account keys length exceeded");const te=ee.filter(([,xe])=>xe.isSigner&&xe.isWritable),ne=ee.filter(([,xe])=>xe.isSigner&&!xe.isWritable),se=ee.filter(([,xe])=>!xe.isSigner&&xe.isWritable),ie=ee.filter(([,xe])=>!xe.isSigner&&!xe.isWritable),fe={numRequiredSignatures:te.length+ne.length,numReadonlySignedAccounts:ne.length,numReadonlyUnsignedAccounts:ie.length};{assert$c(te.length>0,"Expected at least one writable signer key");const[xe]=te[0];assert$c(xe===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const ue=[...te.map(([xe])=>new PublicKey(xe)),...ne.map(([xe])=>new PublicKey(xe)),...se.map(([xe])=>new PublicKey(xe)),...ie.map(([xe])=>new PublicKey(xe))];return[fe,ue]}extractTableLookup(ee){const[te,ne]=this.drainKeysFoundInLookupTable(ee.state.addresses,fe=>!fe.isSigner&&!fe.isInvoked&&fe.isWritable),[se,ie]=this.drainKeysFoundInLookupTable(ee.state.addresses,fe=>!fe.isSigner&&!fe.isInvoked&&!fe.isWritable);if(!(te.length===0&&se.length===0))return[{accountKey:ee.key,writableIndexes:te,readonlyIndexes:se},{writable:ne,readonly:ie}]}drainKeysFoundInLookupTable(ee,te){const ne=new Array,se=new Array;for(const[ie,fe]of this.keyMetaMap.entries())if(te(fe)){const ue=new PublicKey(ie),xe=ee.findIndex(Ee=>Ee.equals(ue));xe>=0&&(assert$c(xe<256,"Max lookup table index exceeded"),ne.push(xe),se.push(ue),this.keyMetaMap.delete(ie))}return[ne,se]}}class Message{constructor(ee){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=ee.header,this.accountKeys=ee.accountKeys.map(te=>new PublicKey(te)),this.recentBlockhash=ee.recentBlockhash,this.instructions=ee.instructions,this.instructions.forEach(te=>this.indexToProgramIds.set(te.programIdIndex,this.accountKeys[te.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(ee=>({programIdIndex:ee.programIdIndex,accountKeyIndexes:ee.accounts,data:bs58.decode(ee.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(ee){const te=CompiledKeys.compile(ee.instructions,ee.payerKey),[ne,se]=te.getMessageComponents(),fe=new MessageAccountKeys(se).compileInstructions(ee.instructions).map(ue=>({programIdIndex:ue.programIdIndex,accounts:ue.accountKeyIndexes,data:bs58.encode(ue.data)}));return new Message({header:ne,accountKeys:se,recentBlockhash:ee.recentBlockhash,instructions:fe})}isAccountSigner(ee){return ee<this.header.numRequiredSignatures}isAccountWritable(ee){const te=this.header.numRequiredSignatures;if(ee>=this.header.numRequiredSignatures){const ne=ee-te,ie=this.accountKeys.length-te-this.header.numReadonlyUnsignedAccounts;return ne<ie}else{const ne=te-this.header.numReadonlySignedAccounts;return ee<ne}}isProgramId(ee){return this.indexToProgramIds.has(ee)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((ee,te)=>!this.isProgramId(te))}serialize(){const ee=this.accountKeys.length;let te=[];encodeLength(te,ee);const ne=this.instructions.map(Me=>{const{accounts:Pe,programIdIndex:Ne}=Me,je=Array.from(bs58.decode(Me.data));let Ue=[];encodeLength(Ue,Pe.length);let Ce=[];return encodeLength(Ce,je.length),{programIdIndex:Ne,keyIndicesCount:buffer.Buffer.from(Ue),keyIndices:Pe,dataLength:buffer.Buffer.from(Ce),data:je}});let se=[];encodeLength(se,ne.length);let ie=buffer.Buffer.alloc(PACKET_DATA_SIZE);buffer.Buffer.from(se).copy(ie);let fe=se.length;ne.forEach(Me=>{fe+=struct([u8("programIdIndex"),blob(Me.keyIndicesCount.length,"keyIndicesCount"),seq(u8("keyIndex"),Me.keyIndices.length,"keyIndices"),blob(Me.dataLength.length,"dataLength"),seq(u8("userdatum"),Me.data.length,"data")]).encode(Me,ie,fe)}),ie=ie.slice(0,fe);const ue=struct([blob(1,"numRequiredSignatures"),blob(1,"numReadonlySignedAccounts"),blob(1,"numReadonlyUnsignedAccounts"),blob(te.length,"keyCount"),seq(publicKey("key"),ee,"keys"),publicKey("recentBlockhash")]),xe={numRequiredSignatures:buffer.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer.Buffer.from(te),keys:this.accountKeys.map(Me=>toBuffer(Me.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let Ee=buffer.Buffer.alloc(2048);const Ae=ue.encode(xe,Ee);return ie.copy(Ee,Ae),Ee.slice(0,Ae+ie.length)}static from(ee){let te=[...ee];const ne=te.shift();if(ne!==(ne&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const se=te.shift(),ie=te.shift(),fe=decodeLength(te);let ue=[];for(let Pe=0;Pe<fe;Pe++){const Ne=te.slice(0,PUBLIC_KEY_LENGTH);te=te.slice(PUBLIC_KEY_LENGTH),ue.push(new PublicKey(buffer.Buffer.from(Ne)))}const xe=te.slice(0,PUBLIC_KEY_LENGTH);te=te.slice(PUBLIC_KEY_LENGTH);const Ee=decodeLength(te);let Ae=[];for(let Pe=0;Pe<Ee;Pe++){const Ne=te.shift(),je=decodeLength(te),Ue=te.slice(0,je);te=te.slice(je);const Ce=decodeLength(te),Be=te.slice(0,Ce),He=bs58.encode(buffer.Buffer.from(Be));te=te.slice(Ce),Ae.push({programIdIndex:Ne,accounts:Ue,data:He})}const Me={header:{numRequiredSignatures:ne,numReadonlySignedAccounts:se,numReadonlyUnsignedAccounts:ie},recentBlockhash:bs58.encode(buffer.Buffer.from(xe)),accountKeys:ue,instructions:Ae};return new Message(Me)}}class MessageV0{constructor(ee){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=ee.header,this.staticAccountKeys=ee.staticAccountKeys,this.recentBlockhash=ee.recentBlockhash,this.compiledInstructions=ee.compiledInstructions,this.addressTableLookups=ee.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let ee=0;for(const te of this.addressTableLookups)ee+=te.readonlyIndexes.length+te.writableIndexes.length;return ee}getAccountKeys(ee){let te;if(ee&&"accountKeysFromLookups"in ee&&ee.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=ee.accountKeysFromLookups.writable.length+ee.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");te=ee.accountKeysFromLookups}else if(ee&&"addressLookupTableAccounts"in ee&&ee.addressLookupTableAccounts)te=this.resolveAddressTableLookups(ee.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,te)}isAccountSigner(ee){return ee<this.header.numRequiredSignatures}isAccountWritable(ee){const te=this.header.numRequiredSignatures,ne=this.staticAccountKeys.length;if(ee>=ne){const se=ee-ne,ie=this.addressTableLookups.reduce((fe,ue)=>fe+ue.writableIndexes.length,0);return se<ie}else if(ee>=this.header.numRequiredSignatures){const se=ee-te,fe=ne-te-this.header.numReadonlyUnsignedAccounts;return se<fe}else{const se=te-this.header.numReadonlySignedAccounts;return ee<se}}resolveAddressTableLookups(ee){const te={writable:[],readonly:[]};for(const ne of this.addressTableLookups){const se=ee.find(ie=>ie.key.equals(ne.accountKey));if(!se)throw new Error(`Failed to find address lookup table account for table key ${ne.accountKey.toBase58()}`);for(const ie of ne.writableIndexes)if(ie<se.state.addresses.length)te.writable.push(se.state.addresses[ie]);else throw new Error(`Failed to find address for index ${ie} in address lookup table ${ne.accountKey.toBase58()}`);for(const ie of ne.readonlyIndexes)if(ie<se.state.addresses.length)te.readonly.push(se.state.addresses[ie]);else throw new Error(`Failed to find address for index ${ie} in address lookup table ${ne.accountKey.toBase58()}`)}return te}static compile(ee){const te=CompiledKeys.compile(ee.instructions,ee.payerKey),ne=new Array,se={writable:new Array,readonly:new Array},ie=ee.addressLookupTableAccounts||[];for(const Ae of ie){const Me=te.extractTableLookup(Ae);if(Me!==void 0){const[Pe,{writable:Ne,readonly:je}]=Me;ne.push(Pe),se.writable.push(...Ne),se.readonly.push(...je)}}const[fe,ue]=te.getMessageComponents(),Ee=new MessageAccountKeys(ue,se).compileInstructions(ee.instructions);return new MessageV0({header:fe,staticAccountKeys:ue,recentBlockhash:ee.recentBlockhash,compiledInstructions:Ee,addressTableLookups:ne})}serialize(){const ee=Array();encodeLength(ee,this.staticAccountKeys.length);const te=this.serializeInstructions(),ne=Array();encodeLength(ne,this.compiledInstructions.length);const se=this.serializeAddressTableLookups(),ie=Array();encodeLength(ie,this.addressTableLookups.length);const fe=struct([u8("prefix"),struct([u8("numRequiredSignatures"),u8("numReadonlySignedAccounts"),u8("numReadonlyUnsignedAccounts")],"header"),blob(ee.length,"staticAccountKeysLength"),seq(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),blob(ne.length,"instructionsLength"),blob(te.length,"serializedInstructions"),blob(ie.length,"addressTableLookupsLength"),blob(se.length,"serializedAddressTableLookups")]),ue=new Uint8Array(PACKET_DATA_SIZE),xe=1<<7,Ee=fe.encode({prefix:xe,header:this.header,staticAccountKeysLength:new Uint8Array(ee),staticAccountKeys:this.staticAccountKeys.map(Ae=>Ae.toBytes()),recentBlockhash:bs58.decode(this.recentBlockhash),instructionsLength:new Uint8Array(ne),serializedInstructions:te,addressTableLookupsLength:new Uint8Array(ie),serializedAddressTableLookups:se},ue);return ue.slice(0,Ee)}serializeInstructions(){let ee=0;const te=new Uint8Array(PACKET_DATA_SIZE);for(const ne of this.compiledInstructions){const se=Array();encodeLength(se,ne.accountKeyIndexes.length);const ie=Array();encodeLength(ie,ne.data.length),ee+=struct([u8("programIdIndex"),blob(se.length,"encodedAccountKeyIndexesLength"),seq(u8(),ne.accountKeyIndexes.length,"accountKeyIndexes"),blob(ie.length,"encodedDataLength"),blob(ne.data.length,"data")]).encode({programIdIndex:ne.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(se),accountKeyIndexes:ne.accountKeyIndexes,encodedDataLength:new Uint8Array(ie),data:ne.data},te,ee)}return te.slice(0,ee)}serializeAddressTableLookups(){let ee=0;const te=new Uint8Array(PACKET_DATA_SIZE);for(const ne of this.addressTableLookups){const se=Array();encodeLength(se,ne.writableIndexes.length);const ie=Array();encodeLength(ie,ne.readonlyIndexes.length),ee+=struct([publicKey("accountKey"),blob(se.length,"encodedWritableIndexesLength"),seq(u8(),ne.writableIndexes.length,"writableIndexes"),blob(ie.length,"encodedReadonlyIndexesLength"),seq(u8(),ne.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:ne.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(se),writableIndexes:ne.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(ie),readonlyIndexes:ne.readonlyIndexes},te,ee)}return te.slice(0,ee)}static deserialize(ee){let te=[...ee];const ne=te.shift(),se=ne&VERSION_PREFIX_MASK;assert$c(ne!==se,"Expected versioned message but received legacy message");const ie=se;assert$c(ie===0,`Expected versioned message with version 0 but found version ${ie}`);const fe={numRequiredSignatures:te.shift(),numReadonlySignedAccounts:te.shift(),numReadonlyUnsignedAccounts:te.shift()},ue=[],xe=decodeLength(te);for(let je=0;je<xe;je++)ue.push(new PublicKey(te.splice(0,PUBLIC_KEY_LENGTH)));const Ee=bs58.encode(te.splice(0,PUBLIC_KEY_LENGTH)),Ae=decodeLength(te),Me=[];for(let je=0;je<Ae;je++){const Ue=te.shift(),Ce=decodeLength(te),Be=te.splice(0,Ce),He=decodeLength(te),Oe=new Uint8Array(te.splice(0,He));Me.push({programIdIndex:Ue,accountKeyIndexes:Be,data:Oe})}const Pe=decodeLength(te),Ne=[];for(let je=0;je<Pe;je++){const Ue=new PublicKey(te.splice(0,PUBLIC_KEY_LENGTH)),Ce=decodeLength(te),Be=te.splice(0,Ce),He=decodeLength(te),Oe=te.splice(0,He);Ne.push({accountKey:Ue,writableIndexes:Be,readonlyIndexes:Oe})}return new MessageV0({header:fe,staticAccountKeys:ue,recentBlockhash:Ee,compiledInstructions:Me,addressTableLookups:Ne})}}const VersionedMessage={deserializeMessageVersion(re){const ee=re[0],te=ee&VERSION_PREFIX_MASK;return te===ee?"legacy":te},deserialize:re=>{const ee=VersionedMessage.deserializeMessageVersion(re);if(ee==="legacy")return Message.from(re);if(ee===0)return MessageV0.deserialize(re);throw new Error(`Transaction message version ${ee} deserialization is not supported`)}};let TransactionStatus;(function(re){re[re.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",re[re.PROCESSED=1]="PROCESSED",re[re.TIMED_OUT=2]="TIMED_OUT",re[re.NONCE_INVALID=3]="NONCE_INVALID"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(ee){this.keys=void 0,this.programId=void 0,this.data=buffer.Buffer.alloc(0),this.programId=ee.programId,this.keys=ee.keys,ee.data&&(this.data=ee.data)}toJSON(){return{keys:this.keys.map(({pubkey:ee,isSigner:te,isWritable:ne})=>({pubkey:ee.toJSON(),isSigner:te,isWritable:ne})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(ee){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!ee)if(ee.feePayer&&(this.feePayer=ee.feePayer),ee.signatures&&(this.signatures=ee.signatures),Object.prototype.hasOwnProperty.call(ee,"nonceInfo")){const{minContextSlot:te,nonceInfo:ne}=ee;this.minNonceContextSlot=te,this.nonceInfo=ne}else if(Object.prototype.hasOwnProperty.call(ee,"lastValidBlockHeight")){const{blockhash:te,lastValidBlockHeight:ne}=ee;this.recentBlockhash=te,this.lastValidBlockHeight=ne}else{const{recentBlockhash:te,nonceInfo:ne}=ee;ne&&(this.nonceInfo=ne),this.recentBlockhash=te}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(ee=>ee.toJSON()),signers:this.signatures.map(({publicKey:ee})=>ee.toJSON())}}add(...ee){if(ee.length===0)throw new Error("No instructions");return ee.forEach(te=>{"instructions"in te?this.instructions=this.instructions.concat(te.instructions):"data"in te&&"programId"in te&&"keys"in te?this.instructions.push(te):this.instructions.push(new TransactionInstruction(te))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let ee,te;if(this.nonceInfo?(ee=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?te=[this.nonceInfo.nonceInstruction,...this.instructions]:te=this.instructions):(ee=this.recentBlockhash,te=this.instructions),!ee)throw new Error("Transaction recentBlockhash required");te.length<1&&console.warn("No instructions provided");let ne;if(this.feePayer)ne=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)ne=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ue=0;Ue<te.length;Ue++)if(te[Ue].programId===void 0)throw new Error(`Transaction instruction index ${Ue} has undefined program id`);const se=[],ie=[];te.forEach(Ue=>{Ue.keys.forEach(Be=>{ie.push({...Be})});const Ce=Ue.programId.toString();se.includes(Ce)||se.push(Ce)}),se.forEach(Ue=>{ie.push({pubkey:new PublicKey(Ue),isSigner:!1,isWritable:!1})});const fe=[];ie.forEach(Ue=>{const Ce=Ue.pubkey.toString(),Be=fe.findIndex(He=>He.pubkey.toString()===Ce);Be>-1?(fe[Be].isWritable=fe[Be].isWritable||Ue.isWritable,fe[Be].isSigner=fe[Be].isSigner||Ue.isSigner):fe.push(Ue)}),fe.sort(function(Ue,Ce){return Ue.isSigner!==Ce.isSigner?Ue.isSigner?-1:1:Ue.isWritable!==Ce.isWritable?Ue.isWritable?-1:1:Ue.pubkey.toBase58().localeCompare(Ce.pubkey.toBase58())});const ue=fe.findIndex(Ue=>Ue.pubkey.equals(ne));if(ue>-1){const[Ue]=fe.splice(ue,1);Ue.isSigner=!0,Ue.isWritable=!0,fe.unshift(Ue)}else fe.unshift({pubkey:ne,isSigner:!0,isWritable:!0});for(const Ue of this.signatures){const Ce=fe.findIndex(Be=>Be.pubkey.equals(Ue.publicKey));if(Ce>-1)fe[Ce].isSigner||(fe[Ce].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ue.publicKey.toString()}`)}let xe=0,Ee=0,Ae=0;const Me=[],Pe=[];fe.forEach(({pubkey:Ue,isSigner:Ce,isWritable:Be})=>{Ce?(Me.push(Ue.toString()),xe+=1,Be||(Ee+=1)):(Pe.push(Ue.toString()),Be||(Ae+=1))});const Ne=Me.concat(Pe),je=te.map(Ue=>{const{data:Ce,programId:Be}=Ue;return{programIdIndex:Ne.indexOf(Be.toString()),accounts:Ue.keys.map(He=>Ne.indexOf(He.pubkey.toString())),data:bs58.encode(Ce)}});return je.forEach(Ue=>{assert$c(Ue.programIdIndex>=0),Ue.accounts.forEach(Ce=>assert$c(Ce>=0))}),new Message({header:{numRequiredSignatures:xe,numReadonlySignedAccounts:Ee,numReadonlyUnsignedAccounts:Ae},accountKeys:Ne,recentBlockhash:ee,instructions:je})}_compile(){const ee=this.compileMessage(),te=ee.accountKeys.slice(0,ee.header.numRequiredSignatures);return this.signatures.length===te.length&&this.signatures.every((se,ie)=>te[ie].equals(se.publicKey))||(this.signatures=te.map(ne=>({signature:null,publicKey:ne}))),ee}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(ee){return(await ee.getFeeForMessage(this.compileMessage())).value}setSigners(...ee){if(ee.length===0)throw new Error("No signers");const te=new Set;this.signatures=ee.filter(ne=>{const se=ne.toString();return te.has(se)?!1:(te.add(se),!0)}).map(ne=>({signature:null,publicKey:ne}))}sign(...ee){if(ee.length===0)throw new Error("No signers");const te=new Set,ne=[];for(const ie of ee){const fe=ie.publicKey.toString();te.has(fe)||(te.add(fe),ne.push(ie))}this.signatures=ne.map(ie=>({signature:null,publicKey:ie.publicKey}));const se=this._compile();this._partialSign(se,...ne)}partialSign(...ee){if(ee.length===0)throw new Error("No signers");const te=new Set,ne=[];for(const ie of ee){const fe=ie.publicKey.toString();te.has(fe)||(te.add(fe),ne.push(ie))}const se=this._compile();this._partialSign(se,...ne)}_partialSign(ee,...te){const ne=ee.serialize();te.forEach(se=>{const ie=sign(ne,se.secretKey);this._addSignature(se.publicKey,toBuffer(ie))})}addSignature(ee,te){this._compile(),this._addSignature(ee,te)}_addSignature(ee,te){assert$c(te.length===64);const ne=this.signatures.findIndex(se=>ee.equals(se.publicKey));if(ne<0)throw new Error(`unknown signer: ${ee.toString()}`);this.signatures[ne].signature=buffer.Buffer.from(te)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(ee,te){for(const{signature:ne,publicKey:se}of this.signatures)if(ne===null){if(te)return!1}else if(!verify(ne,ee,se.toBytes()))return!1;return!0}serialize(ee){const{requireAllSignatures:te,verifySignatures:ne}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},ee),se=this.serializeMessage();if(ne&&!this._verifySignatures(se,te))throw new Error("Signature verification failed");return this._serialize(se)}_serialize(ee){const{signatures:te}=this,ne=[];encodeLength(ne,te.length);const se=ne.length+te.length*64+ee.length,ie=buffer.Buffer.alloc(se);return assert$c(te.length<256),buffer.Buffer.from(ne).copy(ie,0),te.forEach(({signature:fe},ue)=>{fe!==null&&(assert$c(fe.length===64,"signature has invalid length"),buffer.Buffer.from(fe).copy(ie,ne.length+ue*64))}),ee.copy(ie,ne.length+te.length*64),assert$c(ie.length<=PACKET_DATA_SIZE,`Transaction too large: ${ie.length} > ${PACKET_DATA_SIZE}`),ie}get keys(){return assert$c(this.instructions.length===1),this.instructions[0].keys.map(ee=>ee.pubkey)}get programId(){return assert$c(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$c(this.instructions.length===1),this.instructions[0].data}static from(ee){let te=[...ee];const ne=decodeLength(te);let se=[];for(let ie=0;ie<ne;ie++){const fe=te.slice(0,SIGNATURE_LENGTH_IN_BYTES);te=te.slice(SIGNATURE_LENGTH_IN_BYTES),se.push(bs58.encode(buffer.Buffer.from(fe)))}return Transaction.populate(Message.from(te),se)}static populate(ee,te=[]){const ne=new Transaction;return ne.recentBlockhash=ee.recentBlockhash,ee.header.numRequiredSignatures>0&&(ne.feePayer=ee.accountKeys[0]),te.forEach((se,ie)=>{const fe={signature:se==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(se),publicKey:ee.accountKeys[ie]};ne.signatures.push(fe)}),ee.instructions.forEach(se=>{const ie=se.accounts.map(fe=>{const ue=ee.accountKeys[fe];return{pubkey:ue,isSigner:ne.signatures.some(xe=>xe.publicKey.toString()===ue.toString())||ee.isAccountSigner(fe),isWritable:ee.isAccountWritable(fe)}});ne.instructions.push(new TransactionInstruction({keys:ie,programId:ee.accountKeys[se.programIdIndex],data:bs58.decode(se.data)}))}),ne._message=ee,ne._json=ne.toJSON(),ne}}class TransactionMessage{constructor(ee){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=ee.payerKey,this.instructions=ee.instructions,this.recentBlockhash=ee.recentBlockhash}static decompile(ee,te){const{header:ne,compiledInstructions:se,recentBlockhash:ie}=ee,{numRequiredSignatures:fe,numReadonlySignedAccounts:ue,numReadonlyUnsignedAccounts:xe}=ne,Ee=fe-ue;assert$c(Ee>0,"Message header is invalid");const Ae=ee.staticAccountKeys.length-fe-xe;assert$c(Ae>=0,"Message header is invalid");const Me=ee.getAccountKeys(te),Pe=Me.get(0);if(Pe===void 0)throw new Error("Failed to decompile message because no account keys were found");const Ne=[];for(const je of se){const Ue=[];for(const Be of je.accountKeyIndexes){const He=Me.get(Be);if(He===void 0)throw new Error(`Failed to find key for account key index ${Be}`);const Oe=Be<fe;let Ke;Oe?Ke=Be<Ee:Be<Me.staticAccountKeys.length?Ke=Be-fe<Ae:Ke=Be-Me.staticAccountKeys.length<Me.accountKeysFromLookups.writable.length,Ue.push({pubkey:He,isSigner:Be<ne.numRequiredSignatures,isWritable:Ke})}const Ce=Me.get(je.programIdIndex);if(Ce===void 0)throw new Error(`Failed to find program id for program id index ${je.programIdIndex}`);Ne.push(new TransactionInstruction({programId:Ce,data:toBuffer(je.data),keys:Ue}))}return new TransactionMessage({payerKey:Pe,instructions:Ne,recentBlockhash:ie})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(ee){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:ee})}}class VersionedTransaction{get version(){return this.message.version}constructor(ee,te){if(this.signatures=void 0,this.message=void 0,te!==void 0)assert$c(te.length===ee.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=te;else{const ne=[];for(let se=0;se<ee.header.numRequiredSignatures;se++)ne.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=ne}this.message=ee}serialize(){const ee=this.message.serialize(),te=Array();encodeLength(te,this.signatures.length);const ne=struct([blob(te.length,"encodedSignaturesLength"),seq(signature$1(),this.signatures.length,"signatures"),blob(ee.length,"serializedMessage")]),se=new Uint8Array(2048),ie=ne.encode({encodedSignaturesLength:new Uint8Array(te),signatures:this.signatures,serializedMessage:ee},se);return se.slice(0,ie)}static deserialize(ee){let te=[...ee];const ne=[],se=decodeLength(te);for(let fe=0;fe<se;fe++)ne.push(new Uint8Array(te.splice(0,SIGNATURE_LENGTH_IN_BYTES)));const ie=VersionedMessage.deserialize(new Uint8Array(te));return new VersionedTransaction(ie,ne)}sign(ee){const te=this.message.serialize(),ne=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const se of ee){const ie=ne.findIndex(fe=>fe.equals(se.publicKey));assert$c(ie>=0,`Cannot sign with non signer key ${se.publicKey.toBase58()}`),this.signatures[ie]=sign(te,se.secretKey)}}addSignature(ee,te){assert$c(te.byteLength===64,"Signature must be 64 bytes long");const se=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(ie=>ie.equals(ee));assert$c(se>=0,`Can not add signature; \`${ee.toBase58()}\` is not required to sign this transaction`),this.signatures[se]=te}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(re,ee,te,ne){const se=ne&&{skipPreflight:ne.skipPreflight,preflightCommitment:ne.preflightCommitment||ne.commitment,maxRetries:ne.maxRetries,minContextSlot:ne.minContextSlot},ie=await re.sendTransaction(ee,te,se);let fe;if(ee.recentBlockhash!=null&&ee.lastValidBlockHeight!=null)fe=(await re.confirmTransaction({abortSignal:ne?.abortSignal,signature:ie,blockhash:ee.recentBlockhash,lastValidBlockHeight:ee.lastValidBlockHeight},ne&&ne.commitment)).value;else if(ee.minNonceContextSlot!=null&&ee.nonceInfo!=null){const{nonceInstruction:ue}=ee.nonceInfo,xe=ue.keys[0].pubkey;fe=(await re.confirmTransaction({abortSignal:ne?.abortSignal,minContextSlot:ee.minNonceContextSlot,nonceAccountPubkey:xe,nonceValue:ee.nonceInfo.nonce,signature:ie},ne&&ne.commitment)).value}else ne?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),fe=(await re.confirmTransaction(ie,ne&&ne.commitment)).value;if(fe.err)throw new Error(`Transaction ${ie} failed (${JSON.stringify(fe)})`);return ie}function sleep(re){return new Promise(ee=>setTimeout(ee,re))}function encodeData(re,ee){const te=re.layout.span>=0?re.layout.span:getAlloc(re,ee),ne=buffer.Buffer.alloc(te),se=Object.assign({instruction:re.index},ee);return re.layout.encode(se,ne),ne}function decodeData$1(re,ee){let te;try{te=re.layout.decode(ee)}catch(ne){throw new Error("invalid instruction; "+ne)}if(te.instruction!==re.index)throw new Error(`invalid instruction; instruction index mismatch ${te.instruction} != ${re.index}`);return te}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct([u32("version"),u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),struct([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(ee){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=ee.authorizedPubkey,this.nonce=ee.nonce,this.feeCalculator=ee.feeCalculator}static fromAccountData(ee){const te=NonceAccountLayout.decode(toBuffer(ee),0);return new NonceAccount({authorizedPubkey:new PublicKey(te.authorizedPubkey),nonce:new PublicKey(te.nonce).toString(),feeCalculator:te.feeCalculator})}}const encodeDecode=re=>{const ee=re.decode.bind(re),te=re.encode.bind(re);return{decode:ee,encode:te}},bigInt=re=>ee=>{const te=blob(re,ee),{encode:ne,decode:se}=encodeDecode(te),ie=te;return ie.decode=(fe,ue)=>{const xe=se(fe,ue);return toBigIntLE_1(buffer.Buffer.from(xe))},ie.encode=(fe,ue,xe)=>{const Ee=toBufferLE_1(fe,re);return ne(Ee,ue,xe)},ie},u64=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32("instruction").decode(ee.data);let se;for(const[ie,fe]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(fe.index==ne){se=ie;break}if(!se)throw new Error("Instruction type incorrect; not a SystemInstruction");return se}static decodeCreateAccount(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{lamports:te,space:ne,programId:se}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,ee.data);return{fromPubkey:ee.keys[0].pubkey,newAccountPubkey:ee.keys[1].pubkey,lamports:te,space:ne,programId:new PublicKey(se)}}static decodeTransfer(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{lamports:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,ee.data);return{fromPubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,lamports:te}}static decodeTransferWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:te,seed:ne,programId:se}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,ee.data);return{fromPubkey:ee.keys[0].pubkey,basePubkey:ee.keys[1].pubkey,toPubkey:ee.keys[2].pubkey,lamports:te,seed:ne,programId:new PublicKey(se)}}static decodeAllocate(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{space:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,ee.data);return{accountPubkey:ee.keys[0].pubkey,space:te}}static decodeAllocateWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{base:te,seed:ne,space:se,programId:ie}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,ee.data);return{accountPubkey:ee.keys[0].pubkey,basePubkey:new PublicKey(te),seed:ne,space:se,programId:new PublicKey(ie)}}static decodeAssign(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{programId:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,ee.data);return{accountPubkey:ee.keys[0].pubkey,programId:new PublicKey(te)}}static decodeAssignWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,1);const{base:te,seed:ne,programId:se}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,ee.data);return{accountPubkey:ee.keys[0].pubkey,basePubkey:new PublicKey(te),seed:ne,programId:new PublicKey(se)}}static decodeCreateWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{base:te,seed:ne,lamports:se,space:ie,programId:fe}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,ee.data);return{fromPubkey:ee.keys[0].pubkey,newAccountPubkey:ee.keys[1].pubkey,basePubkey:new PublicKey(te),seed:ne,lamports:se,space:ie,programId:new PublicKey(fe)}}static decodeNonceInitialize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{authorized:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:new PublicKey(te)}}static decodeNonceAdvance(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,ee.data),{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey}}static decodeNonceWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,5);const{lamports:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey,lamports:te}}static decodeNonceAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{authorized:te}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,ee.data);return{noncePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(te)}}static checkProgramId(ee){if(!ee.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(ee,te){if(ee.length<te)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${te}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct([u32("instruction"),ns64("lamports"),ns64("space"),publicKey("programId")])},Assign:{index:1,layout:struct([u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:struct([u32("instruction"),u64("lamports")])},CreateWithSeed:{index:3,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:struct([u32("instruction")])},WithdrawNonceAccount:{index:5,layout:struct([u32("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct([u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct([u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:struct([u32("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:struct([u32("instruction"),u64("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:struct([u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.Create,ne=encodeData(te,{lamports:ee.lamports,space:ee.space,programId:toBuffer(ee.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:ne})}static transfer(ee){let te,ne;if("basePubkey"in ee){const se=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;te=encodeData(se,{lamports:BigInt(ee.lamports),seed:ee.seed,programId:toBuffer(ee.programId.toBuffer())}),ne=[{pubkey:ee.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0}]}else{const se=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;te=encodeData(se,{lamports:BigInt(ee.lamports)}),ne=[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:te})}static assign(ee){let te,ne;if("basePubkey"in ee){const se=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;te=encodeData(se,{base:toBuffer(ee.basePubkey.toBuffer()),seed:ee.seed,programId:toBuffer(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}]}else{const se=SYSTEM_INSTRUCTION_LAYOUTS.Assign;te=encodeData(se,{programId:toBuffer(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:te})}static createAccountWithSeed(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,ne=encodeData(te,{base:toBuffer(ee.basePubkey.toBuffer()),seed:ee.seed,lamports:ee.lamports,space:ee.space,programId:toBuffer(ee.programId.toBuffer())});let se=[{pubkey:ee.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:ee.newAccountPubkey,isSigner:!1,isWritable:!0}];return ee.basePubkey!=ee.fromPubkey&&se.push({pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:se,programId:this.programId,data:ne})}static createNonceAccount(ee){const te=new Transaction;"basePubkey"in ee&&"seed"in ee?te.add(SystemProgram.createAccountWithSeed({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.noncePubkey,basePubkey:ee.basePubkey,seed:ee.seed,lamports:ee.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):te.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.noncePubkey,lamports:ee.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const ne={noncePubkey:ee.noncePubkey,authorizedPubkey:ee.authorizedPubkey};return te.add(this.nonceInitialize(ne)),te}static nonceInitialize(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,ne=encodeData(te,{authorized:toBuffer(ee.authorizedPubkey.toBuffer())}),se={keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:ne};return new TransactionInstruction(se)}static nonceAdvance(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,ne=encodeData(te),se={keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne};return new TransactionInstruction(se)}static nonceWithdraw(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,ne=encodeData(te,{lamports:ee.lamports});return new TransactionInstruction({keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ee.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne})}static nonceAuthorize(ee){const te=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,ne=encodeData(te,{authorized:toBuffer(ee.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:ee.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ee.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:ne})}static allocate(ee){let te,ne;if("basePubkey"in ee){const se=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;te=encodeData(se,{base:toBuffer(ee.basePubkey.toBuffer()),seed:ee.seed,space:ee.space,programId:toBuffer(ee.programId.toBuffer())}),ne=[{pubkey:ee.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:ee.basePubkey,isSigner:!0,isWritable:!1}]}else{const se=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;te=encodeData(se,{space:ee.space}),ne=[{pubkey:ee.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:ne,programId:this.programId,data:te})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(ee){return 2*(Math.ceil(ee/Loader.chunkSize)+1+1)}static async load(ee,te,ne,se,ie){{const Me=await ee.getMinimumBalanceForRentExemption(ie.length),Pe=await ee.getAccountInfo(ne.publicKey,"confirmed");let Ne=null;if(Pe!==null){if(Pe.executable)return console.error("Program load failed, account is already executable"),!1;Pe.data.length!==ie.length&&(Ne=Ne||new Transaction,Ne.add(SystemProgram.allocate({accountPubkey:ne.publicKey,space:ie.length}))),Pe.owner.equals(se)||(Ne=Ne||new Transaction,Ne.add(SystemProgram.assign({accountPubkey:ne.publicKey,programId:se}))),Pe.lamports<Me&&(Ne=Ne||new Transaction,Ne.add(SystemProgram.transfer({fromPubkey:te.publicKey,toPubkey:ne.publicKey,lamports:Me-Pe.lamports})))}else Ne=new Transaction().add(SystemProgram.createAccount({fromPubkey:te.publicKey,newAccountPubkey:ne.publicKey,lamports:Me>0?Me:1,space:ie.length,programId:se}));Ne!==null&&await sendAndConfirmTransaction(ee,Ne,[te,ne],{commitment:"confirmed"})}const fe=struct([u32("instruction"),u32("offset"),u32("bytesLength"),u32("bytesLengthPadding"),seq(u8("byte"),offset(u32(),-8),"bytes")]),ue=Loader.chunkSize;let xe=0,Ee=ie,Ae=[];for(;Ee.length>0;){const Me=Ee.slice(0,ue),Pe=buffer.Buffer.alloc(ue+16);fe.encode({instruction:0,offset:xe,bytes:Me,bytesLength:0,bytesLengthPadding:0},Pe);const Ne=new Transaction().add({keys:[{pubkey:ne.publicKey,isSigner:!0,isWritable:!0}],programId:se,data:Pe});Ae.push(sendAndConfirmTransaction(ee,Ne,[te,ne],{commitment:"confirmed"})),ee._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),xe+=ue,Ee=Ee.slice(ue)}await Promise.all(Ae);{const Me=struct([u32("instruction")]),Pe=buffer.Buffer.alloc(Me.span);Me.encode({instruction:1},Pe);const Ne=new Transaction().add({keys:[{pubkey:ne.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:se,data:Pe});await sendAndConfirmTransaction(ee,Ne,[te,ne],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(ee){return Loader.getMinNumSignatures(ee)}static load(ee,te,ne,se,ie){return Loader.load(ee,te,ne,ie,se)}}var objToString=Object.prototype.toString,objKeys=Object.keys||function(re){var ee=[];for(var te in re)ee.push(te);return ee};function stringify(re,ee){var te,ne,se,ie,fe,ue,xe;if(re===!0)return"true";if(re===!1)return"false";switch(typeof re){case"object":if(re===null)return null;if(re.toJSON&&typeof re.toJSON=="function")return stringify(re.toJSON(),ee);if(xe=objToString.call(re),xe==="[object Array]"){for(se="[",ne=re.length-1,te=0;te<ne;te++)se+=stringify(re[te],!0)+",";return ne>-1&&(se+=stringify(re[te],!0)),se+"]"}else if(xe==="[object Object]"){for(ie=objKeys(re).sort(),ne=ie.length,se="",te=0;te<ne;)fe=ie[te],ue=stringify(re[fe],!1),ue!==void 0&&(se&&(se+=","),se+=JSON.stringify(fe)+":"+ue),te++;return"{"+se+"}"}else return JSON.stringify(re);case"function":case"undefined":return ee?null:void 0;case"string":return JSON.stringify(re);default:return isFinite(re)?re:null}}var fastStableStringify=function(re){var ee=stringify(re,!1);if(ee!==void 0)return""+ee},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(re){let ee=0;for(;re>1;)re/=2,ee++;return ee}function nextPowerOfTwo(re){return re===0?1:(re--,re|=re>>1,re|=re>>2,re|=re>>4,re|=re>>8,re|=re>>16,re|=re>>32,re+1)}class EpochSchedule{constructor(ee,te,ne,se,ie){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=ee,this.leaderScheduleSlotOffset=te,this.warmup=ne,this.firstNormalEpoch=se,this.firstNormalSlot=ie}getEpoch(ee){return this.getEpochAndSlotIndex(ee)[0]}getEpochAndSlotIndex(ee){if(ee<this.firstNormalSlot){const te=trailingZeros(nextPowerOfTwo(ee+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,ne=this.getSlotsInEpoch(te),se=ee-(ne-MINIMUM_SLOT_PER_EPOCH);return[te,se]}else{const te=ee-this.firstNormalSlot,ne=Math.floor(te/this.slotsPerEpoch),se=this.firstNormalEpoch+ne,ie=te%this.slotsPerEpoch;return[se,ie]}}getFirstSlotInEpoch(ee){return ee<=this.firstNormalEpoch?(Math.pow(2,ee)-1)*MINIMUM_SLOT_PER_EPOCH:(ee-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(ee){return this.getFirstSlotInEpoch(ee)+this.getSlotsInEpoch(ee)-1}getSlotsInEpoch(ee){return ee<this.firstNormalEpoch?Math.pow(2,ee+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(ee,te){super(ee),this.logs=void 0,this.logs=te}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:ee,message:te,data:ne},se){super(se!=null?`${se}: ${te}`:te),this.code=void 0,this.data=void 0,this.code=ee,this.data=ne,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function decodeData(re,ee){let te;try{te=re.layout.decode(ee)}catch(ne){throw new Error("invalid instruction; "+ne)}if(te.typeIndex!==re.index)throw new Error(`invalid account data; account type mismatch ${te.typeIndex} != ${re.index}`);return te}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(ee){this.key=void 0,this.state=void 0,this.key=ee.key,this.state=ee.state}isActive(){const ee=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===ee}static deserialize(ee){const te=decodeData(LookupTableMetaLayout,ee),ne=ee.length-LOOKUP_TABLE_META_SIZE;assert$c(ne>=0,"lookup table is invalid"),assert$c(ne%32===0,"lookup table is invalid");const se=ne/32,{addresses:ie}=struct([seq(publicKey(),se,"addresses")]).decode(ee.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:te.deactivationSlot,lastExtendedSlot:te.lastExtendedSlot,lastExtendedSlotStartIndex:te.lastExtendedStartIndex,authority:te.authority.length!==0?new PublicKey(te.authority[0]):void 0,addresses:ie.map(fe=>new PublicKey(fe))}}}const LookupTableMetaLayout={index:1,layout:struct([u32("typeIndex"),u64("deactivationSlot"),nu64("lastExtendedSlot"),u8("lastExtendedStartIndex"),u8(),seq(publicKey(),offset(u8(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(re){const ee=re.match(URL_RE);if(ee==null)throw TypeError(`Failed to validate endpoint URL \`${re}\``);const[te,ne,se,ie]=ee,fe=re.startsWith("https:")?"wss:":"ws:",ue=se==null?null:parseInt(se.slice(1),10),xe=ue==null?"":`:${ue+1}`;return`${fe}//${ne}${xe}${ie}`}var _process$env$npm_pack;const PublicKeyFromString=coerce(instance(PublicKey),string(),re=>new PublicKey(re)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer.Buffer),RawAccountDataResult,re=>buffer.Buffer.from(re[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(re){if(/^https?:/.test(re)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return re}function extractCommitmentFromConfig(re){let ee,te;if(typeof re=="string")ee=re;else if(re){const{commitment:ne,...se}=re;ee=ne,te=se}return{commitment:ee,config:te}}function createRpcResult(re){return union([type({jsonrpc:literal("2.0"),id:string(),result:re}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(re){return coerce(createRpcResult(re),UnknownRpcResult,ee=>"error"in ee?ee:{...ee,result:create(ee.result,re)})}function jsonRpcResultAndContext(re){return jsonRpcResult(type({context:type({slot:number()}),value:re}))}function notificationResultAndContext(re){return type({context:type({slot:number()}),value:re})}function versionedMessageFromResponse(re,ee){return re===0?new MessageV0({header:ee.header,staticAccountKeys:ee.accountKeys.map(te=>new PublicKey(te)),recentBlockhash:ee.recentBlockhash,compiledInstructions:ee.instructions.map(te=>({programIdIndex:te.programIdIndex,accountKeyIndexes:te.accounts,data:bs58.decode(te.data)})),addressTableLookups:ee.addressTableLookups}):new Message(ee)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(re,ee,te,ne,se,ie){const fe=te||fetchImpl;ie!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let ue;return ne&&(ue=async(Ee,Ae)=>{const Me=await new Promise((Pe,Ne)=>{try{ne(Ee,Ae,(je,Ue)=>Pe([je,Ue]))}catch(je){Ne(je)}});return await fe(...Me)}),new browser(async(Ee,Ae)=>{const Pe={method:"POST",body:Ee,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},ee||{},COMMON_HTTP_HEADERS)};try{let Ne=5,je,Ue=500;for(;ue?je=await ue(re,Pe):je=await fe(re,Pe),!(je.status!==429||se===!0||(Ne-=1,Ne===0));)console.log(`Server responded with ${je.status} ${je.statusText}.  Retrying after ${Ue}ms delay...`),await sleep(Ue),Ue*=2;const Ce=await je.text();je.ok?Ae(null,Ce):Ae(new Error(`${je.status} ${je.statusText}: ${Ce}`))}catch(Ne){Ne instanceof Error&&Ae(Ne)}finally{}},{})}function createRpcRequest(re){return(ee,te)=>new Promise((ne,se)=>{re.request(ee,te,(ie,fe)=>{if(ie){se(ie);return}ne(fe)})})}function createRpcBatchRequest(re){return ee=>new Promise((te,ne)=>{ee.length===0&&te([]);const se=ee.map(ie=>re.request(ie.methodName,ie.args));re.request(se,(ie,fe)=>{if(ie){ne(ie);return}te(fe)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(buffer.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),re=>Array.isArray(re)?create(re,BufferFromRawAccountData):re),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,re=>"accounts"in re?create(re,RawInstructionResult):create(re,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection{constructor(ee,te){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let ne,se,ie,fe,ue,xe;te&&typeof te=="string"?this._commitment=te:te&&(this._commitment=te.commitment,this._confirmTransactionInitialTimeout=te.confirmTransactionInitialTimeout,ne=te.wsEndpoint,se=te.httpHeaders,ie=te.fetch,fe=te.fetchMiddleware,ue=te.disableRetryOnRateLimit,xe=te.httpAgent),this._rpcEndpoint=assertEndpointUrl(ee),this._rpcWsEndpoint=ne||makeWebsocketUrl(ee),this._rpcClient=createRpcClient(ee,se,ie,fe,ue,xe),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgs([ee.toBase58()],ne,void 0,se),fe=await this._rpcRequest("getBalance",ie),ue=create(fe,jsonRpcResultAndContext(number()));if("error"in ue)throw new SolanaJSONRPCError(ue.error,`failed to get balance for ${ee.toBase58()}`);return ue.result}async getBalance(ee,te){return await this.getBalanceAndContext(ee,te).then(ne=>ne.value).catch(ne=>{throw new Error("failed to get balance of account "+ee.toBase58()+": "+ne)})}async getBlockTime(ee){const te=await this._rpcRequest("getBlockTime",[ee]),ne=create(te,jsonRpcResult(nullable(number())));if("error"in ne)throw new SolanaJSONRPCError(ne.error,`failed to get block time for slot ${ee}`);return ne.result}async getMinimumLedgerSlot(){const ee=await this._rpcRequest("minimumLedgerSlot",[]),te=create(ee,jsonRpcResult(number()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get minimum ledger slot");return te.result}async getFirstAvailableBlock(){const ee=await this._rpcRequest("getFirstAvailableBlock",[]),te=create(ee,SlotRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get first available block");return te.result}async getSupply(ee){let te={};typeof ee=="string"?te={commitment:ee}:ee?te={...ee,commitment:ee&&ee.commitment||this.commitment}:te={commitment:this.commitment};const ne=await this._rpcRequest("getSupply",[te]),se=create(ne,GetSupplyRpcResult);if("error"in se)throw new SolanaJSONRPCError(se.error,"failed to get supply");return se.result}async getTokenSupply(ee,te){const ne=this._buildArgs([ee.toBase58()],te),se=await this._rpcRequest("getTokenSupply",ne),ie=create(se,jsonRpcResultAndContext(TokenAmountResult));if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get token supply");return ie.result}async getTokenAccountBalance(ee,te){const ne=this._buildArgs([ee.toBase58()],te),se=await this._rpcRequest("getTokenAccountBalance",ne),ie=create(se,jsonRpcResultAndContext(TokenAmountResult));if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get token account balance");return ie.result}async getTokenAccountsByOwner(ee,te,ne){const{commitment:se,config:ie}=extractCommitmentFromConfig(ne);let fe=[ee.toBase58()];"mint"in te?fe.push({mint:te.mint.toBase58()}):fe.push({programId:te.programId.toBase58()});const ue=this._buildArgs(fe,se,"base64",ie),xe=await this._rpcRequest("getTokenAccountsByOwner",ue),Ee=create(xe,GetTokenAccountsByOwner);if("error"in Ee)throw new SolanaJSONRPCError(Ee.error,`failed to get token accounts owned by account ${ee.toBase58()}`);return Ee.result}async getParsedTokenAccountsByOwner(ee,te,ne){let se=[ee.toBase58()];"mint"in te?se.push({mint:te.mint.toBase58()}):se.push({programId:te.programId.toBase58()});const ie=this._buildArgs(se,ne,"jsonParsed"),fe=await this._rpcRequest("getTokenAccountsByOwner",ie),ue=create(fe,GetParsedTokenAccountsByOwner);if("error"in ue)throw new SolanaJSONRPCError(ue.error,`failed to get token accounts owned by account ${ee.toBase58()}`);return ue.result}async getLargestAccounts(ee){const te={...ee,commitment:ee&&ee.commitment||this.commitment},ne=te.filter||te.commitment?[te]:[],se=await this._rpcRequest("getLargestAccounts",ne),ie=create(se,GetLargestAccountsRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get largest accounts");return ie.result}async getTokenLargestAccounts(ee,te){const ne=this._buildArgs([ee.toBase58()],te),se=await this._rpcRequest("getTokenLargestAccounts",ne),ie=create(se,GetTokenLargestAccountsResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get token largest accounts");return ie.result}async getAccountInfoAndContext(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgs([ee.toBase58()],ne,"base64",se),fe=await this._rpcRequest("getAccountInfo",ie),ue=create(fe,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in ue)throw new SolanaJSONRPCError(ue.error,`failed to get info about account ${ee.toBase58()}`);return ue.result}async getParsedAccountInfo(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgs([ee.toBase58()],ne,"jsonParsed",se),fe=await this._rpcRequest("getAccountInfo",ie),ue=create(fe,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in ue)throw new SolanaJSONRPCError(ue.error,`failed to get info about account ${ee.toBase58()}`);return ue.result}async getAccountInfo(ee,te){try{return(await this.getAccountInfoAndContext(ee,te)).value}catch(ne){throw new Error("failed to get info about account "+ee.toBase58()+": "+ne)}}async getMultipleParsedAccounts(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=ee.map(Ee=>Ee.toBase58()),fe=this._buildArgs([ie],ne,"jsonParsed",se),ue=await this._rpcRequest("getMultipleAccounts",fe),xe=create(ue,jsonRpcResultAndContext(array(nullable(ParsedAccountInfoResult))));if("error"in xe)throw new SolanaJSONRPCError(xe.error,`failed to get info for accounts ${ie}`);return xe.result}async getMultipleAccountsInfoAndContext(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=ee.map(Ee=>Ee.toBase58()),fe=this._buildArgs([ie],ne,"base64",se),ue=await this._rpcRequest("getMultipleAccounts",fe),xe=create(ue,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in xe)throw new SolanaJSONRPCError(xe.error,`failed to get info for accounts ${ie}`);return xe.result}async getMultipleAccountsInfo(ee,te){return(await this.getMultipleAccountsInfoAndContext(ee,te)).value}async getStakeActivation(ee,te,ne){const{commitment:se,config:ie}=extractCommitmentFromConfig(te),fe=this._buildArgs([ee.toBase58()],se,void 0,{...ie,epoch:ne??ie?.epoch}),ue=await this._rpcRequest("getStakeActivation",fe),xe=create(ue,jsonRpcResult(StakeActivationResult));if("error"in xe)throw new SolanaJSONRPCError(xe.error,`failed to get Stake Activation ${ee.toBase58()}`);return xe.result}async getProgramAccounts(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),{encoding:ie,...fe}=se||{},ue=this._buildArgs([ee.toBase58()],ne,ie||"base64",fe),xe=await this._rpcRequest("getProgramAccounts",ue),Ee=create(xe,jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in Ee)throw new SolanaJSONRPCError(Ee.error,`failed to get accounts owned by program ${ee.toBase58()}`);return Ee.result}async getParsedProgramAccounts(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgs([ee.toBase58()],ne,"jsonParsed",se),fe=await this._rpcRequest("getProgramAccounts",ie),ue=create(fe,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in ue)throw new SolanaJSONRPCError(ue.error,`failed to get accounts owned by program ${ee.toBase58()}`);return ue.result}async confirmTransaction(ee,te){let ne;if(typeof ee=="string")ne=ee;else{var se;const fe=ee;if((se=fe.abortSignal)!==null&&se!==void 0&&se.aborted)return Promise.reject(fe.abortSignal.reason);ne=fe.signature}let ie;try{ie=bs58.decode(ne)}catch{throw new Error("signature must be base58 encoded: "+ne)}return assert$c(ie.length===64,"signature has invalid length"),typeof ee=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:te||this.commitment,signature:ne}):"lastValidBlockHeight"in ee?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:te||this.commitment,strategy:ee}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:te||this.commitment,strategy:ee})}getCancellationPromise(ee){return new Promise((te,ne)=>{ee!=null&&(ee.aborted?ne(ee.reason):ee.addEventListener("abort",()=>{ne(ee.reason)}))})}getTransactionConfirmationPromise({commitment:ee,signature:te}){let ne,se,ie=!1;const fe=new Promise((xe,Ee)=>{try{ne=this.onSignature(te,(Me,Pe)=>{ne=void 0;const Ne={context:Pe,value:Me};xe({__type:TransactionStatus.PROCESSED,response:Ne})},ee);const Ae=new Promise(Me=>{ne==null?Me():se=this._onSubscriptionStateChange(ne,Pe=>{Pe==="subscribed"&&Me()})});(async()=>{if(await Ae,ie)return;const Me=await this.getSignatureStatus(te);if(ie||Me==null)return;const{context:Pe,value:Ne}=Me;if(Ne!=null)if(Ne!=null&&Ne.err)Ee(Ne.err);else{switch(ee){case"confirmed":case"single":case"singleGossip":{if(Ne.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(Ne.confirmationStatus==="processed"||Ne.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}ie=!0,xe({__type:TransactionStatus.PROCESSED,response:{context:Pe,value:Ne}})}})()}catch(Ae){Ee(Ae)}});return{abortConfirmation:()=>{se&&(se(),se=void 0),ne!=null&&(this.removeSignatureListener(ne),ne=void 0)},confirmationPromise:fe}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:ee,strategy:{abortSignal:te,lastValidBlockHeight:ne,signature:se}}){let ie=!1;const fe=new Promise(Me=>{const Pe=async()=>{try{return await this.getBlockHeight(ee)}catch{return-1}};(async()=>{let Ne=await Pe();if(!ie){for(;Ne<=ne;)if(await sleep(1e3),ie||(Ne=await Pe(),ie))return;Me({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:ue,confirmationPromise:xe}=this.getTransactionConfirmationPromise({commitment:ee,signature:se}),Ee=this.getCancellationPromise(te);let Ae;try{const Me=await Promise.race([Ee,xe,fe]);if(Me.__type===TransactionStatus.PROCESSED)Ae=Me.response;else throw new TransactionExpiredBlockheightExceededError(se)}finally{ie=!0,ue()}return Ae}async confirmTransactionUsingDurableNonceStrategy({commitment:ee,strategy:{abortSignal:te,minContextSlot:ne,nonceAccountPubkey:se,nonceValue:ie,signature:fe}}){let ue=!1;const xe=new Promise(Ue=>{let Ce=ie,Be=null;const He=async()=>{try{const{context:Oe,value:Ke}=await this.getNonceAndContext(se,{commitment:ee,minContextSlot:ne});return Be=Oe.slot,Ke?.nonce}catch{return Ce}};(async()=>{if(Ce=await He(),!ue)for(;;){if(ie!==Ce){Ue({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:Be});return}if(await sleep(2e3),ue||(Ce=await He(),ue))return}})()}),{abortConfirmation:Ee,confirmationPromise:Ae}=this.getTransactionConfirmationPromise({commitment:ee,signature:fe}),Me=this.getCancellationPromise(te);let Pe;try{const Ue=await Promise.race([Me,Ae,xe]);if(Ue.__type===TransactionStatus.PROCESSED)Pe=Ue.response;else{var Ne;let Ce;for(;;){var je;const Be=await this.getSignatureStatus(fe);if(Be==null)break;if(Be.context.slot<((je=Ue.slotInWhichNonceDidAdvance)!==null&&je!==void 0?je:ne)){await sleep(400);continue}Ce=Be;break}if((Ne=Ce)!==null&&Ne!==void 0&&Ne.value){const Be=ee||"finalized",{confirmationStatus:He}=Ce.value;switch(Be){case"processed":case"recent":if(He!=="processed"&&He!=="confirmed"&&He!=="finalized")throw new TransactionExpiredNonceInvalidError(fe);break;case"confirmed":case"single":case"singleGossip":if(He!=="confirmed"&&He!=="finalized")throw new TransactionExpiredNonceInvalidError(fe);break;case"finalized":case"max":case"root":if(He!=="finalized")throw new TransactionExpiredNonceInvalidError(fe);break;default:(Oe=>{})(Be)}Pe={context:Ce.context,value:{err:Ce.value.err}}}else throw new TransactionExpiredNonceInvalidError(fe)}}finally{ue=!0,Ee()}return Pe}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:ee,signature:te}){let ne;const se=new Promise(xe=>{let Ee=this._confirmTransactionInitialTimeout||6e4;switch(ee){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{Ee=this._confirmTransactionInitialTimeout||3e4;break}}ne=setTimeout(()=>xe({__type:TransactionStatus.TIMED_OUT,timeoutMs:Ee}),Ee)}),{abortConfirmation:ie,confirmationPromise:fe}=this.getTransactionConfirmationPromise({commitment:ee,signature:te});let ue;try{const xe=await Promise.race([fe,se]);if(xe.__type===TransactionStatus.PROCESSED)ue=xe.response;else throw new TransactionExpiredTimeoutError(te,xe.timeoutMs/1e3)}finally{clearTimeout(ne),ie()}return ue}async getClusterNodes(){const ee=await this._rpcRequest("getClusterNodes",[]),te=create(ee,jsonRpcResult(array(ContactInfoResult)));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get cluster nodes");return te.result}async getVoteAccounts(ee){const te=this._buildArgs([],ee),ne=await this._rpcRequest("getVoteAccounts",te),se=create(ne,GetVoteAccounts);if("error"in se)throw new SolanaJSONRPCError(se.error,"failed to get vote accounts");return se.result}async getSlot(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getSlot",se),fe=create(ie,jsonRpcResult(number()));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get slot");return fe.result}async getSlotLeader(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getSlotLeader",se),fe=create(ie,jsonRpcResult(string()));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get slot leader");return fe.result}async getSlotLeaders(ee,te){const ne=[ee,te],se=await this._rpcRequest("getSlotLeaders",ne),ie=create(se,jsonRpcResult(array(PublicKeyFromString)));if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get slot leaders");return ie.result}async getSignatureStatus(ee,te){const{context:ne,value:se}=await this.getSignatureStatuses([ee],te);assert$c(se.length===1);const ie=se[0];return{context:ne,value:ie}}async getSignatureStatuses(ee,te){const ne=[ee];te&&ne.push(te);const se=await this._rpcRequest("getSignatureStatuses",ne),ie=create(se,GetSignatureStatusesRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get signature status");return ie.result}async getTransactionCount(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getTransactionCount",se),fe=create(ie,jsonRpcResult(number()));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get transaction count");return fe.result}async getTotalSupply(ee){return(await this.getSupply({commitment:ee,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(ee){const te=this._buildArgs([],ee),ne=await this._rpcRequest("getInflationGovernor",te),se=create(ne,GetInflationGovernorRpcResult);if("error"in se)throw new SolanaJSONRPCError(se.error,"failed to get inflation");return se.result}async getInflationReward(ee,te,ne){const{commitment:se,config:ie}=extractCommitmentFromConfig(ne),fe=this._buildArgs([ee.map(Ee=>Ee.toBase58())],se,void 0,{...ie,epoch:te??ie?.epoch}),ue=await this._rpcRequest("getInflationReward",fe),xe=create(ue,GetInflationRewardResult);if("error"in xe)throw new SolanaJSONRPCError(xe.error,"failed to get inflation reward");return xe.result}async getEpochInfo(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getEpochInfo",se),fe=create(ie,GetEpochInfoRpcResult);if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get epoch info");return fe.result}async getEpochSchedule(){const ee=await this._rpcRequest("getEpochSchedule",[]),te=create(ee,GetEpochScheduleRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get epoch schedule");const ne=te.result;return new EpochSchedule(ne.slotsPerEpoch,ne.leaderScheduleSlotOffset,ne.warmup,ne.firstNormalEpoch,ne.firstNormalSlot)}async getLeaderSchedule(){const ee=await this._rpcRequest("getLeaderSchedule",[]),te=create(ee,GetLeaderScheduleRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get leader schedule");return te.result}async getMinimumBalanceForRentExemption(ee,te){const ne=this._buildArgs([ee],te),se=await this._rpcRequest("getMinimumBalanceForRentExemption",ne),ie=create(se,GetMinimumBalanceForRentExemptionRpcResult);return"error"in ie?(console.warn("Unable to fetch minimum balance for rent exemption"),0):ie.result}async getRecentBlockhashAndContext(ee){const te=this._buildArgs([],ee),ne=await this._rpcRequest("getRecentBlockhash",te),se=create(ne,GetRecentBlockhashAndContextRpcResult);if("error"in se)throw new SolanaJSONRPCError(se.error,"failed to get recent blockhash");return se.result}async getRecentPerformanceSamples(ee){const te=await this._rpcRequest("getRecentPerformanceSamples",ee?[ee]:[]),ne=create(te,GetRecentPerformanceSamplesRpcResult);if("error"in ne)throw new SolanaJSONRPCError(ne.error,"failed to get recent performance samples");return ne.result}async getFeeCalculatorForBlockhash(ee,te){const ne=this._buildArgs([ee],te),se=await this._rpcRequest("getFeeCalculatorForBlockhash",ne),ie=create(se,GetFeeCalculatorRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get fee calculator");const{context:fe,value:ue}=ie.result;return{context:fe,value:ue!==null?ue.feeCalculator:null}}async getFeeForMessage(ee,te){const ne=toBuffer(ee.serialize()).toString("base64"),se=this._buildArgs([ne],te),ie=await this._rpcRequest("getFeeForMessage",se),fe=create(ie,jsonRpcResultAndContext(nullable(number())));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get fee for message");if(fe.result===null)throw new Error("invalid blockhash");return fe.result}async getRecentBlockhash(ee){try{return(await this.getRecentBlockhashAndContext(ee)).value}catch(te){throw new Error("failed to get recent blockhash: "+te)}}async getLatestBlockhash(ee){try{return(await this.getLatestBlockhashAndContext(ee)).value}catch(te){throw new Error("failed to get recent blockhash: "+te)}}async getLatestBlockhashAndContext(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getLatestBlockhash",se),fe=create(ie,GetLatestBlockhashRpcResult);if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get latest blockhash");return fe.result}async getVersion(){const ee=await this._rpcRequest("getVersion",[]),te=create(ee,jsonRpcResult(VersionResult));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get version");return te.result}async getGenesisHash(){const ee=await this._rpcRequest("getGenesisHash",[]),te=create(ee,jsonRpcResult(string()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get genesis hash");return te.result}async getBlock(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgsAtLeastConfirmed([ee],ne,void 0,se),fe=await this._rpcRequest("getBlock",ie);try{switch(se?.transactionDetails){case"accounts":{const ue=create(fe,GetAccountsModeBlockRpcResult);if("error"in ue)throw ue.error;return ue.result}case"none":{const ue=create(fe,GetNoneModeBlockRpcResult);if("error"in ue)throw ue.error;return ue.result}default:{const ue=create(fe,GetBlockRpcResult);if("error"in ue)throw ue.error;const{result:xe}=ue;return xe?{...xe,transactions:xe.transactions.map(({transaction:Ee,meta:Ae,version:Me})=>({meta:Ae,transaction:{...Ee,message:versionedMessageFromResponse(Me,Ee.message)},version:Me}))}:null}}}catch(ue){throw new SolanaJSONRPCError(ue,"failed to get confirmed block")}}async getParsedBlock(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgsAtLeastConfirmed([ee],ne,"jsonParsed",se),fe=await this._rpcRequest("getBlock",ie);try{switch(se?.transactionDetails){case"accounts":{const ue=create(fe,GetParsedAccountsModeBlockRpcResult);if("error"in ue)throw ue.error;return ue.result}case"none":{const ue=create(fe,GetParsedNoneModeBlockRpcResult);if("error"in ue)throw ue.error;return ue.result}default:{const ue=create(fe,GetParsedBlockRpcResult);if("error"in ue)throw ue.error;return ue.result}}}catch(ue){throw new SolanaJSONRPCError(ue,"failed to get block")}}async getBlockHeight(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,void 0,ne),ie=await this._rpcRequest("getBlockHeight",se),fe=create(ie,jsonRpcResult(number()));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get block height information");return fe.result}async getBlockProduction(ee){let te,ne;if(typeof ee=="string")ne=ee;else if(ee){const{commitment:ue,...xe}=ee;ne=ue,te=xe}const se=this._buildArgs([],ne,"base64",te),ie=await this._rpcRequest("getBlockProduction",se),fe=create(ie,BlockProductionResponseStruct);if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get block production information");return fe.result}async getTransaction(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgsAtLeastConfirmed([ee],ne,void 0,se),fe=await this._rpcRequest("getTransaction",ie),ue=create(fe,GetTransactionRpcResult);if("error"in ue)throw new SolanaJSONRPCError(ue.error,"failed to get transaction");const xe=ue.result;return xe&&{...xe,transaction:{...xe.transaction,message:versionedMessageFromResponse(xe.version,xe.transaction.message)}}}async getParsedTransaction(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=this._buildArgsAtLeastConfirmed([ee],ne,"jsonParsed",se),fe=await this._rpcRequest("getTransaction",ie),ue=create(fe,GetParsedTransactionRpcResult);if("error"in ue)throw new SolanaJSONRPCError(ue.error,"failed to get transaction");return ue.result}async getParsedTransactions(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=ee.map(xe=>{const Ee=this._buildArgsAtLeastConfirmed([xe],ne,"jsonParsed",se);return{methodName:"getTransaction",args:Ee}});return(await this._rpcBatchRequest(ie)).map(xe=>{const Ee=create(xe,GetParsedTransactionRpcResult);if("error"in Ee)throw new SolanaJSONRPCError(Ee.error,"failed to get transactions");return Ee.result})}async getTransactions(ee,te){const{commitment:ne,config:se}=extractCommitmentFromConfig(te),ie=ee.map(xe=>{const Ee=this._buildArgsAtLeastConfirmed([xe],ne,void 0,se);return{methodName:"getTransaction",args:Ee}});return(await this._rpcBatchRequest(ie)).map(xe=>{const Ee=create(xe,GetTransactionRpcResult);if("error"in Ee)throw new SolanaJSONRPCError(Ee.error,"failed to get transactions");const Ae=Ee.result;return Ae&&{...Ae,transaction:{...Ae.transaction,message:versionedMessageFromResponse(Ae.version,Ae.transaction.message)}}})}async getConfirmedBlock(ee,te){const ne=this._buildArgsAtLeastConfirmed([ee],te),se=await this._rpcRequest("getConfirmedBlock",ne),ie=create(se,GetConfirmedBlockRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get confirmed block");const fe=ie.result;if(!fe)throw new Error("Confirmed block "+ee+" not found");const ue={...fe,transactions:fe.transactions.map(({transaction:xe,meta:Ee})=>{const Ae=new Message(xe.message);return{meta:Ee,transaction:{...xe,message:Ae}}})};return{...ue,transactions:ue.transactions.map(({transaction:xe,meta:Ee})=>({meta:Ee,transaction:Transaction.populate(xe.message,xe.signatures)}))}}async getBlocks(ee,te,ne){const se=this._buildArgsAtLeastConfirmed(te!==void 0?[ee,te]:[ee],ne),ie=await this._rpcRequest("getBlocks",se),fe=create(ie,jsonRpcResult(array(number())));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get blocks");return fe.result}async getBlockSignatures(ee,te){const ne=this._buildArgsAtLeastConfirmed([ee],te,void 0,{transactionDetails:"signatures",rewards:!1}),se=await this._rpcRequest("getBlock",ne),ie=create(se,GetBlockSignaturesRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get block");const fe=ie.result;if(!fe)throw new Error("Block "+ee+" not found");return fe}async getConfirmedBlockSignatures(ee,te){const ne=this._buildArgsAtLeastConfirmed([ee],te,void 0,{transactionDetails:"signatures",rewards:!1}),se=await this._rpcRequest("getConfirmedBlock",ne),ie=create(se,GetBlockSignaturesRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get confirmed block");const fe=ie.result;if(!fe)throw new Error("Confirmed block "+ee+" not found");return fe}async getConfirmedTransaction(ee,te){const ne=this._buildArgsAtLeastConfirmed([ee],te),se=await this._rpcRequest("getConfirmedTransaction",ne),ie=create(se,GetTransactionRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get transaction");const fe=ie.result;if(!fe)return fe;const ue=new Message(fe.transaction.message),xe=fe.transaction.signatures;return{...fe,transaction:Transaction.populate(ue,xe)}}async getParsedConfirmedTransaction(ee,te){const ne=this._buildArgsAtLeastConfirmed([ee],te,"jsonParsed"),se=await this._rpcRequest("getConfirmedTransaction",ne),ie=create(se,GetParsedTransactionRpcResult);if("error"in ie)throw new SolanaJSONRPCError(ie.error,"failed to get confirmed transaction");return ie.result}async getParsedConfirmedTransactions(ee,te){const ne=ee.map(fe=>{const ue=this._buildArgsAtLeastConfirmed([fe],te,"jsonParsed");return{methodName:"getConfirmedTransaction",args:ue}});return(await this._rpcBatchRequest(ne)).map(fe=>{const ue=create(fe,GetParsedTransactionRpcResult);if("error"in ue)throw new SolanaJSONRPCError(ue.error,"failed to get confirmed transactions");return ue.result})}async getConfirmedSignaturesForAddress(ee,te,ne){let se={},ie=await this.getFirstAvailableBlock();for(;!("until"in se)&&(te--,!(te<=0||te<ie));)try{const xe=await this.getConfirmedBlockSignatures(te,"finalized");xe.signatures.length>0&&(se.until=xe.signatures[xe.signatures.length-1].toString())}catch(xe){if(xe instanceof Error&&xe.message.includes("skipped"))continue;throw xe}let fe=await this.getSlot("finalized");for(;!("before"in se)&&(ne++,!(ne>fe));)try{const xe=await this.getConfirmedBlockSignatures(ne);xe.signatures.length>0&&(se.before=xe.signatures[xe.signatures.length-1].toString())}catch(xe){if(xe instanceof Error&&xe.message.includes("skipped"))continue;throw xe}return(await this.getConfirmedSignaturesForAddress2(ee,se)).map(xe=>xe.signature)}async getConfirmedSignaturesForAddress2(ee,te,ne){const se=this._buildArgsAtLeastConfirmed([ee.toBase58()],ne,void 0,te),ie=await this._rpcRequest("getConfirmedSignaturesForAddress2",se),fe=create(ie,GetConfirmedSignaturesForAddress2RpcResult);if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get confirmed signatures for address");return fe.result}async getSignaturesForAddress(ee,te,ne){const se=this._buildArgsAtLeastConfirmed([ee.toBase58()],ne,void 0,te),ie=await this._rpcRequest("getSignaturesForAddress",se),fe=create(ie,GetSignaturesForAddressRpcResult);if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get signatures for address");return fe.result}async getAddressLookupTable(ee,te){const{context:ne,value:se}=await this.getAccountInfoAndContext(ee,te);let ie=null;return se!==null&&(ie=new AddressLookupTableAccount({key:ee,state:AddressLookupTableAccount.deserialize(se.data)})),{context:ne,value:ie}}async getNonceAndContext(ee,te){const{context:ne,value:se}=await this.getAccountInfoAndContext(ee,te);let ie=null;return se!==null&&(ie=NonceAccount.fromAccountData(se.data)),{context:ne,value:ie}}async getNonce(ee,te){return await this.getNonceAndContext(ee,te).then(ne=>ne.value).catch(ne=>{throw new Error("failed to get nonce for account "+ee.toBase58()+": "+ne)})}async requestAirdrop(ee,te){const ne=await this._rpcRequest("requestAirdrop",[ee.toBase58(),te]),se=create(ne,RequestAirdropRpcResult);if("error"in se)throw new SolanaJSONRPCError(se.error,`airdrop to ${ee.toBase58()} failed`);return se.result}async _blockhashWithExpiryBlockHeight(ee){if(!ee){for(;this._pollingBlockhash;)await sleep(100);const ne=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!ne)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const ee=Date.now(),te=this._blockhashInfo.latestBlockhash,ne=te?te.blockhash:null;for(let se=0;se<50;se++){const ie=await this.getLatestBlockhash("finalized");if(ne!==ie.blockhash)return this._blockhashInfo={latestBlockhash:ie,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},ie;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-ee}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(ee){const{commitment:te,config:ne}=extractCommitmentFromConfig(ee),se=this._buildArgs([],te,"base64",ne),ie=await this._rpcRequest("getStakeMinimumDelegation",se),fe=create(ie,jsonRpcResultAndContext(number()));if("error"in fe)throw new SolanaJSONRPCError(fe.error,"failed to get stake minimum delegation");return fe.result}async simulateTransaction(ee,te,ne){if("message"in ee){const Ue=ee.serialize(),Ce=buffer.Buffer.from(Ue).toString("base64");if(Array.isArray(te)||ne!==void 0)throw new Error("Invalid arguments");const Be=te||{};Be.encoding="base64","commitment"in Be||(Be.commitment=this.commitment);const He=[Ce,Be],Oe=await this._rpcRequest("simulateTransaction",He),Ke=create(Oe,SimulatedTransactionResponseStruct);if("error"in Ke)throw new Error("failed to simulate transaction: "+Ke.error.message);return Ke.result}let se;if(ee instanceof Transaction){let je=ee;se=new Transaction,se.feePayer=je.feePayer,se.instructions=ee.instructions,se.nonceInfo=je.nonceInfo,se.signatures=je.signatures}else se=Transaction.populate(ee),se._message=se._json=void 0;if(te!==void 0&&!Array.isArray(te))throw new Error("Invalid arguments");const ie=te;if(se.nonceInfo&&ie)se.sign(...ie);else{let je=this._disableBlockhashCaching;for(;;){const Ue=await this._blockhashWithExpiryBlockHeight(je);if(se.lastValidBlockHeight=Ue.lastValidBlockHeight,se.recentBlockhash=Ue.blockhash,!ie)break;if(se.sign(...ie),!se.signature)throw new Error("!signature");const Ce=se.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(Ce)&&!this._blockhashInfo.transactionSignatures.includes(Ce)){this._blockhashInfo.simulatedSignatures.push(Ce);break}else je=!0}}const fe=se._compile(),ue=fe.serialize(),Ee=se._serialize(ue).toString("base64"),Ae={encoding:"base64",commitment:this.commitment};if(ne){const je=(Array.isArray(ne)?ne:fe.nonProgramIds()).map(Ue=>Ue.toBase58());Ae.accounts={encoding:"base64",addresses:je}}ie&&(Ae.sigVerify=!0);const Me=[Ee,Ae],Pe=await this._rpcRequest("simulateTransaction",Me),Ne=create(Pe,SimulatedTransactionResponseStruct);if("error"in Ne){let je;if("data"in Ne.error&&(je=Ne.error.data.logs,je&&Array.isArray(je))){const Ue=`
    `,Ce=Ue+je.join(Ue);console.error(Ne.error.message,Ce)}throw new SendTransactionError("failed to simulate transaction: "+Ne.error.message,je)}return Ne.result}async sendTransaction(ee,te,ne){if("version"in ee){if(te&&Array.isArray(te))throw new Error("Invalid arguments");const fe=ee.serialize();return await this.sendRawTransaction(fe,ne)}if(te===void 0||!Array.isArray(te))throw new Error("Invalid arguments");const se=te;if(ee.nonceInfo)ee.sign(...se);else{let fe=this._disableBlockhashCaching;for(;;){const ue=await this._blockhashWithExpiryBlockHeight(fe);if(ee.lastValidBlockHeight=ue.lastValidBlockHeight,ee.recentBlockhash=ue.blockhash,ee.sign(...se),!ee.signature)throw new Error("!signature");const xe=ee.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(xe))fe=!0;else{this._blockhashInfo.transactionSignatures.push(xe);break}}}const ie=ee.serialize();return await this.sendRawTransaction(ie,ne)}async sendRawTransaction(ee,te){const ne=toBuffer(ee).toString("base64");return await this.sendEncodedTransaction(ne,te)}async sendEncodedTransaction(ee,te){const ne={encoding:"base64"},se=te&&te.skipPreflight,ie=te&&te.preflightCommitment||this.commitment;te&&te.maxRetries!=null&&(ne.maxRetries=te.maxRetries),te&&te.minContextSlot!=null&&(ne.minContextSlot=te.minContextSlot),se&&(ne.skipPreflight=se),ie&&(ne.preflightCommitment=ie);const fe=[ee,ne],ue=await this._rpcRequest("sendTransaction",fe),xe=create(ue,SendTransactionRpcResult);if("error"in xe){let Ee;throw"data"in xe.error&&(Ee=xe.error.data.logs),new SendTransactionError("failed to send transaction: "+xe.error.message,Ee)}return xe.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(ee){this._rpcWebSocketConnected=!1,console.error("ws error:",ee.message)}_wsOnClose(ee){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),ee===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([te,ne])=>{this._setSubscription(te,{...ne,state:"pending"})})}_setSubscription(ee,te){var ne;const se=(ne=this._subscriptionsByHash[ee])===null||ne===void 0?void 0:ne.state;if(this._subscriptionsByHash[ee]=te,se!==te.state){const ie=this._subscriptionStateChangeCallbacksByHash[ee];ie&&ie.forEach(fe=>{try{fe(te.state)}catch{}})}}_onSubscriptionStateChange(ee,te){var ne;const se=this._subscriptionHashByClientSubscriptionId[ee];if(se==null)return()=>{};const ie=(ne=this._subscriptionStateChangeCallbacksByHash)[se]||(ne[se]=new Set);return ie.add(te),()=>{ie.delete(te),ie.size===0&&delete this._subscriptionStateChangeCallbacksByHash[se]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(ne){ne instanceof Error&&console.log(`Error when closing socket connection: ${ne.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const ee=this._rpcWebSocketGeneration,te=()=>ee===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async ne=>{const se=this._subscriptionsByHash[ne];if(se!==void 0)switch(se.state){case"pending":case"unsubscribed":if(se.callbacks.size===0){delete this._subscriptionsByHash[ne],se.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[se.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:ie,method:fe}=se;try{this._setSubscription(ne,{...se,state:"subscribing"});const ue=await this._rpcWebSocket.call(fe,ie);this._setSubscription(ne,{...se,serverSubscriptionId:ue,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[ue]=se.callbacks,await this._updateSubscriptions()}catch(ue){if(ue instanceof Error&&console.error(`${fe} error for argument`,ie,ue.message),!te())return;this._setSubscription(ne,{...se,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":se.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:ie,unsubscribeMethod:fe}=se;if(this._subscriptionsAutoDisposedByRpc.has(ie))this._subscriptionsAutoDisposedByRpc.delete(ie);else{this._setSubscription(ne,{...se,state:"unsubscribing"}),this._setSubscription(ne,{...se,state:"unsubscribing"});try{await this._rpcWebSocket.call(fe,[ie])}catch(ue){if(ue instanceof Error&&console.error(`${fe} error:`,ue.message),!te())return;this._setSubscription(ne,{...se,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(ne,{...se,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(ee,te){const ne=this._subscriptionCallbacksByServerSubscriptionId[ee];ne!==void 0&&ne.forEach(se=>{try{se(...te)}catch(ie){console.error(ie)}})}_wsOnAccountNotification(ee){const{result:te,subscription:ne}=create(ee,AccountNotificationResult);this._handleServerNotification(ne,[te.value,te.context])}_makeSubscription(ee,te){const ne=this._nextClientSubscriptionId++,se=fastStableStringify$1([ee.method,te]),ie=this._subscriptionsByHash[se];return ie===void 0?this._subscriptionsByHash[se]={...ee,args:te,callbacks:new Set([ee.callback]),state:"pending"}:ie.callbacks.add(ee.callback),this._subscriptionHashByClientSubscriptionId[ne]=se,this._subscriptionDisposeFunctionsByClientSubscriptionId[ne]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[ne],delete this._subscriptionHashByClientSubscriptionId[ne];const fe=this._subscriptionsByHash[se];assert$c(fe!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${ne}`),fe.callbacks.delete(ee.callback),await this._updateSubscriptions()},this._updateSubscriptions(),ne}onAccountChange(ee,te,ne){const se=this._buildArgs([ee.toBase58()],ne||this._commitment||"finalized","base64");return this._makeSubscription({callback:te,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},se)}async removeAccountChangeListener(ee){await this._unsubscribeClientSubscription(ee,"account change")}_wsOnProgramAccountNotification(ee){const{result:te,subscription:ne}=create(ee,ProgramAccountNotificationResult);this._handleServerNotification(ne,[{accountId:te.value.pubkey,accountInfo:te.value.account},te.context])}onProgramAccountChange(ee,te,ne,se){const ie=this._buildArgs([ee.toBase58()],ne||this._commitment||"finalized","base64",se?{filters:se}:void 0);return this._makeSubscription({callback:te,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},ie)}async removeProgramAccountChangeListener(ee){await this._unsubscribeClientSubscription(ee,"program account change")}onLogs(ee,te,ne){const se=this._buildArgs([typeof ee=="object"?{mentions:[ee.toString()]}:ee],ne||this._commitment||"finalized");return this._makeSubscription({callback:te,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},se)}async removeOnLogsListener(ee){await this._unsubscribeClientSubscription(ee,"logs")}_wsOnLogsNotification(ee){const{result:te,subscription:ne}=create(ee,LogsNotificationResult);this._handleServerNotification(ne,[te.value,te.context])}_wsOnSlotNotification(ee){const{result:te,subscription:ne}=create(ee,SlotNotificationResult);this._handleServerNotification(ne,[te])}onSlotChange(ee){return this._makeSubscription({callback:ee,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(ee){await this._unsubscribeClientSubscription(ee,"slot change")}_wsOnSlotUpdatesNotification(ee){const{result:te,subscription:ne}=create(ee,SlotUpdateNotificationResult);this._handleServerNotification(ne,[te])}onSlotUpdate(ee){return this._makeSubscription({callback:ee,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(ee){await this._unsubscribeClientSubscription(ee,"slot update")}async _unsubscribeClientSubscription(ee,te){const ne=this._subscriptionDisposeFunctionsByClientSubscriptionId[ee];ne?await ne():console.warn(`Ignored unsubscribe request because an active subscription with id \`${ee}\` for '${te}' events could not be found.`)}_buildArgs(ee,te,ne,se){const ie=te||this._commitment;if(ie||ne||se){let fe={};ne&&(fe.encoding=ne),ie&&(fe.commitment=ie),se&&(fe=Object.assign(fe,se)),ee.push(fe)}return ee}_buildArgsAtLeastConfirmed(ee,te,ne,se){const ie=te||this._commitment;if(ie&&!["confirmed","finalized"].includes(ie))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(ee,te,ne,se)}_wsOnSignatureNotification(ee){const{result:te,subscription:ne}=create(ee,SignatureNotificationResult);te.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(ne),this._handleServerNotification(ne,te.value==="receivedSignature"?[{type:"received"},te.context]:[{type:"status",result:te.value},te.context])}onSignature(ee,te,ne){const se=this._buildArgs([ee],ne||this._commitment||"finalized"),ie=this._makeSubscription({callback:(fe,ue)=>{if(fe.type==="status"){te(fe.result,ue);try{this.removeSignatureListener(ie)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},se);return ie}onSignatureWithOptions(ee,te,ne){const{commitment:se,...ie}={...ne,commitment:ne&&ne.commitment||this._commitment||"finalized"},fe=this._buildArgs([ee],se,void 0,ie),ue=this._makeSubscription({callback:(xe,Ee)=>{te(xe,Ee);try{this.removeSignatureListener(ue)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},fe);return ue}async removeSignatureListener(ee){await this._unsubscribeClientSubscription(ee,"signature result")}_wsOnRootNotification(ee){const{result:te,subscription:ne}=create(ee,RootNotificationResult);this._handleServerNotification(ne,[te])}onRootChange(ee){return this._makeSubscription({callback:ee,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(ee){await this._unsubscribeClientSubscription(ee,"root change")}}class Keypair{constructor(ee){this._keypair=void 0,this._keypair=ee??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(ee,te){if(ee.byteLength!==64)throw new Error("bad secret key size");const ne=ee.slice(32,64);if(!te||!te.skipValidation){const se=ee.slice(0,32),ie=getPublicKey(se);for(let fe=0;fe<32;fe++)if(ne[fe]!==ie[fe])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:ne,secretKey:ee})}static fromSeed(ee){const te=getPublicKey(ee),ne=new Uint8Array(64);return ne.set(ee),ne.set(te,32),new Keypair({publicKey:te,secretKey:ne})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct([u32("instruction"),u64("recentSlot"),u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct([u32("instruction")])},ExtendLookupTable:{index:2,layout:struct([u32("instruction"),u64(),seq(publicKey(),offset(u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct([u32("instruction")])},CloseLookupTable:{index:4,layout:struct([u32("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32("instruction").decode(ee.data);let se;for(const[ie,fe]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(fe.index==ne){se=ie;break}if(!se)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return se}static decodeCreateLookupTable(ee){this.checkProgramId(ee.programId),this.checkKeysLength(ee.keys,4);const{recentSlot:te}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,ee.data);return{authority:ee.keys[1].pubkey,payer:ee.keys[2].pubkey,recentSlot:Number(te)}}static decodeExtendLookupTable(ee){if(this.checkProgramId(ee.programId),ee.keys.length<2)throw new Error(`invalid instruction; found ${ee.keys.length} keys, expected at least 2`);const{addresses:te}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,ee.data);return{lookupTable:ee.keys[0].pubkey,authority:ee.keys[1].pubkey,payer:ee.keys.length>2?ee.keys[2].pubkey:void 0,addresses:te.map(ne=>new PublicKey(ne))}}static decodeCloseLookupTable(ee){return this.checkProgramId(ee.programId),this.checkKeysLength(ee.keys,3),{lookupTable:ee.keys[0].pubkey,authority:ee.keys[1].pubkey,recipient:ee.keys[2].pubkey}}static decodeFreezeLookupTable(ee){return this.checkProgramId(ee.programId),this.checkKeysLength(ee.keys,2),{lookupTable:ee.keys[0].pubkey,authority:ee.keys[1].pubkey}}static decodeDeactivateLookupTable(ee){return this.checkProgramId(ee.programId),this.checkKeysLength(ee.keys,2),{lookupTable:ee.keys[0].pubkey,authority:ee.keys[1].pubkey}}static checkProgramId(ee){if(!ee.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(ee,te){if(ee.length<te)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${te}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(ee){const[te,ne]=PublicKey.findProgramAddressSync([ee.authority.toBuffer(),toBufferLE_1(BigInt(ee.recentSlot),8)],this.programId),se=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,ie=encodeData(se,{recentSlot:BigInt(ee.recentSlot),bumpSeed:ne}),fe=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:ee.authority,isSigner:!0,isWritable:!1},{pubkey:ee.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:fe,data:ie}),te]}static freezeLookupTable(ee){const te=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,ne=encodeData(te),se=[{pubkey:ee.lookupTable,isSigner:!1,isWritable:!0},{pubkey:ee.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:se,data:ne})}static extendLookupTable(ee){const te=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,ne=encodeData(te,{addresses:ee.addresses.map(ie=>ie.toBytes())}),se=[{pubkey:ee.lookupTable,isSigner:!1,isWritable:!0},{pubkey:ee.authority,isSigner:!0,isWritable:!1}];return ee.payer&&se.push({pubkey:ee.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:se,data:ne})}static deactivateLookupTable(ee){const te=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,ne=encodeData(te),se=[{pubkey:ee.lookupTable,isSigner:!1,isWritable:!0},{pubkey:ee.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:se,data:ne})}static closeLookupTable(ee){const te=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,ne=encodeData(te),se=[{pubkey:ee.lookupTable,isSigner:!1,isWritable:!0},{pubkey:ee.authority,isSigner:!0,isWritable:!1},{pubkey:ee.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:se,data:ne})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u8("instruction").decode(ee.data);let se;for(const[ie,fe]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(fe.index==ne){se=ie;break}if(!se)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return se}static decodeRequestUnits(ee){this.checkProgramId(ee.programId);const{units:te,additionalFee:ne}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,ee.data);return{units:te,additionalFee:ne}}static decodeRequestHeapFrame(ee){this.checkProgramId(ee.programId);const{bytes:te}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,ee.data);return{bytes:te}}static decodeSetComputeUnitLimit(ee){this.checkProgramId(ee.programId);const{units:te}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,ee.data);return{units:te}}static decodeSetComputeUnitPrice(ee){this.checkProgramId(ee.programId);const{microLamports:te}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,ee.data);return{microLamports:te}}static checkProgramId(ee){if(!ee.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct([u8("instruction"),u32("units"),u32("additionalFee")])},RequestHeapFrame:{index:1,layout:struct([u8("instruction"),u32("bytes")])},SetComputeUnitLimit:{index:2,layout:struct([u8("instruction"),u32("units")])},SetComputeUnitPrice:{index:3,layout:struct([u8("instruction"),u64("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(ee){const te=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,ne=encodeData(te,ee);return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}static requestHeapFrame(ee){const te=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,ne=encodeData(te,ee);return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}static setComputeUnitLimit(ee){const te=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,ne=encodeData(te,ee);return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}static setComputeUnitPrice(ee){const te=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,ne=encodeData(te,{microLamports:BigInt(ee.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:ne})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct([u8("numSignatures"),u8("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(ee){const{publicKey:te,message:ne,signature:se,instructionIndex:ie}=ee;assert$c(te.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${te.length} bytes`),assert$c(se.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${se.length} bytes`);const fe=ED25519_INSTRUCTION_LAYOUT.span,ue=fe+te.length,xe=ue+se.length,Ee=1,Ae=buffer.Buffer.alloc(xe+ne.length),Me=ie??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:Ee,padding:0,signatureOffset:ue,signatureInstructionIndex:Me,publicKeyOffset:fe,publicKeyInstructionIndex:Me,messageDataOffset:xe,messageDataSize:ne.length,messageInstructionIndex:Me},Ae),Ae.fill(te,fe),Ae.fill(se,ue),Ae.fill(ne,xe),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:Ae})}static createInstructionWithPrivateKey(ee){const{privateKey:te,message:ne,instructionIndex:se}=ee;assert$c(te.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${te.length} bytes`);try{const ie=Keypair.fromSecretKey(te),fe=ie.publicKey.toBytes(),ue=sign(ne,ie.secretKey);return this.createInstructionWithPublicKey({publicKey:fe,message:ne,signature:ue,instructionIndex:se})}catch(ie){throw new Error(`Error creating instruction; ${ie}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111"),utils$b.hmacSha256Sync=(re,...ee)=>{const te=hmac$1.create(sha256$2,re);return ee.forEach(ne=>te.update(ne)),te.digest()};const ecdsaSign=(re,ee)=>signSync(re,ee,{der:!1,recovered:!0});utils$b.isValidPrivateKey;const publicKeyCreate=getPublicKey$1,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct([u8("numSignatures"),u16("signatureOffset"),u8("signatureInstructionIndex"),u16("ethAddressOffset"),u8("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8("messageInstructionIndex"),blob(20,"ethAddress"),blob(64,"signature"),u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(ee){assert$c(ee.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${ee.length} bytes`);try{return buffer.Buffer.from(keccak_256(toBuffer(ee))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(te){throw new Error(`Error constructing Ethereum address: ${te}`)}}static createInstructionWithPublicKey(ee){const{publicKey:te,message:ne,signature:se,recoveryId:ie,instructionIndex:fe}=ee;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(te),message:ne,signature:se,recoveryId:ie,instructionIndex:fe})}static createInstructionWithEthAddress(ee){const{ethAddress:te,message:ne,signature:se,recoveryId:ie,instructionIndex:fe=0}=ee;let ue;typeof te=="string"?te.startsWith("0x")?ue=buffer.Buffer.from(te.substr(2),"hex"):ue=buffer.Buffer.from(te,"hex"):ue=te,assert$c(ue.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${ue.length} bytes`);const xe=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,Ee=xe,Ae=xe+ue.length,Me=Ae+se.length+1,Pe=1,Ne=buffer.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+ne.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:Pe,signatureOffset:Ae,signatureInstructionIndex:fe,ethAddressOffset:Ee,ethAddressInstructionIndex:fe,messageDataOffset:Me,messageDataSize:ne.length,messageInstructionIndex:fe,signature:toBuffer(se),ethAddress:toBuffer(ue),recoveryId:ie},Ne),Ne.fill(toBuffer(ne),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ne})}static createInstructionWithPrivateKey(ee){const{privateKey:te,message:ne,instructionIndex:se}=ee;assert$c(te.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${te.length} bytes`);try{const ie=toBuffer(te),fe=publicKeyCreate(ie,!1).slice(1),ue=buffer.Buffer.from(keccak_256(toBuffer(ne))),[xe,Ee]=ecdsaSign(ue,ie);return this.createInstructionWithPublicKey({publicKey:fe,message:ne,signature:xe,recoveryId:Ee,instructionIndex:se})}catch(ie){throw new Error(`Error creating instruction; ${ie}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(ee,te){this.staker=void 0,this.withdrawer=void 0,this.staker=ee,this.withdrawer=te}}class Lockup{constructor(ee,te,ne){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=ee,this.epoch=te,this.custodian=ne}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32("instruction").decode(ee.data);let se;for(const[ie,fe]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(fe.index==ne){se=ie;break}if(!se)throw new Error("Instruction type incorrect; not a StakeInstruction");return se}static decodeInitialize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{authorized:te,lockup:ne}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,ee.data);return{stakePubkey:ee.keys[0].pubkey,authorized:new Authorized(new PublicKey(te.staker),new PublicKey(te.withdrawer)),lockup:new Lockup(ne.unixTimestamp,ne.epoch,new PublicKey(ne.custodian))}}static decodeDelegate(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,ee.data),{stakePubkey:ee.keys[0].pubkey,votePubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[5].pubkey}}static decodeAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{newAuthorized:te,stakeAuthorizationType:ne}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,ee.data),se={stakePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(te),stakeAuthorizationType:{index:ne}};return ee.keys.length>3&&(se.custodianPubkey=ee.keys[3].pubkey),se}static decodeAuthorizeWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,2);const{newAuthorized:te,stakeAuthorizationType:ne,authoritySeed:se,authorityOwner:ie}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,ee.data),fe={stakePubkey:ee.keys[0].pubkey,authorityBase:ee.keys[1].pubkey,authoritySeed:se,authorityOwner:new PublicKey(ie),newAuthorizedPubkey:new PublicKey(te),stakeAuthorizationType:{index:ne}};return ee.keys.length>3&&(fe.custodianPubkey=ee.keys[3].pubkey),fe}static decodeSplit(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:te}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,ee.data);return{stakePubkey:ee.keys[0].pubkey,splitStakePubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[2].pubkey,lamports:te}}static decodeMerge(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,ee.data),{stakePubkey:ee.keys[0].pubkey,sourceStakePubKey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey}}static decodeWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,5);const{lamports:te}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,ee.data),ne={stakePubkey:ee.keys[0].pubkey,toPubkey:ee.keys[1].pubkey,authorizedPubkey:ee.keys[4].pubkey,lamports:te};return ee.keys.length>5&&(ne.custodianPubkey=ee.keys[5].pubkey),ne}static decodeDeactivate(ee){return this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,ee.data),{stakePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey}}static checkProgramId(ee){if(!ee.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(ee,te){if(ee.length<te)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${te}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct([u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType")])},Delegate:{index:2,layout:struct([u32("instruction")])},Split:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct([u32("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct([u32("instruction")])},Merge:{index:7,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:8,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(ee){const{stakePubkey:te,authorized:ne,lockup:se}=ee,ie=se||Lockup.default,fe=STAKE_INSTRUCTION_LAYOUTS.Initialize,ue=encodeData(fe,{authorized:{staker:toBuffer(ne.staker.toBuffer()),withdrawer:toBuffer(ne.withdrawer.toBuffer())},lockup:{unixTimestamp:ie.unixTimestamp,epoch:ie.epoch,custodian:toBuffer(ie.custodian.toBuffer())}}),xe={keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:ue};return new TransactionInstruction(xe)}static createAccountWithSeed(ee){const te=new Transaction;te.add(SystemProgram.createAccountWithSeed({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.stakePubkey,basePubkey:ee.basePubkey,seed:ee.seed,lamports:ee.lamports,space:this.space,programId:this.programId}));const{stakePubkey:ne,authorized:se,lockup:ie}=ee;return te.add(this.initialize({stakePubkey:ne,authorized:se,lockup:ie}))}static createAccount(ee){const te=new Transaction;te.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.stakePubkey,lamports:ee.lamports,space:this.space,programId:this.programId}));const{stakePubkey:ne,authorized:se,lockup:ie}=ee;return te.add(this.initialize({stakePubkey:ne,authorized:se,lockup:ie}))}static delegate(ee){const{stakePubkey:te,authorizedPubkey:ne,votePubkey:se}=ee,ie=STAKE_INSTRUCTION_LAYOUTS.Delegate,fe=encodeData(ie);return new Transaction().add({keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:fe})}static authorize(ee){const{stakePubkey:te,authorizedPubkey:ne,newAuthorizedPubkey:se,stakeAuthorizationType:ie,custodianPubkey:fe}=ee,ue=STAKE_INSTRUCTION_LAYOUTS.Authorize,xe=encodeData(ue,{newAuthorized:toBuffer(se.toBuffer()),stakeAuthorizationType:ie.index}),Ee=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}];return fe&&Ee.push({pubkey:fe,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Ee,programId:this.programId,data:xe})}static authorizeWithSeed(ee){const{stakePubkey:te,authorityBase:ne,authoritySeed:se,authorityOwner:ie,newAuthorizedPubkey:fe,stakeAuthorizationType:ue,custodianPubkey:xe}=ee,Ee=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,Ae=encodeData(Ee,{newAuthorized:toBuffer(fe.toBuffer()),stakeAuthorizationType:ue.index,authoritySeed:se,authorityOwner:toBuffer(ie.toBuffer())}),Me=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return xe&&Me.push({pubkey:xe,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Me,programId:this.programId,data:Ae})}static splitInstruction(ee){const{stakePubkey:te,authorizedPubkey:ne,splitStakePubkey:se,lamports:ie}=ee,fe=STAKE_INSTRUCTION_LAYOUTS.Split,ue=encodeData(fe,{lamports:ie});return new TransactionInstruction({keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:ue})}static split(ee){const te=new Transaction;return te.add(SystemProgram.createAccount({fromPubkey:ee.authorizedPubkey,newAccountPubkey:ee.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),te.add(this.splitInstruction(ee))}static splitWithSeed(ee){const{stakePubkey:te,authorizedPubkey:ne,splitStakePubkey:se,basePubkey:ie,seed:fe,lamports:ue}=ee,xe=new Transaction;return xe.add(SystemProgram.allocate({accountPubkey:se,basePubkey:ie,seed:fe,space:this.space,programId:this.programId})),xe.add(this.splitInstruction({stakePubkey:te,authorizedPubkey:ne,splitStakePubkey:se,lamports:ue}))}static merge(ee){const{stakePubkey:te,sourceStakePubKey:ne,authorizedPubkey:se}=ee,ie=STAKE_INSTRUCTION_LAYOUTS.Merge,fe=encodeData(ie);return new Transaction().add({keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:se,isSigner:!0,isWritable:!1}],programId:this.programId,data:fe})}static withdraw(ee){const{stakePubkey:te,authorizedPubkey:ne,toPubkey:se,lamports:ie,custodianPubkey:fe}=ee,ue=STAKE_INSTRUCTION_LAYOUTS.Withdraw,xe=encodeData(ue,{lamports:ie}),Ee=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}];return fe&&Ee.push({pubkey:fe,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Ee,programId:this.programId,data:xe})}static deactivate(ee){const{stakePubkey:te,authorizedPubkey:ne}=ee,se=STAKE_INSTRUCTION_LAYOUTS.Deactivate,ie=encodeData(se);return new Transaction().add({keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:ie})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(ee,te,ne,se){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=ee,this.authorizedVoter=te,this.authorizedWithdrawer=ne,this.commission=se}}class VoteInstruction{constructor(){}static decodeInstructionType(ee){this.checkProgramId(ee.programId);const ne=u32("instruction").decode(ee.data);let se;for(const[ie,fe]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(fe.index==ne){se=ie;break}if(!se)throw new Error("Instruction type incorrect; not a VoteInstruction");return se}static decodeInitializeAccount(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,4);const{voteInit:te}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,ee.data);return{votePubkey:ee.keys[0].pubkey,nodePubkey:ee.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(te.nodePubkey),new PublicKey(te.authorizedVoter),new PublicKey(te.authorizedWithdrawer),te.commission)}}static decodeAuthorize(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{newAuthorized:te,voteAuthorizationType:ne}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,ee.data);return{votePubkey:ee.keys[0].pubkey,authorizedPubkey:ee.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(te),voteAuthorizationType:{index:ne}}}static decodeAuthorizeWithSeed(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:te,currentAuthorityDerivedKeySeed:ne,newAuthorized:se,voteAuthorizationType:ie}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,ee.data);return{currentAuthorityDerivedKeyBasePubkey:ee.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(te),currentAuthorityDerivedKeySeed:ne,newAuthorizedPubkey:new PublicKey(se),voteAuthorizationType:{index:ie},votePubkey:ee.keys[0].pubkey}}static decodeWithdraw(ee){this.checkProgramId(ee.programId),this.checkKeyLength(ee.keys,3);const{lamports:te}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,ee.data);return{votePubkey:ee.keys[0].pubkey,authorizedWithdrawerPubkey:ee.keys[2].pubkey,lamports:te,toPubkey:ee.keys[1].pubkey}}static checkProgramId(ee){if(!ee.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(ee,te){if(ee.length<te)throw new Error(`invalid instruction; found ${ee.length} keys, expected at least ${te}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct([u32("instruction"),voteInit()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("voteAuthorizationType")])},Withdraw:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct([u32("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(ee){const{votePubkey:te,nodePubkey:ne,voteInit:se}=ee,ie=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,fe=encodeData(ie,{voteInit:{nodePubkey:toBuffer(se.nodePubkey.toBuffer()),authorizedVoter:toBuffer(se.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(se.authorizedWithdrawer.toBuffer()),commission:se.commission}}),ue={keys:[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}],programId:this.programId,data:fe};return new TransactionInstruction(ue)}static createAccount(ee){const te=new Transaction;return te.add(SystemProgram.createAccount({fromPubkey:ee.fromPubkey,newAccountPubkey:ee.votePubkey,lamports:ee.lamports,space:this.space,programId:this.programId})),te.add(this.initializeAccount({votePubkey:ee.votePubkey,nodePubkey:ee.voteInit.nodePubkey,voteInit:ee.voteInit}))}static authorize(ee){const{votePubkey:te,authorizedPubkey:ne,newAuthorizedPubkey:se,voteAuthorizationType:ie}=ee,fe=VOTE_INSTRUCTION_LAYOUTS.Authorize,ue=encodeData(fe,{newAuthorized:toBuffer(se.toBuffer()),voteAuthorizationType:ie.index}),xe=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:xe,programId:this.programId,data:ue})}static authorizeWithSeed(ee){const{currentAuthorityDerivedKeyBasePubkey:te,currentAuthorityDerivedKeyOwnerPubkey:ne,currentAuthorityDerivedKeySeed:se,newAuthorizedPubkey:ie,voteAuthorizationType:fe,votePubkey:ue}=ee,xe=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,Ee=encodeData(xe,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(ne.toBuffer()),currentAuthorityDerivedKeySeed:se,newAuthorized:toBuffer(ie.toBuffer()),voteAuthorizationType:fe.index}}),Ae=[{pubkey:ue,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:Ae,programId:this.programId,data:Ee})}static withdraw(ee){const{votePubkey:te,authorizedWithdrawerPubkey:ne,lamports:se,toPubkey:ie}=ee,fe=VOTE_INSTRUCTION_LAYOUTS.Withdraw,ue=encodeData(fe,{lamports:se}),xe=[{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:xe,programId:this.programId,data:ue})}static safeWithdraw(ee,te,ne){if(ee.lamports>te-ne)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(ee)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(ee,te){this.key=void 0,this.info=void 0,this.key=ee,this.info=te}static fromConfigData(ee){let te=[...ee];if(decodeLength(te)!==2)return null;const se=[];for(let ie=0;ie<2;ie++){const fe=new PublicKey(te.slice(0,PUBLIC_KEY_LENGTH));te=te.slice(PUBLIC_KEY_LENGTH);const ue=te.slice(0,1)[0]===1;te=te.slice(1),se.push({publicKey:fe,isSigner:ue})}if(se[0].publicKey.equals(VALIDATOR_INFO_KEY)&&se[1].isSigner){const ie=rustString().decode(buffer.Buffer.from(te)),fe=JSON.parse(ie);return assert$d(fe,InfoString),new ValidatorInfo(se[1].publicKey,fe)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),u8("commission"),nu64(),seq(struct([nu64("slot"),u32("confirmationCount")]),offset(u32(),-8),"votes"),u8("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct([nu64("epoch"),publicKey("authorizedVoter")]),offset(u32(),-8),"authorizedVoters"),struct([seq(struct([publicKey("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8("isEmpty")],"priorVoters"),nu64(),seq(struct([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32(),-8),"epochCredits"),struct([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(ee){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=ee.nodePubkey,this.authorizedWithdrawer=ee.authorizedWithdrawer,this.commission=ee.commission,this.rootSlot=ee.rootSlot,this.votes=ee.votes,this.authorizedVoters=ee.authorizedVoters,this.priorVoters=ee.priorVoters,this.epochCredits=ee.epochCredits,this.lastTimestamp=ee.lastTimestamp}static fromAccountData(ee){const ne=VoteAccountLayout.decode(toBuffer(ee),4);let se=ne.rootSlot;return ne.rootSlotValid||(se=null),new VoteAccount({nodePubkey:new PublicKey(ne.nodePubkey),authorizedWithdrawer:new PublicKey(ne.authorizedWithdrawer),commission:ne.commission,votes:ne.votes,rootSlot:se,authorizedVoters:ne.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(ne.priorVoters),epochCredits:ne.epochCredits,lastTimestamp:ne.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:re,epoch:ee}){return{epoch:ee,authorizedVoter:new PublicKey(re)}}function parsePriorVoters({authorizedPubkey:re,epochOfLastAuthorizedSwitch:ee,targetEpoch:te}){return{authorizedPubkey:new PublicKey(re),epochOfLastAuthorizedSwitch:ee,targetEpoch:te}}function getPriorVoters({buf:re,idx:ee,isEmpty:te}){return te?[]:[...re.slice(ee+1).map(parsePriorVoters),...re.slice(0,ee).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(re,ee){const te=ee===!1?"http":"https";if(!re)return endpoint[te].devnet;const ne=endpoint[te][re];if(!ne)throw new Error(`Unknown ${te} cluster: ${re}`);return ne}async function sendAndConfirmRawTransaction(re,ee,te,ne){let se,ie;te&&Object.prototype.hasOwnProperty.call(te,"lastValidBlockHeight")||te&&Object.prototype.hasOwnProperty.call(te,"nonceValue")?(se=te,ie=ne):ie=te;const fe=ie&&{skipPreflight:ie.skipPreflight,preflightCommitment:ie.preflightCommitment||ie.commitment,minContextSlot:ie.minContextSlot},ue=await re.sendRawTransaction(ee,fe),xe=ie&&ie.commitment,Ae=(await(se?re.confirmTransaction(se,xe):re.confirmTransaction(ue,xe))).value;if(Ae.err)throw new Error(`Raw transaction ${ue} failed (${JSON.stringify(Ae)})`);return ue}const LAMPORTS_PER_SOL=1e9;var index_browser_esm=Object.freeze({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction}),require$$1$1=getAugmentedNamespace(index_browser_esm),utils$a={},bn$1={exports:{}};(function(re){(function(ee,te){function ne(pe,oe){if(!pe)throw new Error(oe||"Assertion failed")}function se(pe,oe){pe.super_=oe;var ce=function(){};ce.prototype=oe.prototype,pe.prototype=new ce,pe.prototype.constructor=pe}function ie(pe,oe,ce){if(ie.isBN(pe))return pe;this.negative=0,this.words=null,this.length=0,this.red=null,pe!==null&&((oe==="le"||oe==="be")&&(ce=oe,oe=10),this._init(pe||0,oe||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{typeof window<"u"&&typeof window.Buffer<"u"?fe=window.Buffer:fe=require$$0$4.Buffer}catch{}ie.isBN=function(oe){return oe instanceof ie?!0:oe!==null&&typeof oe=="object"&&oe.constructor.wordSize===ie.wordSize&&Array.isArray(oe.words)},ie.max=function(oe,ce){return oe.cmp(ce)>0?oe:ce},ie.min=function(oe,ce){return oe.cmp(ce)<0?oe:ce},ie.prototype._init=function(oe,ce,le){if(typeof oe=="number")return this._initNumber(oe,ce,le);if(typeof oe=="object")return this._initArray(oe,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),oe=oe.toString().replace(/\s+/g,"");var ge=0;oe[0]==="-"&&(ge++,this.negative=1),ge<oe.length&&(ce===16?this._parseHex(oe,ge,le):(this._parseBase(oe,ce,ge),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(oe,ce,le){oe<0&&(this.negative=1,oe=-oe),oe<67108864?(this.words=[oe&67108863],this.length=1):oe<4503599627370496?(this.words=[oe&67108863,oe/67108864&67108863],this.length=2):(ne(oe<9007199254740992),this.words=[oe&67108863,oe/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(oe,ce,le){if(ne(typeof oe.length=="number"),oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(oe.length/3),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye,me,ve=0;if(le==="be")for(ge=oe.length-1,ye=0;ge>=0;ge-=3)me=oe[ge]|oe[ge-1]<<8|oe[ge-2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);else if(le==="le")for(ge=0,ye=0;ge<oe.length;ge+=3)me=oe[ge]|oe[ge+1]<<8|oe[ge+2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);return this._strip()};function ue(pe,oe){var ce=pe.charCodeAt(oe);if(ce>=48&&ce<=57)return ce-48;if(ce>=65&&ce<=70)return ce-55;if(ce>=97&&ce<=102)return ce-87;ne(!1,"Invalid character in "+pe)}function xe(pe,oe,ce){var le=ue(pe,ce);return ce-1>=oe&&(le|=ue(pe,ce-1)<<4),le}ie.prototype._parseHex=function(oe,ce,le){this.length=Math.ceil((oe.length-ce)/6),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye=0,me=0,ve;if(le==="be")for(ge=oe.length-1;ge>=ce;ge-=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8;else{var he=oe.length-ce;for(ge=he%2===0?ce+1:ce;ge<oe.length;ge+=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8}this._strip()};function Ee(pe,oe,ce,le){for(var ge=0,ye=0,me=Math.min(pe.length,ce),ve=oe;ve<me;ve++){var he=pe.charCodeAt(ve)-48;ge*=le,he>=49?ye=he-49+10:he>=17?ye=he-17+10:ye=he,ne(he>=0&&ye<le,"Invalid character"),ge+=ye}return ge}ie.prototype._parseBase=function(oe,ce,le){this.words=[0],this.length=1;for(var ge=0,ye=1;ye<=67108863;ye*=ce)ge++;ge--,ye=ye/ce|0;for(var me=oe.length-le,ve=me%ge,he=Math.min(me,me-ve)+le,ae=0,be=le;be<he;be+=ge)ae=Ee(oe,be,be+ge,ce),this.imuln(ye),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae);if(ve!==0){var ze=1;for(ae=Ee(oe,be,oe.length,ce),be=0;be<ve;be++)ze*=ce;this.imuln(ze),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae)}this._strip()},ie.prototype.copy=function(oe){oe.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)oe.words[ce]=this.words[ce];oe.length=this.length,oe.negative=this.negative,oe.red=this.red};function Ae(pe,oe){pe.words=oe.words,pe.length=oe.length,pe.negative=oe.negative,pe.red=oe.red}if(ie.prototype._move=function(oe){Ae(oe,this)},ie.prototype.clone=function(){var oe=new ie(null);return this.copy(oe),oe},ie.prototype._expand=function(oe){for(;this.length<oe;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me}catch{ie.prototype.inspect=Me}else ie.prototype.inspect=Me;function Me(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ne=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(oe,ce){oe=oe||10,ce=ce|0||1;var le;if(oe===16||oe==="hex"){le="";for(var ge=0,ye=0,me=0;me<this.length;me++){var ve=this.words[me],he=((ve<<ge|ye)&16777215).toString(16);ye=ve>>>24-ge&16777215,ge+=2,ge>=26&&(ge-=26,me--),ye!==0||me!==this.length-1?le=Pe[6-he.length]+he+le:le=he+le}for(ye!==0&&(le=ye.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(oe===(oe|0)&&oe>=2&&oe<=36){var ae=Ne[oe],be=je[oe];le="";var ze=this.clone();for(ze.negative=0;!ze.isZero();){var Ie=ze.modrn(be).toString(oe);ze=ze.idivn(be),ze.isZero()?le=Ie+le:le=Pe[ae-Ie.length]+Ie+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var oe=this.words[0];return this.length===2?oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?oe+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-oe:oe},ie.prototype.toJSON=function(){return this.toString(16,2)},fe&&(ie.prototype.toBuffer=function(oe,ce){return this.toArrayLike(fe,oe,ce)}),ie.prototype.toArray=function(oe,ce){return this.toArrayLike(Array,oe,ce)};var Ue=function(oe,ce){return oe.allocUnsafe?oe.allocUnsafe(ce):new oe(ce)};ie.prototype.toArrayLike=function(oe,ce,le){this._strip();var ge=this.byteLength(),ye=le||Math.max(1,ge);ne(ge<=ye,"byte array longer than desired length"),ne(ye>0,"Requested array length <= 0");var me=Ue(oe,ye),ve=ce==="le"?"LE":"BE";return this["_toArrayLike"+ve](me,ge),me},ie.prototype._toArrayLikeLE=function(oe,ce){for(var le=0,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le++]=ve&255,le<oe.length&&(oe[le++]=ve>>8&255),le<oe.length&&(oe[le++]=ve>>16&255),me===6?(le<oe.length&&(oe[le++]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le<oe.length)for(oe[le++]=ge;le<oe.length;)oe[le++]=0},ie.prototype._toArrayLikeBE=function(oe,ce){for(var le=oe.length-1,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le--]=ve&255,le>=0&&(oe[le--]=ve>>8&255),le>=0&&(oe[le--]=ve>>16&255),me===6?(le>=0&&(oe[le--]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le>=0)for(oe[le--]=ge;le>=0;)oe[le--]=0},Math.clz32?ie.prototype._countBits=function(oe){return 32-Math.clz32(oe)}:ie.prototype._countBits=function(oe){var ce=oe,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(oe){if(oe===0)return 26;var ce=oe,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var oe=this.words[this.length-1],ce=this._countBits(oe);return(this.length-1)*26+ce};function Ce(pe){for(var oe=new Array(pe.bitLength()),ce=0;ce<oe.length;ce++){var le=ce/26|0,ge=ce%26;oe[ce]=pe.words[le]>>>ge&1}return oe}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var oe=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(oe+=le,le!==26)break}return oe},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(oe){return this.negative!==0?this.abs().inotn(oe).iaddn(1):this.clone()},ie.prototype.fromTwos=function(oe){return this.testn(oe-1)?this.notn(oe).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(oe){for(;this.length<oe.length;)this.words[this.length++]=0;for(var ce=0;ce<oe.length;ce++)this.words[ce]=this.words[ce]|oe.words[ce];return this._strip()},ie.prototype.ior=function(oe){return ne((this.negative|oe.negative)===0),this.iuor(oe)},ie.prototype.or=function(oe){return this.length>oe.length?this.clone().ior(oe):oe.clone().ior(this)},ie.prototype.uor=function(oe){return this.length>oe.length?this.clone().iuor(oe):oe.clone().iuor(this)},ie.prototype.iuand=function(oe){var ce;this.length>oe.length?ce=oe:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&oe.words[le];return this.length=ce.length,this._strip()},ie.prototype.iand=function(oe){return ne((this.negative|oe.negative)===0),this.iuand(oe)},ie.prototype.and=function(oe){return this.length>oe.length?this.clone().iand(oe):oe.clone().iand(this)},ie.prototype.uand=function(oe){return this.length>oe.length?this.clone().iuand(oe):oe.clone().iuand(this)},ie.prototype.iuxor=function(oe){var ce,le;this.length>oe.length?(ce=this,le=oe):(ce=oe,le=this);for(var ge=0;ge<le.length;ge++)this.words[ge]=ce.words[ge]^le.words[ge];if(this!==ce)for(;ge<ce.length;ge++)this.words[ge]=ce.words[ge];return this.length=ce.length,this._strip()},ie.prototype.ixor=function(oe){return ne((this.negative|oe.negative)===0),this.iuxor(oe)},ie.prototype.xor=function(oe){return this.length>oe.length?this.clone().ixor(oe):oe.clone().ixor(this)},ie.prototype.uxor=function(oe){return this.length>oe.length?this.clone().iuxor(oe):oe.clone().iuxor(this)},ie.prototype.inotn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=Math.ceil(oe/26)|0,le=oe%26;this._expand(ce),le>0&&ce--;for(var ge=0;ge<ce;ge++)this.words[ge]=~this.words[ge]&67108863;return le>0&&(this.words[ge]=~this.words[ge]&67108863>>26-le),this._strip()},ie.prototype.notn=function(oe){return this.clone().inotn(oe)},ie.prototype.setn=function(oe,ce){ne(typeof oe=="number"&&oe>=0);var le=oe/26|0,ge=oe%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<ge:this.words[le]=this.words[le]&~(1<<ge),this._strip()},ie.prototype.iadd=function(oe){var ce;if(this.negative!==0&&oe.negative===0)return this.negative=0,ce=this.isub(oe),this.negative^=1,this._normSign();if(this.negative===0&&oe.negative!==0)return oe.negative=0,ce=this.isub(oe),oe.negative=1,ce._normSign();var le,ge;this.length>oe.length?(le=this,ge=oe):(le=oe,ge=this);for(var ye=0,me=0;me<ge.length;me++)ce=(le.words[me]|0)+(ge.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;for(;ye!==0&&me<le.length;me++)ce=(le.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;if(this.length=le.length,ye!==0)this.words[this.length]=ye,this.length++;else if(le!==this)for(;me<le.length;me++)this.words[me]=le.words[me];return this},ie.prototype.add=function(oe){var ce;return oe.negative!==0&&this.negative===0?(oe.negative=0,ce=this.sub(oe),oe.negative^=1,ce):oe.negative===0&&this.negative!==0?(this.negative=0,ce=oe.sub(this),this.negative=1,ce):this.length>oe.length?this.clone().iadd(oe):oe.clone().iadd(this)},ie.prototype.isub=function(oe){if(oe.negative!==0){oe.negative=0;var ce=this.iadd(oe);return oe.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(oe),this.negative=1,this._normSign();var le=this.cmp(oe);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ge,ye;le>0?(ge=this,ye=oe):(ge=oe,ye=this);for(var me=0,ve=0;ve<ye.length;ve++)ce=(ge.words[ve]|0)-(ye.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;for(;me!==0&&ve<ge.length;ve++)ce=(ge.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;if(me===0&&ve<ge.length&&ge!==this)for(;ve<ge.length;ve++)this.words[ve]=ge.words[ve];return this.length=Math.max(this.length,ve),ge!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(oe){return this.clone().isub(oe)};function Be(pe,oe,ce){ce.negative=oe.negative^pe.negative;var le=pe.length+oe.length|0;ce.length=le,le=le-1|0;var ge=pe.words[0]|0,ye=oe.words[0]|0,me=ge*ye,ve=me&67108863,he=me/67108864|0;ce.words[0]=ve;for(var ae=1;ae<le;ae++){for(var be=he>>>26,ze=he&67108863,Ie=Math.min(ae,oe.length-1),We=Math.max(0,ae-pe.length+1);We<=Ie;We++){var ft=ae-We|0;ge=pe.words[ft]|0,ye=oe.words[We]|0,me=ge*ye+ze,be+=me/67108864|0,ze=me&67108863}ce.words[ae]=ze|0,he=be|0}return he!==0?ce.words[ae]=he|0:ce.length--,ce._strip()}var He=function(oe,ce,le){var ge=oe.words,ye=ce.words,me=le.words,ve=0,he,ae,be,ze=ge[0]|0,Ie=ze&8191,We=ze>>>13,ft=ge[1]|0,nt=ft&8191,at=ft>>>13,Ht=ge[2]|0,dt=Ht&8191,gt=Ht>>>13,Jt=ge[3]|0,yt=Jt&8191,Mt=Jt>>>13,it=ge[4]|0,Le=it&8191,De=it>>>13,ct=ge[5]|0,ot=ct&8191,lt=ct>>>13,Pt=ge[6]|0,Et=Pt&8191,St=Pt>>>13,ar=ge[7]|0,Tt=ar&8191,Re=ar>>>13,we=ge[8]|0,_e=we&8191,ke=we>>>13,Ze=ge[9]|0,Je=Ze&8191,tt=Ze>>>13,zt=ye[0]|0,_t=zt&8191,vt=zt>>>13,nr=ye[1]|0,xt=nr&8191,Nt=nr>>>13,Ar=ye[2]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ye[3]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ye[4]|0,Ot=_r&8191,$t=_r>>>13,Sr=ye[5]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ye[6]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ye[7]|0,Te=et&8191,Ye=et>>>13,bt=ye[8]|0,st=bt&8191,ut=bt>>>13,qt=ye[9]|0,At=qt&8191,wt=qt>>>13;le.negative=oe.negative^ce.negative,le.length=19,he=Math.imul(Ie,_t),ae=Math.imul(Ie,vt),ae=ae+Math.imul(We,_t)|0,be=Math.imul(We,vt);var lr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(lr>>>26)|0,lr&=67108863,he=Math.imul(nt,_t),ae=Math.imul(nt,vt),ae=ae+Math.imul(at,_t)|0,be=Math.imul(at,vt),he=he+Math.imul(Ie,xt)|0,ae=ae+Math.imul(Ie,Nt)|0,ae=ae+Math.imul(We,xt)|0,be=be+Math.imul(We,Nt)|0;var Wt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,he=Math.imul(dt,_t),ae=Math.imul(dt,vt),ae=ae+Math.imul(gt,_t)|0,be=Math.imul(gt,vt),he=he+Math.imul(nt,xt)|0,ae=ae+Math.imul(nt,Nt)|0,ae=ae+Math.imul(at,xt)|0,be=be+Math.imul(at,Nt)|0,he=he+Math.imul(Ie,Lt)|0,ae=ae+Math.imul(Ie,Ft)|0,ae=ae+Math.imul(We,Lt)|0,be=be+Math.imul(We,Ft)|0;var tr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(tr>>>26)|0,tr&=67108863,he=Math.imul(yt,_t),ae=Math.imul(yt,vt),ae=ae+Math.imul(Mt,_t)|0,be=Math.imul(Mt,vt),he=he+Math.imul(dt,xt)|0,ae=ae+Math.imul(dt,Nt)|0,ae=ae+Math.imul(gt,xt)|0,be=be+Math.imul(gt,Nt)|0,he=he+Math.imul(nt,Lt)|0,ae=ae+Math.imul(nt,Ft)|0,ae=ae+Math.imul(at,Lt)|0,be=be+Math.imul(at,Ft)|0,he=he+Math.imul(Ie,kt)|0,ae=ae+Math.imul(Ie,Bt)|0,ae=ae+Math.imul(We,kt)|0,be=be+Math.imul(We,Bt)|0;var rr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(rr>>>26)|0,rr&=67108863,he=Math.imul(Le,_t),ae=Math.imul(Le,vt),ae=ae+Math.imul(De,_t)|0,be=Math.imul(De,vt),he=he+Math.imul(yt,xt)|0,ae=ae+Math.imul(yt,Nt)|0,ae=ae+Math.imul(Mt,xt)|0,be=be+Math.imul(Mt,Nt)|0,he=he+Math.imul(dt,Lt)|0,ae=ae+Math.imul(dt,Ft)|0,ae=ae+Math.imul(gt,Lt)|0,be=be+Math.imul(gt,Ft)|0,he=he+Math.imul(nt,kt)|0,ae=ae+Math.imul(nt,Bt)|0,ae=ae+Math.imul(at,kt)|0,be=be+Math.imul(at,Bt)|0,he=he+Math.imul(Ie,Ot)|0,ae=ae+Math.imul(Ie,$t)|0,ae=ae+Math.imul(We,Ot)|0,be=be+Math.imul(We,$t)|0;var ir=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ir>>>26)|0,ir&=67108863,he=Math.imul(ot,_t),ae=Math.imul(ot,vt),ae=ae+Math.imul(lt,_t)|0,be=Math.imul(lt,vt),he=he+Math.imul(Le,xt)|0,ae=ae+Math.imul(Le,Nt)|0,ae=ae+Math.imul(De,xt)|0,be=be+Math.imul(De,Nt)|0,he=he+Math.imul(yt,Lt)|0,ae=ae+Math.imul(yt,Ft)|0,ae=ae+Math.imul(Mt,Lt)|0,be=be+Math.imul(Mt,Ft)|0,he=he+Math.imul(dt,kt)|0,ae=ae+Math.imul(dt,Bt)|0,ae=ae+Math.imul(gt,kt)|0,be=be+Math.imul(gt,Bt)|0,he=he+Math.imul(nt,Ot)|0,ae=ae+Math.imul(nt,$t)|0,ae=ae+Math.imul(at,Ot)|0,be=be+Math.imul(at,$t)|0,he=he+Math.imul(Ie,Dt)|0,ae=ae+Math.imul(Ie,Ct)|0,ae=ae+Math.imul(We,Dt)|0,be=be+Math.imul(We,Ct)|0;var ur=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ur>>>26)|0,ur&=67108863,he=Math.imul(Et,_t),ae=Math.imul(Et,vt),ae=ae+Math.imul(St,_t)|0,be=Math.imul(St,vt),he=he+Math.imul(ot,xt)|0,ae=ae+Math.imul(ot,Nt)|0,ae=ae+Math.imul(lt,xt)|0,be=be+Math.imul(lt,Nt)|0,he=he+Math.imul(Le,Lt)|0,ae=ae+Math.imul(Le,Ft)|0,ae=ae+Math.imul(De,Lt)|0,be=be+Math.imul(De,Ft)|0,he=he+Math.imul(yt,kt)|0,ae=ae+Math.imul(yt,Bt)|0,ae=ae+Math.imul(Mt,kt)|0,be=be+Math.imul(Mt,Bt)|0,he=he+Math.imul(dt,Ot)|0,ae=ae+Math.imul(dt,$t)|0,ae=ae+Math.imul(gt,Ot)|0,be=be+Math.imul(gt,$t)|0,he=he+Math.imul(nt,Dt)|0,ae=ae+Math.imul(nt,Ct)|0,ae=ae+Math.imul(at,Dt)|0,be=be+Math.imul(at,Ct)|0,he=he+Math.imul(Ie,Fe)|0,ae=ae+Math.imul(Ie,Ge)|0,ae=ae+Math.imul(We,Fe)|0,be=be+Math.imul(We,Ge)|0;var or=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(or>>>26)|0,or&=67108863,he=Math.imul(Tt,_t),ae=Math.imul(Tt,vt),ae=ae+Math.imul(Re,_t)|0,be=Math.imul(Re,vt),he=he+Math.imul(Et,xt)|0,ae=ae+Math.imul(Et,Nt)|0,ae=ae+Math.imul(St,xt)|0,be=be+Math.imul(St,Nt)|0,he=he+Math.imul(ot,Lt)|0,ae=ae+Math.imul(ot,Ft)|0,ae=ae+Math.imul(lt,Lt)|0,be=be+Math.imul(lt,Ft)|0,he=he+Math.imul(Le,kt)|0,ae=ae+Math.imul(Le,Bt)|0,ae=ae+Math.imul(De,kt)|0,be=be+Math.imul(De,Bt)|0,he=he+Math.imul(yt,Ot)|0,ae=ae+Math.imul(yt,$t)|0,ae=ae+Math.imul(Mt,Ot)|0,be=be+Math.imul(Mt,$t)|0,he=he+Math.imul(dt,Dt)|0,ae=ae+Math.imul(dt,Ct)|0,ae=ae+Math.imul(gt,Dt)|0,be=be+Math.imul(gt,Ct)|0,he=he+Math.imul(nt,Fe)|0,ae=ae+Math.imul(nt,Ge)|0,ae=ae+Math.imul(at,Fe)|0,be=be+Math.imul(at,Ge)|0,he=he+Math.imul(Ie,Te)|0,ae=ae+Math.imul(Ie,Ye)|0,ae=ae+Math.imul(We,Te)|0,be=be+Math.imul(We,Ye)|0;var cr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(cr>>>26)|0,cr&=67108863,he=Math.imul(_e,_t),ae=Math.imul(_e,vt),ae=ae+Math.imul(ke,_t)|0,be=Math.imul(ke,vt),he=he+Math.imul(Tt,xt)|0,ae=ae+Math.imul(Tt,Nt)|0,ae=ae+Math.imul(Re,xt)|0,be=be+Math.imul(Re,Nt)|0,he=he+Math.imul(Et,Lt)|0,ae=ae+Math.imul(Et,Ft)|0,ae=ae+Math.imul(St,Lt)|0,be=be+Math.imul(St,Ft)|0,he=he+Math.imul(ot,kt)|0,ae=ae+Math.imul(ot,Bt)|0,ae=ae+Math.imul(lt,kt)|0,be=be+Math.imul(lt,Bt)|0,he=he+Math.imul(Le,Ot)|0,ae=ae+Math.imul(Le,$t)|0,ae=ae+Math.imul(De,Ot)|0,be=be+Math.imul(De,$t)|0,he=he+Math.imul(yt,Dt)|0,ae=ae+Math.imul(yt,Ct)|0,ae=ae+Math.imul(Mt,Dt)|0,be=be+Math.imul(Mt,Ct)|0,he=he+Math.imul(dt,Fe)|0,ae=ae+Math.imul(dt,Ge)|0,ae=ae+Math.imul(gt,Fe)|0,be=be+Math.imul(gt,Ge)|0,he=he+Math.imul(nt,Te)|0,ae=ae+Math.imul(nt,Ye)|0,ae=ae+Math.imul(at,Te)|0,be=be+Math.imul(at,Ye)|0,he=he+Math.imul(Ie,st)|0,ae=ae+Math.imul(Ie,ut)|0,ae=ae+Math.imul(We,st)|0,be=be+Math.imul(We,ut)|0;var sr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(sr>>>26)|0,sr&=67108863,he=Math.imul(Je,_t),ae=Math.imul(Je,vt),ae=ae+Math.imul(tt,_t)|0,be=Math.imul(tt,vt),he=he+Math.imul(_e,xt)|0,ae=ae+Math.imul(_e,Nt)|0,ae=ae+Math.imul(ke,xt)|0,be=be+Math.imul(ke,Nt)|0,he=he+Math.imul(Tt,Lt)|0,ae=ae+Math.imul(Tt,Ft)|0,ae=ae+Math.imul(Re,Lt)|0,be=be+Math.imul(Re,Ft)|0,he=he+Math.imul(Et,kt)|0,ae=ae+Math.imul(Et,Bt)|0,ae=ae+Math.imul(St,kt)|0,be=be+Math.imul(St,Bt)|0,he=he+Math.imul(ot,Ot)|0,ae=ae+Math.imul(ot,$t)|0,ae=ae+Math.imul(lt,Ot)|0,be=be+Math.imul(lt,$t)|0,he=he+Math.imul(Le,Dt)|0,ae=ae+Math.imul(Le,Ct)|0,ae=ae+Math.imul(De,Dt)|0,be=be+Math.imul(De,Ct)|0,he=he+Math.imul(yt,Fe)|0,ae=ae+Math.imul(yt,Ge)|0,ae=ae+Math.imul(Mt,Fe)|0,be=be+Math.imul(Mt,Ge)|0,he=he+Math.imul(dt,Te)|0,ae=ae+Math.imul(dt,Ye)|0,ae=ae+Math.imul(gt,Te)|0,be=be+Math.imul(gt,Ye)|0,he=he+Math.imul(nt,st)|0,ae=ae+Math.imul(nt,ut)|0,ae=ae+Math.imul(at,st)|0,be=be+Math.imul(at,ut)|0,he=he+Math.imul(Ie,At)|0,ae=ae+Math.imul(Ie,wt)|0,ae=ae+Math.imul(We,At)|0,be=be+Math.imul(We,wt)|0;var Zt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,he=Math.imul(Je,xt),ae=Math.imul(Je,Nt),ae=ae+Math.imul(tt,xt)|0,be=Math.imul(tt,Nt),he=he+Math.imul(_e,Lt)|0,ae=ae+Math.imul(_e,Ft)|0,ae=ae+Math.imul(ke,Lt)|0,be=be+Math.imul(ke,Ft)|0,he=he+Math.imul(Tt,kt)|0,ae=ae+Math.imul(Tt,Bt)|0,ae=ae+Math.imul(Re,kt)|0,be=be+Math.imul(Re,Bt)|0,he=he+Math.imul(Et,Ot)|0,ae=ae+Math.imul(Et,$t)|0,ae=ae+Math.imul(St,Ot)|0,be=be+Math.imul(St,$t)|0,he=he+Math.imul(ot,Dt)|0,ae=ae+Math.imul(ot,Ct)|0,ae=ae+Math.imul(lt,Dt)|0,be=be+Math.imul(lt,Ct)|0,he=he+Math.imul(Le,Fe)|0,ae=ae+Math.imul(Le,Ge)|0,ae=ae+Math.imul(De,Fe)|0,be=be+Math.imul(De,Ge)|0,he=he+Math.imul(yt,Te)|0,ae=ae+Math.imul(yt,Ye)|0,ae=ae+Math.imul(Mt,Te)|0,be=be+Math.imul(Mt,Ye)|0,he=he+Math.imul(dt,st)|0,ae=ae+Math.imul(dt,ut)|0,ae=ae+Math.imul(gt,st)|0,be=be+Math.imul(gt,ut)|0,he=he+Math.imul(nt,At)|0,ae=ae+Math.imul(nt,wt)|0,ae=ae+Math.imul(at,At)|0,be=be+Math.imul(at,wt)|0;var er=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(er>>>26)|0,er&=67108863,he=Math.imul(Je,Lt),ae=Math.imul(Je,Ft),ae=ae+Math.imul(tt,Lt)|0,be=Math.imul(tt,Ft),he=he+Math.imul(_e,kt)|0,ae=ae+Math.imul(_e,Bt)|0,ae=ae+Math.imul(ke,kt)|0,be=be+Math.imul(ke,Bt)|0,he=he+Math.imul(Tt,Ot)|0,ae=ae+Math.imul(Tt,$t)|0,ae=ae+Math.imul(Re,Ot)|0,be=be+Math.imul(Re,$t)|0,he=he+Math.imul(Et,Dt)|0,ae=ae+Math.imul(Et,Ct)|0,ae=ae+Math.imul(St,Dt)|0,be=be+Math.imul(St,Ct)|0,he=he+Math.imul(ot,Fe)|0,ae=ae+Math.imul(ot,Ge)|0,ae=ae+Math.imul(lt,Fe)|0,be=be+Math.imul(lt,Ge)|0,he=he+Math.imul(Le,Te)|0,ae=ae+Math.imul(Le,Ye)|0,ae=ae+Math.imul(De,Te)|0,be=be+Math.imul(De,Ye)|0,he=he+Math.imul(yt,st)|0,ae=ae+Math.imul(yt,ut)|0,ae=ae+Math.imul(Mt,st)|0,be=be+Math.imul(Mt,ut)|0,he=he+Math.imul(dt,At)|0,ae=ae+Math.imul(dt,wt)|0,ae=ae+Math.imul(gt,At)|0,be=be+Math.imul(gt,wt)|0;var Yt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,he=Math.imul(Je,kt),ae=Math.imul(Je,Bt),ae=ae+Math.imul(tt,kt)|0,be=Math.imul(tt,Bt),he=he+Math.imul(_e,Ot)|0,ae=ae+Math.imul(_e,$t)|0,ae=ae+Math.imul(ke,Ot)|0,be=be+Math.imul(ke,$t)|0,he=he+Math.imul(Tt,Dt)|0,ae=ae+Math.imul(Tt,Ct)|0,ae=ae+Math.imul(Re,Dt)|0,be=be+Math.imul(Re,Ct)|0,he=he+Math.imul(Et,Fe)|0,ae=ae+Math.imul(Et,Ge)|0,ae=ae+Math.imul(St,Fe)|0,be=be+Math.imul(St,Ge)|0,he=he+Math.imul(ot,Te)|0,ae=ae+Math.imul(ot,Ye)|0,ae=ae+Math.imul(lt,Te)|0,be=be+Math.imul(lt,Ye)|0,he=he+Math.imul(Le,st)|0,ae=ae+Math.imul(Le,ut)|0,ae=ae+Math.imul(De,st)|0,be=be+Math.imul(De,ut)|0,he=he+Math.imul(yt,At)|0,ae=ae+Math.imul(yt,wt)|0,ae=ae+Math.imul(Mt,At)|0,be=be+Math.imul(Mt,wt)|0;var Xt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,he=Math.imul(Je,Ot),ae=Math.imul(Je,$t),ae=ae+Math.imul(tt,Ot)|0,be=Math.imul(tt,$t),he=he+Math.imul(_e,Dt)|0,ae=ae+Math.imul(_e,Ct)|0,ae=ae+Math.imul(ke,Dt)|0,be=be+Math.imul(ke,Ct)|0,he=he+Math.imul(Tt,Fe)|0,ae=ae+Math.imul(Tt,Ge)|0,ae=ae+Math.imul(Re,Fe)|0,be=be+Math.imul(Re,Ge)|0,he=he+Math.imul(Et,Te)|0,ae=ae+Math.imul(Et,Ye)|0,ae=ae+Math.imul(St,Te)|0,be=be+Math.imul(St,Ye)|0,he=he+Math.imul(ot,st)|0,ae=ae+Math.imul(ot,ut)|0,ae=ae+Math.imul(lt,st)|0,be=be+Math.imul(lt,ut)|0,he=he+Math.imul(Le,At)|0,ae=ae+Math.imul(Le,wt)|0,ae=ae+Math.imul(De,At)|0,be=be+Math.imul(De,wt)|0;var Qt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,he=Math.imul(Je,Dt),ae=Math.imul(Je,Ct),ae=ae+Math.imul(tt,Dt)|0,be=Math.imul(tt,Ct),he=he+Math.imul(_e,Fe)|0,ae=ae+Math.imul(_e,Ge)|0,ae=ae+Math.imul(ke,Fe)|0,be=be+Math.imul(ke,Ge)|0,he=he+Math.imul(Tt,Te)|0,ae=ae+Math.imul(Tt,Ye)|0,ae=ae+Math.imul(Re,Te)|0,be=be+Math.imul(Re,Ye)|0,he=he+Math.imul(Et,st)|0,ae=ae+Math.imul(Et,ut)|0,ae=ae+Math.imul(St,st)|0,be=be+Math.imul(St,ut)|0,he=he+Math.imul(ot,At)|0,ae=ae+Math.imul(ot,wt)|0,ae=ae+Math.imul(lt,At)|0,be=be+Math.imul(lt,wt)|0;var Gt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,he=Math.imul(Je,Fe),ae=Math.imul(Je,Ge),ae=ae+Math.imul(tt,Fe)|0,be=Math.imul(tt,Ge),he=he+Math.imul(_e,Te)|0,ae=ae+Math.imul(_e,Ye)|0,ae=ae+Math.imul(ke,Te)|0,be=be+Math.imul(ke,Ye)|0,he=he+Math.imul(Tt,st)|0,ae=ae+Math.imul(Tt,ut)|0,ae=ae+Math.imul(Re,st)|0,be=be+Math.imul(Re,ut)|0,he=he+Math.imul(Et,At)|0,ae=ae+Math.imul(Et,wt)|0,ae=ae+Math.imul(St,At)|0,be=be+Math.imul(St,wt)|0;var Rt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,he=Math.imul(Je,Te),ae=Math.imul(Je,Ye),ae=ae+Math.imul(tt,Te)|0,be=Math.imul(tt,Ye),he=he+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,ut)|0,ae=ae+Math.imul(ke,st)|0,be=be+Math.imul(ke,ut)|0,he=he+Math.imul(Tt,At)|0,ae=ae+Math.imul(Tt,wt)|0,ae=ae+Math.imul(Re,At)|0,be=be+Math.imul(Re,wt)|0;var It=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(It>>>26)|0,It&=67108863,he=Math.imul(Je,st),ae=Math.imul(Je,ut),ae=ae+Math.imul(tt,st)|0,be=Math.imul(tt,ut),he=he+Math.imul(_e,At)|0,ae=ae+Math.imul(_e,wt)|0,ae=ae+Math.imul(ke,At)|0,be=be+Math.imul(ke,wt)|0;var Kt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,he=Math.imul(Je,At),ae=Math.imul(Je,wt),ae=ae+Math.imul(tt,At)|0,be=Math.imul(tt,wt);var Ut=(ve+he|0)+((ae&8191)<<13)|0;return ve=(be+(ae>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me[0]=lr,me[1]=Wt,me[2]=tr,me[3]=rr,me[4]=ir,me[5]=ur,me[6]=or,me[7]=cr,me[8]=sr,me[9]=Zt,me[10]=er,me[11]=Yt,me[12]=Xt,me[13]=Qt,me[14]=Gt,me[15]=Rt,me[16]=It,me[17]=Kt,me[18]=Ut,ve!==0&&(me[19]=ve,le.length++),le};Math.imul||(He=Be);function Oe(pe,oe,ce){ce.negative=oe.negative^pe.negative,ce.length=pe.length+oe.length;for(var le=0,ge=0,ye=0;ye<ce.length-1;ye++){var me=ge;ge=0;for(var ve=le&67108863,he=Math.min(ye,oe.length-1),ae=Math.max(0,ye-pe.length+1);ae<=he;ae++){var be=ye-ae,ze=pe.words[be]|0,Ie=oe.words[ae]|0,We=ze*Ie,ft=We&67108863;me=me+(We/67108864|0)|0,ft=ft+ve|0,ve=ft&67108863,me=me+(ft>>>26)|0,ge+=me>>>26,me&=67108863}ce.words[ye]=ve,le=me,me=ge}return le!==0?ce.words[ye]=le:ce.length--,ce._strip()}function Ke(pe,oe,ce){return Oe(pe,oe,ce)}ie.prototype.mulTo=function(oe,ce){var le,ge=this.length+oe.length;return this.length===10&&oe.length===10?le=He(this,oe,ce):ge<63?le=Be(this,oe,ce):ge<1024?le=Oe(this,oe,ce):le=Ke(this,oe,ce),le},ie.prototype.mul=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),this.mulTo(oe,ce)},ie.prototype.mulf=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),Ke(this,oe,ce)},ie.prototype.imul=function(oe){return this.clone().mulTo(oe,this)},ie.prototype.imuln=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(typeof oe=="number"),ne(oe<67108864);for(var le=0,ge=0;ge<this.length;ge++){var ye=(this.words[ge]|0)*oe,me=(ye&67108863)+(le&67108863);le>>=26,le+=ye/67108864|0,le+=me>>>26,this.words[ge]=me&67108863}return le!==0&&(this.words[ge]=le,this.length++),ce?this.ineg():this},ie.prototype.muln=function(oe){return this.clone().imuln(oe)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(oe){var ce=Ce(oe);if(ce.length===0)return new ie(1);for(var le=this,ge=0;ge<ce.length&&ce[ge]===0;ge++,le=le.sqr());if(++ge<ce.length)for(var ye=le.sqr();ge<ce.length;ge++,ye=ye.sqr())ce[ge]!==0&&(le=le.mul(ye));return le},ie.prototype.iushln=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=67108863>>>26-ce<<26-ce,ye;if(ce!==0){var me=0;for(ye=0;ye<this.length;ye++){var ve=this.words[ye]&ge,he=(this.words[ye]|0)-ve<<ce;this.words[ye]=he|me,me=ve>>>26-ce}me&&(this.words[ye]=me,this.length++)}if(le!==0){for(ye=this.length-1;ye>=0;ye--)this.words[ye+le]=this.words[ye];for(ye=0;ye<le;ye++)this.words[ye]=0;this.length+=le}return this._strip()},ie.prototype.ishln=function(oe){return ne(this.negative===0),this.iushln(oe)},ie.prototype.iushrn=function(oe,ce,le){ne(typeof oe=="number"&&oe>=0);var ge;ce?ge=(ce-ce%26)/26:ge=0;var ye=oe%26,me=Math.min((oe-ye)/26,this.length),ve=67108863^67108863>>>ye<<ye,he=le;if(ge-=me,ge=Math.max(0,ge),he){for(var ae=0;ae<me;ae++)he.words[ae]=this.words[ae];he.length=me}if(me!==0)if(this.length>me)for(this.length-=me,ae=0;ae<this.length;ae++)this.words[ae]=this.words[ae+me];else this.words[0]=0,this.length=1;var be=0;for(ae=this.length-1;ae>=0&&(be!==0||ae>=ge);ae--){var ze=this.words[ae]|0;this.words[ae]=be<<26-ye|ze>>>ye,be=ze&ve}return he&&be!==0&&(he.words[he.length++]=be),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(oe,ce,le){return ne(this.negative===0),this.iushrn(oe,ce,le)},ie.prototype.shln=function(oe){return this.clone().ishln(oe)},ie.prototype.ushln=function(oe){return this.clone().iushln(oe)},ie.prototype.shrn=function(oe){return this.clone().ishrn(oe)},ie.prototype.ushrn=function(oe){return this.clone().iushrn(oe)},ie.prototype.testn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return!1;var ye=this.words[le];return!!(ye&ge)},ie.prototype.imaskn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var ge=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=ge}return this._strip()},ie.prototype.maskn=function(oe){return this.clone().imaskn(oe)},ie.prototype.iaddn=function(oe){return ne(typeof oe=="number"),ne(oe<67108864),oe<0?this.isubn(-oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=oe?(this.words[0]=oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(oe),this.negative=1,this):this._iaddn(oe)},ie.prototype._iaddn=function(oe){this.words[0]+=oe;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(oe){if(ne(typeof oe=="number"),ne(oe<67108864),oe<0)return this.iaddn(-oe);if(this.negative!==0)return this.negative=0,this.iaddn(oe),this.negative=1,this;if(this.words[0]-=oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this._strip()},ie.prototype.addn=function(oe){return this.clone().iaddn(oe)},ie.prototype.subn=function(oe){return this.clone().isubn(oe)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(oe,ce,le){var ge=oe.length+le,ye;this._expand(ge);var me,ve=0;for(ye=0;ye<oe.length;ye++){me=(this.words[ye+le]|0)+ve;var he=(oe.words[ye]|0)*ce;me-=he&67108863,ve=(me>>26)-(he/67108864|0),this.words[ye+le]=me&67108863}for(;ye<this.length-le;ye++)me=(this.words[ye+le]|0)+ve,ve=me>>26,this.words[ye+le]=me&67108863;if(ve===0)return this._strip();for(ne(ve===-1),ve=0,ye=0;ye<this.length;ye++)me=-(this.words[ye]|0)+ve,ve=me>>26,this.words[ye]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(oe,ce){var le=this.length-oe.length,ge=this.clone(),ye=oe,me=ye.words[ye.length-1]|0,ve=this._countBits(me);le=26-ve,le!==0&&(ye=ye.ushln(le),ge.iushln(le),me=ye.words[ye.length-1]|0);var he=ge.length-ye.length,ae;if(ce!=="mod"){ae=new ie(null),ae.length=he+1,ae.words=new Array(ae.length);for(var be=0;be<ae.length;be++)ae.words[be]=0}var ze=ge.clone()._ishlnsubmul(ye,1,he);ze.negative===0&&(ge=ze,ae&&(ae.words[he]=1));for(var Ie=he-1;Ie>=0;Ie--){var We=(ge.words[ye.length+Ie]|0)*67108864+(ge.words[ye.length+Ie-1]|0);for(We=Math.min(We/me|0,67108863),ge._ishlnsubmul(ye,We,Ie);ge.negative!==0;)We--,ge.negative=0,ge._ishlnsubmul(ye,1,Ie),ge.isZero()||(ge.negative^=1);ae&&(ae.words[Ie]=We)}return ae&&ae._strip(),ge._strip(),ce!=="div"&&le!==0&&ge.iushrn(le),{div:ae||null,mod:ge}},ie.prototype.divmod=function(oe,ce,le){if(ne(!oe.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var ge,ye,me;return this.negative!==0&&oe.negative===0?(me=this.neg().divmod(oe,ce),ce!=="mod"&&(ge=me.div.neg()),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.iadd(oe)),{div:ge,mod:ye}):this.negative===0&&oe.negative!==0?(me=this.divmod(oe.neg(),ce),ce!=="mod"&&(ge=me.div.neg()),{div:ge,mod:me.mod}):(this.negative&oe.negative)!==0?(me=this.neg().divmod(oe.neg(),ce),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.isub(oe)),{div:me.div,mod:ye}):oe.length>this.length||this.cmp(oe)<0?{div:new ie(0),mod:this}:oe.length===1?ce==="div"?{div:this.divn(oe.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modrn(oe.words[0]))}:{div:this.divn(oe.words[0]),mod:new ie(this.modrn(oe.words[0]))}:this._wordDiv(oe,ce)},ie.prototype.div=function(oe){return this.divmod(oe,"div",!1).div},ie.prototype.mod=function(oe){return this.divmod(oe,"mod",!1).mod},ie.prototype.umod=function(oe){return this.divmod(oe,"mod",!0).mod},ie.prototype.divRound=function(oe){var ce=this.divmod(oe);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(oe):ce.mod,ge=oe.ushrn(1),ye=oe.andln(1),me=le.cmp(ge);return me<0||ye===1&&me===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modrn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=(1<<26)%oe,ge=0,ye=this.length-1;ye>=0;ye--)ge=(le*ge+(this.words[ye]|0))%oe;return ce?-ge:ge},ie.prototype.modn=function(oe){return this.modrn(oe)},ie.prototype.idivn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=0,ge=this.length-1;ge>=0;ge--){var ye=(this.words[ge]|0)+le*67108864;this.words[ge]=ye/oe|0,le=ye%oe}return this._strip(),ce?this.ineg():this},ie.prototype.divn=function(oe){return this.clone().idivn(oe)},ie.prototype.egcd=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=new ie(0),ve=new ie(1),he=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++he;for(var ae=le.clone(),be=ce.clone();!ce.isZero();){for(var ze=0,Ie=1;(ce.words[0]&Ie)===0&&ze<26;++ze,Ie<<=1);if(ze>0)for(ce.iushrn(ze);ze-- >0;)(ge.isOdd()||ye.isOdd())&&(ge.iadd(ae),ye.isub(be)),ge.iushrn(1),ye.iushrn(1);for(var We=0,ft=1;(le.words[0]&ft)===0&&We<26;++We,ft<<=1);if(We>0)for(le.iushrn(We);We-- >0;)(me.isOdd()||ve.isOdd())&&(me.iadd(ae),ve.isub(be)),me.iushrn(1),ve.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(me),ye.isub(ve)):(le.isub(ce),me.isub(ge),ve.isub(ye))}return{a:me,b:ve,gcd:le.iushln(he)}},ie.prototype._invmp=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var ve=0,he=1;(ce.words[0]&he)===0&&ve<26;++ve,he<<=1);if(ve>0)for(ce.iushrn(ve);ve-- >0;)ge.isOdd()&&ge.iadd(me),ge.iushrn(1);for(var ae=0,be=1;(le.words[0]&be)===0&&ae<26;++ae,be<<=1);if(ae>0)for(le.iushrn(ae);ae-- >0;)ye.isOdd()&&ye.iadd(me),ye.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(ye)):(le.isub(ce),ye.isub(ge))}var ze;return ce.cmpn(1)===0?ze=ge:ze=ye,ze.cmpn(0)<0&&ze.iadd(oe),ze},ie.prototype.gcd=function(oe){if(this.isZero())return oe.abs();if(oe.isZero())return this.abs();var ce=this.clone(),le=oe.clone();ce.negative=0,le.negative=0;for(var ge=0;ce.isEven()&&le.isEven();ge++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var ye=ce.cmp(le);if(ye<0){var me=ce;ce=le,le=me}else if(ye===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(ge)},ie.prototype.invm=function(oe){return this.egcd(oe).a.umod(oe)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(oe){return this.words[0]&oe},ie.prototype.bincn=function(oe){ne(typeof oe=="number");var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=ge,this;for(var ye=ge,me=le;ye!==0&&me<this.length;me++){var ve=this.words[me]|0;ve+=ye,ye=ve>>>26,ve&=67108863,this.words[me]=ve}return ye!==0&&(this.words[me]=ye,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(oe){var ce=oe<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this._strip();var le;if(this.length>1)le=1;else{ce&&(oe=-oe),ne(oe<=67108863,"Number is too big");var ge=this.words[0]|0;le=ge===oe?0:ge<oe?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(oe){if(this.negative!==0&&oe.negative===0)return-1;if(this.negative===0&&oe.negative!==0)return 1;var ce=this.ucmp(oe);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(oe){if(this.length>oe.length)return 1;if(this.length<oe.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var ge=this.words[le]|0,ye=oe.words[le]|0;if(ge!==ye){ge<ye?ce=-1:ge>ye&&(ce=1);break}}return ce},ie.prototype.gtn=function(oe){return this.cmpn(oe)===1},ie.prototype.gt=function(oe){return this.cmp(oe)===1},ie.prototype.gten=function(oe){return this.cmpn(oe)>=0},ie.prototype.gte=function(oe){return this.cmp(oe)>=0},ie.prototype.ltn=function(oe){return this.cmpn(oe)===-1},ie.prototype.lt=function(oe){return this.cmp(oe)===-1},ie.prototype.lten=function(oe){return this.cmpn(oe)<=0},ie.prototype.lte=function(oe){return this.cmp(oe)<=0},ie.prototype.eqn=function(oe){return this.cmpn(oe)===0},ie.prototype.eq=function(oe){return this.cmp(oe)===0},ie.red=function(oe){return new Se(oe)},ie.prototype.toRed=function(oe){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),oe.convertTo(this)._forceRed(oe)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(oe){return this.red=oe,this},ie.prototype.forceRed=function(oe){return ne(!this.red,"Already a number in reduction context"),this._forceRed(oe)},ie.prototype.redAdd=function(oe){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,oe)},ie.prototype.redIAdd=function(oe){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,oe)},ie.prototype.redSub=function(oe){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,oe)},ie.prototype.redISub=function(oe){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,oe)},ie.prototype.redShl=function(oe){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,oe)},ie.prototype.redMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.mul(this,oe)},ie.prototype.redIMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.imul(this,oe)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(oe){return ne(this.red&&!oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,oe)};var qe={k256:null,p224:null,p192:null,p25519:null};function Ve(pe,oe){this.name=pe,this.p=new ie(oe,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ve.prototype._tmp=function(){var oe=new ie(null);return oe.words=new Array(Math.ceil(this.n/13)),oe},Ve.prototype.ireduce=function(oe){var ce=oe,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var ge=le<this.n?-1:ce.ucmp(this.p);return ge===0?(ce.words[0]=0,ce.length=1):ge>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ve.prototype.split=function(oe,ce){oe.iushrn(this.n,0,ce)},Ve.prototype.imulK=function(oe){return oe.imul(this.k)};function Xe(){Ve.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Xe,Ve),Xe.prototype.split=function(oe,ce){for(var le=4194303,ge=Math.min(oe.length,9),ye=0;ye<ge;ye++)ce.words[ye]=oe.words[ye];if(ce.length=ge,oe.length<=9){oe.words[0]=0,oe.length=1;return}var me=oe.words[9];for(ce.words[ce.length++]=me&le,ye=10;ye<oe.length;ye++){var ve=oe.words[ye]|0;oe.words[ye-10]=(ve&le)<<4|me>>>22,me=ve}me>>>=22,oe.words[ye-10]=me,me===0&&oe.length>10?oe.length-=10:oe.length-=9},Xe.prototype.imulK=function(oe){oe.words[oe.length]=0,oe.words[oe.length+1]=0,oe.length+=2;for(var ce=0,le=0;le<oe.length;le++){var ge=oe.words[le]|0;ce+=ge*977,oe.words[le]=ce&67108863,ce=ge*64+(ce/67108864|0)}return oe.words[oe.length-1]===0&&(oe.length--,oe.words[oe.length-1]===0&&oe.length--),oe};function rt(){Ve.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(rt,Ve);function mt(){Ve.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(mt,Ve);function Qe(){Ve.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Qe,Ve),Qe.prototype.imulK=function(oe){for(var ce=0,le=0;le<oe.length;le++){var ge=(oe.words[le]|0)*19+ce,ye=ge&67108863;ge>>>=26,oe.words[le]=ye,ce=ge}return ce!==0&&(oe.words[oe.length++]=ce),oe},ie._prime=function(oe){if(qe[oe])return qe[oe];var ce;if(oe==="k256")ce=new Xe;else if(oe==="p224")ce=new rt;else if(oe==="p192")ce=new mt;else if(oe==="p25519")ce=new Qe;else throw new Error("Unknown prime "+oe);return qe[oe]=ce,ce};function Se(pe){if(typeof pe=="string"){var oe=ie._prime(pe);this.m=oe.p,this.prime=oe}else ne(pe.gtn(1),"modulus must be greater than 1"),this.m=pe,this.prime=null}Se.prototype._verify1=function(oe){ne(oe.negative===0,"red works only with positives"),ne(oe.red,"red works only with red numbers")},Se.prototype._verify2=function(oe,ce){ne((oe.negative|ce.negative)===0,"red works only with positives"),ne(oe.red&&oe.red===ce.red,"red works only with red numbers")},Se.prototype.imod=function(oe){return this.prime?this.prime.ireduce(oe)._forceRed(this):(Ae(oe,oe.umod(this.m)._forceRed(this)),oe)},Se.prototype.neg=function(oe){return oe.isZero()?oe.clone():this.m.sub(oe)._forceRed(this)},Se.prototype.add=function(oe,ce){this._verify2(oe,ce);var le=oe.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},Se.prototype.iadd=function(oe,ce){this._verify2(oe,ce);var le=oe.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},Se.prototype.sub=function(oe,ce){this._verify2(oe,ce);var le=oe.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},Se.prototype.isub=function(oe,ce){this._verify2(oe,ce);var le=oe.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},Se.prototype.shl=function(oe,ce){return this._verify1(oe),this.imod(oe.ushln(ce))},Se.prototype.imul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.imul(ce))},Se.prototype.mul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.mul(ce))},Se.prototype.isqr=function(oe){return this.imul(oe,oe.clone())},Se.prototype.sqr=function(oe){return this.mul(oe,oe)},Se.prototype.sqrt=function(oe){if(oe.isZero())return oe.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(oe,le)}for(var ge=this.m.subn(1),ye=0;!ge.isZero()&&ge.andln(1)===0;)ye++,ge.iushrn(1);ne(!ge.isZero());var me=new ie(1).toRed(this),ve=me.redNeg(),he=this.m.subn(1).iushrn(1),ae=this.m.bitLength();for(ae=new ie(2*ae*ae).toRed(this);this.pow(ae,he).cmp(ve)!==0;)ae.redIAdd(ve);for(var be=this.pow(ae,ge),ze=this.pow(oe,ge.addn(1).iushrn(1)),Ie=this.pow(oe,ge),We=ye;Ie.cmp(me)!==0;){for(var ft=Ie,nt=0;ft.cmp(me)!==0;nt++)ft=ft.redSqr();ne(nt<We);var at=this.pow(be,new ie(1).iushln(We-nt-1));ze=ze.redMul(at),be=at.redSqr(),Ie=Ie.redMul(be),We=nt}return ze},Se.prototype.invm=function(oe){var ce=oe._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},Se.prototype.pow=function(oe,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return oe.clone();var le=4,ge=new Array(1<<le);ge[0]=new ie(1).toRed(this),ge[1]=oe;for(var ye=2;ye<ge.length;ye++)ge[ye]=this.mul(ge[ye-1],oe);var me=ge[0],ve=0,he=0,ae=ce.bitLength()%26;for(ae===0&&(ae=26),ye=ce.length-1;ye>=0;ye--){for(var be=ce.words[ye],ze=ae-1;ze>=0;ze--){var Ie=be>>ze&1;if(me!==ge[0]&&(me=this.sqr(me)),Ie===0&&ve===0){he=0;continue}ve<<=1,ve|=Ie,he++,!(he!==le&&(ye!==0||ze!==0))&&(me=this.mul(me,ge[ve]),he=0,ve=0)}ae=26}return me},Se.prototype.convertTo=function(oe){var ce=oe.umod(this.m);return ce===oe?ce.clone():ce},Se.prototype.convertFrom=function(oe){var ce=oe.clone();return ce.red=null,ce},ie.mont=function(oe){return new $e(oe)};function $e(pe){Se.call(this,pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se($e,Se),$e.prototype.convertTo=function(oe){return this.imod(oe.ushln(this.shift))},$e.prototype.convertFrom=function(oe){var ce=this.imod(oe.mul(this.rinv));return ce.red=null,ce},$e.prototype.imul=function(oe,ce){if(oe.isZero()||ce.isZero())return oe.words[0]=0,oe.length=1,oe;var le=oe.imul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.mul=function(oe,ce){if(oe.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=oe.mul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.invm=function(oe){var ce=this.imod(oe._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(re,commonjsGlobal)})(bn$1);var _BN=bn$1.exports;const version$l="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const re=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ee=>{try{if("test".normalize(ee)!=="test")throw new Error("bad normalize")}catch{re.push(ee)}}),re.length)throw new Error("missing "+re.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(re){return re.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(re){re.DEBUG="DEBUG",re.INFO="INFO",re.WARNING="WARNING",re.ERROR="ERROR",re.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(re){re.UNKNOWN_ERROR="UNKNOWN_ERROR",re.NOT_IMPLEMENTED="NOT_IMPLEMENTED",re.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",re.NETWORK_ERROR="NETWORK_ERROR",re.SERVER_ERROR="SERVER_ERROR",re.TIMEOUT="TIMEOUT",re.BUFFER_OVERRUN="BUFFER_OVERRUN",re.NUMERIC_FAULT="NUMERIC_FAULT",re.MISSING_NEW="MISSING_NEW",re.INVALID_ARGUMENT="INVALID_ARGUMENT",re.MISSING_ARGUMENT="MISSING_ARGUMENT",re.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",re.CALL_EXCEPTION="CALL_EXCEPTION",re.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",re.NONCE_EXPIRED="NONCE_EXPIRED",re.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",re.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",re.TRANSACTION_REPLACED="TRANSACTION_REPLACED",re.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(ee){Object.defineProperty(this,"version",{enumerable:!0,value:ee,writable:!1})}_log(ee,te){const ne=ee.toLowerCase();LogLevels[ne]==null&&this.throwArgumentError("invalid log level name","logLevel",ee),!(_logLevel>LogLevels[ne])&&console.log.apply(console,te)}debug(...ee){this._log(Logger.levels.DEBUG,ee)}info(...ee){this._log(Logger.levels.INFO,ee)}warn(...ee){this._log(Logger.levels.WARNING,ee)}makeError(ee,te,ne){if(_censorErrors)return this.makeError("censored error",te,{});te||(te=Logger.errors.UNKNOWN_ERROR),ne||(ne={});const se=[];Object.keys(ne).forEach(xe=>{const Ee=ne[xe];try{if(Ee instanceof Uint8Array){let Ae="";for(let Me=0;Me<Ee.length;Me++)Ae+=HEX[Ee[Me]>>4],Ae+=HEX[Ee[Me]&15];se.push(xe+"=Uint8Array(0x"+Ae+")")}else se.push(xe+"="+JSON.stringify(Ee))}catch{se.push(xe+"="+JSON.stringify(ne[xe].toString()))}}),se.push(`code=${te}`),se.push(`version=${this.version}`);const ie=ee;let fe="";switch(te){case ErrorCode.NUMERIC_FAULT:{fe="NUMERIC_FAULT";const xe=ee;switch(xe){case"overflow":case"underflow":case"division-by-zero":fe+="-"+xe;break;case"negative-power":case"negative-width":fe+="-unsupported";break;case"unbound-bitwise-result":fe+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:fe=te;break}fe&&(ee+=" [ See: https://links.ethers.org/v5-errors-"+fe+" ]"),se.length&&(ee+=" ("+se.join(", ")+")");const ue=new Error(ee);return ue.reason=ie,ue.code=te,Object.keys(ne).forEach(function(xe){ue[xe]=ne[xe]}),ue}throwError(ee,te,ne){throw this.makeError(ee,te,ne)}throwArgumentError(ee,te,ne){return this.throwError(ee,Logger.errors.INVALID_ARGUMENT,{argument:te,value:ne})}assert(ee,te,ne,se){ee||this.throwError(te,ne,se)}assertArgument(ee,te,ne,se){ee||this.throwArgumentError(te,ne,se)}checkNormalize(ee){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(ee,te){typeof ee=="number"&&(te==null&&(te="value not safe"),(ee<0||ee>=9007199254740991)&&this.throwError(te,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:ee}),ee%1&&this.throwError(te,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:ee}))}checkArgumentCount(ee,te,ne){ne?ne=": "+ne:ne="",ee<te&&this.throwError("missing argument"+ne,Logger.errors.MISSING_ARGUMENT,{count:ee,expectedCount:te}),ee>te&&this.throwError("too many arguments"+ne,Logger.errors.UNEXPECTED_ARGUMENT,{count:ee,expectedCount:te})}checkNew(ee,te){(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:te.name})}checkAbstract(ee,te){ee===te?this.throwError("cannot instantiate abstract class "+JSON.stringify(te.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:ee.name,operation:"new"}):(ee===Object||ee==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:te.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$l)),_globalLogger}static setCensorship(ee,te){if(!ee&&te&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!ee)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!ee,_permanentCensorErrors=!!te}static setLogLevel(ee){const te=LogLevels[ee.toLowerCase()];if(te==null){Logger.globalLogger().warn("invalid log level - "+ee);return}_logLevel=te}static from(ee){return new Logger(ee)}}Logger.errors=ErrorCode,Logger.levels=LogLevel;var lib_esm$k=Object.freeze({__proto__:null,get LogLevel(){return LogLevel},get ErrorCode(){return ErrorCode},Logger});const version$k="bytes/5.7.0",logger$r=new Logger(version$k);function isHexable(re){return!!re.toHexString}function addSlice(re){return re.slice||(re.slice=function(){const ee=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(re,ee)))}),re}function isBytesLike(re){return isHexString(re)&&!(re.length%2)||isBytes(re)}function isInteger(re){return typeof re=="number"&&re==re&&re%1===0}function isBytes(re){if(re==null)return!1;if(re.constructor===Uint8Array)return!0;if(typeof re=="string"||!isInteger(re.length)||re.length<0)return!1;for(let ee=0;ee<re.length;ee++){const te=re[ee];if(!isInteger(te)||te<0||te>=256)return!1}return!0}function arrayify(re,ee){if(ee||(ee={}),typeof re=="number"){logger$r.checkSafeUint53(re,"invalid arrayify value");const te=[];for(;re;)te.unshift(re&255),re=parseInt(String(re/256));return te.length===0&&te.push(0),addSlice(new Uint8Array(te))}if(ee.allowMissingPrefix&&typeof re=="string"&&re.substring(0,2)!=="0x"&&(re="0x"+re),isHexable(re)&&(re=re.toHexString()),isHexString(re)){let te=re.substring(2);te.length%2&&(ee.hexPad==="left"?te="0"+te:ee.hexPad==="right"?te+="0":logger$r.throwArgumentError("hex data is odd-length","value",re));const ne=[];for(let se=0;se<te.length;se+=2)ne.push(parseInt(te.substring(se,se+2),16));return addSlice(new Uint8Array(ne))}return isBytes(re)?addSlice(new Uint8Array(re)):logger$r.throwArgumentError("invalid arrayify value","value",re)}function concat(re){const ee=re.map(se=>arrayify(se)),te=ee.reduce((se,ie)=>se+ie.length,0),ne=new Uint8Array(te);return ee.reduce((se,ie)=>(ne.set(ie,se),se+ie.length),0),addSlice(ne)}function stripZeros(re){let ee=arrayify(re);if(ee.length===0)return ee;let te=0;for(;te<ee.length&&ee[te]===0;)te++;return te&&(ee=ee.slice(te)),ee}function zeroPad(re,ee){re=arrayify(re),re.length>ee&&logger$r.throwArgumentError("value out of range","value",arguments[0]);const te=new Uint8Array(ee);return te.set(re,ee-re.length),addSlice(te)}function isHexString(re,ee){return!(typeof re!="string"||!re.match(/^0x[0-9A-Fa-f]*$/)||ee&&re.length!==2+2*ee)}const HexCharacters="0123456789abcdef";function hexlify(re,ee){if(ee||(ee={}),typeof re=="number"){logger$r.checkSafeUint53(re,"invalid hexlify value");let te="";for(;re;)te=HexCharacters[re&15]+te,re=Math.floor(re/16);return te.length?(te.length%2&&(te="0"+te),"0x"+te):"0x00"}if(typeof re=="bigint")return re=re.toString(16),re.length%2?"0x0"+re:"0x"+re;if(ee.allowMissingPrefix&&typeof re=="string"&&re.substring(0,2)!=="0x"&&(re="0x"+re),isHexable(re))return re.toHexString();if(isHexString(re))return re.length%2&&(ee.hexPad==="left"?re="0x0"+re.substring(2):ee.hexPad==="right"?re+="0":logger$r.throwArgumentError("hex data is odd-length","value",re)),re.toLowerCase();if(isBytes(re)){let te="0x";for(let ne=0;ne<re.length;ne++){let se=re[ne];te+=HexCharacters[(se&240)>>4]+HexCharacters[se&15]}return te}return logger$r.throwArgumentError("invalid hexlify value","value",re)}function hexDataLength(re){if(typeof re!="string")re=hexlify(re);else if(!isHexString(re)||re.length%2)return null;return(re.length-2)/2}function hexDataSlice(re,ee,te){return typeof re!="string"?re=hexlify(re):(!isHexString(re)||re.length%2)&&logger$r.throwArgumentError("invalid hexData","value",re),ee=2+2*ee,te!=null?"0x"+re.substring(ee,2+2*te):"0x"+re.substring(ee)}function hexConcat(re){let ee="0x";return re.forEach(te=>{ee+=hexlify(te).substring(2)}),ee}function hexValue(re){const ee=hexStripZeros(hexlify(re,{hexPad:"left"}));return ee==="0x"?"0x0":ee}function hexStripZeros(re){typeof re!="string"&&(re=hexlify(re)),isHexString(re)||logger$r.throwArgumentError("invalid hex string","value",re),re=re.substring(2);let ee=0;for(;ee<re.length&&re[ee]==="0";)ee++;return"0x"+re.substring(ee)}function hexZeroPad(re,ee){for(typeof re!="string"?re=hexlify(re):isHexString(re)||logger$r.throwArgumentError("invalid hex string","value",re),re.length>2*ee+2&&logger$r.throwArgumentError("value out of range","value",arguments[1]);re.length<2*ee+2;)re="0x0"+re.substring(2);return re}function splitSignature(re){const ee={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(re)){let te=arrayify(re);te.length===64?(ee.v=27+(te[32]>>7),te[32]&=127,ee.r=hexlify(te.slice(0,32)),ee.s=hexlify(te.slice(32,64))):te.length===65?(ee.r=hexlify(te.slice(0,32)),ee.s=hexlify(te.slice(32,64)),ee.v=te[64]):logger$r.throwArgumentError("invalid signature string","signature",re),ee.v<27&&(ee.v===0||ee.v===1?ee.v+=27:logger$r.throwArgumentError("signature invalid v byte","signature",re)),ee.recoveryParam=1-ee.v%2,ee.recoveryParam&&(te[32]|=128),ee._vs=hexlify(te.slice(32,64))}else{if(ee.r=re.r,ee.s=re.s,ee.v=re.v,ee.recoveryParam=re.recoveryParam,ee._vs=re._vs,ee._vs!=null){const se=zeroPad(arrayify(ee._vs),32);ee._vs=hexlify(se);const ie=se[0]>=128?1:0;ee.recoveryParam==null?ee.recoveryParam=ie:ee.recoveryParam!==ie&&logger$r.throwArgumentError("signature recoveryParam mismatch _vs","signature",re),se[0]&=127;const fe=hexlify(se);ee.s==null?ee.s=fe:ee.s!==fe&&logger$r.throwArgumentError("signature v mismatch _vs","signature",re)}if(ee.recoveryParam==null)ee.v==null?logger$r.throwArgumentError("signature missing v and recoveryParam","signature",re):ee.v===0||ee.v===1?ee.recoveryParam=ee.v:ee.recoveryParam=1-ee.v%2;else if(ee.v==null)ee.v=27+ee.recoveryParam;else{const se=ee.v===0||ee.v===1?ee.v:1-ee.v%2;ee.recoveryParam!==se&&logger$r.throwArgumentError("signature recoveryParam mismatch v","signature",re)}ee.r==null||!isHexString(ee.r)?logger$r.throwArgumentError("signature missing or invalid r","signature",re):ee.r=hexZeroPad(ee.r,32),ee.s==null||!isHexString(ee.s)?logger$r.throwArgumentError("signature missing or invalid s","signature",re):ee.s=hexZeroPad(ee.s,32);const te=arrayify(ee.s);te[0]>=128&&logger$r.throwArgumentError("signature s out of range","signature",re),ee.recoveryParam&&(te[0]|=128);const ne=hexlify(te);ee._vs&&(isHexString(ee._vs)||logger$r.throwArgumentError("signature invalid _vs","signature",re),ee._vs=hexZeroPad(ee._vs,32)),ee._vs==null?ee._vs=ne:ee._vs!==ne&&logger$r.throwArgumentError("signature _vs mismatch v and s","signature",re)}return ee.yParityAndS=ee._vs,ee.compact=ee.r+ee.yParityAndS.substring(2),ee}function joinSignature(re){return re=splitSignature(re),hexlify(concat([re.r,re.s,re.recoveryParam?"0x1c":"0x1b"]))}var lib_esm$j=Object.freeze({__proto__:null,isBytesLike,isBytes,arrayify,concat,stripZeros,zeroPad,isHexString,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature});const version$j="bignumber/5.7.0";var BN$1=_BN.BN;const logger$q=new Logger(version$j),_constructorGuard$3={},MAX_SAFE=9007199254740991;function isBigNumberish(re){return re!=null&&(BigNumber.isBigNumber(re)||typeof re=="number"&&re%1===0||typeof re=="string"&&!!re.match(/^-?[0-9]+$/)||isHexString(re)||typeof re=="bigint"||isBytes(re))}let _warnedToStringRadix=!1;class BigNumber{constructor(ee,te){ee!==_constructorGuard$3&&logger$q.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=te,this._isBigNumber=!0,Object.freeze(this)}fromTwos(ee){return toBigNumber(toBN(this).fromTwos(ee))}toTwos(ee){return toBigNumber(toBN(this).toTwos(ee))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(ee){return toBigNumber(toBN(this).add(toBN(ee)))}sub(ee){return toBigNumber(toBN(this).sub(toBN(ee)))}div(ee){return BigNumber.from(ee).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(ee)))}mul(ee){return toBigNumber(toBN(this).mul(toBN(ee)))}mod(ee){const te=toBN(ee);return te.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(te))}pow(ee){const te=toBN(ee);return te.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(te))}and(ee){const te=toBN(ee);return(this.isNegative()||te.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(te))}or(ee){const te=toBN(ee);return(this.isNegative()||te.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(te))}xor(ee){const te=toBN(ee);return(this.isNegative()||te.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(te))}mask(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(ee))}shl(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(ee))}shr(ee){return(this.isNegative()||ee<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(ee))}eq(ee){return toBN(this).eq(toBN(ee))}lt(ee){return toBN(this).lt(toBN(ee))}lte(ee){return toBN(this).lte(toBN(ee))}gt(ee){return toBN(this).gt(toBN(ee))}gte(ee){return toBN(this).gte(toBN(ee))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$q.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$q.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$q.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$q.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(ee){return{type:"BigNumber",hex:this.toHexString()}}static from(ee){if(ee instanceof BigNumber)return ee;if(typeof ee=="string")return ee.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$3,toHex$1(ee)):ee.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$3,toHex$1(new BN$1(ee))):logger$q.throwArgumentError("invalid BigNumber string","value",ee);if(typeof ee=="number")return ee%1&&throwFault$1("underflow","BigNumber.from",ee),(ee>=MAX_SAFE||ee<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",ee),BigNumber.from(String(ee));const te=ee;if(typeof te=="bigint")return BigNumber.from(te.toString());if(isBytes(te))return BigNumber.from(hexlify(te));if(te)if(te.toHexString){const ne=te.toHexString();if(typeof ne=="string")return BigNumber.from(ne)}else{let ne=te._hex;if(ne==null&&te.type==="BigNumber"&&(ne=te.hex),typeof ne=="string"&&(isHexString(ne)||ne[0]==="-"&&isHexString(ne.substring(1))))return BigNumber.from(ne)}return logger$q.throwArgumentError("invalid BigNumber value","value",ee)}static isBigNumber(ee){return!!(ee&&ee._isBigNumber)}}function toHex$1(re){if(typeof re!="string")return toHex$1(re.toString(16));if(re[0]==="-")return re=re.substring(1),re[0]==="-"&&logger$q.throwArgumentError("invalid hex","value",re),re=toHex$1(re),re==="0x00"?re:"-"+re;if(re.substring(0,2)!=="0x"&&(re="0x"+re),re==="0x")return"0x00";for(re.length%2&&(re="0x0"+re.substring(2));re.length>4&&re.substring(0,4)==="0x00";)re="0x"+re.substring(4);return re}function toBigNumber(re){return BigNumber.from(toHex$1(re))}function toBN(re){const ee=BigNumber.from(re).toHexString();return ee[0]==="-"?new BN$1("-"+ee.substring(3),16):new BN$1(ee.substring(2),16)}function throwFault$1(re,ee,te){const ne={fault:re,operation:ee};return te!=null&&(ne.value=te),logger$q.throwError(re,Logger.errors.NUMERIC_FAULT,ne)}function _base36To16(re){return new BN$1(re,36).toString(16)}function _base16To36(re){return new BN$1(re,16).toString(36)}const logger$p=new Logger(version$j),_constructorGuard$2={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(re,ee,te,ne){const se={fault:ee,operation:te};return ne!==void 0&&(se.value=ne),logger$p.throwError(re,Logger.errors.NUMERIC_FAULT,se)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier(re){if(typeof re!="number")try{re=BigNumber.from(re).toNumber()}catch{}return typeof re=="number"&&re>=0&&re<=256&&!(re%1)?"1"+zeros.substring(0,re):logger$p.throwArgumentError("invalid decimal size","decimals",re)}function formatFixed(re,ee){ee==null&&(ee=0);const te=getMultiplier(ee);re=BigNumber.from(re);const ne=re.lt(Zero$2);ne&&(re=re.mul(NegativeOne$2));let se=re.mod(te).toString();for(;se.length<te.length-1;)se="0"+se;se=se.match(/^([0-9]*[1-9]|0)(0*)/)[1];const ie=re.div(te).toString();return te.length===1?re=ie:re=ie+"."+se,ne&&(re="-"+re),re}function parseFixed(re,ee){ee==null&&(ee=0);const te=getMultiplier(ee);(typeof re!="string"||!re.match(/^-?[0-9.]+$/))&&logger$p.throwArgumentError("invalid decimal value","value",re);const ne=re.substring(0,1)==="-";ne&&(re=re.substring(1)),re==="."&&logger$p.throwArgumentError("missing value","value",re);const se=re.split(".");se.length>2&&logger$p.throwArgumentError("too many decimal points","value",re);let ie=se[0],fe=se[1];for(ie||(ie="0"),fe||(fe="0");fe[fe.length-1]==="0";)fe=fe.substring(0,fe.length-1);for(fe.length>te.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),fe===""&&(fe="0");fe.length<te.length-1;)fe+="0";const ue=BigNumber.from(ie),xe=BigNumber.from(fe);let Ee=ue.mul(te).add(xe);return ne&&(Ee=Ee.mul(NegativeOne$2)),Ee}class FixedFormat{constructor(ee,te,ne,se){ee!==_constructorGuard$2&&logger$p.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=te,this.width=ne,this.decimals=se,this.name=(te?"":"u")+"fixed"+String(ne)+"x"+String(se),this._multiplier=getMultiplier(se),Object.freeze(this)}static from(ee){if(ee instanceof FixedFormat)return ee;typeof ee=="number"&&(ee=`fixed128x${ee}`);let te=!0,ne=128,se=18;if(typeof ee=="string"){if(ee!=="fixed")if(ee==="ufixed")te=!1;else{const ie=ee.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ie||logger$p.throwArgumentError("invalid fixed format","format",ee),te=ie[1]!=="u",ne=parseInt(ie[2]),se=parseInt(ie[3])}}else if(ee){const ie=(fe,ue,xe)=>ee[fe]==null?xe:(typeof ee[fe]!==ue&&logger$p.throwArgumentError("invalid fixed format ("+fe+" not "+ue+")","format."+fe,ee[fe]),ee[fe]);te=ie("signed","boolean",te),ne=ie("width","number",ne),se=ie("decimals","number",se)}return ne%8&&logger$p.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",ne),se>80&&logger$p.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",se),new FixedFormat(_constructorGuard$2,te,ne,se)}}class FixedNumber{constructor(ee,te,ne,se){ee!==_constructorGuard$2&&logger$p.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=se,this._hex=te,this._value=ne,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(ee){this.format.name!==ee.format.name&&logger$p.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",ee)}addUnsafe(ee){this._checkFormat(ee);const te=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(te.add(ne),this.format.decimals,this.format)}subUnsafe(ee){this._checkFormat(ee);const te=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(te.sub(ne),this.format.decimals,this.format)}mulUnsafe(ee){this._checkFormat(ee);const te=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(te.mul(ne).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(ee){this._checkFormat(ee);const te=parseFixed(this._value,this.format.decimals),ne=parseFixed(ee._value,ee.format.decimals);return FixedNumber.fromValue(te.mul(this.format._multiplier).div(ne),this.format.decimals,this.format)}floor(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let te=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return this.isNegative()&&ne&&(te=te.subUnsafe(ONE.toFormat(te.format))),te}ceiling(){const ee=this.toString().split(".");ee.length===1&&ee.push("0");let te=FixedNumber.from(ee[0],this.format);const ne=!ee[1].match(/^(0*)$/);return!this.isNegative()&&ne&&(te=te.addUnsafe(ONE.toFormat(te.format))),te}round(ee){ee==null&&(ee=0);const te=this.toString().split(".");if(te.length===1&&te.push("0"),(ee<0||ee>80||ee%1)&&logger$p.throwArgumentError("invalid decimal count","decimals",ee),te[1].length<=ee)return this;const ne=FixedNumber.from("1"+zeros.substring(0,ee),this.format),se=BUMP.toFormat(this.format);return this.mulUnsafe(ne).addUnsafe(se).floor().divUnsafe(ne)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(ee){if(ee==null)return this._hex;ee%8&&logger$p.throwArgumentError("invalid byte width","width",ee);const te=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(ee).toHexString();return hexZeroPad(te,ee/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(ee){return FixedNumber.fromString(this._value,ee)}static fromValue(ee,te,ne){return ne==null&&te!=null&&!isBigNumberish(te)&&(ne=te,te=null),te==null&&(te=0),ne==null&&(ne="fixed"),FixedNumber.fromString(formatFixed(ee,te),FixedFormat.from(ne))}static fromString(ee,te){te==null&&(te="fixed");const ne=FixedFormat.from(te),se=parseFixed(ee,ne.decimals);!ne.signed&&se.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",ee);let ie=null;ne.signed?ie=se.toTwos(ne.width).toHexString():(ie=se.toHexString(),ie=hexZeroPad(ie,ne.width/8));const fe=formatFixed(se,ne.decimals);return new FixedNumber(_constructorGuard$2,ie,fe,ne)}static fromBytes(ee,te){te==null&&(te="fixed");const ne=FixedFormat.from(te);if(arrayify(ee).length>ne.width/8)throw new Error("overflow");let se=BigNumber.from(ee);ne.signed&&(se=se.fromTwos(ne.width));const ie=se.toTwos((ne.signed?0:1)+ne.width).toHexString(),fe=formatFixed(se,ne.decimals);return new FixedNumber(_constructorGuard$2,ie,fe,ne)}static from(ee,te){if(typeof ee=="string")return FixedNumber.fromString(ee,te);if(isBytes(ee))return FixedNumber.fromBytes(ee,te);try{return FixedNumber.fromValue(ee,0,te)}catch(ne){if(ne.code!==Logger.errors.INVALID_ARGUMENT)throw ne}return logger$p.throwArgumentError("invalid FixedNumber value","value",ee)}static isFixedNumber(ee){return!!(ee&&ee._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$i="properties/5.7.0";var __awaiter$7=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$o=new Logger(version$i);function defineReadOnly(re,ee,te){Object.defineProperty(re,ee,{enumerable:!0,value:te,writable:!1})}function getStatic(re,ee){for(let te=0;te<32;te++){if(re[ee])return re[ee];if(!re.prototype||typeof re.prototype!="object")break;re=Object.getPrototypeOf(re.prototype).constructor}return null}function resolveProperties(re){return __awaiter$7(this,void 0,void 0,function*(){const ee=Object.keys(re).map(ne=>{const se=re[ne];return Promise.resolve(se).then(ie=>({key:ne,value:ie}))});return(yield Promise.all(ee)).reduce((ne,se)=>(ne[se.key]=se.value,ne),{})})}function checkProperties(re,ee){(!re||typeof re!="object")&&logger$o.throwArgumentError("invalid object","object",re),Object.keys(re).forEach(te=>{ee[te]||logger$o.throwArgumentError("invalid object key - "+te,"transaction:"+te,re)})}function shallowCopy(re){const ee={};for(const te in re)ee[te]=re[te];return ee}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(re){if(re==null||opaque[typeof re])return!0;if(Array.isArray(re)||typeof re=="object"){if(!Object.isFrozen(re))return!1;const ee=Object.keys(re);for(let te=0;te<ee.length;te++){let ne=null;try{ne=re[ee[te]]}catch{continue}if(!_isFrozen(ne))return!1}return!0}return logger$o.throwArgumentError(`Cannot deepCopy ${typeof re}`,"object",re)}function _deepCopy(re){if(_isFrozen(re))return re;if(Array.isArray(re))return Object.freeze(re.map(ee=>deepCopy(ee)));if(typeof re=="object"){const ee={};for(const te in re){const ne=re[te];ne!==void 0&&defineReadOnly(ee,te,deepCopy(ne))}return ee}return logger$o.throwArgumentError(`Cannot deepCopy ${typeof re}`,"object",re)}function deepCopy(re){return _deepCopy(re)}class Description{constructor(ee){for(const te in ee)this[te]=deepCopy(ee[te])}}var lib_esm$i=Object.freeze({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description});const version$h="abi/5.7.0",logger$n=new Logger(version$h),_constructorGuard$1={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(re,ee){if(re==="bytes"||re==="string"){if(ModifiersBytes[ee])return!0}else if(re==="address"){if(ee==="payable")return!0}else if((re.indexOf("[")>=0||re==="tuple")&&ModifiersNest[ee])return!0;return(ModifiersBytes[ee]||ee==="payable")&&logger$n.throwArgumentError("invalid modifier","name",ee),!1}function parseParamType(re,ee){let te=re;function ne(ue){logger$n.throwArgumentError(`unexpected character at position ${ue}`,"param",re)}re=re.replace(/\s/g," ");function se(ue){let xe={type:"",name:"",parent:ue,state:{allowType:!0}};return ee&&(xe.indexed=!1),xe}let ie={type:"",name:"",state:{allowType:!0}},fe=ie;for(let ue=0;ue<re.length;ue++){let xe=re[ue];switch(xe){case"(":fe.state.allowType&&fe.type===""?fe.type="tuple":fe.state.allowParams||ne(ue),fe.state.allowType=!1,fe.type=verifyType(fe.type),fe.components=[se(fe)],fe=fe.components[0];break;case")":delete fe.state,fe.name==="indexed"&&(ee||ne(ue),fe.indexed=!0,fe.name=""),checkModifier(fe.type,fe.name)&&(fe.name=""),fe.type=verifyType(fe.type);let Ee=fe;fe=fe.parent,fe||ne(ue),delete Ee.parent,fe.state.allowParams=!1,fe.state.allowName=!0,fe.state.allowArray=!0;break;case",":delete fe.state,fe.name==="indexed"&&(ee||ne(ue),fe.indexed=!0,fe.name=""),checkModifier(fe.type,fe.name)&&(fe.name=""),fe.type=verifyType(fe.type);let Ae=se(fe.parent);fe.parent.components.push(Ae),delete fe.parent,fe=Ae;break;case" ":fe.state.allowType&&fe.type!==""&&(fe.type=verifyType(fe.type),delete fe.state.allowType,fe.state.allowName=!0,fe.state.allowParams=!0),fe.state.allowName&&fe.name!==""&&(fe.name==="indexed"?(ee||ne(ue),fe.indexed&&ne(ue),fe.indexed=!0,fe.name=""):checkModifier(fe.type,fe.name)?fe.name="":fe.state.allowName=!1);break;case"[":fe.state.allowArray||ne(ue),fe.type+=xe,fe.state.allowArray=!1,fe.state.allowName=!1,fe.state.readArray=!0;break;case"]":fe.state.readArray||ne(ue),fe.type+=xe,fe.state.readArray=!1,fe.state.allowArray=!0,fe.state.allowName=!0;break;default:fe.state.allowType?(fe.type+=xe,fe.state.allowParams=!0,fe.state.allowArray=!0):fe.state.allowName?(fe.name+=xe,delete fe.state.allowArray):fe.state.readArray?fe.type+=xe:ne(ue)}}return fe.parent&&logger$n.throwArgumentError("unexpected eof","param",re),delete ie.state,fe.name==="indexed"?(ee||ne(te.length-7),fe.indexed&&ne(te.length-7),fe.indexed=!0,fe.name=""):checkModifier(fe.type,fe.name)&&(fe.name=""),ie.type=verifyType(ie.type),ie}function populate(re,ee){for(let te in ee)defineReadOnly(re,te,ee[te])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(ee,te){ee!==_constructorGuard$1&&logger$n.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,te);let ne=this.type.match(paramTypeArray);ne?populate(this,{arrayLength:parseInt(ne[2]||"-1"),arrayChildren:ParamType.fromObject({type:ne[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$n.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json){let ne={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(ne.indexed=this.indexed),this.components&&(ne.components=this.components.map(se=>JSON.parse(se.format(ee)))),JSON.stringify(ne)}let te="";return this.baseType==="array"?(te+=this.arrayChildren.format(ee),te+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(ee!==FormatTypes.sighash&&(te+=this.type),te+="("+this.components.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+")"):te+=this.type,ee!==FormatTypes.sighash&&(this.indexed===!0&&(te+=" indexed"),ee===FormatTypes.full&&this.name&&(te+=" "+this.name)),te}static from(ee,te){return typeof ee=="string"?ParamType.fromString(ee,te):ParamType.fromObject(ee)}static fromObject(ee){return ParamType.isParamType(ee)?ee:new ParamType(_constructorGuard$1,{name:ee.name||null,type:verifyType(ee.type),indexed:ee.indexed==null?null:!!ee.indexed,components:ee.components?ee.components.map(ParamType.fromObject):null})}static fromString(ee,te){function ne(se){return ParamType.fromObject({name:se.name,type:se.type,indexed:se.indexed,components:se.components})}return ne(parseParamType(ee,!!te))}static isParamType(ee){return!!(ee!=null&&ee._isParamType)}}function parseParams(re,ee){return splitNesting(re).map(te=>ParamType.fromString(te,ee))}class Fragment{constructor(ee,te){ee!==_constructorGuard$1&&logger$n.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,te),this._isFragment=!0,Object.freeze(this)}static from(ee){return Fragment.isFragment(ee)?ee:typeof ee=="string"?Fragment.fromString(ee):Fragment.fromObject(ee)}static fromObject(ee){if(Fragment.isFragment(ee))return ee;switch(ee.type){case"function":return FunctionFragment.fromObject(ee);case"event":return EventFragment.fromObject(ee);case"constructor":return ConstructorFragment.fromObject(ee);case"error":return ErrorFragment.fromObject(ee);case"fallback":case"receive":return null}return logger$n.throwArgumentError("invalid fragment object","value",ee)}static fromString(ee){return ee=ee.replace(/\s/g," "),ee=ee.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),ee=ee.trim(),ee.split(" ")[0]==="event"?EventFragment.fromString(ee.substring(5).trim()):ee.split(" ")[0]==="function"?FunctionFragment.fromString(ee.substring(8).trim()):ee.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(ee.trim()):ee.split(" ")[0]==="error"?ErrorFragment.fromString(ee.substring(5).trim()):logger$n.throwArgumentError("unsupported fragment","value",ee)}static isFragment(ee){return!!(ee&&ee._isFragment)}}class EventFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$n.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let te="";return ee!==FormatTypes.sighash&&(te+="event "),te+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&this.anonymous&&(te+="anonymous "),te.trim()}static from(ee){return typeof ee=="string"?EventFragment.fromString(ee):EventFragment.fromObject(ee)}static fromObject(ee){if(EventFragment.isEventFragment(ee))return ee;ee.type!=="event"&&logger$n.throwArgumentError("invalid event object","value",ee);const te={name:verifyIdentifier(ee.name),anonymous:ee.anonymous,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$1,te)}static fromString(ee){let te=ee.match(regexParen);te||logger$n.throwArgumentError("invalid event string","value",ee);let ne=!1;return te[3].split(" ").forEach(se=>{switch(se.trim()){case"anonymous":ne=!0;break;case"":break;default:logger$n.warn("unknown modifier: "+se)}}),EventFragment.fromObject({name:te[1].trim(),anonymous:ne,inputs:parseParams(te[2],!0),type:"event"})}static isEventFragment(ee){return ee&&ee._isFragment&&ee.type==="event"}}function parseGas(re,ee){ee.gas=null;let te=re.split("@");return te.length!==1?(te.length>2&&logger$n.throwArgumentError("invalid human-readable ABI signature","value",re),te[1].match(/^[0-9]+$/)||logger$n.throwArgumentError("invalid human-readable ABI signature gas","value",re),ee.gas=BigNumber.from(te[1]),te[0]):re}function parseModifiers(re,ee){ee.constant=!1,ee.payable=!1,ee.stateMutability="nonpayable",re.split(" ").forEach(te=>{switch(te.trim()){case"constant":ee.constant=!0;break;case"payable":ee.payable=!0,ee.stateMutability="payable";break;case"nonpayable":ee.payable=!1,ee.stateMutability="nonpayable";break;case"pure":ee.constant=!0,ee.stateMutability="pure";break;case"view":ee.constant=!0,ee.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+te)}})}function verifyState(re){let ee={constant:!1,payable:!0,stateMutability:"payable"};return re.stateMutability!=null?(ee.stateMutability=re.stateMutability,ee.constant=ee.stateMutability==="view"||ee.stateMutability==="pure",re.constant!=null&&!!re.constant!==ee.constant&&logger$n.throwArgumentError("cannot have constant function with mutability "+ee.stateMutability,"value",re),ee.payable=ee.stateMutability==="payable",re.payable!=null&&!!re.payable!==ee.payable&&logger$n.throwArgumentError("cannot have payable function with mutability "+ee.stateMutability,"value",re)):re.payable!=null?(ee.payable=!!re.payable,re.constant==null&&!ee.payable&&re.type!=="constructor"&&logger$n.throwArgumentError("unable to determine stateMutability","value",re),ee.constant=!!re.constant,ee.constant?ee.stateMutability="view":ee.stateMutability=ee.payable?"payable":"nonpayable",ee.payable&&ee.constant&&logger$n.throwArgumentError("cannot have constant payable function","value",re)):re.constant!=null?(ee.constant=!!re.constant,ee.payable=!ee.constant,ee.stateMutability=ee.constant?"view":"payable"):re.type!=="constructor"&&logger$n.throwArgumentError("unable to determine stateMutability","value",re),ee}class ConstructorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$n.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});ee===FormatTypes.sighash&&logger$n.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let te="constructor("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(te+=this.stateMutability+" "),te.trim()}static from(ee){return typeof ee=="string"?ConstructorFragment.fromString(ee):ConstructorFragment.fromObject(ee)}static fromObject(ee){if(ConstructorFragment.isConstructorFragment(ee))return ee;ee.type!=="constructor"&&logger$n.throwArgumentError("invalid constructor object","value",ee);let te=verifyState(ee);te.constant&&logger$n.throwArgumentError("constructor cannot be constant","value",ee);const ne={name:null,type:ee.type,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],payable:te.payable,stateMutability:te.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new ConstructorFragment(_constructorGuard$1,ne)}static fromString(ee){let te={type:"constructor"};ee=parseGas(ee,te);let ne=ee.match(regexParen);return(!ne||ne[1].trim()!=="constructor")&&logger$n.throwArgumentError("invalid constructor string","value",ee),te.inputs=parseParams(ne[2].trim(),!1),parseModifiers(ne[3].trim(),te),ConstructorFragment.fromObject(te)}static isConstructorFragment(ee){return ee&&ee._isFragment&&ee.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$n.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee))),outputs:this.outputs.map(ne=>JSON.parse(ne.format(ee)))});let te="";return ee!==FormatTypes.sighash&&(te+="function "),te+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",ee!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(te+=this.stateMutability+" "):this.constant&&(te+="view "),this.outputs&&this.outputs.length&&(te+="returns ("+this.outputs.map(ne=>ne.format(ee)).join(", ")+") "),this.gas!=null&&(te+="@"+this.gas.toString()+" ")),te.trim()}static from(ee){return typeof ee=="string"?FunctionFragment.fromString(ee):FunctionFragment.fromObject(ee)}static fromObject(ee){if(FunctionFragment.isFunctionFragment(ee))return ee;ee.type!=="function"&&logger$n.throwArgumentError("invalid function object","value",ee);let te=verifyState(ee);const ne={type:ee.type,name:verifyIdentifier(ee.name),constant:te.constant,inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[],outputs:ee.outputs?ee.outputs.map(ParamType.fromObject):[],payable:te.payable,stateMutability:te.stateMutability,gas:ee.gas?BigNumber.from(ee.gas):null};return new FunctionFragment(_constructorGuard$1,ne)}static fromString(ee){let te={type:"function"};ee=parseGas(ee,te);let ne=ee.split(" returns ");ne.length>2&&logger$n.throwArgumentError("invalid function string","value",ee);let se=ne[0].match(regexParen);if(se||logger$n.throwArgumentError("invalid function signature","value",ee),te.name=se[1].trim(),te.name&&verifyIdentifier(te.name),te.inputs=parseParams(se[2],!1),parseModifiers(se[3].trim(),te),ne.length>1){let ie=ne[1].match(regexParen);(ie[1].trim()!=""||ie[3].trim()!="")&&logger$n.throwArgumentError("unexpected tokens","value",ee),te.outputs=parseParams(ie[2],!1)}else te.outputs=[];return FunctionFragment.fromObject(te)}static isFunctionFragment(ee){return ee&&ee._isFragment&&ee.type==="function"}}function checkForbidden(re){const ee=re.format();return(ee==="Error(string)"||ee==="Panic(uint256)")&&logger$n.throwArgumentError(`cannot specify user defined ${ee} error`,"fragment",re),re}class ErrorFragment extends Fragment{format(ee){if(ee||(ee=FormatTypes.sighash),FormatTypes[ee]||logger$n.throwArgumentError("invalid format type","format",ee),ee===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(ne=>JSON.parse(ne.format(ee)))});let te="";return ee!==FormatTypes.sighash&&(te+="error "),te+=this.name+"("+this.inputs.map(ne=>ne.format(ee)).join(ee===FormatTypes.full?", ":",")+") ",te.trim()}static from(ee){return typeof ee=="string"?ErrorFragment.fromString(ee):ErrorFragment.fromObject(ee)}static fromObject(ee){if(ErrorFragment.isErrorFragment(ee))return ee;ee.type!=="error"&&logger$n.throwArgumentError("invalid error object","value",ee);const te={type:ee.type,name:verifyIdentifier(ee.name),inputs:ee.inputs?ee.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$1,te))}static fromString(ee){let te={type:"error"},ne=ee.match(regexParen);return ne||logger$n.throwArgumentError("invalid error signature","value",ee),te.name=ne[1].trim(),te.name&&verifyIdentifier(te.name),te.inputs=parseParams(ne[2],!1),checkForbidden(ErrorFragment.fromObject(te))}static isErrorFragment(ee){return ee&&ee._isFragment&&ee.type==="error"}}function verifyType(re){return re.match(/^uint($|[^1-9])/)?re="uint256"+re.substring(4):re.match(/^int($|[^1-9])/)&&(re="int256"+re.substring(3)),re}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(re){return(!re||!re.match(regexIdentifier))&&logger$n.throwArgumentError(`invalid identifier "${re}"`,"value",re),re}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(re){re=re.trim();let ee=[],te="",ne=0;for(let se=0;se<re.length;se++){let ie=re[se];ie===","&&ne===0?(ee.push(te),te=""):(te+=ie,ie==="("?ne++:ie===")"&&(ne--,ne===-1&&logger$n.throwArgumentError("unbalanced parenthesis","value",re)))}return te&&ee.push(te),ee}const logger$m=new Logger(version$h);function checkResultErrors(re){const ee=[],te=function(ne,se){if(!!Array.isArray(se))for(let ie in se){const fe=ne.slice();fe.push(ie);try{te(fe,se[ie])}catch(ue){ee.push({path:fe,error:ue})}}};return te([],re),ee}class Coder{constructor(ee,te,ne,se){this.name=ee,this.type=te,this.localName=ne,this.dynamic=se}_throwError(ee,te){logger$m.throwArgumentError(ee,this.localName,te)}}class Writer{constructor(ee){defineReadOnly(this,"wordSize",ee||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(ee)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(ee){return this._data.push(ee),this._dataLength+=ee.length,ee.length}appendWriter(ee){return this._writeData(concat(ee._data))}writeBytes(ee){let te=arrayify(ee);const ne=te.length%this.wordSize;return ne&&(te=concat([te,this._padding.slice(ne)])),this._writeData(te)}_getValue(ee){let te=arrayify(BigNumber.from(ee));return te.length>this.wordSize&&logger$m.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:te.length}),te.length%this.wordSize&&(te=concat([this._padding.slice(te.length%this.wordSize),te])),te}writeValue(ee){return this._writeData(this._getValue(ee))}writeUpdatableValue(){const ee=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,te=>{this._data[ee]=this._getValue(te)}}}class Reader{constructor(ee,te,ne,se){defineReadOnly(this,"_data",arrayify(ee)),defineReadOnly(this,"wordSize",te||32),defineReadOnly(this,"_coerceFunc",ne),defineReadOnly(this,"allowLoose",se),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(ee,te){let ne=ee.match("^u?int([0-9]+)$");return ne&&parseInt(ne[1])<=48&&(te=te.toNumber()),te}coerce(ee,te){return this._coerceFunc?this._coerceFunc(ee,te):Reader.coerce(ee,te)}_peekBytes(ee,te,ne){let se=Math.ceil(te/this.wordSize)*this.wordSize;return this._offset+se>this._data.length&&(this.allowLoose&&ne&&this._offset+te<=this._data.length?se=te:logger$m.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+se})),this._data.slice(this._offset,this._offset+se)}subReader(ee){return new Reader(this._data.slice(this._offset+ee),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(ee,te){let ne=this._peekBytes(0,ee,!!te);return this._offset+=ne.length,ne.slice(0,ee)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}function keccak256$1(re){return"0x"+sha3.keccak_256(arrayify(re))}var lib_esm$h=Object.freeze({__proto__:null,keccak256:keccak256$1});const version$g="rlp/5.7.0",logger$l=new Logger(version$g);function arrayifyInteger(re){const ee=[];for(;re;)ee.unshift(re&255),re>>=8;return ee}function unarrayifyInteger(re,ee,te){let ne=0;for(let se=0;se<te;se++)ne=ne*256+re[ee+se];return ne}function _encode(re){if(Array.isArray(re)){let ne=[];if(re.forEach(function(ie){ne=ne.concat(_encode(ie))}),ne.length<=55)return ne.unshift(192+ne.length),ne;const se=arrayifyInteger(ne.length);return se.unshift(247+se.length),se.concat(ne)}isBytesLike(re)||logger$l.throwArgumentError("RLP object must be BytesLike","object",re);const ee=Array.prototype.slice.call(arrayify(re));if(ee.length===1&&ee[0]<=127)return ee;if(ee.length<=55)return ee.unshift(128+ee.length),ee;const te=arrayifyInteger(ee.length);return te.unshift(183+te.length),te.concat(ee)}function encode$1(re){return hexlify(_encode(re))}function _decodeChildren(re,ee,te,ne){const se=[];for(;te<ee+1+ne;){const ie=_decode(re,te);se.push(ie.result),te+=ie.consumed,te>ee+1+ne&&logger$l.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+ne,result:se}}function _decode(re,ee){if(re.length===0&&logger$l.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),re[ee]>=248){const te=re[ee]-247;ee+1+te>re.length&&logger$l.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(re,ee+1,te);return ee+1+te+ne>re.length&&logger$l.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(re,ee,ee+1+te,te+ne)}else if(re[ee]>=192){const te=re[ee]-192;return ee+1+te>re.length&&logger$l.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(re,ee,ee+1,te)}else if(re[ee]>=184){const te=re[ee]-183;ee+1+te>re.length&&logger$l.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const ne=unarrayifyInteger(re,ee+1,te);ee+1+te+ne>re.length&&logger$l.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const se=hexlify(re.slice(ee+1+te,ee+1+te+ne));return{consumed:1+te+ne,result:se}}else if(re[ee]>=128){const te=re[ee]-128;ee+1+te>re.length&&logger$l.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const ne=hexlify(re.slice(ee+1,ee+1+te));return{consumed:1+te,result:ne}}return{consumed:1,result:hexlify(re[ee])}}function decode$1(re){const ee=arrayify(re),te=_decode(ee,0);return te.consumed!==ee.length&&logger$l.throwArgumentError("invalid rlp data","data",re),te.result}var lib_esm$g=Object.freeze({__proto__:null,encode:encode$1,decode:decode$1});const version$f="address/5.7.0",logger$k=new Logger(version$f);function getChecksumAddress(re){isHexString(re,20)||logger$k.throwArgumentError("invalid address","address",re),re=re.toLowerCase();const ee=re.substring(2).split(""),te=new Uint8Array(40);for(let se=0;se<40;se++)te[se]=ee[se].charCodeAt(0);const ne=arrayify(keccak256$1(te));for(let se=0;se<40;se+=2)ne[se>>1]>>4>=8&&(ee[se]=ee[se].toUpperCase()),(ne[se>>1]&15)>=8&&(ee[se+1]=ee[se+1].toUpperCase());return"0x"+ee.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(re){return Math.log10?Math.log10(re):Math.log(re)/Math.LN10}const ibanLookup={};for(let re=0;re<10;re++)ibanLookup[String(re)]=String(re);for(let re=0;re<26;re++)ibanLookup[String.fromCharCode(65+re)]=String(10+re);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(re){re=re.toUpperCase(),re=re.substring(4)+re.substring(0,2)+"00";let ee=re.split("").map(ne=>ibanLookup[ne]).join("");for(;ee.length>=safeDigits;){let ne=ee.substring(0,safeDigits);ee=parseInt(ne,10)%97+ee.substring(ne.length)}let te=String(98-parseInt(ee,10)%97);for(;te.length<2;)te="0"+te;return te}function getAddress(re){let ee=null;if(typeof re!="string"&&logger$k.throwArgumentError("invalid address","address",re),re.match(/^(0x)?[0-9a-fA-F]{40}$/))re.substring(0,2)!=="0x"&&(re="0x"+re),ee=getChecksumAddress(re),re.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&ee!==re&&logger$k.throwArgumentError("bad address checksum","address",re);else if(re.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(re.substring(2,4)!==ibanChecksum(re)&&logger$k.throwArgumentError("bad icap checksum","address",re),ee=_base36To16(re.substring(4));ee.length<40;)ee="0"+ee;ee=getChecksumAddress("0x"+ee)}else logger$k.throwArgumentError("invalid address","address",re);return ee}function isAddress(re){try{return getAddress(re),!0}catch{}return!1}function getIcapAddress(re){let ee=_base16To36(getAddress(re).substring(2)).toUpperCase();for(;ee.length<30;)ee="0"+ee;return"XE"+ibanChecksum("XE00"+ee)+ee}function getContractAddress(re){let ee=null;try{ee=getAddress(re.from)}catch{logger$k.throwArgumentError("missing from address","transaction",re)}const te=stripZeros(arrayify(BigNumber.from(re.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$1([ee,te])),12))}function getCreate2Address(re,ee,te){return hexDataLength(ee)!==32&&logger$k.throwArgumentError("salt must be 32 bytes","salt",ee),hexDataLength(te)!==32&&logger$k.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",te),getAddress(hexDataSlice(keccak256$1(concat(["0xff",getAddress(re),ee,te])),12))}var lib_esm$f=Object.freeze({__proto__:null,getAddress,isAddress,getIcapAddress,getContractAddress,getCreate2Address});class AddressCoder extends Coder{constructor(ee){super("address","address",ee,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(ee,te){try{te=getAddress(te)}catch(ne){this._throwError(ne.message,te)}return ee.writeValue(te)}decode(ee){return getAddress(hexZeroPad(ee.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(ee){super(ee.name,ee.type,void 0,ee.dynamic),this.coder=ee}defaultValue(){return this.coder.defaultValue()}encode(ee,te){return this.coder.encode(ee,te)}decode(ee){return this.coder.decode(ee)}}const logger$j=new Logger(version$h);function pack$1(re,ee,te){let ne=null;if(Array.isArray(te))ne=te;else if(te&&typeof te=="object"){let xe={};ne=ee.map(Ee=>{const Ae=Ee.localName;return Ae||logger$j.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:Ee,value:te}),xe[Ae]&&logger$j.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:Ee,value:te}),xe[Ae]=!0,te[Ae]})}else logger$j.throwArgumentError("invalid tuple value","tuple",te);ee.length!==ne.length&&logger$j.throwArgumentError("types/value length mismatch","tuple",te);let se=new Writer(re.wordSize),ie=new Writer(re.wordSize),fe=[];ee.forEach((xe,Ee)=>{let Ae=ne[Ee];if(xe.dynamic){let Me=ie.length;xe.encode(ie,Ae);let Pe=se.writeUpdatableValue();fe.push(Ne=>{Pe(Ne+Me)})}else xe.encode(se,Ae)}),fe.forEach(xe=>{xe(se.length)});let ue=re.appendWriter(se);return ue+=re.appendWriter(ie),ue}function unpack(re,ee){let te=[],ne=re.subReader(0);ee.forEach(ie=>{let fe=null;if(ie.dynamic){let ue=re.readValue(),xe=ne.subReader(ue.toNumber());try{fe=ie.decode(xe)}catch(Ee){if(Ee.code===Logger.errors.BUFFER_OVERRUN)throw Ee;fe=Ee,fe.baseType=ie.name,fe.name=ie.localName,fe.type=ie.type}}else try{fe=ie.decode(re)}catch(ue){if(ue.code===Logger.errors.BUFFER_OVERRUN)throw ue;fe=ue,fe.baseType=ie.name,fe.name=ie.localName,fe.type=ie.type}fe!=null&&te.push(fe)});const se=ee.reduce((ie,fe)=>{const ue=fe.localName;return ue&&(ie[ue]||(ie[ue]=0),ie[ue]++),ie},{});ee.forEach((ie,fe)=>{let ue=ie.localName;if(!ue||se[ue]!==1||(ue==="length"&&(ue="_length"),te[ue]!=null))return;const xe=te[fe];xe instanceof Error?Object.defineProperty(te,ue,{enumerable:!0,get:()=>{throw xe}}):te[ue]=xe});for(let ie=0;ie<te.length;ie++){const fe=te[ie];fe instanceof Error&&Object.defineProperty(te,ie,{enumerable:!0,get:()=>{throw fe}})}return Object.freeze(te)}class ArrayCoder extends Coder{constructor(ee,te,ne){const se=ee.type+"["+(te>=0?te:"")+"]",ie=te===-1||ee.dynamic;super("array",se,ne,ie),this.coder=ee,this.length=te}defaultValue(){const ee=this.coder.defaultValue(),te=[];for(let ne=0;ne<this.length;ne++)te.push(ee);return te}encode(ee,te){Array.isArray(te)||this._throwError("expected array value",te);let ne=this.length;ne===-1&&(ne=te.length,ee.writeValue(te.length)),logger$j.checkArgumentCount(te.length,ne,"coder array"+(this.localName?" "+this.localName:""));let se=[];for(let ie=0;ie<te.length;ie++)se.push(this.coder);return pack$1(ee,se,te)}decode(ee){let te=this.length;te===-1&&(te=ee.readValue().toNumber(),te*32>ee._data.length&&logger$j.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:ee._data.length,count:te}));let ne=[];for(let se=0;se<te;se++)ne.push(new AnonymousCoder(this.coder));return ee.coerce(this.name,unpack(ee,ne))}}class BooleanCoder extends Coder{constructor(ee){super("bool","bool",ee,!1)}defaultValue(){return!1}encode(ee,te){return ee.writeValue(te?1:0)}decode(ee){return ee.coerce(this.type,!ee.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(ee,te){super(ee,ee,te,!0)}defaultValue(){return"0x"}encode(ee,te){te=arrayify(te);let ne=ee.writeValue(te.length);return ne+=ee.writeBytes(te),ne}decode(ee){return ee.readBytes(ee.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(ee){super("bytes",ee)}decode(ee){return ee.coerce(this.name,hexlify(super.decode(ee)))}}class FixedBytesCoder extends Coder{constructor(ee,te){let ne="bytes"+String(ee);super(ne,ne,te,!1),this.size=ee}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ee,te){let ne=arrayify(te);return ne.length!==this.size&&this._throwError("incorrect data length",te),ee.writeBytes(ne)}decode(ee){return ee.coerce(this.name,hexlify(ee.readBytes(this.size)))}}class NullCoder extends Coder{constructor(ee){super("null","",ee,!1)}defaultValue(){return null}encode(ee,te){return te!=null&&this._throwError("not null",te),ee.writeBytes([])}decode(ee){return ee.readBytes(0),ee.coerce(this.name,null)}}const NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(ee,te,ne){const se=(te?"int":"uint")+ee*8;super(se,se,ne,!1),this.size=ee,this.signed=te}defaultValue(){return 0}encode(ee,te){let ne=BigNumber.from(te),se=MaxUint256$1.mask(ee.wordSize*8);if(this.signed){let ie=se.mask(this.size*8-1);(ne.gt(ie)||ne.lt(ie.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",te)}else(ne.lt(Zero$1)||ne.gt(se.mask(this.size*8)))&&this._throwError("value out-of-bounds",te);return ne=ne.toTwos(this.size*8).mask(this.size*8),this.signed&&(ne=ne.fromTwos(this.size*8).toTwos(8*ee.wordSize)),ee.writeValue(ne)}decode(ee){let te=ee.readValue().mask(this.size*8);return this.signed&&(te=te.fromTwos(this.size*8)),ee.coerce(this.name,te)}}const version$e="strings/5.7.0",logger$i=new Logger(version$e);var UnicodeNormalizationForm;(function(re){re.current="",re.NFC="NFC",re.NFD="NFD",re.NFKC="NFKC",re.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(re){re.UNEXPECTED_CONTINUE="unexpected continuation byte",re.BAD_PREFIX="bad codepoint prefix",re.OVERRUN="string overrun",re.MISSING_CONTINUE="missing continuation byte",re.OUT_OF_RANGE="out of UTF-8 range",re.UTF16_SURROGATE="UTF-16 surrogate",re.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(re,ee,te,ne,se){return logger$i.throwArgumentError(`invalid codepoint at offset ${ee}; ${re}`,"bytes",te)}function ignoreFunc(re,ee,te,ne,se){if(re===Utf8ErrorReason.BAD_PREFIX||re===Utf8ErrorReason.UNEXPECTED_CONTINUE){let ie=0;for(let fe=ee+1;fe<te.length&&te[fe]>>6===2;fe++)ie++;return ie}return re===Utf8ErrorReason.OVERRUN?te.length-ee-1:0}function replaceFunc(re,ee,te,ne,se){return re===Utf8ErrorReason.OVERLONG?(ne.push(se),0):(ne.push(65533),ignoreFunc(re,ee,te))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(re,ee){ee==null&&(ee=Utf8ErrorFuncs.error),re=arrayify(re);const te=[];let ne=0;for(;ne<re.length;){const se=re[ne++];if(se>>7===0){te.push(se);continue}let ie=null,fe=null;if((se&224)===192)ie=1,fe=127;else if((se&240)===224)ie=2,fe=2047;else if((se&248)===240)ie=3,fe=65535;else{(se&192)===128?ne+=ee(Utf8ErrorReason.UNEXPECTED_CONTINUE,ne-1,re,te):ne+=ee(Utf8ErrorReason.BAD_PREFIX,ne-1,re,te);continue}if(ne-1+ie>=re.length){ne+=ee(Utf8ErrorReason.OVERRUN,ne-1,re,te);continue}let ue=se&(1<<8-ie-1)-1;for(let xe=0;xe<ie;xe++){let Ee=re[ne];if((Ee&192)!=128){ne+=ee(Utf8ErrorReason.MISSING_CONTINUE,ne,re,te),ue=null;break}ue=ue<<6|Ee&63,ne++}if(ue!==null){if(ue>1114111){ne+=ee(Utf8ErrorReason.OUT_OF_RANGE,ne-1-ie,re,te,ue);continue}if(ue>=55296&&ue<=57343){ne+=ee(Utf8ErrorReason.UTF16_SURROGATE,ne-1-ie,re,te,ue);continue}if(ue<=fe){ne+=ee(Utf8ErrorReason.OVERLONG,ne-1-ie,re,te,ue);continue}te.push(ue)}}return te}function toUtf8Bytes(re,ee=UnicodeNormalizationForm.current){ee!=UnicodeNormalizationForm.current&&(logger$i.checkNormalize(),re=re.normalize(ee));let te=[];for(let ne=0;ne<re.length;ne++){const se=re.charCodeAt(ne);if(se<128)te.push(se);else if(se<2048)te.push(se>>6|192),te.push(se&63|128);else if((se&64512)==55296){ne++;const ie=re.charCodeAt(ne);if(ne>=re.length||(ie&64512)!==56320)throw new Error("invalid utf-8 string");const fe=65536+((se&1023)<<10)+(ie&1023);te.push(fe>>18|240),te.push(fe>>12&63|128),te.push(fe>>6&63|128),te.push(fe&63|128)}else te.push(se>>12|224),te.push(se>>6&63|128),te.push(se&63|128)}return arrayify(te)}function escapeChar(re){const ee="0000"+re.toString(16);return"\\u"+ee.substring(ee.length-4)}function _toEscapedUtf8String(re,ee){return'"'+getUtf8CodePoints(re,ee).map(te=>{if(te<256){switch(te){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(te>=32&&te<127)return String.fromCharCode(te)}return te<=65535?escapeChar(te):(te-=65536,escapeChar((te>>10&1023)+55296)+escapeChar((te&1023)+56320))}).join("")+'"'}function _toUtf8String(re){return re.map(ee=>ee<=65535?String.fromCharCode(ee):(ee-=65536,String.fromCharCode((ee>>10&1023)+55296,(ee&1023)+56320))).join("")}function toUtf8String(re,ee){return _toUtf8String(getUtf8CodePoints(re,ee))}function toUtf8CodePoints(re,ee=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(re,ee))}function formatBytes32String(re){const ee=toUtf8Bytes(re);if(ee.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat([ee,HashZero]).slice(0,32))}function parseBytes32String(re){const ee=arrayify(re);if(ee.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(ee[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let te=31;for(;ee[te-1]===0;)te--;return toUtf8String(ee.slice(0,te))}function bytes2(re){if(re.length%4!==0)throw new Error("bad data");let ee=[];for(let te=0;te<re.length;te+=4)ee.push(parseInt(re.substring(te,te+4),16));return ee}function createTable(re,ee){ee||(ee=function(se){return[parseInt(se,16)]});let te=0,ne={};return re.split(",").forEach(se=>{let ie=se.split(":");te+=parseInt(ie[0],16),ne[te]=ee(ie[1])}),ne}function createRangeTable(re){let ee=0;return re.split(",").map(te=>{let ne=te.split("-");ne.length===1?ne[1]="0":ne[1]===""&&(ne[1]="1");let se=ee+parseInt(ne[0],16);return ee=parseInt(ne[1],16),{l:se,h:ee}})}function matchMap(re,ee){let te=0;for(let ne=0;ne<ee.length;ne++){let se=ee[ne];if(te+=se.l,re>=te&&re<=te+se.h&&(re-te)%(se.d||1)===0){if(se.e&&se.e.indexOf(re-te)!==-1)continue;return se}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(re=>parseInt(re,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(re){return re.reduce((ee,te)=>(te.forEach(ne=>{ee.push(ne)}),ee),[])}function _nameprepTableA1(re){return!!matchMap(re,Table_A_1_ranges)}function _nameprepTableB2(re){let ee=matchMap(re,Table_B_2_ranges);if(ee)return[re+ee.s];let te=Table_B_2_lut_abs[re];if(te)return te;let ne=Table_B_2_lut_rel[re];if(ne)return[re+ne[0]];let se=Table_B_2_complex[re];return se||null}function _nameprepTableC(re){return!!matchMap(re,Table_C_ranges)}function nameprep(re){if(re.match(/^[a-z0-9-]*$/i)&&re.length<=59)return re.toLowerCase();let ee=toUtf8CodePoints(re);ee=flatten(ee.map(ne=>{if(Table_B_1_flags.indexOf(ne)>=0)return[];if(ne>=65024&&ne<=65039)return[];let se=_nameprepTableB2(ne);return se||[ne]})),ee=toUtf8CodePoints(_toUtf8String(ee),UnicodeNormalizationForm.NFKC),ee.forEach(ne=>{if(_nameprepTableC(ne))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),ee.forEach(ne=>{if(_nameprepTableA1(ne))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let te=_toUtf8String(ee);if(te.substring(0,1)==="-"||te.substring(2,4)==="--"||te.substring(te.length-1)==="-")throw new Error("invalid hyphen");return te}var lib_esm$e=Object.freeze({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep});class StringCoder extends DynamicBytesCoder{constructor(ee){super("string",ee)}defaultValue(){return""}encode(ee,te){return super.encode(ee,toUtf8Bytes(te))}decode(ee){return toUtf8String(super.decode(ee))}}class TupleCoder extends Coder{constructor(ee,te){let ne=!1;const se=[];ee.forEach(fe=>{fe.dynamic&&(ne=!0),se.push(fe.type)});const ie="tuple("+se.join(",")+")";super("tuple",ie,te,ne),this.coders=ee}defaultValue(){const ee=[];this.coders.forEach(ne=>{ee.push(ne.defaultValue())});const te=this.coders.reduce((ne,se)=>{const ie=se.localName;return ie&&(ne[ie]||(ne[ie]=0),ne[ie]++),ne},{});return this.coders.forEach((ne,se)=>{let ie=ne.localName;!ie||te[ie]!==1||(ie==="length"&&(ie="_length"),ee[ie]==null&&(ee[ie]=ee[se]))}),Object.freeze(ee)}encode(ee,te){return pack$1(ee,this.coders,te)}decode(ee){return ee.coerce(this.name,unpack(ee,this.coders))}}const logger$h=new Logger(version$h),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(ee){defineReadOnly(this,"coerceFunc",ee||null)}_getCoder(ee){switch(ee.baseType){case"address":return new AddressCoder(ee.name);case"bool":return new BooleanCoder(ee.name);case"string":return new StringCoder(ee.name);case"bytes":return new BytesCoder(ee.name);case"array":return new ArrayCoder(this._getCoder(ee.arrayChildren),ee.arrayLength,ee.name);case"tuple":return new TupleCoder((ee.components||[]).map(ne=>this._getCoder(ne)),ee.name);case"":return new NullCoder(ee.name)}let te=ee.type.match(paramTypeNumber);if(te){let ne=parseInt(te[2]||"256");return(ne===0||ne>256||ne%8!==0)&&logger$h.throwArgumentError("invalid "+te[1]+" bit length","param",ee),new NumberCoder(ne/8,te[1]==="int",ee.name)}if(te=ee.type.match(paramTypeBytes),te){let ne=parseInt(te[1]);return(ne===0||ne>32)&&logger$h.throwArgumentError("invalid bytes length","param",ee),new FixedBytesCoder(ne,ee.name)}return logger$h.throwArgumentError("invalid type","type",ee.type)}_getWordSize(){return 32}_getReader(ee,te){return new Reader(ee,this._getWordSize(),this.coerceFunc,te)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(ee){const te=ee.map(se=>this._getCoder(ParamType.from(se)));return new TupleCoder(te,"_").defaultValue()}encode(ee,te){ee.length!==te.length&&logger$h.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:ee.length,values:te.length},value:{types:ee,values:te}});const ne=ee.map(fe=>this._getCoder(ParamType.from(fe))),se=new TupleCoder(ne,"_"),ie=this._getWriter();return se.encode(ie,te),ie.data}decode(ee,te,ne){const se=ee.map(fe=>this._getCoder(ParamType.from(fe)));return new TupleCoder(se,"_").decode(this._getReader(arrayify(te),ne))}}const defaultAbiCoder=new AbiCoder;function id(re){return keccak256$1(toUtf8Bytes(re))}const version$d="hash/5.7.0";function decode(re){re=atob(re);const ee=[];for(let te=0;te<re.length;te++)ee.push(re.charCodeAt(te));return arrayify(ee)}function encode(re){re=arrayify(re);let ee="";for(let te=0;te<re.length;te++)ee+=String.fromCharCode(re[te]);return btoa(ee)}var lib_esm$d=Object.freeze({__proto__:null,decode,encode});function flat(re,ee){ee==null&&(ee=1);const te=[],ne=te.forEach,se=function(ie,fe){ne.call(ie,function(ue){fe>0&&Array.isArray(ue)?se(ue,fe-1):te.push(ue)})};return se(re,ee),te}function fromEntries(re){const ee={};for(let te=0;te<re.length;te++){const ne=re[te];ee[ne[0]]=ne[1]}return ee}function decode_arithmetic(re){let ee=0;function te(){return re[ee++]<<8|re[ee++]}let ne=te(),se=1,ie=[0,1];for(let qe=1;qe<ne;qe++)ie.push(se+=te());let fe=te(),ue=ee;ee+=fe;let xe=0,Ee=0;function Ae(){return xe==0&&(Ee=Ee<<8|re[ee++],xe=8),Ee>>--xe&1}const Me=31,Pe=Math.pow(2,Me),Ne=Pe>>>1,je=Ne>>1,Ue=Pe-1;let Ce=0;for(let qe=0;qe<Me;qe++)Ce=Ce<<1|Ae();let Be=[],He=0,Oe=Pe;for(;;){let qe=Math.floor(((Ce-He+1)*se-1)/Oe),Ve=0,Xe=ne;for(;Xe-Ve>1;){let Qe=Ve+Xe>>>1;qe<ie[Qe]?Xe=Qe:Ve=Qe}if(Ve==0)break;Be.push(Ve);let rt=He+Math.floor(Oe*ie[Ve]/se),mt=He+Math.floor(Oe*ie[Ve+1]/se)-1;for(;((rt^mt)&Ne)==0;)Ce=Ce<<1&Ue|Ae(),rt=rt<<1&Ue,mt=mt<<1&Ue|1;for(;rt&~mt&je;)Ce=Ce&Ne|Ce<<1&Ue>>>1|Ae(),rt=rt<<1^Ne,mt=(mt^Ne)<<1|Ne|1;He=rt,Oe=1+mt-rt}let Ke=ne-4;return Be.map(qe=>{switch(qe-Ke){case 3:return Ke+65792+(re[ue++]<<16|re[ue++]<<8|re[ue++]);case 2:return Ke+256+(re[ue++]<<8|re[ue++]);case 1:return Ke+re[ue++];default:return qe-1}})}function read_payload(re){let ee=0;return()=>re[ee++]}function read_compressed_payload(re){return read_payload(decode_arithmetic(re))}function signed(re){return re&1?~re>>1:re>>1}function read_counts(re,ee){let te=Array(re);for(let ne=0;ne<re;ne++)te[ne]=1+ee();return te}function read_ascending(re,ee){let te=Array(re);for(let ne=0,se=-1;ne<re;ne++)te[ne]=se+=1+ee();return te}function read_deltas(re,ee){let te=Array(re);for(let ne=0,se=0;ne<re;ne++)te[ne]=se+=signed(ee());return te}function read_member_array(re,ee){let te=read_ascending(re(),re),ne=re(),se=read_ascending(ne,re),ie=read_counts(ne,re);for(let fe=0;fe<ne;fe++)for(let ue=0;ue<ie[fe];ue++)te.push(se[fe]+ue);return ee?te.map(fe=>ee[fe]):te}function read_mapped_map(re){let ee=[];for(;;){let te=re();if(te==0)break;ee.push(read_linear_table(te,re))}for(;;){let te=re()-1;if(te<0)break;ee.push(read_replacement_table(te,re))}return fromEntries(flat(ee))}function read_zero_terminated_array(re){let ee=[];for(;;){let te=re();if(te==0)break;ee.push(te)}return ee}function read_transposed(re,ee,te){let ne=Array(re).fill(void 0).map(()=>[]);for(let se=0;se<ee;se++)read_deltas(re,te).forEach((ie,fe)=>ne[fe].push(ie));return ne}function read_linear_table(re,ee){let te=1+ee(),ne=ee(),se=read_zero_terminated_array(ee),ie=read_transposed(se.length,1+re,ee);return flat(ie.map((fe,ue)=>{const xe=fe[0],Ee=fe.slice(1);return Array(se[ue]).fill(void 0).map((Ae,Me)=>{let Pe=Me*ne;return[xe+Me*te,Ee.map(Ne=>Ne+Pe)]})}))}function read_replacement_table(re,ee){let te=1+ee();return read_transposed(te,1+re,ee).map(se=>[se[0],se.slice(1)])}function read_emoji_trie(re){let ee=read_member_array(re).sort((ne,se)=>ne-se);return te();function te(){let ne=[];for(;;){let Ee=read_member_array(re,ee);if(Ee.length==0)break;ne.push({set:new Set(Ee),node:te()})}ne.sort((Ee,Ae)=>Ae.set.size-Ee.set.size);let se=re(),ie=se%3;se=se/3|0;let fe=!!(se&1);se>>=1;let ue=se==1,xe=se==2;return{branches:ne,valid:ie,fe0f:fe,save:ue,check:xe}}}function getData(){return read_compressed_payload(decode("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$1=getData(),VALID=new Set(read_member_array(r$1)),IGNORED=new Set(read_member_array(r$1)),MAPPED=read_mapped_map(r$1),EMOJI_ROOT=read_emoji_trie(r$1),HYPHEN=45,UNDERSCORE=95;function explode_cp(re){return toUtf8CodePoints(re)}function filter_fe0f(re){return re.filter(ee=>ee!=65039)}function ens_normalize_post_check(re){for(let ee of re.split(".")){let te=explode_cp(ee);try{for(let ne=te.lastIndexOf(UNDERSCORE)-1;ne>=0;ne--)if(te[ne]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(te.length>=4&&te.every(ne=>ne<128)&&te[2]===HYPHEN&&te[3]===HYPHEN)throw new Error("invalid label extension")}catch(ne){throw new Error(`Invalid label "${ee}": ${ne.message}`)}}return re}function ens_normalize(re){return ens_normalize_post_check(normalize(re,filter_fe0f))}function normalize(re,ee){let te=explode_cp(re).reverse(),ne=[];for(;te.length;){let se=consume_emoji_reversed(te);if(se){ne.push(...ee(se));continue}let ie=te.pop();if(VALID.has(ie)){ne.push(ie);continue}if(IGNORED.has(ie))continue;let fe=MAPPED[ie];if(fe){ne.push(...fe);continue}throw new Error(`Disallowed codepoint: 0x${ie.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...ne)))}function nfc(re){return re.normalize("NFC")}function consume_emoji_reversed(re,ee){var te;let ne=EMOJI_ROOT,se,ie,fe=[],ue=re.length;for(ee&&(ee.length=0);ue;){let xe=re[--ue];if(ne=(te=ne.branches.find(Ee=>Ee.set.has(xe)))===null||te===void 0?void 0:te.node,!ne)break;if(ne.save)ie=xe;else if(ne.check&&xe===ie)break;fe.push(xe),ne.fe0f&&(fe.push(65039),ue>0&&re[ue-1]==65039&&ue--),ne.valid&&(se=fe.slice(),ne.valid==2&&se.splice(1,1),ee&&ee.push(...re.slice(ue).reverse()),re.length=ue)}return se}const logger$g=new Logger(version$d),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(re){if(re.length===0)throw new Error("invalid ENS name; empty component");return re}function ensNameSplit(re){const ee=toUtf8Bytes(ens_normalize(re)),te=[];if(re.length===0)return te;let ne=0;for(let se=0;se<ee.length;se++)ee[se]===46&&(te.push(checkComponent(ee.slice(ne,se))),ne=se+1);if(ne>=ee.length)throw new Error("invalid ENS name; empty component");return te.push(checkComponent(ee.slice(ne))),te}function ensNormalize(re){return ensNameSplit(re).map(ee=>toUtf8String(ee)).join(".")}function isValidName(re){try{return ensNameSplit(re).length!==0}catch{}return!1}function namehash(re){typeof re!="string"&&logger$g.throwArgumentError("invalid ENS name; not a string","name",re);let ee=Zeros$1;const te=ensNameSplit(re);for(;te.length;)ee=keccak256$1(concat([ee,keccak256$1(te.pop())]));return hexlify(ee)}function dnsEncode(re){return hexlify(concat(ensNameSplit(re).map(ee=>{if(ee.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const te=new Uint8Array(ee.length+1);return te.set(ee,1),te[0]=te.length-1,te})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(re){return typeof re=="string"&&(re=toUtf8Bytes(re)),keccak256$1(concat([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(re.length)),re]))}var __awaiter$6=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$f=new Logger(version$d),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(re){const ee=arrayify(re),te=ee.length%32;return te?hexConcat([ee,padding.slice(te)]):hexlify(ee)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(re){return function(ee){return typeof ee!="string"&&logger$f.throwArgumentError(`invalid domain value for ${JSON.stringify(re)}`,`domain.${re}`,ee),ee}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(re){try{return BigNumber.from(re).toString()}catch{}return logger$f.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",re)},verifyingContract:function(re){try{return getAddress(re).toLowerCase()}catch{}return logger$f.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",re)},salt:function(re){try{const ee=arrayify(re);if(ee.length!==32)throw new Error("bad length");return hexlify(ee)}catch{}return logger$f.throwArgumentError('invalid domain value "salt"',"domain.salt",re)}};function getBaseEncoder(re){{const ee=re.match(/^(u?)int(\d*)$/);if(ee){const te=ee[1]==="",ne=parseInt(ee[2]||"256");(ne%8!==0||ne>256||ee[2]&&ee[2]!==String(ne))&&logger$f.throwArgumentError("invalid numeric width","type",re);const se=MaxUint256.mask(te?ne-1:ne),ie=te?se.add(One).mul(NegativeOne):Zero;return function(fe){const ue=BigNumber.from(fe);return(ue.lt(ie)||ue.gt(se))&&logger$f.throwArgumentError(`value out-of-bounds for ${re}`,"value",fe),hexZeroPad(ue.toTwos(256).toHexString(),32)}}}{const ee=re.match(/^bytes(\d+)$/);if(ee){const te=parseInt(ee[1]);return(te===0||te>32||ee[1]!==String(te))&&logger$f.throwArgumentError("invalid bytes width","type",re),function(ne){return arrayify(ne).length!==te&&logger$f.throwArgumentError(`invalid length for ${re}`,"value",ne),hexPadRight(ne)}}}switch(re){case"address":return function(ee){return hexZeroPad(getAddress(ee),32)};case"bool":return function(ee){return ee?hexTrue:hexFalse};case"bytes":return function(ee){return keccak256$1(ee)};case"string":return function(ee){return id(ee)}}return null}function encodeType(re,ee){return`${re}(${ee.map(({name:te,type:ne})=>ne+" "+te).join(",")})`}class TypedDataEncoder{constructor(ee){defineReadOnly(this,"types",Object.freeze(deepCopy(ee))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const te={},ne={},se={};Object.keys(ee).forEach(ue=>{te[ue]={},ne[ue]=[],se[ue]={}});for(const ue in ee){const xe={};ee[ue].forEach(Ee=>{xe[Ee.name]&&logger$f.throwArgumentError(`duplicate variable name ${JSON.stringify(Ee.name)} in ${JSON.stringify(ue)}`,"types",ee),xe[Ee.name]=!0;const Ae=Ee.type.match(/^([^\x5b]*)(\x5b|$)/)[1];Ae===ue&&logger$f.throwArgumentError(`circular type reference to ${JSON.stringify(Ae)}`,"types",ee),!getBaseEncoder(Ae)&&(ne[Ae]||logger$f.throwArgumentError(`unknown type ${JSON.stringify(Ae)}`,"types",ee),ne[Ae].push(ue),te[ue][Ae]=!0)})}const ie=Object.keys(ne).filter(ue=>ne[ue].length===0);ie.length===0?logger$f.throwArgumentError("missing primary type","types",ee):ie.length>1&&logger$f.throwArgumentError(`ambiguous primary types or unused types: ${ie.map(ue=>JSON.stringify(ue)).join(", ")}`,"types",ee),defineReadOnly(this,"primaryType",ie[0]);function fe(ue,xe){xe[ue]&&logger$f.throwArgumentError(`circular type reference to ${JSON.stringify(ue)}`,"types",ee),xe[ue]=!0,Object.keys(te[ue]).forEach(Ee=>{!ne[Ee]||(fe(Ee,xe),Object.keys(xe).forEach(Ae=>{se[Ae][Ee]=!0}))}),delete xe[ue]}fe(this.primaryType,{});for(const ue in se){const xe=Object.keys(se[ue]);xe.sort(),this._types[ue]=encodeType(ue,ee[ue])+xe.map(Ee=>encodeType(Ee,ee[Ee])).join("")}}getEncoder(ee){let te=this._encoderCache[ee];return te||(te=this._encoderCache[ee]=this._getEncoder(ee)),te}_getEncoder(ee){{const se=getBaseEncoder(ee);if(se)return se}const te=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(te){const se=te[1],ie=this.getEncoder(se),fe=parseInt(te[3]);return ue=>{fe>=0&&ue.length!==fe&&logger$f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ue);let xe=ue.map(ie);return this._types[se]&&(xe=xe.map(keccak256$1)),keccak256$1(hexConcat(xe))}}const ne=this.types[ee];if(ne){const se=id(this._types[ee]);return ie=>{const fe=ne.map(({name:ue,type:xe})=>{const Ee=this.getEncoder(xe)(ie[ue]);return this._types[xe]?keccak256$1(Ee):Ee});return fe.unshift(se),hexConcat(fe)}}return logger$f.throwArgumentError(`unknown type: ${ee}`,"type",ee)}encodeType(ee){const te=this._types[ee];return te||logger$f.throwArgumentError(`unknown type: ${JSON.stringify(ee)}`,"name",ee),te}encodeData(ee,te){return this.getEncoder(ee)(te)}hashStruct(ee,te){return keccak256$1(this.encodeData(ee,te))}encode(ee){return this.encodeData(this.primaryType,ee)}hash(ee){return this.hashStruct(this.primaryType,ee)}_visit(ee,te,ne){if(getBaseEncoder(ee))return ne(ee,te);const se=ee.match(/^(.*)(\x5b(\d*)\x5d)$/);if(se){const fe=se[1],ue=parseInt(se[3]);return ue>=0&&te.length!==ue&&logger$f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",te),te.map(xe=>this._visit(fe,xe,ne))}const ie=this.types[ee];return ie?ie.reduce((fe,{name:ue,type:xe})=>(fe[ue]=this._visit(xe,te[ue],ne),fe),{}):logger$f.throwArgumentError(`unknown type: ${ee}`,"type",ee)}visit(ee,te){return this._visit(this.primaryType,ee,te)}static from(ee){return new TypedDataEncoder(ee)}static getPrimaryType(ee){return TypedDataEncoder.from(ee).primaryType}static hashStruct(ee,te,ne){return TypedDataEncoder.from(te).hashStruct(ee,ne)}static hashDomain(ee){const te=[];for(const ne in ee){const se=domainFieldTypes[ne];se||logger$f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(ne)}`,"domain",ee),te.push({name:ne,type:se})}return te.sort((ne,se)=>domainFieldNames.indexOf(ne.name)-domainFieldNames.indexOf(se.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:te},ee)}static encode(ee,te,ne){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(ee),TypedDataEncoder.from(te).hash(ne)])}static hash(ee,te,ne){return keccak256$1(TypedDataEncoder.encode(ee,te,ne))}static resolveNames(ee,te,ne,se){return __awaiter$6(this,void 0,void 0,function*(){ee=shallowCopy(ee);const ie={};ee.verifyingContract&&!isHexString(ee.verifyingContract,20)&&(ie[ee.verifyingContract]="0x");const fe=TypedDataEncoder.from(te);fe.visit(ne,(ue,xe)=>(ue==="address"&&!isHexString(xe,20)&&(ie[xe]="0x"),xe));for(const ue in ie)ie[ue]=yield se(ue);return ee.verifyingContract&&ie[ee.verifyingContract]&&(ee.verifyingContract=ie[ee.verifyingContract]),ne=fe.visit(ne,(ue,xe)=>ue==="address"&&ie[xe]?ie[xe]:xe),{domain:ee,value:ne}})}static getPayload(ee,te,ne){TypedDataEncoder.hashDomain(ee);const se={},ie=[];domainFieldNames.forEach(xe=>{const Ee=ee[xe];Ee!=null&&(se[xe]=domainChecks[xe](Ee),ie.push({name:xe,type:domainFieldTypes[xe]}))});const fe=TypedDataEncoder.from(te),ue=shallowCopy(te);return ue.EIP712Domain?logger$f.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",te):ue.EIP712Domain=ie,fe.encode(ne),{types:ue,domain:se,primaryType:fe.primaryType,message:fe.visit(ne,(xe,Ee)=>{if(xe.match(/^bytes(\d*)/))return hexlify(arrayify(Ee));if(xe.match(/^u?int/))return BigNumber.from(Ee).toString();switch(xe){case"address":return Ee.toLowerCase();case"bool":return!!Ee;case"string":return typeof Ee!="string"&&logger$f.throwArgumentError("invalid string","value",Ee),Ee}return logger$f.throwArgumentError("unsupported type","type",xe)})}}}var lib_esm$c=Object.freeze({__proto__:null,id,dnsEncode,namehash,isValidName,ensNormalize,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder});const logger$e=new Logger(version$h);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(ee){return!!(ee&&ee._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(re,ee){const te=new Error(`deferred error during ABI decoding triggered accessing ${re}`);return te.error=ee,te}class Interface{constructor(ee){let te=[];typeof ee=="string"?te=JSON.parse(ee):te=ee,defineReadOnly(this,"fragments",te.map(ne=>Fragment.from(ne)).filter(ne=>ne!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(ne=>{let se=null;switch(ne.type){case"constructor":if(this.deploy){logger$e.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",ne);return;case"function":se=this.functions;break;case"event":se=this.events;break;case"error":se=this.errors;break;default:return}let ie=ne.format();if(se[ie]){logger$e.warn("duplicate definition - "+ie);return}se[ie]=ne}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(ee){ee||(ee=FormatTypes.full),ee===FormatTypes.sighash&&logger$e.throwArgumentError("interface does not support formatting sighash","format",ee);const te=this.fragments.map(ne=>ne.format(ee));return ee===FormatTypes.json?JSON.stringify(te.map(ne=>JSON.parse(ne))):te}static getAbiCoder(){return defaultAbiCoder}static getAddress(ee){return getAddress(ee)}static getSighash(ee){return hexDataSlice(id(ee.format()),0,4)}static getEventTopic(ee){return id(ee.format())}getFunction(ee){if(isHexString(ee)){for(const ne in this.functions)if(ee===this.getSighash(ne))return this.functions[ne];logger$e.throwArgumentError("no matching function","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),se=Object.keys(this.functions).filter(ie=>ie.split("(")[0]===ne);return se.length===0?logger$e.throwArgumentError("no matching function","name",ne):se.length>1&&logger$e.throwArgumentError("multiple matching functions","name",ne),this.functions[se[0]]}const te=this.functions[FunctionFragment.fromString(ee).format()];return te||logger$e.throwArgumentError("no matching function","signature",ee),te}getEvent(ee){if(isHexString(ee)){const ne=ee.toLowerCase();for(const se in this.events)if(ne===this.getEventTopic(se))return this.events[se];logger$e.throwArgumentError("no matching event","topichash",ne)}if(ee.indexOf("(")===-1){const ne=ee.trim(),se=Object.keys(this.events).filter(ie=>ie.split("(")[0]===ne);return se.length===0?logger$e.throwArgumentError("no matching event","name",ne):se.length>1&&logger$e.throwArgumentError("multiple matching events","name",ne),this.events[se[0]]}const te=this.events[EventFragment.fromString(ee).format()];return te||logger$e.throwArgumentError("no matching event","signature",ee),te}getError(ee){if(isHexString(ee)){const ne=getStatic(this.constructor,"getSighash");for(const se in this.errors){const ie=this.errors[se];if(ee===ne(ie))return this.errors[se]}logger$e.throwArgumentError("no matching error","sighash",ee)}if(ee.indexOf("(")===-1){const ne=ee.trim(),se=Object.keys(this.errors).filter(ie=>ie.split("(")[0]===ne);return se.length===0?logger$e.throwArgumentError("no matching error","name",ne):se.length>1&&logger$e.throwArgumentError("multiple matching errors","name",ne),this.errors[se[0]]}const te=this.errors[FunctionFragment.fromString(ee).format()];return te||logger$e.throwArgumentError("no matching error","signature",ee),te}getSighash(ee){if(typeof ee=="string")try{ee=this.getFunction(ee)}catch(te){try{ee=this.getError(ee)}catch{throw te}}return getStatic(this.constructor,"getSighash")(ee)}getEventTopic(ee){return typeof ee=="string"&&(ee=this.getEvent(ee)),getStatic(this.constructor,"getEventTopic")(ee)}_decodeParams(ee,te){return this._abiCoder.decode(ee,te)}_encodeParams(ee,te){return this._abiCoder.encode(ee,te)}encodeDeploy(ee){return this._encodeParams(this.deploy.inputs,ee||[])}decodeErrorResult(ee,te){typeof ee=="string"&&(ee=this.getError(ee));const ne=arrayify(te);return hexlify(ne.slice(0,4))!==this.getSighash(ee)&&logger$e.throwArgumentError(`data signature does not match error ${ee.name}.`,"data",hexlify(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeErrorResult(ee,te){return typeof ee=="string"&&(ee=this.getError(ee)),hexlify(concat([this.getSighash(ee),this._encodeParams(ee.inputs,te||[])]))}decodeFunctionData(ee,te){typeof ee=="string"&&(ee=this.getFunction(ee));const ne=arrayify(te);return hexlify(ne.slice(0,4))!==this.getSighash(ee)&&logger$e.throwArgumentError(`data signature does not match function ${ee.name}.`,"data",hexlify(ne)),this._decodeParams(ee.inputs,ne.slice(4))}encodeFunctionData(ee,te){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(concat([this.getSighash(ee),this._encodeParams(ee.inputs,te||[])]))}decodeFunctionResult(ee,te){typeof ee=="string"&&(ee=this.getFunction(ee));let ne=arrayify(te),se=null,ie="",fe=null,ue=null,xe=null;switch(ne.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(ee.outputs,ne)}catch{}break;case 4:{const Ee=hexlify(ne.slice(0,4)),Ae=BuiltinErrors[Ee];if(Ae)fe=this._abiCoder.decode(Ae.inputs,ne.slice(4)),ue=Ae.name,xe=Ae.signature,Ae.reason&&(se=fe[0]),ue==="Error"?ie=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(fe[0])}`:ue==="Panic"&&(ie=`; VM Exception while processing transaction: reverted with panic code ${fe[0]}`);else try{const Me=this.getError(Ee);fe=this._abiCoder.decode(Me.inputs,ne.slice(4)),ue=Me.name,xe=Me.format()}catch{}break}}return logger$e.throwError("call revert exception"+ie,Logger.errors.CALL_EXCEPTION,{method:ee.format(),data:hexlify(te),errorArgs:fe,errorName:ue,errorSignature:xe,reason:se})}encodeFunctionResult(ee,te){return typeof ee=="string"&&(ee=this.getFunction(ee)),hexlify(this._abiCoder.encode(ee.outputs,te||[]))}encodeFilterTopics(ee,te){typeof ee=="string"&&(ee=this.getEvent(ee)),te.length>ee.inputs.length&&logger$e.throwError("too many arguments for "+ee.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:te});let ne=[];ee.anonymous||ne.push(this.getEventTopic(ee));const se=(ie,fe)=>ie.type==="string"?id(fe):ie.type==="bytes"?keccak256$1(hexlify(fe)):(ie.type==="bool"&&typeof fe=="boolean"&&(fe=fe?"0x01":"0x00"),ie.type.match(/^u?int/)&&(fe=BigNumber.from(fe).toHexString()),ie.type==="address"&&this._abiCoder.encode(["address"],[fe]),hexZeroPad(hexlify(fe),32));for(te.forEach((ie,fe)=>{let ue=ee.inputs[fe];if(!ue.indexed){ie!=null&&logger$e.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ue.name,ie);return}ie==null?ne.push(null):ue.baseType==="array"||ue.baseType==="tuple"?logger$e.throwArgumentError("filtering with tuples or arrays not supported","contract."+ue.name,ie):Array.isArray(ie)?ne.push(ie.map(xe=>se(ue,xe))):ne.push(se(ue,ie))});ne.length&&ne[ne.length-1]===null;)ne.pop();return ne}encodeEventLog(ee,te){typeof ee=="string"&&(ee=this.getEvent(ee));const ne=[],se=[],ie=[];return ee.anonymous||ne.push(this.getEventTopic(ee)),te.length!==ee.inputs.length&&logger$e.throwArgumentError("event arguments/values mismatch","values",te),ee.inputs.forEach((fe,ue)=>{const xe=te[ue];if(fe.indexed)if(fe.type==="string")ne.push(id(xe));else if(fe.type==="bytes")ne.push(keccak256$1(xe));else{if(fe.baseType==="tuple"||fe.baseType==="array")throw new Error("not implemented");ne.push(this._abiCoder.encode([fe.type],[xe]))}else se.push(fe),ie.push(xe)}),{data:this._abiCoder.encode(se,ie),topics:ne}}decodeEventLog(ee,te,ne){if(typeof ee=="string"&&(ee=this.getEvent(ee)),ne!=null&&!ee.anonymous){let Pe=this.getEventTopic(ee);(!isHexString(ne[0],32)||ne[0].toLowerCase()!==Pe)&&logger$e.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:Pe,value:ne[0]}),ne=ne.slice(1)}let se=[],ie=[],fe=[];ee.inputs.forEach((Pe,Ne)=>{Pe.indexed?Pe.type==="string"||Pe.type==="bytes"||Pe.baseType==="tuple"||Pe.baseType==="array"?(se.push(ParamType.fromObject({type:"bytes32",name:Pe.name})),fe.push(!0)):(se.push(Pe),fe.push(!1)):(ie.push(Pe),fe.push(!1))});let ue=ne!=null?this._abiCoder.decode(se,concat(ne)):null,xe=this._abiCoder.decode(ie,te,!0),Ee=[],Ae=0,Me=0;ee.inputs.forEach((Pe,Ne)=>{if(Pe.indexed)if(ue==null)Ee[Ne]=new Indexed({_isIndexed:!0,hash:null});else if(fe[Ne])Ee[Ne]=new Indexed({_isIndexed:!0,hash:ue[Me++]});else try{Ee[Ne]=ue[Me++]}catch(je){Ee[Ne]=je}else try{Ee[Ne]=xe[Ae++]}catch(je){Ee[Ne]=je}if(Pe.name&&Ee[Pe.name]==null){const je=Ee[Ne];je instanceof Error?Object.defineProperty(Ee,Pe.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(Pe.name)}`,je)}}):Ee[Pe.name]=je}});for(let Pe=0;Pe<Ee.length;Pe++){const Ne=Ee[Pe];Ne instanceof Error&&Object.defineProperty(Ee,Pe,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${Pe}`,Ne)}})}return Object.freeze(Ee)}parseTransaction(ee){let te=this.getFunction(ee.data.substring(0,10).toLowerCase());return te?new TransactionDescription({args:this._abiCoder.decode(te.inputs,"0x"+ee.data.substring(10)),functionFragment:te,name:te.name,signature:te.format(),sighash:this.getSighash(te),value:BigNumber.from(ee.value||"0")}):null}parseLog(ee){let te=this.getEvent(ee.topics[0]);return!te||te.anonymous?null:new LogDescription({eventFragment:te,name:te.name,signature:te.format(),topic:this.getEventTopic(te),args:this.decodeEventLog(te,ee.data,ee.topics)})}parseError(ee){const te=hexlify(ee);let ne=this.getError(te.substring(0,10).toLowerCase());return ne?new ErrorDescription({args:this._abiCoder.decode(ne.inputs,"0x"+te.substring(10)),errorFragment:ne,name:ne.name,signature:ne.format(),sighash:this.getSighash(ne)}):null}static isInterface(ee){return!!(ee&&ee._isInterface)}}var lib_esm$b=Object.freeze({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription}),require$$0=getAugmentedNamespace(lib_esm$b),require$$1=getAugmentedNamespace(lib_esm$f),require$$2=getAugmentedNamespace(lib_esm$d);class BaseX{constructor(ee){defineReadOnly(this,"alphabet",ee),defineReadOnly(this,"base",ee.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",ee.charAt(0));for(let te=0;te<ee.length;te++)this._alphabetMap[ee.charAt(te)]=te}encode(ee){let te=arrayify(ee);if(te.length===0)return"";let ne=[0];for(let ie=0;ie<te.length;++ie){let fe=te[ie];for(let ue=0;ue<ne.length;++ue)fe+=ne[ue]<<8,ne[ue]=fe%this.base,fe=fe/this.base|0;for(;fe>0;)ne.push(fe%this.base),fe=fe/this.base|0}let se="";for(let ie=0;te[ie]===0&&ie<te.length-1;++ie)se+=this._leader;for(let ie=ne.length-1;ie>=0;--ie)se+=this.alphabet[ne[ie]];return se}decode(ee){if(typeof ee!="string")throw new TypeError("Expected String");let te=[];if(ee.length===0)return new Uint8Array(te);te.push(0);for(let ne=0;ne<ee.length;ne++){let se=this._alphabetMap[ee[ne]];if(se===void 0)throw new Error("Non-base"+this.base+" character");let ie=se;for(let fe=0;fe<te.length;++fe)ie+=te[fe]*this.base,te[fe]=ie&255,ie>>=8;for(;ie>0;)te.push(ie&255),ie>>=8}for(let ne=0;ee[ne]===this._leader&&ne<ee.length-1;++ne)te.push(0);return arrayify(new Uint8Array(te.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var lib_esm$a=Object.freeze({__proto__:null,BaseX,Base32,Base58}),require$$3=getAugmentedNamespace(lib_esm$a),require$$4=getAugmentedNamespace(lib_esm$j),require$$5=getAugmentedNamespace(lib_esm$c),hash={},utils$9={},minimalisticAssert$1=assert$b;function assert$b(re,ee){if(!re)throw new Error(ee||"Assertion failed")}assert$b.equal=function re(ee,te,ne){if(ee!=te)throw new Error(ne||"Assertion failed: "+ee+" != "+te)};var assert$a=minimalisticAssert$1,inherits=inherits_browser$1.exports;utils$9.inherits=inherits;function isSurrogatePair(re,ee){return(re.charCodeAt(ee)&64512)!==55296||ee<0||ee+1>=re.length?!1:(re.charCodeAt(ee+1)&64512)===56320}function toArray(re,ee){if(Array.isArray(re))return re.slice();if(!re)return[];var te=[];if(typeof re=="string")if(ee){if(ee==="hex")for(re=re.replace(/[^a-z0-9]+/ig,""),re.length%2!==0&&(re="0"+re),se=0;se<re.length;se+=2)te.push(parseInt(re[se]+re[se+1],16))}else for(var ne=0,se=0;se<re.length;se++){var ie=re.charCodeAt(se);ie<128?te[ne++]=ie:ie<2048?(te[ne++]=ie>>6|192,te[ne++]=ie&63|128):isSurrogatePair(re,se)?(ie=65536+((ie&1023)<<10)+(re.charCodeAt(++se)&1023),te[ne++]=ie>>18|240,te[ne++]=ie>>12&63|128,te[ne++]=ie>>6&63|128,te[ne++]=ie&63|128):(te[ne++]=ie>>12|224,te[ne++]=ie>>6&63|128,te[ne++]=ie&63|128)}else for(se=0;se<re.length;se++)te[se]=re[se]|0;return te}utils$9.toArray=toArray;function toHex(re){for(var ee="",te=0;te<re.length;te++)ee+=zero2(re[te].toString(16));return ee}utils$9.toHex=toHex;function htonl(re){var ee=re>>>24|re>>>8&65280|re<<8&16711680|(re&255)<<24;return ee>>>0}utils$9.htonl=htonl;function toHex32(re,ee){for(var te="",ne=0;ne<re.length;ne++){var se=re[ne];ee==="little"&&(se=htonl(se)),te+=zero8(se.toString(16))}return te}utils$9.toHex32=toHex32;function zero2(re){return re.length===1?"0"+re:re}utils$9.zero2=zero2;function zero8(re){return re.length===7?"0"+re:re.length===6?"00"+re:re.length===5?"000"+re:re.length===4?"0000"+re:re.length===3?"00000"+re:re.length===2?"000000"+re:re.length===1?"0000000"+re:re}utils$9.zero8=zero8;function join32(re,ee,te,ne){var se=te-ee;assert$a(se%4===0);for(var ie=new Array(se/4),fe=0,ue=ee;fe<ie.length;fe++,ue+=4){var xe;ne==="big"?xe=re[ue]<<24|re[ue+1]<<16|re[ue+2]<<8|re[ue+3]:xe=re[ue+3]<<24|re[ue+2]<<16|re[ue+1]<<8|re[ue],ie[fe]=xe>>>0}return ie}utils$9.join32=join32;function split32(re,ee){for(var te=new Array(re.length*4),ne=0,se=0;ne<re.length;ne++,se+=4){var ie=re[ne];ee==="big"?(te[se]=ie>>>24,te[se+1]=ie>>>16&255,te[se+2]=ie>>>8&255,te[se+3]=ie&255):(te[se+3]=ie>>>24,te[se+2]=ie>>>16&255,te[se+1]=ie>>>8&255,te[se]=ie&255)}return te}utils$9.split32=split32;function rotr32$1(re,ee){return re>>>ee|re<<32-ee}utils$9.rotr32=rotr32$1;function rotl32$2(re,ee){return re<<ee|re>>>32-ee}utils$9.rotl32=rotl32$2;function sum32$3(re,ee){return re+ee>>>0}utils$9.sum32=sum32$3;function sum32_3$1(re,ee,te){return re+ee+te>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2(re,ee,te,ne){return re+ee+te+ne>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2(re,ee,te,ne,se){return re+ee+te+ne+se>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1(re,ee,te,ne){var se=re[ee],ie=re[ee+1],fe=ne+ie>>>0,ue=(fe<ne?1:0)+te+se;re[ee]=ue>>>0,re[ee+1]=fe}utils$9.sum64=sum64$1;function sum64_hi$1(re,ee,te,ne){var se=ee+ne>>>0,ie=(se<ee?1:0)+re+te;return ie>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1(re,ee,te,ne){var se=ee+ne;return se>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1(re,ee,te,ne,se,ie,fe,ue){var xe=0,Ee=ee;Ee=Ee+ne>>>0,xe+=Ee<ee?1:0,Ee=Ee+ie>>>0,xe+=Ee<ie?1:0,Ee=Ee+ue>>>0,xe+=Ee<ue?1:0;var Ae=re+te+se+fe+xe;return Ae>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(re,ee,te,ne,se,ie,fe,ue){var xe=ee+ne+ie+ue;return xe>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(re,ee,te,ne,se,ie,fe,ue,xe,Ee){var Ae=0,Me=ee;Me=Me+ne>>>0,Ae+=Me<ee?1:0,Me=Me+ie>>>0,Ae+=Me<ie?1:0,Me=Me+ue>>>0,Ae+=Me<ue?1:0,Me=Me+Ee>>>0,Ae+=Me<Ee?1:0;var Pe=re+te+se+fe+xe+Ae;return Pe>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(re,ee,te,ne,se,ie,fe,ue,xe,Ee){var Ae=ee+ne+ie+ue+Ee;return Ae>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(re,ee,te){var ne=ee<<32-te|re>>>te;return ne>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(re,ee,te){var ne=re<<32-te|ee>>>te;return ne>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1(re,ee,te){return re>>>te}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1(re,ee,te){var ne=re<<32-te|ee>>>te;return ne>>>0}utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function re(ee,te){if(ee=utils$8.toArray(ee,te),this.pending?this.pending=this.pending.concat(ee):this.pending=ee,this.pendingTotal+=ee.length,this.pending.length>=this._delta8){ee=this.pending;var ne=ee.length%this._delta8;this.pending=ee.slice(ee.length-ne,ee.length),this.pending.length===0&&(this.pending=null),ee=utils$8.join32(ee,0,ee.length-ne,this.endian);for(var se=0;se<ee.length;se+=this._delta32)this._update(ee,se,se+this._delta32)}return this},BlockHash$4.prototype.digest=function re(ee){return this.update(this._pad()),assert$9(this.pending===null),this._digest(ee)},BlockHash$4.prototype._pad=function re(){var ee=this.pendingTotal,te=this._delta8,ne=te-(ee+this.padLength)%te,se=new Array(ne+this.padLength);se[0]=128;for(var ie=1;ie<ne;ie++)se[ie]=0;if(ee<<=3,this.endian==="big"){for(var fe=8;fe<this.padLength;fe++)se[ie++]=0;se[ie++]=0,se[ie++]=0,se[ie++]=0,se[ie++]=0,se[ie++]=ee>>>24&255,se[ie++]=ee>>>16&255,se[ie++]=ee>>>8&255,se[ie++]=ee&255}else for(se[ie++]=ee&255,se[ie++]=ee>>>8&255,se[ie++]=ee>>>16&255,se[ie++]=ee>>>24&255,se[ie++]=0,se[ie++]=0,se[ie++]=0,se[ie++]=0,fe=8;fe<this.padLength;fe++)se[ie++]=0;return se};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(re,ee,te,ne){if(re===0)return ch32$1(ee,te,ne);if(re===1||re===3)return p32(ee,te,ne);if(re===2)return maj32$1(ee,te,ne)}common$4.ft_1=ft_1$1;function ch32$1(re,ee,te){return re&ee^~re&te}common$4.ch32=ch32$1;function maj32$1(re,ee,te){return re&ee^re&te^ee&te}common$4.maj32=maj32$1;function p32(re,ee,te){return re^ee^te}common$4.p32=p32;function s0_256$1(re){return rotr32(re,2)^rotr32(re,13)^rotr32(re,22)}common$4.s0_256=s0_256$1;function s1_256$1(re){return rotr32(re,6)^rotr32(re,11)^rotr32(re,25)}common$4.s1_256=s1_256$1;function g0_256$1(re){return rotr32(re,7)^rotr32(re,18)^re>>>3}common$4.g0_256=g0_256$1;function g1_256$1(re){return rotr32(re,17)^rotr32(re,19)^re>>>10}common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function re(ee,te){for(var ne=this.W,se=0;se<16;se++)ne[se]=ee[te+se];for(;se<ne.length;se++)ne[se]=rotl32$1(ne[se-3]^ne[se-8]^ne[se-14]^ne[se-16],1);var ie=this.h[0],fe=this.h[1],ue=this.h[2],xe=this.h[3],Ee=this.h[4];for(se=0;se<ne.length;se++){var Ae=~~(se/20),Me=sum32_5$1(rotl32$1(ie,5),ft_1(Ae,fe,ue,xe),Ee,ne[se],sha1_K[Ae]);Ee=xe,xe=ue,ue=rotl32$1(fe,30),fe=ie,ie=Me}this.h[0]=sum32$2(this.h[0],ie),this.h[1]=sum32$2(this.h[1],fe),this.h[2]=sum32$2(this.h[2],ue),this.h[3]=sum32$2(this.h[3],xe),this.h[4]=sum32$2(this.h[4],Ee)},SHA1.prototype._digest=function re(ee){return ee==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function re(ee,te){for(var ne=this.W,se=0;se<16;se++)ne[se]=ee[te+se];for(;se<ne.length;se++)ne[se]=sum32_4$1(g1_256(ne[se-2]),ne[se-7],g0_256(ne[se-15]),ne[se-16]);var ie=this.h[0],fe=this.h[1],ue=this.h[2],xe=this.h[3],Ee=this.h[4],Ae=this.h[5],Me=this.h[6],Pe=this.h[7];for(assert$8(this.k.length===ne.length),se=0;se<ne.length;se++){var Ne=sum32_5(Pe,s1_256(Ee),ch32(Ee,Ae,Me),this.k[se],ne[se]),je=sum32$1(s0_256(ie),maj32(ie,fe,ue));Pe=Me,Me=Ae,Ae=Ee,Ee=sum32$1(xe,Ne),xe=ue,ue=fe,fe=ie,ie=sum32$1(Ne,je)}this.h[0]=sum32$1(this.h[0],ie),this.h[1]=sum32$1(this.h[1],fe),this.h[2]=sum32$1(this.h[2],ue),this.h[3]=sum32$1(this.h[3],xe),this.h[4]=sum32$1(this.h[4],Ee),this.h[5]=sum32$1(this.h[5],Ae),this.h[6]=sum32$1(this.h[6],Me),this.h[7]=sum32$1(this.h[7],Pe)},SHA256$1.prototype._digest=function re(ee){return ee==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function re(ee){return ee==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function re(ee,te){for(var ne=this.W,se=0;se<32;se++)ne[se]=ee[te+se];for(;se<ne.length;se+=2){var ie=g1_512_hi(ne[se-4],ne[se-3]),fe=g1_512_lo(ne[se-4],ne[se-3]),ue=ne[se-14],xe=ne[se-13],Ee=g0_512_hi(ne[se-30],ne[se-29]),Ae=g0_512_lo(ne[se-30],ne[se-29]),Me=ne[se-32],Pe=ne[se-31];ne[se]=sum64_4_hi(ie,fe,ue,xe,Ee,Ae,Me,Pe),ne[se+1]=sum64_4_lo(ie,fe,ue,xe,Ee,Ae,Me,Pe)}},SHA512$1.prototype._update=function re(ee,te){this._prepareBlock(ee,te);var ne=this.W,se=this.h[0],ie=this.h[1],fe=this.h[2],ue=this.h[3],xe=this.h[4],Ee=this.h[5],Ae=this.h[6],Me=this.h[7],Pe=this.h[8],Ne=this.h[9],je=this.h[10],Ue=this.h[11],Ce=this.h[12],Be=this.h[13],He=this.h[14],Oe=this.h[15];assert$7(this.k.length===ne.length);for(var Ke=0;Ke<ne.length;Ke+=2){var qe=He,Ve=Oe,Xe=s1_512_hi(Pe,Ne),rt=s1_512_lo(Pe,Ne),mt=ch64_hi(Pe,Ne,je,Ue,Ce),Qe=ch64_lo(Pe,Ne,je,Ue,Ce,Be),Se=this.k[Ke],$e=this.k[Ke+1],pe=ne[Ke],oe=ne[Ke+1],ce=sum64_5_hi(qe,Ve,Xe,rt,mt,Qe,Se,$e,pe,oe),le=sum64_5_lo(qe,Ve,Xe,rt,mt,Qe,Se,$e,pe,oe);qe=s0_512_hi(se,ie),Ve=s0_512_lo(se,ie),Xe=maj64_hi(se,ie,fe,ue,xe),rt=maj64_lo(se,ie,fe,ue,xe,Ee);var ge=sum64_hi(qe,Ve,Xe,rt),ye=sum64_lo(qe,Ve,Xe,rt);He=Ce,Oe=Be,Ce=je,Be=Ue,je=Pe,Ue=Ne,Pe=sum64_hi(Ae,Me,ce,le),Ne=sum64_lo(Me,Me,ce,le),Ae=xe,Me=Ee,xe=fe,Ee=ue,fe=se,ue=ie,se=sum64_hi(ce,le,ge,ye),ie=sum64_lo(ce,le,ge,ye)}sum64(this.h,0,se,ie),sum64(this.h,2,fe,ue),sum64(this.h,4,xe,Ee),sum64(this.h,6,Ae,Me),sum64(this.h,8,Pe,Ne),sum64(this.h,10,je,Ue),sum64(this.h,12,Ce,Be),sum64(this.h,14,He,Oe)},SHA512$1.prototype._digest=function re(ee){return ee==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi(re,ee,te,ne,se){var ie=re&te^~re&se;return ie<0&&(ie+=4294967296),ie}function ch64_lo(re,ee,te,ne,se,ie){var fe=ee&ne^~ee&ie;return fe<0&&(fe+=4294967296),fe}function maj64_hi(re,ee,te,ne,se){var ie=re&te^re&se^te&se;return ie<0&&(ie+=4294967296),ie}function maj64_lo(re,ee,te,ne,se,ie){var fe=ee&ne^ee&ie^ne&ie;return fe<0&&(fe+=4294967296),fe}function s0_512_hi(re,ee){var te=rotr64_hi(re,ee,28),ne=rotr64_hi(ee,re,2),se=rotr64_hi(ee,re,7),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function s0_512_lo(re,ee){var te=rotr64_lo(re,ee,28),ne=rotr64_lo(ee,re,2),se=rotr64_lo(ee,re,7),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function s1_512_hi(re,ee){var te=rotr64_hi(re,ee,14),ne=rotr64_hi(re,ee,18),se=rotr64_hi(ee,re,9),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function s1_512_lo(re,ee){var te=rotr64_lo(re,ee,14),ne=rotr64_lo(re,ee,18),se=rotr64_lo(ee,re,9),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function g0_512_hi(re,ee){var te=rotr64_hi(re,ee,1),ne=rotr64_hi(re,ee,8),se=shr64_hi(re,ee,7),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function g0_512_lo(re,ee){var te=rotr64_lo(re,ee,1),ne=rotr64_lo(re,ee,8),se=shr64_lo(re,ee,7),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function g1_512_hi(re,ee){var te=rotr64_hi(re,ee,19),ne=rotr64_hi(ee,re,29),se=shr64_hi(re,ee,6),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}function g1_512_lo(re,ee){var te=rotr64_lo(re,ee,19),ne=rotr64_lo(ee,re,29),se=shr64_lo(re,ee,6),ie=te^ne^se;return ie<0&&(ie+=4294967296),ie}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function re(ee){return ee==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$1=utils$9,common=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function re(ee,te){for(var ne=this.h[0],se=this.h[1],ie=this.h[2],fe=this.h[3],ue=this.h[4],xe=ne,Ee=se,Ae=ie,Me=fe,Pe=ue,Ne=0;Ne<80;Ne++){var je=sum32(rotl32(sum32_4(ne,f(Ne,se,ie,fe),ee[r[Ne]+te],K(Ne)),s[Ne]),ue);ne=ue,ue=fe,fe=rotl32(ie,10),ie=se,se=je,je=sum32(rotl32(sum32_4(xe,f(79-Ne,Ee,Ae,Me),ee[rh[Ne]+te],Kh(Ne)),sh[Ne]),Pe),xe=Pe,Pe=Me,Me=rotl32(Ae,10),Ae=Ee,Ee=je}je=sum32_3(this.h[1],ie,Me),this.h[1]=sum32_3(this.h[2],fe,Pe),this.h[2]=sum32_3(this.h[3],ue,xe),this.h[3]=sum32_3(this.h[4],ne,Ee),this.h[4]=sum32_3(this.h[0],se,Ae),this.h[0]=je},RIPEMD160.prototype._digest=function re(ee){return ee==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f(re,ee,te,ne){return re<=15?ee^te^ne:re<=31?ee&te|~ee&ne:re<=47?(ee|~te)^ne:re<=63?ee&ne|te&~ne:ee^(te|~ne)}function K(re){return re<=15?0:re<=31?1518500249:re<=47?1859775393:re<=63?2400959708:2840853838}function Kh(re){return re<=15?1352829926:re<=31?1548603684:re<=47?1836072691:re<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert$6=minimalisticAssert$1;function Hmac(re,ee,te){if(!(this instanceof Hmac))return new Hmac(re,ee,te);this.Hash=re,this.blockSize=re.blockSize/8,this.outSize=re.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(ee,te))}var hmac=Hmac;Hmac.prototype._init=function re(ee){ee.length>this.blockSize&&(ee=new this.Hash().update(ee).digest()),assert$6(ee.length<=this.blockSize);for(var te=ee.length;te<this.blockSize;te++)ee.push(0);for(te=0;te<ee.length;te++)ee[te]^=54;for(this.inner=new this.Hash().update(ee),te=0;te<ee.length;te++)ee[te]^=106;this.outer=new this.Hash().update(ee)},Hmac.prototype.update=function re(ee,te){return this.inner.update(ee,te),this},Hmac.prototype.digest=function re(ee){return this.outer.update(this.inner.digest()),this.outer.digest(ee)},function(re){var ee=re;ee.utils=utils$9,ee.common=common$5,ee.sha=sha,ee.ripemd=ripemd,ee.hmac=hmac,ee.sha1=ee.sha.sha1,ee.sha256=ee.sha.sha256,ee.sha224=ee.sha.sha224,ee.sha384=ee.sha.sha384,ee.sha512=ee.sha.sha512,ee.ripemd160=ee.ripemd.ripemd160}(hash);var SupportedAlgorithm;(function(re){re.sha256="sha256",re.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$c="sha2/5.7.0",logger$d=new Logger(version$c);function ripemd160(re){return"0x"+hash.ripemd160().update(arrayify(re)).digest("hex")}function sha256$1(re){return"0x"+hash.sha256().update(arrayify(re)).digest("hex")}function sha512(re){return"0x"+hash.sha512().update(arrayify(re)).digest("hex")}function computeHmac(re,ee,te){return SupportedAlgorithm[re]||logger$d.throwError("unsupported algorithm "+re,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:re}),"0x"+hash.hmac(hash[re],arrayify(ee)).update(arrayify(te)).digest("hex")}var lib_esm$9=Object.freeze({__proto__:null,computeHmac,ripemd160,sha256:sha256$1,sha512,get SupportedAlgorithm(){return SupportedAlgorithm}});function pbkdf2$1(re,ee,te,ne,se){re=arrayify(re),ee=arrayify(ee);let ie,fe=1;const ue=new Uint8Array(ne),xe=new Uint8Array(ee.length+4);xe.set(ee);let Ee,Ae;for(let Me=1;Me<=fe;Me++){xe[ee.length]=Me>>24&255,xe[ee.length+1]=Me>>16&255,xe[ee.length+2]=Me>>8&255,xe[ee.length+3]=Me&255;let Pe=arrayify(computeHmac(se,re,xe));ie||(ie=Pe.length,Ae=new Uint8Array(ie),fe=Math.ceil(ne/ie),Ee=ne-(fe-1)*ie),Ae.set(Pe);for(let Ue=1;Ue<te;Ue++){Pe=arrayify(computeHmac(se,re,Pe));for(let Ce=0;Ce<ie;Ce++)Ae[Ce]^=Pe[Ce]}const Ne=(Me-1)*ie,je=Me===fe?Ee:ie;ue.set(arrayify(Ae).slice(0,je),Ne)}return hexlify(ue)}var bn={exports:{}};(function(re){(function(ee,te){function ne(pe,oe){if(!pe)throw new Error(oe||"Assertion failed")}function se(pe,oe){pe.super_=oe;var ce=function(){};ce.prototype=oe.prototype,pe.prototype=new ce,pe.prototype.constructor=pe}function ie(pe,oe,ce){if(ie.isBN(pe))return pe;this.negative=0,this.words=null,this.length=0,this.red=null,pe!==null&&((oe==="le"||oe==="be")&&(ce=oe,oe=10),this._init(pe||0,oe||10,ce||"be"))}typeof ee=="object"?ee.exports=ie:te.BN=ie,ie.BN=ie,ie.wordSize=26;var fe;try{typeof window<"u"&&typeof window.Buffer<"u"?fe=window.Buffer:fe=require$$0$4.Buffer}catch{}ie.isBN=function(oe){return oe instanceof ie?!0:oe!==null&&typeof oe=="object"&&oe.constructor.wordSize===ie.wordSize&&Array.isArray(oe.words)},ie.max=function(oe,ce){return oe.cmp(ce)>0?oe:ce},ie.min=function(oe,ce){return oe.cmp(ce)<0?oe:ce},ie.prototype._init=function(oe,ce,le){if(typeof oe=="number")return this._initNumber(oe,ce,le);if(typeof oe=="object")return this._initArray(oe,ce,le);ce==="hex"&&(ce=16),ne(ce===(ce|0)&&ce>=2&&ce<=36),oe=oe.toString().replace(/\s+/g,"");var ge=0;oe[0]==="-"&&(ge++,this.negative=1),ge<oe.length&&(ce===16?this._parseHex(oe,ge,le):(this._parseBase(oe,ce,ge),le==="le"&&this._initArray(this.toArray(),ce,le)))},ie.prototype._initNumber=function(oe,ce,le){oe<0&&(this.negative=1,oe=-oe),oe<67108864?(this.words=[oe&67108863],this.length=1):oe<4503599627370496?(this.words=[oe&67108863,oe/67108864&67108863],this.length=2):(ne(oe<9007199254740992),this.words=[oe&67108863,oe/67108864&67108863,1],this.length=3),le==="le"&&this._initArray(this.toArray(),ce,le)},ie.prototype._initArray=function(oe,ce,le){if(ne(typeof oe.length=="number"),oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(oe.length/3),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye,me,ve=0;if(le==="be")for(ge=oe.length-1,ye=0;ge>=0;ge-=3)me=oe[ge]|oe[ge-1]<<8|oe[ge-2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);else if(le==="le")for(ge=0,ye=0;ge<oe.length;ge+=3)me=oe[ge]|oe[ge+1]<<8|oe[ge+2]<<16,this.words[ye]|=me<<ve&67108863,this.words[ye+1]=me>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ye++);return this._strip()};function ue(pe,oe){var ce=pe.charCodeAt(oe);if(ce>=48&&ce<=57)return ce-48;if(ce>=65&&ce<=70)return ce-55;if(ce>=97&&ce<=102)return ce-87;ne(!1,"Invalid character in "+pe)}function xe(pe,oe,ce){var le=ue(pe,ce);return ce-1>=oe&&(le|=ue(pe,ce-1)<<4),le}ie.prototype._parseHex=function(oe,ce,le){this.length=Math.ceil((oe.length-ce)/6),this.words=new Array(this.length);for(var ge=0;ge<this.length;ge++)this.words[ge]=0;var ye=0,me=0,ve;if(le==="be")for(ge=oe.length-1;ge>=ce;ge-=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8;else{var he=oe.length-ce;for(ge=he%2===0?ce+1:ce;ge<oe.length;ge+=2)ve=xe(oe,ce,ge)<<ye,this.words[me]|=ve&67108863,ye>=18?(ye-=18,me+=1,this.words[me]|=ve>>>26):ye+=8}this._strip()};function Ee(pe,oe,ce,le){for(var ge=0,ye=0,me=Math.min(pe.length,ce),ve=oe;ve<me;ve++){var he=pe.charCodeAt(ve)-48;ge*=le,he>=49?ye=he-49+10:he>=17?ye=he-17+10:ye=he,ne(he>=0&&ye<le,"Invalid character"),ge+=ye}return ge}ie.prototype._parseBase=function(oe,ce,le){this.words=[0],this.length=1;for(var ge=0,ye=1;ye<=67108863;ye*=ce)ge++;ge--,ye=ye/ce|0;for(var me=oe.length-le,ve=me%ge,he=Math.min(me,me-ve)+le,ae=0,be=le;be<he;be+=ge)ae=Ee(oe,be,be+ge,ce),this.imuln(ye),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae);if(ve!==0){var ze=1;for(ae=Ee(oe,be,oe.length,ce),be=0;be<ve;be++)ze*=ce;this.imuln(ze),this.words[0]+ae<67108864?this.words[0]+=ae:this._iaddn(ae)}this._strip()},ie.prototype.copy=function(oe){oe.words=new Array(this.length);for(var ce=0;ce<this.length;ce++)oe.words[ce]=this.words[ce];oe.length=this.length,oe.negative=this.negative,oe.red=this.red};function Ae(pe,oe){pe.words=oe.words,pe.length=oe.length,pe.negative=oe.negative,pe.red=oe.red}if(ie.prototype._move=function(oe){Ae(oe,this)},ie.prototype.clone=function(){var oe=new ie(null);return this.copy(oe),oe},ie.prototype._expand=function(oe){for(;this.length<oe;)this.words[this.length++]=0;return this},ie.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ie.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me}catch{ie.prototype.inspect=Me}else ie.prototype.inspect=Me;function Me(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Pe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ne=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ie.prototype.toString=function(oe,ce){oe=oe||10,ce=ce|0||1;var le;if(oe===16||oe==="hex"){le="";for(var ge=0,ye=0,me=0;me<this.length;me++){var ve=this.words[me],he=((ve<<ge|ye)&16777215).toString(16);ye=ve>>>24-ge&16777215,ge+=2,ge>=26&&(ge-=26,me--),ye!==0||me!==this.length-1?le=Pe[6-he.length]+he+le:le=he+le}for(ye!==0&&(le=ye.toString(16)+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}if(oe===(oe|0)&&oe>=2&&oe<=36){var ae=Ne[oe],be=je[oe];le="";var ze=this.clone();for(ze.negative=0;!ze.isZero();){var Ie=ze.modrn(be).toString(oe);ze=ze.idivn(be),ze.isZero()?le=Ie+le:le=Pe[ae-Ie.length]+Ie+le}for(this.isZero()&&(le="0"+le);le.length%ce!==0;)le="0"+le;return this.negative!==0&&(le="-"+le),le}ne(!1,"Base should be between 2 and 36")},ie.prototype.toNumber=function(){var oe=this.words[0];return this.length===2?oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?oe+=4503599627370496+this.words[1]*67108864:this.length>2&&ne(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-oe:oe},ie.prototype.toJSON=function(){return this.toString(16,2)},fe&&(ie.prototype.toBuffer=function(oe,ce){return this.toArrayLike(fe,oe,ce)}),ie.prototype.toArray=function(oe,ce){return this.toArrayLike(Array,oe,ce)};var Ue=function(oe,ce){return oe.allocUnsafe?oe.allocUnsafe(ce):new oe(ce)};ie.prototype.toArrayLike=function(oe,ce,le){this._strip();var ge=this.byteLength(),ye=le||Math.max(1,ge);ne(ge<=ye,"byte array longer than desired length"),ne(ye>0,"Requested array length <= 0");var me=Ue(oe,ye),ve=ce==="le"?"LE":"BE";return this["_toArrayLike"+ve](me,ge),me},ie.prototype._toArrayLikeLE=function(oe,ce){for(var le=0,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le++]=ve&255,le<oe.length&&(oe[le++]=ve>>8&255),le<oe.length&&(oe[le++]=ve>>16&255),me===6?(le<oe.length&&(oe[le++]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le<oe.length)for(oe[le++]=ge;le<oe.length;)oe[le++]=0},ie.prototype._toArrayLikeBE=function(oe,ce){for(var le=oe.length-1,ge=0,ye=0,me=0;ye<this.length;ye++){var ve=this.words[ye]<<me|ge;oe[le--]=ve&255,le>=0&&(oe[le--]=ve>>8&255),le>=0&&(oe[le--]=ve>>16&255),me===6?(le>=0&&(oe[le--]=ve>>24&255),ge=0,me=0):(ge=ve>>>24,me+=2)}if(le>=0)for(oe[le--]=ge;le>=0;)oe[le--]=0},Math.clz32?ie.prototype._countBits=function(oe){return 32-Math.clz32(oe)}:ie.prototype._countBits=function(oe){var ce=oe,le=0;return ce>=4096&&(le+=13,ce>>>=13),ce>=64&&(le+=7,ce>>>=7),ce>=8&&(le+=4,ce>>>=4),ce>=2&&(le+=2,ce>>>=2),le+ce},ie.prototype._zeroBits=function(oe){if(oe===0)return 26;var ce=oe,le=0;return(ce&8191)===0&&(le+=13,ce>>>=13),(ce&127)===0&&(le+=7,ce>>>=7),(ce&15)===0&&(le+=4,ce>>>=4),(ce&3)===0&&(le+=2,ce>>>=2),(ce&1)===0&&le++,le},ie.prototype.bitLength=function(){var oe=this.words[this.length-1],ce=this._countBits(oe);return(this.length-1)*26+ce};function Ce(pe){for(var oe=new Array(pe.bitLength()),ce=0;ce<oe.length;ce++){var le=ce/26|0,ge=ce%26;oe[ce]=pe.words[le]>>>ge&1}return oe}ie.prototype.zeroBits=function(){if(this.isZero())return 0;for(var oe=0,ce=0;ce<this.length;ce++){var le=this._zeroBits(this.words[ce]);if(oe+=le,le!==26)break}return oe},ie.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ie.prototype.toTwos=function(oe){return this.negative!==0?this.abs().inotn(oe).iaddn(1):this.clone()},ie.prototype.fromTwos=function(oe){return this.testn(oe-1)?this.notn(oe).iaddn(1).ineg():this.clone()},ie.prototype.isNeg=function(){return this.negative!==0},ie.prototype.neg=function(){return this.clone().ineg()},ie.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ie.prototype.iuor=function(oe){for(;this.length<oe.length;)this.words[this.length++]=0;for(var ce=0;ce<oe.length;ce++)this.words[ce]=this.words[ce]|oe.words[ce];return this._strip()},ie.prototype.ior=function(oe){return ne((this.negative|oe.negative)===0),this.iuor(oe)},ie.prototype.or=function(oe){return this.length>oe.length?this.clone().ior(oe):oe.clone().ior(this)},ie.prototype.uor=function(oe){return this.length>oe.length?this.clone().iuor(oe):oe.clone().iuor(this)},ie.prototype.iuand=function(oe){var ce;this.length>oe.length?ce=oe:ce=this;for(var le=0;le<ce.length;le++)this.words[le]=this.words[le]&oe.words[le];return this.length=ce.length,this._strip()},ie.prototype.iand=function(oe){return ne((this.negative|oe.negative)===0),this.iuand(oe)},ie.prototype.and=function(oe){return this.length>oe.length?this.clone().iand(oe):oe.clone().iand(this)},ie.prototype.uand=function(oe){return this.length>oe.length?this.clone().iuand(oe):oe.clone().iuand(this)},ie.prototype.iuxor=function(oe){var ce,le;this.length>oe.length?(ce=this,le=oe):(ce=oe,le=this);for(var ge=0;ge<le.length;ge++)this.words[ge]=ce.words[ge]^le.words[ge];if(this!==ce)for(;ge<ce.length;ge++)this.words[ge]=ce.words[ge];return this.length=ce.length,this._strip()},ie.prototype.ixor=function(oe){return ne((this.negative|oe.negative)===0),this.iuxor(oe)},ie.prototype.xor=function(oe){return this.length>oe.length?this.clone().ixor(oe):oe.clone().ixor(this)},ie.prototype.uxor=function(oe){return this.length>oe.length?this.clone().iuxor(oe):oe.clone().iuxor(this)},ie.prototype.inotn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=Math.ceil(oe/26)|0,le=oe%26;this._expand(ce),le>0&&ce--;for(var ge=0;ge<ce;ge++)this.words[ge]=~this.words[ge]&67108863;return le>0&&(this.words[ge]=~this.words[ge]&67108863>>26-le),this._strip()},ie.prototype.notn=function(oe){return this.clone().inotn(oe)},ie.prototype.setn=function(oe,ce){ne(typeof oe=="number"&&oe>=0);var le=oe/26|0,ge=oe%26;return this._expand(le+1),ce?this.words[le]=this.words[le]|1<<ge:this.words[le]=this.words[le]&~(1<<ge),this._strip()},ie.prototype.iadd=function(oe){var ce;if(this.negative!==0&&oe.negative===0)return this.negative=0,ce=this.isub(oe),this.negative^=1,this._normSign();if(this.negative===0&&oe.negative!==0)return oe.negative=0,ce=this.isub(oe),oe.negative=1,ce._normSign();var le,ge;this.length>oe.length?(le=this,ge=oe):(le=oe,ge=this);for(var ye=0,me=0;me<ge.length;me++)ce=(le.words[me]|0)+(ge.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;for(;ye!==0&&me<le.length;me++)ce=(le.words[me]|0)+ye,this.words[me]=ce&67108863,ye=ce>>>26;if(this.length=le.length,ye!==0)this.words[this.length]=ye,this.length++;else if(le!==this)for(;me<le.length;me++)this.words[me]=le.words[me];return this},ie.prototype.add=function(oe){var ce;return oe.negative!==0&&this.negative===0?(oe.negative=0,ce=this.sub(oe),oe.negative^=1,ce):oe.negative===0&&this.negative!==0?(this.negative=0,ce=oe.sub(this),this.negative=1,ce):this.length>oe.length?this.clone().iadd(oe):oe.clone().iadd(this)},ie.prototype.isub=function(oe){if(oe.negative!==0){oe.negative=0;var ce=this.iadd(oe);return oe.negative=1,ce._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(oe),this.negative=1,this._normSign();var le=this.cmp(oe);if(le===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ge,ye;le>0?(ge=this,ye=oe):(ge=oe,ye=this);for(var me=0,ve=0;ve<ye.length;ve++)ce=(ge.words[ve]|0)-(ye.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;for(;me!==0&&ve<ge.length;ve++)ce=(ge.words[ve]|0)+me,me=ce>>26,this.words[ve]=ce&67108863;if(me===0&&ve<ge.length&&ge!==this)for(;ve<ge.length;ve++)this.words[ve]=ge.words[ve];return this.length=Math.max(this.length,ve),ge!==this&&(this.negative=1),this._strip()},ie.prototype.sub=function(oe){return this.clone().isub(oe)};function Be(pe,oe,ce){ce.negative=oe.negative^pe.negative;var le=pe.length+oe.length|0;ce.length=le,le=le-1|0;var ge=pe.words[0]|0,ye=oe.words[0]|0,me=ge*ye,ve=me&67108863,he=me/67108864|0;ce.words[0]=ve;for(var ae=1;ae<le;ae++){for(var be=he>>>26,ze=he&67108863,Ie=Math.min(ae,oe.length-1),We=Math.max(0,ae-pe.length+1);We<=Ie;We++){var ft=ae-We|0;ge=pe.words[ft]|0,ye=oe.words[We]|0,me=ge*ye+ze,be+=me/67108864|0,ze=me&67108863}ce.words[ae]=ze|0,he=be|0}return he!==0?ce.words[ae]=he|0:ce.length--,ce._strip()}var He=function(oe,ce,le){var ge=oe.words,ye=ce.words,me=le.words,ve=0,he,ae,be,ze=ge[0]|0,Ie=ze&8191,We=ze>>>13,ft=ge[1]|0,nt=ft&8191,at=ft>>>13,Ht=ge[2]|0,dt=Ht&8191,gt=Ht>>>13,Jt=ge[3]|0,yt=Jt&8191,Mt=Jt>>>13,it=ge[4]|0,Le=it&8191,De=it>>>13,ct=ge[5]|0,ot=ct&8191,lt=ct>>>13,Pt=ge[6]|0,Et=Pt&8191,St=Pt>>>13,ar=ge[7]|0,Tt=ar&8191,Re=ar>>>13,we=ge[8]|0,_e=we&8191,ke=we>>>13,Ze=ge[9]|0,Je=Ze&8191,tt=Ze>>>13,zt=ye[0]|0,_t=zt&8191,vt=zt>>>13,nr=ye[1]|0,xt=nr&8191,Nt=nr>>>13,Ar=ye[2]|0,Lt=Ar&8191,Ft=Ar>>>13,Rr=ye[3]|0,kt=Rr&8191,Bt=Rr>>>13,_r=ye[4]|0,Ot=_r&8191,$t=_r>>>13,Sr=ye[5]|0,Dt=Sr&8191,Ct=Sr>>>13,Mr=ye[6]|0,Fe=Mr&8191,Ge=Mr>>>13,et=ye[7]|0,Te=et&8191,Ye=et>>>13,bt=ye[8]|0,st=bt&8191,ut=bt>>>13,qt=ye[9]|0,At=qt&8191,wt=qt>>>13;le.negative=oe.negative^ce.negative,le.length=19,he=Math.imul(Ie,_t),ae=Math.imul(Ie,vt),ae=ae+Math.imul(We,_t)|0,be=Math.imul(We,vt);var lr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(lr>>>26)|0,lr&=67108863,he=Math.imul(nt,_t),ae=Math.imul(nt,vt),ae=ae+Math.imul(at,_t)|0,be=Math.imul(at,vt),he=he+Math.imul(Ie,xt)|0,ae=ae+Math.imul(Ie,Nt)|0,ae=ae+Math.imul(We,xt)|0,be=be+Math.imul(We,Nt)|0;var Wt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,he=Math.imul(dt,_t),ae=Math.imul(dt,vt),ae=ae+Math.imul(gt,_t)|0,be=Math.imul(gt,vt),he=he+Math.imul(nt,xt)|0,ae=ae+Math.imul(nt,Nt)|0,ae=ae+Math.imul(at,xt)|0,be=be+Math.imul(at,Nt)|0,he=he+Math.imul(Ie,Lt)|0,ae=ae+Math.imul(Ie,Ft)|0,ae=ae+Math.imul(We,Lt)|0,be=be+Math.imul(We,Ft)|0;var tr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(tr>>>26)|0,tr&=67108863,he=Math.imul(yt,_t),ae=Math.imul(yt,vt),ae=ae+Math.imul(Mt,_t)|0,be=Math.imul(Mt,vt),he=he+Math.imul(dt,xt)|0,ae=ae+Math.imul(dt,Nt)|0,ae=ae+Math.imul(gt,xt)|0,be=be+Math.imul(gt,Nt)|0,he=he+Math.imul(nt,Lt)|0,ae=ae+Math.imul(nt,Ft)|0,ae=ae+Math.imul(at,Lt)|0,be=be+Math.imul(at,Ft)|0,he=he+Math.imul(Ie,kt)|0,ae=ae+Math.imul(Ie,Bt)|0,ae=ae+Math.imul(We,kt)|0,be=be+Math.imul(We,Bt)|0;var rr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(rr>>>26)|0,rr&=67108863,he=Math.imul(Le,_t),ae=Math.imul(Le,vt),ae=ae+Math.imul(De,_t)|0,be=Math.imul(De,vt),he=he+Math.imul(yt,xt)|0,ae=ae+Math.imul(yt,Nt)|0,ae=ae+Math.imul(Mt,xt)|0,be=be+Math.imul(Mt,Nt)|0,he=he+Math.imul(dt,Lt)|0,ae=ae+Math.imul(dt,Ft)|0,ae=ae+Math.imul(gt,Lt)|0,be=be+Math.imul(gt,Ft)|0,he=he+Math.imul(nt,kt)|0,ae=ae+Math.imul(nt,Bt)|0,ae=ae+Math.imul(at,kt)|0,be=be+Math.imul(at,Bt)|0,he=he+Math.imul(Ie,Ot)|0,ae=ae+Math.imul(Ie,$t)|0,ae=ae+Math.imul(We,Ot)|0,be=be+Math.imul(We,$t)|0;var ir=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ir>>>26)|0,ir&=67108863,he=Math.imul(ot,_t),ae=Math.imul(ot,vt),ae=ae+Math.imul(lt,_t)|0,be=Math.imul(lt,vt),he=he+Math.imul(Le,xt)|0,ae=ae+Math.imul(Le,Nt)|0,ae=ae+Math.imul(De,xt)|0,be=be+Math.imul(De,Nt)|0,he=he+Math.imul(yt,Lt)|0,ae=ae+Math.imul(yt,Ft)|0,ae=ae+Math.imul(Mt,Lt)|0,be=be+Math.imul(Mt,Ft)|0,he=he+Math.imul(dt,kt)|0,ae=ae+Math.imul(dt,Bt)|0,ae=ae+Math.imul(gt,kt)|0,be=be+Math.imul(gt,Bt)|0,he=he+Math.imul(nt,Ot)|0,ae=ae+Math.imul(nt,$t)|0,ae=ae+Math.imul(at,Ot)|0,be=be+Math.imul(at,$t)|0,he=he+Math.imul(Ie,Dt)|0,ae=ae+Math.imul(Ie,Ct)|0,ae=ae+Math.imul(We,Dt)|0,be=be+Math.imul(We,Ct)|0;var ur=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(ur>>>26)|0,ur&=67108863,he=Math.imul(Et,_t),ae=Math.imul(Et,vt),ae=ae+Math.imul(St,_t)|0,be=Math.imul(St,vt),he=he+Math.imul(ot,xt)|0,ae=ae+Math.imul(ot,Nt)|0,ae=ae+Math.imul(lt,xt)|0,be=be+Math.imul(lt,Nt)|0,he=he+Math.imul(Le,Lt)|0,ae=ae+Math.imul(Le,Ft)|0,ae=ae+Math.imul(De,Lt)|0,be=be+Math.imul(De,Ft)|0,he=he+Math.imul(yt,kt)|0,ae=ae+Math.imul(yt,Bt)|0,ae=ae+Math.imul(Mt,kt)|0,be=be+Math.imul(Mt,Bt)|0,he=he+Math.imul(dt,Ot)|0,ae=ae+Math.imul(dt,$t)|0,ae=ae+Math.imul(gt,Ot)|0,be=be+Math.imul(gt,$t)|0,he=he+Math.imul(nt,Dt)|0,ae=ae+Math.imul(nt,Ct)|0,ae=ae+Math.imul(at,Dt)|0,be=be+Math.imul(at,Ct)|0,he=he+Math.imul(Ie,Fe)|0,ae=ae+Math.imul(Ie,Ge)|0,ae=ae+Math.imul(We,Fe)|0,be=be+Math.imul(We,Ge)|0;var or=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(or>>>26)|0,or&=67108863,he=Math.imul(Tt,_t),ae=Math.imul(Tt,vt),ae=ae+Math.imul(Re,_t)|0,be=Math.imul(Re,vt),he=he+Math.imul(Et,xt)|0,ae=ae+Math.imul(Et,Nt)|0,ae=ae+Math.imul(St,xt)|0,be=be+Math.imul(St,Nt)|0,he=he+Math.imul(ot,Lt)|0,ae=ae+Math.imul(ot,Ft)|0,ae=ae+Math.imul(lt,Lt)|0,be=be+Math.imul(lt,Ft)|0,he=he+Math.imul(Le,kt)|0,ae=ae+Math.imul(Le,Bt)|0,ae=ae+Math.imul(De,kt)|0,be=be+Math.imul(De,Bt)|0,he=he+Math.imul(yt,Ot)|0,ae=ae+Math.imul(yt,$t)|0,ae=ae+Math.imul(Mt,Ot)|0,be=be+Math.imul(Mt,$t)|0,he=he+Math.imul(dt,Dt)|0,ae=ae+Math.imul(dt,Ct)|0,ae=ae+Math.imul(gt,Dt)|0,be=be+Math.imul(gt,Ct)|0,he=he+Math.imul(nt,Fe)|0,ae=ae+Math.imul(nt,Ge)|0,ae=ae+Math.imul(at,Fe)|0,be=be+Math.imul(at,Ge)|0,he=he+Math.imul(Ie,Te)|0,ae=ae+Math.imul(Ie,Ye)|0,ae=ae+Math.imul(We,Te)|0,be=be+Math.imul(We,Ye)|0;var cr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(cr>>>26)|0,cr&=67108863,he=Math.imul(_e,_t),ae=Math.imul(_e,vt),ae=ae+Math.imul(ke,_t)|0,be=Math.imul(ke,vt),he=he+Math.imul(Tt,xt)|0,ae=ae+Math.imul(Tt,Nt)|0,ae=ae+Math.imul(Re,xt)|0,be=be+Math.imul(Re,Nt)|0,he=he+Math.imul(Et,Lt)|0,ae=ae+Math.imul(Et,Ft)|0,ae=ae+Math.imul(St,Lt)|0,be=be+Math.imul(St,Ft)|0,he=he+Math.imul(ot,kt)|0,ae=ae+Math.imul(ot,Bt)|0,ae=ae+Math.imul(lt,kt)|0,be=be+Math.imul(lt,Bt)|0,he=he+Math.imul(Le,Ot)|0,ae=ae+Math.imul(Le,$t)|0,ae=ae+Math.imul(De,Ot)|0,be=be+Math.imul(De,$t)|0,he=he+Math.imul(yt,Dt)|0,ae=ae+Math.imul(yt,Ct)|0,ae=ae+Math.imul(Mt,Dt)|0,be=be+Math.imul(Mt,Ct)|0,he=he+Math.imul(dt,Fe)|0,ae=ae+Math.imul(dt,Ge)|0,ae=ae+Math.imul(gt,Fe)|0,be=be+Math.imul(gt,Ge)|0,he=he+Math.imul(nt,Te)|0,ae=ae+Math.imul(nt,Ye)|0,ae=ae+Math.imul(at,Te)|0,be=be+Math.imul(at,Ye)|0,he=he+Math.imul(Ie,st)|0,ae=ae+Math.imul(Ie,ut)|0,ae=ae+Math.imul(We,st)|0,be=be+Math.imul(We,ut)|0;var sr=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(sr>>>26)|0,sr&=67108863,he=Math.imul(Je,_t),ae=Math.imul(Je,vt),ae=ae+Math.imul(tt,_t)|0,be=Math.imul(tt,vt),he=he+Math.imul(_e,xt)|0,ae=ae+Math.imul(_e,Nt)|0,ae=ae+Math.imul(ke,xt)|0,be=be+Math.imul(ke,Nt)|0,he=he+Math.imul(Tt,Lt)|0,ae=ae+Math.imul(Tt,Ft)|0,ae=ae+Math.imul(Re,Lt)|0,be=be+Math.imul(Re,Ft)|0,he=he+Math.imul(Et,kt)|0,ae=ae+Math.imul(Et,Bt)|0,ae=ae+Math.imul(St,kt)|0,be=be+Math.imul(St,Bt)|0,he=he+Math.imul(ot,Ot)|0,ae=ae+Math.imul(ot,$t)|0,ae=ae+Math.imul(lt,Ot)|0,be=be+Math.imul(lt,$t)|0,he=he+Math.imul(Le,Dt)|0,ae=ae+Math.imul(Le,Ct)|0,ae=ae+Math.imul(De,Dt)|0,be=be+Math.imul(De,Ct)|0,he=he+Math.imul(yt,Fe)|0,ae=ae+Math.imul(yt,Ge)|0,ae=ae+Math.imul(Mt,Fe)|0,be=be+Math.imul(Mt,Ge)|0,he=he+Math.imul(dt,Te)|0,ae=ae+Math.imul(dt,Ye)|0,ae=ae+Math.imul(gt,Te)|0,be=be+Math.imul(gt,Ye)|0,he=he+Math.imul(nt,st)|0,ae=ae+Math.imul(nt,ut)|0,ae=ae+Math.imul(at,st)|0,be=be+Math.imul(at,ut)|0,he=he+Math.imul(Ie,At)|0,ae=ae+Math.imul(Ie,wt)|0,ae=ae+Math.imul(We,At)|0,be=be+Math.imul(We,wt)|0;var Zt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,he=Math.imul(Je,xt),ae=Math.imul(Je,Nt),ae=ae+Math.imul(tt,xt)|0,be=Math.imul(tt,Nt),he=he+Math.imul(_e,Lt)|0,ae=ae+Math.imul(_e,Ft)|0,ae=ae+Math.imul(ke,Lt)|0,be=be+Math.imul(ke,Ft)|0,he=he+Math.imul(Tt,kt)|0,ae=ae+Math.imul(Tt,Bt)|0,ae=ae+Math.imul(Re,kt)|0,be=be+Math.imul(Re,Bt)|0,he=he+Math.imul(Et,Ot)|0,ae=ae+Math.imul(Et,$t)|0,ae=ae+Math.imul(St,Ot)|0,be=be+Math.imul(St,$t)|0,he=he+Math.imul(ot,Dt)|0,ae=ae+Math.imul(ot,Ct)|0,ae=ae+Math.imul(lt,Dt)|0,be=be+Math.imul(lt,Ct)|0,he=he+Math.imul(Le,Fe)|0,ae=ae+Math.imul(Le,Ge)|0,ae=ae+Math.imul(De,Fe)|0,be=be+Math.imul(De,Ge)|0,he=he+Math.imul(yt,Te)|0,ae=ae+Math.imul(yt,Ye)|0,ae=ae+Math.imul(Mt,Te)|0,be=be+Math.imul(Mt,Ye)|0,he=he+Math.imul(dt,st)|0,ae=ae+Math.imul(dt,ut)|0,ae=ae+Math.imul(gt,st)|0,be=be+Math.imul(gt,ut)|0,he=he+Math.imul(nt,At)|0,ae=ae+Math.imul(nt,wt)|0,ae=ae+Math.imul(at,At)|0,be=be+Math.imul(at,wt)|0;var er=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(er>>>26)|0,er&=67108863,he=Math.imul(Je,Lt),ae=Math.imul(Je,Ft),ae=ae+Math.imul(tt,Lt)|0,be=Math.imul(tt,Ft),he=he+Math.imul(_e,kt)|0,ae=ae+Math.imul(_e,Bt)|0,ae=ae+Math.imul(ke,kt)|0,be=be+Math.imul(ke,Bt)|0,he=he+Math.imul(Tt,Ot)|0,ae=ae+Math.imul(Tt,$t)|0,ae=ae+Math.imul(Re,Ot)|0,be=be+Math.imul(Re,$t)|0,he=he+Math.imul(Et,Dt)|0,ae=ae+Math.imul(Et,Ct)|0,ae=ae+Math.imul(St,Dt)|0,be=be+Math.imul(St,Ct)|0,he=he+Math.imul(ot,Fe)|0,ae=ae+Math.imul(ot,Ge)|0,ae=ae+Math.imul(lt,Fe)|0,be=be+Math.imul(lt,Ge)|0,he=he+Math.imul(Le,Te)|0,ae=ae+Math.imul(Le,Ye)|0,ae=ae+Math.imul(De,Te)|0,be=be+Math.imul(De,Ye)|0,he=he+Math.imul(yt,st)|0,ae=ae+Math.imul(yt,ut)|0,ae=ae+Math.imul(Mt,st)|0,be=be+Math.imul(Mt,ut)|0,he=he+Math.imul(dt,At)|0,ae=ae+Math.imul(dt,wt)|0,ae=ae+Math.imul(gt,At)|0,be=be+Math.imul(gt,wt)|0;var Yt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,he=Math.imul(Je,kt),ae=Math.imul(Je,Bt),ae=ae+Math.imul(tt,kt)|0,be=Math.imul(tt,Bt),he=he+Math.imul(_e,Ot)|0,ae=ae+Math.imul(_e,$t)|0,ae=ae+Math.imul(ke,Ot)|0,be=be+Math.imul(ke,$t)|0,he=he+Math.imul(Tt,Dt)|0,ae=ae+Math.imul(Tt,Ct)|0,ae=ae+Math.imul(Re,Dt)|0,be=be+Math.imul(Re,Ct)|0,he=he+Math.imul(Et,Fe)|0,ae=ae+Math.imul(Et,Ge)|0,ae=ae+Math.imul(St,Fe)|0,be=be+Math.imul(St,Ge)|0,he=he+Math.imul(ot,Te)|0,ae=ae+Math.imul(ot,Ye)|0,ae=ae+Math.imul(lt,Te)|0,be=be+Math.imul(lt,Ye)|0,he=he+Math.imul(Le,st)|0,ae=ae+Math.imul(Le,ut)|0,ae=ae+Math.imul(De,st)|0,be=be+Math.imul(De,ut)|0,he=he+Math.imul(yt,At)|0,ae=ae+Math.imul(yt,wt)|0,ae=ae+Math.imul(Mt,At)|0,be=be+Math.imul(Mt,wt)|0;var Xt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,he=Math.imul(Je,Ot),ae=Math.imul(Je,$t),ae=ae+Math.imul(tt,Ot)|0,be=Math.imul(tt,$t),he=he+Math.imul(_e,Dt)|0,ae=ae+Math.imul(_e,Ct)|0,ae=ae+Math.imul(ke,Dt)|0,be=be+Math.imul(ke,Ct)|0,he=he+Math.imul(Tt,Fe)|0,ae=ae+Math.imul(Tt,Ge)|0,ae=ae+Math.imul(Re,Fe)|0,be=be+Math.imul(Re,Ge)|0,he=he+Math.imul(Et,Te)|0,ae=ae+Math.imul(Et,Ye)|0,ae=ae+Math.imul(St,Te)|0,be=be+Math.imul(St,Ye)|0,he=he+Math.imul(ot,st)|0,ae=ae+Math.imul(ot,ut)|0,ae=ae+Math.imul(lt,st)|0,be=be+Math.imul(lt,ut)|0,he=he+Math.imul(Le,At)|0,ae=ae+Math.imul(Le,wt)|0,ae=ae+Math.imul(De,At)|0,be=be+Math.imul(De,wt)|0;var Qt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,he=Math.imul(Je,Dt),ae=Math.imul(Je,Ct),ae=ae+Math.imul(tt,Dt)|0,be=Math.imul(tt,Ct),he=he+Math.imul(_e,Fe)|0,ae=ae+Math.imul(_e,Ge)|0,ae=ae+Math.imul(ke,Fe)|0,be=be+Math.imul(ke,Ge)|0,he=he+Math.imul(Tt,Te)|0,ae=ae+Math.imul(Tt,Ye)|0,ae=ae+Math.imul(Re,Te)|0,be=be+Math.imul(Re,Ye)|0,he=he+Math.imul(Et,st)|0,ae=ae+Math.imul(Et,ut)|0,ae=ae+Math.imul(St,st)|0,be=be+Math.imul(St,ut)|0,he=he+Math.imul(ot,At)|0,ae=ae+Math.imul(ot,wt)|0,ae=ae+Math.imul(lt,At)|0,be=be+Math.imul(lt,wt)|0;var Gt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,he=Math.imul(Je,Fe),ae=Math.imul(Je,Ge),ae=ae+Math.imul(tt,Fe)|0,be=Math.imul(tt,Ge),he=he+Math.imul(_e,Te)|0,ae=ae+Math.imul(_e,Ye)|0,ae=ae+Math.imul(ke,Te)|0,be=be+Math.imul(ke,Ye)|0,he=he+Math.imul(Tt,st)|0,ae=ae+Math.imul(Tt,ut)|0,ae=ae+Math.imul(Re,st)|0,be=be+Math.imul(Re,ut)|0,he=he+Math.imul(Et,At)|0,ae=ae+Math.imul(Et,wt)|0,ae=ae+Math.imul(St,At)|0,be=be+Math.imul(St,wt)|0;var Rt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,he=Math.imul(Je,Te),ae=Math.imul(Je,Ye),ae=ae+Math.imul(tt,Te)|0,be=Math.imul(tt,Ye),he=he+Math.imul(_e,st)|0,ae=ae+Math.imul(_e,ut)|0,ae=ae+Math.imul(ke,st)|0,be=be+Math.imul(ke,ut)|0,he=he+Math.imul(Tt,At)|0,ae=ae+Math.imul(Tt,wt)|0,ae=ae+Math.imul(Re,At)|0,be=be+Math.imul(Re,wt)|0;var It=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(It>>>26)|0,It&=67108863,he=Math.imul(Je,st),ae=Math.imul(Je,ut),ae=ae+Math.imul(tt,st)|0,be=Math.imul(tt,ut),he=he+Math.imul(_e,At)|0,ae=ae+Math.imul(_e,wt)|0,ae=ae+Math.imul(ke,At)|0,be=be+Math.imul(ke,wt)|0;var Kt=(ve+he|0)+((ae&8191)<<13)|0;ve=(be+(ae>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,he=Math.imul(Je,At),ae=Math.imul(Je,wt),ae=ae+Math.imul(tt,At)|0,be=Math.imul(tt,wt);var Ut=(ve+he|0)+((ae&8191)<<13)|0;return ve=(be+(ae>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,me[0]=lr,me[1]=Wt,me[2]=tr,me[3]=rr,me[4]=ir,me[5]=ur,me[6]=or,me[7]=cr,me[8]=sr,me[9]=Zt,me[10]=er,me[11]=Yt,me[12]=Xt,me[13]=Qt,me[14]=Gt,me[15]=Rt,me[16]=It,me[17]=Kt,me[18]=Ut,ve!==0&&(me[19]=ve,le.length++),le};Math.imul||(He=Be);function Oe(pe,oe,ce){ce.negative=oe.negative^pe.negative,ce.length=pe.length+oe.length;for(var le=0,ge=0,ye=0;ye<ce.length-1;ye++){var me=ge;ge=0;for(var ve=le&67108863,he=Math.min(ye,oe.length-1),ae=Math.max(0,ye-pe.length+1);ae<=he;ae++){var be=ye-ae,ze=pe.words[be]|0,Ie=oe.words[ae]|0,We=ze*Ie,ft=We&67108863;me=me+(We/67108864|0)|0,ft=ft+ve|0,ve=ft&67108863,me=me+(ft>>>26)|0,ge+=me>>>26,me&=67108863}ce.words[ye]=ve,le=me,me=ge}return le!==0?ce.words[ye]=le:ce.length--,ce._strip()}function Ke(pe,oe,ce){return Oe(pe,oe,ce)}ie.prototype.mulTo=function(oe,ce){var le,ge=this.length+oe.length;return this.length===10&&oe.length===10?le=He(this,oe,ce):ge<63?le=Be(this,oe,ce):ge<1024?le=Oe(this,oe,ce):le=Ke(this,oe,ce),le},ie.prototype.mul=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),this.mulTo(oe,ce)},ie.prototype.mulf=function(oe){var ce=new ie(null);return ce.words=new Array(this.length+oe.length),Ke(this,oe,ce)},ie.prototype.imul=function(oe){return this.clone().mulTo(oe,this)},ie.prototype.imuln=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(typeof oe=="number"),ne(oe<67108864);for(var le=0,ge=0;ge<this.length;ge++){var ye=(this.words[ge]|0)*oe,me=(ye&67108863)+(le&67108863);le>>=26,le+=ye/67108864|0,le+=me>>>26,this.words[ge]=me&67108863}return le!==0&&(this.words[ge]=le,this.length++),ce?this.ineg():this},ie.prototype.muln=function(oe){return this.clone().imuln(oe)},ie.prototype.sqr=function(){return this.mul(this)},ie.prototype.isqr=function(){return this.imul(this.clone())},ie.prototype.pow=function(oe){var ce=Ce(oe);if(ce.length===0)return new ie(1);for(var le=this,ge=0;ge<ce.length&&ce[ge]===0;ge++,le=le.sqr());if(++ge<ce.length)for(var ye=le.sqr();ge<ce.length;ge++,ye=ye.sqr())ce[ge]!==0&&(le=le.mul(ye));return le},ie.prototype.iushln=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=67108863>>>26-ce<<26-ce,ye;if(ce!==0){var me=0;for(ye=0;ye<this.length;ye++){var ve=this.words[ye]&ge,he=(this.words[ye]|0)-ve<<ce;this.words[ye]=he|me,me=ve>>>26-ce}me&&(this.words[ye]=me,this.length++)}if(le!==0){for(ye=this.length-1;ye>=0;ye--)this.words[ye+le]=this.words[ye];for(ye=0;ye<le;ye++)this.words[ye]=0;this.length+=le}return this._strip()},ie.prototype.ishln=function(oe){return ne(this.negative===0),this.iushln(oe)},ie.prototype.iushrn=function(oe,ce,le){ne(typeof oe=="number"&&oe>=0);var ge;ce?ge=(ce-ce%26)/26:ge=0;var ye=oe%26,me=Math.min((oe-ye)/26,this.length),ve=67108863^67108863>>>ye<<ye,he=le;if(ge-=me,ge=Math.max(0,ge),he){for(var ae=0;ae<me;ae++)he.words[ae]=this.words[ae];he.length=me}if(me!==0)if(this.length>me)for(this.length-=me,ae=0;ae<this.length;ae++)this.words[ae]=this.words[ae+me];else this.words[0]=0,this.length=1;var be=0;for(ae=this.length-1;ae>=0&&(be!==0||ae>=ge);ae--){var ze=this.words[ae]|0;this.words[ae]=be<<26-ye|ze>>>ye,be=ze&ve}return he&&be!==0&&(he.words[he.length++]=be),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ie.prototype.ishrn=function(oe,ce,le){return ne(this.negative===0),this.iushrn(oe,ce,le)},ie.prototype.shln=function(oe){return this.clone().ishln(oe)},ie.prototype.ushln=function(oe){return this.clone().iushln(oe)},ie.prototype.shrn=function(oe){return this.clone().ishrn(oe)},ie.prototype.ushrn=function(oe){return this.clone().iushrn(oe)},ie.prototype.testn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return!1;var ye=this.words[le];return!!(ye&ge)},ie.prototype.imaskn=function(oe){ne(typeof oe=="number"&&oe>=0);var ce=oe%26,le=(oe-ce)/26;if(ne(this.negative===0,"imaskn works only with positive numbers"),this.length<=le)return this;if(ce!==0&&le++,this.length=Math.min(le,this.length),ce!==0){var ge=67108863^67108863>>>ce<<ce;this.words[this.length-1]&=ge}return this._strip()},ie.prototype.maskn=function(oe){return this.clone().imaskn(oe)},ie.prototype.iaddn=function(oe){return ne(typeof oe=="number"),ne(oe<67108864),oe<0?this.isubn(-oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=oe?(this.words[0]=oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(oe),this.negative=1,this):this._iaddn(oe)},ie.prototype._iaddn=function(oe){this.words[0]+=oe;for(var ce=0;ce<this.length&&this.words[ce]>=67108864;ce++)this.words[ce]-=67108864,ce===this.length-1?this.words[ce+1]=1:this.words[ce+1]++;return this.length=Math.max(this.length,ce+1),this},ie.prototype.isubn=function(oe){if(ne(typeof oe=="number"),ne(oe<67108864),oe<0)return this.iaddn(-oe);if(this.negative!==0)return this.negative=0,this.iaddn(oe),this.negative=1,this;if(this.words[0]-=oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ce=0;ce<this.length&&this.words[ce]<0;ce++)this.words[ce]+=67108864,this.words[ce+1]-=1;return this._strip()},ie.prototype.addn=function(oe){return this.clone().iaddn(oe)},ie.prototype.subn=function(oe){return this.clone().isubn(oe)},ie.prototype.iabs=function(){return this.negative=0,this},ie.prototype.abs=function(){return this.clone().iabs()},ie.prototype._ishlnsubmul=function(oe,ce,le){var ge=oe.length+le,ye;this._expand(ge);var me,ve=0;for(ye=0;ye<oe.length;ye++){me=(this.words[ye+le]|0)+ve;var he=(oe.words[ye]|0)*ce;me-=he&67108863,ve=(me>>26)-(he/67108864|0),this.words[ye+le]=me&67108863}for(;ye<this.length-le;ye++)me=(this.words[ye+le]|0)+ve,ve=me>>26,this.words[ye+le]=me&67108863;if(ve===0)return this._strip();for(ne(ve===-1),ve=0,ye=0;ye<this.length;ye++)me=-(this.words[ye]|0)+ve,ve=me>>26,this.words[ye]=me&67108863;return this.negative=1,this._strip()},ie.prototype._wordDiv=function(oe,ce){var le=this.length-oe.length,ge=this.clone(),ye=oe,me=ye.words[ye.length-1]|0,ve=this._countBits(me);le=26-ve,le!==0&&(ye=ye.ushln(le),ge.iushln(le),me=ye.words[ye.length-1]|0);var he=ge.length-ye.length,ae;if(ce!=="mod"){ae=new ie(null),ae.length=he+1,ae.words=new Array(ae.length);for(var be=0;be<ae.length;be++)ae.words[be]=0}var ze=ge.clone()._ishlnsubmul(ye,1,he);ze.negative===0&&(ge=ze,ae&&(ae.words[he]=1));for(var Ie=he-1;Ie>=0;Ie--){var We=(ge.words[ye.length+Ie]|0)*67108864+(ge.words[ye.length+Ie-1]|0);for(We=Math.min(We/me|0,67108863),ge._ishlnsubmul(ye,We,Ie);ge.negative!==0;)We--,ge.negative=0,ge._ishlnsubmul(ye,1,Ie),ge.isZero()||(ge.negative^=1);ae&&(ae.words[Ie]=We)}return ae&&ae._strip(),ge._strip(),ce!=="div"&&le!==0&&ge.iushrn(le),{div:ae||null,mod:ge}},ie.prototype.divmod=function(oe,ce,le){if(ne(!oe.isZero()),this.isZero())return{div:new ie(0),mod:new ie(0)};var ge,ye,me;return this.negative!==0&&oe.negative===0?(me=this.neg().divmod(oe,ce),ce!=="mod"&&(ge=me.div.neg()),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.iadd(oe)),{div:ge,mod:ye}):this.negative===0&&oe.negative!==0?(me=this.divmod(oe.neg(),ce),ce!=="mod"&&(ge=me.div.neg()),{div:ge,mod:me.mod}):(this.negative&oe.negative)!==0?(me=this.neg().divmod(oe.neg(),ce),ce!=="div"&&(ye=me.mod.neg(),le&&ye.negative!==0&&ye.isub(oe)),{div:me.div,mod:ye}):oe.length>this.length||this.cmp(oe)<0?{div:new ie(0),mod:this}:oe.length===1?ce==="div"?{div:this.divn(oe.words[0]),mod:null}:ce==="mod"?{div:null,mod:new ie(this.modrn(oe.words[0]))}:{div:this.divn(oe.words[0]),mod:new ie(this.modrn(oe.words[0]))}:this._wordDiv(oe,ce)},ie.prototype.div=function(oe){return this.divmod(oe,"div",!1).div},ie.prototype.mod=function(oe){return this.divmod(oe,"mod",!1).mod},ie.prototype.umod=function(oe){return this.divmod(oe,"mod",!0).mod},ie.prototype.divRound=function(oe){var ce=this.divmod(oe);if(ce.mod.isZero())return ce.div;var le=ce.div.negative!==0?ce.mod.isub(oe):ce.mod,ge=oe.ushrn(1),ye=oe.andln(1),me=le.cmp(ge);return me<0||ye===1&&me===0?ce.div:ce.div.negative!==0?ce.div.isubn(1):ce.div.iaddn(1)},ie.prototype.modrn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=(1<<26)%oe,ge=0,ye=this.length-1;ye>=0;ye--)ge=(le*ge+(this.words[ye]|0))%oe;return ce?-ge:ge},ie.prototype.modn=function(oe){return this.modrn(oe)},ie.prototype.idivn=function(oe){var ce=oe<0;ce&&(oe=-oe),ne(oe<=67108863);for(var le=0,ge=this.length-1;ge>=0;ge--){var ye=(this.words[ge]|0)+le*67108864;this.words[ge]=ye/oe|0,le=ye%oe}return this._strip(),ce?this.ineg():this},ie.prototype.divn=function(oe){return this.clone().idivn(oe)},ie.prototype.egcd=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=new ie(0),ve=new ie(1),he=0;ce.isEven()&&le.isEven();)ce.iushrn(1),le.iushrn(1),++he;for(var ae=le.clone(),be=ce.clone();!ce.isZero();){for(var ze=0,Ie=1;(ce.words[0]&Ie)===0&&ze<26;++ze,Ie<<=1);if(ze>0)for(ce.iushrn(ze);ze-- >0;)(ge.isOdd()||ye.isOdd())&&(ge.iadd(ae),ye.isub(be)),ge.iushrn(1),ye.iushrn(1);for(var We=0,ft=1;(le.words[0]&ft)===0&&We<26;++We,ft<<=1);if(We>0)for(le.iushrn(We);We-- >0;)(me.isOdd()||ve.isOdd())&&(me.iadd(ae),ve.isub(be)),me.iushrn(1),ve.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(me),ye.isub(ve)):(le.isub(ce),me.isub(ge),ve.isub(ye))}return{a:me,b:ve,gcd:le.iushln(he)}},ie.prototype._invmp=function(oe){ne(oe.negative===0),ne(!oe.isZero());var ce=this,le=oe.clone();ce.negative!==0?ce=ce.umod(oe):ce=ce.clone();for(var ge=new ie(1),ye=new ie(0),me=le.clone();ce.cmpn(1)>0&&le.cmpn(1)>0;){for(var ve=0,he=1;(ce.words[0]&he)===0&&ve<26;++ve,he<<=1);if(ve>0)for(ce.iushrn(ve);ve-- >0;)ge.isOdd()&&ge.iadd(me),ge.iushrn(1);for(var ae=0,be=1;(le.words[0]&be)===0&&ae<26;++ae,be<<=1);if(ae>0)for(le.iushrn(ae);ae-- >0;)ye.isOdd()&&ye.iadd(me),ye.iushrn(1);ce.cmp(le)>=0?(ce.isub(le),ge.isub(ye)):(le.isub(ce),ye.isub(ge))}var ze;return ce.cmpn(1)===0?ze=ge:ze=ye,ze.cmpn(0)<0&&ze.iadd(oe),ze},ie.prototype.gcd=function(oe){if(this.isZero())return oe.abs();if(oe.isZero())return this.abs();var ce=this.clone(),le=oe.clone();ce.negative=0,le.negative=0;for(var ge=0;ce.isEven()&&le.isEven();ge++)ce.iushrn(1),le.iushrn(1);do{for(;ce.isEven();)ce.iushrn(1);for(;le.isEven();)le.iushrn(1);var ye=ce.cmp(le);if(ye<0){var me=ce;ce=le,le=me}else if(ye===0||le.cmpn(1)===0)break;ce.isub(le)}while(!0);return le.iushln(ge)},ie.prototype.invm=function(oe){return this.egcd(oe).a.umod(oe)},ie.prototype.isEven=function(){return(this.words[0]&1)===0},ie.prototype.isOdd=function(){return(this.words[0]&1)===1},ie.prototype.andln=function(oe){return this.words[0]&oe},ie.prototype.bincn=function(oe){ne(typeof oe=="number");var ce=oe%26,le=(oe-ce)/26,ge=1<<ce;if(this.length<=le)return this._expand(le+1),this.words[le]|=ge,this;for(var ye=ge,me=le;ye!==0&&me<this.length;me++){var ve=this.words[me]|0;ve+=ye,ye=ve>>>26,ve&=67108863,this.words[me]=ve}return ye!==0&&(this.words[me]=ye,this.length++),this},ie.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ie.prototype.cmpn=function(oe){var ce=oe<0;if(this.negative!==0&&!ce)return-1;if(this.negative===0&&ce)return 1;this._strip();var le;if(this.length>1)le=1;else{ce&&(oe=-oe),ne(oe<=67108863,"Number is too big");var ge=this.words[0]|0;le=ge===oe?0:ge<oe?-1:1}return this.negative!==0?-le|0:le},ie.prototype.cmp=function(oe){if(this.negative!==0&&oe.negative===0)return-1;if(this.negative===0&&oe.negative!==0)return 1;var ce=this.ucmp(oe);return this.negative!==0?-ce|0:ce},ie.prototype.ucmp=function(oe){if(this.length>oe.length)return 1;if(this.length<oe.length)return-1;for(var ce=0,le=this.length-1;le>=0;le--){var ge=this.words[le]|0,ye=oe.words[le]|0;if(ge!==ye){ge<ye?ce=-1:ge>ye&&(ce=1);break}}return ce},ie.prototype.gtn=function(oe){return this.cmpn(oe)===1},ie.prototype.gt=function(oe){return this.cmp(oe)===1},ie.prototype.gten=function(oe){return this.cmpn(oe)>=0},ie.prototype.gte=function(oe){return this.cmp(oe)>=0},ie.prototype.ltn=function(oe){return this.cmpn(oe)===-1},ie.prototype.lt=function(oe){return this.cmp(oe)===-1},ie.prototype.lten=function(oe){return this.cmpn(oe)<=0},ie.prototype.lte=function(oe){return this.cmp(oe)<=0},ie.prototype.eqn=function(oe){return this.cmpn(oe)===0},ie.prototype.eq=function(oe){return this.cmp(oe)===0},ie.red=function(oe){return new Se(oe)},ie.prototype.toRed=function(oe){return ne(!this.red,"Already a number in reduction context"),ne(this.negative===0,"red works only with positives"),oe.convertTo(this)._forceRed(oe)},ie.prototype.fromRed=function(){return ne(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ie.prototype._forceRed=function(oe){return this.red=oe,this},ie.prototype.forceRed=function(oe){return ne(!this.red,"Already a number in reduction context"),this._forceRed(oe)},ie.prototype.redAdd=function(oe){return ne(this.red,"redAdd works only with red numbers"),this.red.add(this,oe)},ie.prototype.redIAdd=function(oe){return ne(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,oe)},ie.prototype.redSub=function(oe){return ne(this.red,"redSub works only with red numbers"),this.red.sub(this,oe)},ie.prototype.redISub=function(oe){return ne(this.red,"redISub works only with red numbers"),this.red.isub(this,oe)},ie.prototype.redShl=function(oe){return ne(this.red,"redShl works only with red numbers"),this.red.shl(this,oe)},ie.prototype.redMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.mul(this,oe)},ie.prototype.redIMul=function(oe){return ne(this.red,"redMul works only with red numbers"),this.red._verify2(this,oe),this.red.imul(this,oe)},ie.prototype.redSqr=function(){return ne(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ie.prototype.redISqr=function(){return ne(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ie.prototype.redSqrt=function(){return ne(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ie.prototype.redInvm=function(){return ne(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ie.prototype.redNeg=function(){return ne(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ie.prototype.redPow=function(oe){return ne(this.red&&!oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,oe)};var qe={k256:null,p224:null,p192:null,p25519:null};function Ve(pe,oe){this.name=pe,this.p=new ie(oe,16),this.n=this.p.bitLength(),this.k=new ie(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ve.prototype._tmp=function(){var oe=new ie(null);return oe.words=new Array(Math.ceil(this.n/13)),oe},Ve.prototype.ireduce=function(oe){var ce=oe,le;do this.split(ce,this.tmp),ce=this.imulK(ce),ce=ce.iadd(this.tmp),le=ce.bitLength();while(le>this.n);var ge=le<this.n?-1:ce.ucmp(this.p);return ge===0?(ce.words[0]=0,ce.length=1):ge>0?ce.isub(this.p):ce.strip!==void 0?ce.strip():ce._strip(),ce},Ve.prototype.split=function(oe,ce){oe.iushrn(this.n,0,ce)},Ve.prototype.imulK=function(oe){return oe.imul(this.k)};function Xe(){Ve.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}se(Xe,Ve),Xe.prototype.split=function(oe,ce){for(var le=4194303,ge=Math.min(oe.length,9),ye=0;ye<ge;ye++)ce.words[ye]=oe.words[ye];if(ce.length=ge,oe.length<=9){oe.words[0]=0,oe.length=1;return}var me=oe.words[9];for(ce.words[ce.length++]=me&le,ye=10;ye<oe.length;ye++){var ve=oe.words[ye]|0;oe.words[ye-10]=(ve&le)<<4|me>>>22,me=ve}me>>>=22,oe.words[ye-10]=me,me===0&&oe.length>10?oe.length-=10:oe.length-=9},Xe.prototype.imulK=function(oe){oe.words[oe.length]=0,oe.words[oe.length+1]=0,oe.length+=2;for(var ce=0,le=0;le<oe.length;le++){var ge=oe.words[le]|0;ce+=ge*977,oe.words[le]=ce&67108863,ce=ge*64+(ce/67108864|0)}return oe.words[oe.length-1]===0&&(oe.length--,oe.words[oe.length-1]===0&&oe.length--),oe};function rt(){Ve.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}se(rt,Ve);function mt(){Ve.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}se(mt,Ve);function Qe(){Ve.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}se(Qe,Ve),Qe.prototype.imulK=function(oe){for(var ce=0,le=0;le<oe.length;le++){var ge=(oe.words[le]|0)*19+ce,ye=ge&67108863;ge>>>=26,oe.words[le]=ye,ce=ge}return ce!==0&&(oe.words[oe.length++]=ce),oe},ie._prime=function(oe){if(qe[oe])return qe[oe];var ce;if(oe==="k256")ce=new Xe;else if(oe==="p224")ce=new rt;else if(oe==="p192")ce=new mt;else if(oe==="p25519")ce=new Qe;else throw new Error("Unknown prime "+oe);return qe[oe]=ce,ce};function Se(pe){if(typeof pe=="string"){var oe=ie._prime(pe);this.m=oe.p,this.prime=oe}else ne(pe.gtn(1),"modulus must be greater than 1"),this.m=pe,this.prime=null}Se.prototype._verify1=function(oe){ne(oe.negative===0,"red works only with positives"),ne(oe.red,"red works only with red numbers")},Se.prototype._verify2=function(oe,ce){ne((oe.negative|ce.negative)===0,"red works only with positives"),ne(oe.red&&oe.red===ce.red,"red works only with red numbers")},Se.prototype.imod=function(oe){return this.prime?this.prime.ireduce(oe)._forceRed(this):(Ae(oe,oe.umod(this.m)._forceRed(this)),oe)},Se.prototype.neg=function(oe){return oe.isZero()?oe.clone():this.m.sub(oe)._forceRed(this)},Se.prototype.add=function(oe,ce){this._verify2(oe,ce);var le=oe.add(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le._forceRed(this)},Se.prototype.iadd=function(oe,ce){this._verify2(oe,ce);var le=oe.iadd(ce);return le.cmp(this.m)>=0&&le.isub(this.m),le},Se.prototype.sub=function(oe,ce){this._verify2(oe,ce);var le=oe.sub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le._forceRed(this)},Se.prototype.isub=function(oe,ce){this._verify2(oe,ce);var le=oe.isub(ce);return le.cmpn(0)<0&&le.iadd(this.m),le},Se.prototype.shl=function(oe,ce){return this._verify1(oe),this.imod(oe.ushln(ce))},Se.prototype.imul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.imul(ce))},Se.prototype.mul=function(oe,ce){return this._verify2(oe,ce),this.imod(oe.mul(ce))},Se.prototype.isqr=function(oe){return this.imul(oe,oe.clone())},Se.prototype.sqr=function(oe){return this.mul(oe,oe)},Se.prototype.sqrt=function(oe){if(oe.isZero())return oe.clone();var ce=this.m.andln(3);if(ne(ce%2===1),ce===3){var le=this.m.add(new ie(1)).iushrn(2);return this.pow(oe,le)}for(var ge=this.m.subn(1),ye=0;!ge.isZero()&&ge.andln(1)===0;)ye++,ge.iushrn(1);ne(!ge.isZero());var me=new ie(1).toRed(this),ve=me.redNeg(),he=this.m.subn(1).iushrn(1),ae=this.m.bitLength();for(ae=new ie(2*ae*ae).toRed(this);this.pow(ae,he).cmp(ve)!==0;)ae.redIAdd(ve);for(var be=this.pow(ae,ge),ze=this.pow(oe,ge.addn(1).iushrn(1)),Ie=this.pow(oe,ge),We=ye;Ie.cmp(me)!==0;){for(var ft=Ie,nt=0;ft.cmp(me)!==0;nt++)ft=ft.redSqr();ne(nt<We);var at=this.pow(be,new ie(1).iushln(We-nt-1));ze=ze.redMul(at),be=at.redSqr(),Ie=Ie.redMul(be),We=nt}return ze},Se.prototype.invm=function(oe){var ce=oe._invmp(this.m);return ce.negative!==0?(ce.negative=0,this.imod(ce).redNeg()):this.imod(ce)},Se.prototype.pow=function(oe,ce){if(ce.isZero())return new ie(1).toRed(this);if(ce.cmpn(1)===0)return oe.clone();var le=4,ge=new Array(1<<le);ge[0]=new ie(1).toRed(this),ge[1]=oe;for(var ye=2;ye<ge.length;ye++)ge[ye]=this.mul(ge[ye-1],oe);var me=ge[0],ve=0,he=0,ae=ce.bitLength()%26;for(ae===0&&(ae=26),ye=ce.length-1;ye>=0;ye--){for(var be=ce.words[ye],ze=ae-1;ze>=0;ze--){var Ie=be>>ze&1;if(me!==ge[0]&&(me=this.sqr(me)),Ie===0&&ve===0){he=0;continue}ve<<=1,ve|=Ie,he++,!(he!==le&&(ye!==0||ze!==0))&&(me=this.mul(me,ge[ve]),he=0,ve=0)}ae=26}return me},Se.prototype.convertTo=function(oe){var ce=oe.umod(this.m);return ce===oe?ce.clone():ce},Se.prototype.convertFrom=function(oe){var ce=oe.clone();return ce.red=null,ce},ie.mont=function(oe){return new $e(oe)};function $e(pe){Se.call(this,pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ie(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se($e,Se),$e.prototype.convertTo=function(oe){return this.imod(oe.ushln(this.shift))},$e.prototype.convertFrom=function(oe){var ce=this.imod(oe.mul(this.rinv));return ce.red=null,ce},$e.prototype.imul=function(oe,ce){if(oe.isZero()||ce.isZero())return oe.words[0]=0,oe.length=1,oe;var le=oe.imul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.mul=function(oe,ce){if(oe.isZero()||ce.isZero())return new ie(0)._forceRed(this);var le=oe.mul(ce),ge=le.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ye=le.isub(ge).iushrn(this.shift),me=ye;return ye.cmp(this.m)>=0?me=ye.isub(this.m):ye.cmpn(0)<0&&(me=ye.iadd(this.m)),me._forceRed(this)},$e.prototype.invm=function(oe){var ce=this.imod(oe._invmp(this.m).mul(this.r2));return ce._forceRed(this)}})(re,commonjsGlobal)})(bn);var BN=bn.exports;function createCommonjsModule(re,ee,te){return te={path:ee,exports:{},require:function(ne,se){return commonjsRequire(ne,se??te.path)}},re(te,te.exports),te.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(re,ee){if(!re)throw new Error(ee||"Assertion failed")}assert.equal=function re(ee,te,ne){if(ee!=te)throw new Error(ne||"Assertion failed: "+ee+" != "+te)};var utils_1$1=createCommonjsModule(function(re,ee){var te=ee;function ne(fe,ue){if(Array.isArray(fe))return fe.slice();if(!fe)return[];var xe=[];if(typeof fe!="string"){for(var Ee=0;Ee<fe.length;Ee++)xe[Ee]=fe[Ee]|0;return xe}if(ue==="hex"){fe=fe.replace(/[^a-z0-9]+/ig,""),fe.length%2!==0&&(fe="0"+fe);for(var Ee=0;Ee<fe.length;Ee+=2)xe.push(parseInt(fe[Ee]+fe[Ee+1],16))}else for(var Ee=0;Ee<fe.length;Ee++){var Ae=fe.charCodeAt(Ee),Me=Ae>>8,Pe=Ae&255;Me?xe.push(Me,Pe):xe.push(Pe)}return xe}te.toArray=ne;function se(fe){return fe.length===1?"0"+fe:fe}te.zero2=se;function ie(fe){for(var ue="",xe=0;xe<fe.length;xe++)ue+=se(fe[xe].toString(16));return ue}te.toHex=ie,te.encode=function(ue,xe){return xe==="hex"?ie(ue):ue}}),utils_1$1$1=createCommonjsModule(function(re,ee){var te=ee;te.assert=minimalisticAssert,te.toArray=utils_1$1.toArray,te.zero2=utils_1$1.zero2,te.toHex=utils_1$1.toHex,te.encode=utils_1$1.encode;function ne(xe,Ee,Ae){var Me=new Array(Math.max(xe.bitLength(),Ae)+1);Me.fill(0);for(var Pe=1<<Ee+1,Ne=xe.clone(),je=0;je<Me.length;je++){var Ue,Ce=Ne.andln(Pe-1);Ne.isOdd()?(Ce>(Pe>>1)-1?Ue=(Pe>>1)-Ce:Ue=Ce,Ne.isubn(Ue)):Ue=0,Me[je]=Ue,Ne.iushrn(1)}return Me}te.getNAF=ne;function se(xe,Ee){var Ae=[[],[]];xe=xe.clone(),Ee=Ee.clone();for(var Me=0,Pe=0,Ne;xe.cmpn(-Me)>0||Ee.cmpn(-Pe)>0;){var je=xe.andln(3)+Me&3,Ue=Ee.andln(3)+Pe&3;je===3&&(je=-1),Ue===3&&(Ue=-1);var Ce;(je&1)===0?Ce=0:(Ne=xe.andln(7)+Me&7,(Ne===3||Ne===5)&&Ue===2?Ce=-je:Ce=je),Ae[0].push(Ce);var Be;(Ue&1)===0?Be=0:(Ne=Ee.andln(7)+Pe&7,(Ne===3||Ne===5)&&je===2?Be=-Ue:Be=Ue),Ae[1].push(Be),2*Me===Ce+1&&(Me=1-Me),2*Pe===Be+1&&(Pe=1-Pe),xe.iushrn(1),Ee.iushrn(1)}return Ae}te.getJSF=se;function ie(xe,Ee,Ae){var Me="_"+Ee;xe.prototype[Ee]=function(){return this[Me]!==void 0?this[Me]:this[Me]=Ae.call(this)}}te.cachedProperty=ie;function fe(xe){return typeof xe=="string"?te.toArray(xe,"hex"):xe}te.parseBytes=fe;function ue(xe){return new BN(xe,"hex","le")}te.intFromLE=ue}),getNAF=utils_1$1$1.getNAF,getJSF=utils_1$1$1.getJSF,assert$1=utils_1$1$1.assert;function BaseCurve(re,ee){this.type=re,this.p=new BN(ee.p,16),this.red=ee.prime?BN.red(ee.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=ee.n&&new BN(ee.n,16),this.g=ee.g&&this.pointFromJSON(ee.g,ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var te=this.n&&this.p.div(this.n);!te||te.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;BaseCurve.prototype.point=function re(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function re(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function re(ee,te){assert$1(ee.precomputed);var ne=ee._getDoubles(),se=getNAF(te,1,this._bitLength),ie=(1<<ne.step+1)-(ne.step%2===0?2:1);ie/=3;var fe=[],ue,xe;for(ue=0;ue<se.length;ue+=ne.step){xe=0;for(var Ee=ue+ne.step-1;Ee>=ue;Ee--)xe=(xe<<1)+se[Ee];fe.push(xe)}for(var Ae=this.jpoint(null,null,null),Me=this.jpoint(null,null,null),Pe=ie;Pe>0;Pe--){for(ue=0;ue<fe.length;ue++)xe=fe[ue],xe===Pe?Me=Me.mixedAdd(ne.points[ue]):xe===-Pe&&(Me=Me.mixedAdd(ne.points[ue].neg()));Ae=Ae.add(Me)}return Ae.toP()},BaseCurve.prototype._wnafMul=function re(ee,te){var ne=4,se=ee._getNAFPoints(ne);ne=se.wnd;for(var ie=se.points,fe=getNAF(te,ne,this._bitLength),ue=this.jpoint(null,null,null),xe=fe.length-1;xe>=0;xe--){for(var Ee=0;xe>=0&&fe[xe]===0;xe--)Ee++;if(xe>=0&&Ee++,ue=ue.dblp(Ee),xe<0)break;var Ae=fe[xe];assert$1(Ae!==0),ee.type==="affine"?Ae>0?ue=ue.mixedAdd(ie[Ae-1>>1]):ue=ue.mixedAdd(ie[-Ae-1>>1].neg()):Ae>0?ue=ue.add(ie[Ae-1>>1]):ue=ue.add(ie[-Ae-1>>1].neg())}return ee.type==="affine"?ue.toP():ue},BaseCurve.prototype._wnafMulAdd=function re(ee,te,ne,se,ie){var fe=this._wnafT1,ue=this._wnafT2,xe=this._wnafT3,Ee=0,Ae,Me,Pe;for(Ae=0;Ae<se;Ae++){Pe=te[Ae];var Ne=Pe._getNAFPoints(ee);fe[Ae]=Ne.wnd,ue[Ae]=Ne.points}for(Ae=se-1;Ae>=1;Ae-=2){var je=Ae-1,Ue=Ae;if(fe[je]!==1||fe[Ue]!==1){xe[je]=getNAF(ne[je],fe[je],this._bitLength),xe[Ue]=getNAF(ne[Ue],fe[Ue],this._bitLength),Ee=Math.max(xe[je].length,Ee),Ee=Math.max(xe[Ue].length,Ee);continue}var Ce=[te[je],null,null,te[Ue]];te[je].y.cmp(te[Ue].y)===0?(Ce[1]=te[je].add(te[Ue]),Ce[2]=te[je].toJ().mixedAdd(te[Ue].neg())):te[je].y.cmp(te[Ue].y.redNeg())===0?(Ce[1]=te[je].toJ().mixedAdd(te[Ue]),Ce[2]=te[je].add(te[Ue].neg())):(Ce[1]=te[je].toJ().mixedAdd(te[Ue]),Ce[2]=te[je].toJ().mixedAdd(te[Ue].neg()));var Be=[-3,-1,-5,-7,0,7,5,1,3],He=getJSF(ne[je],ne[Ue]);for(Ee=Math.max(He[0].length,Ee),xe[je]=new Array(Ee),xe[Ue]=new Array(Ee),Me=0;Me<Ee;Me++){var Oe=He[0][Me]|0,Ke=He[1][Me]|0;xe[je][Me]=Be[(Oe+1)*3+(Ke+1)],xe[Ue][Me]=0,ue[je]=Ce}}var qe=this.jpoint(null,null,null),Ve=this._wnafT4;for(Ae=Ee;Ae>=0;Ae--){for(var Xe=0;Ae>=0;){var rt=!0;for(Me=0;Me<se;Me++)Ve[Me]=xe[Me][Ae]|0,Ve[Me]!==0&&(rt=!1);if(!rt)break;Xe++,Ae--}if(Ae>=0&&Xe++,qe=qe.dblp(Xe),Ae<0)break;for(Me=0;Me<se;Me++){var mt=Ve[Me];mt!==0&&(mt>0?Pe=ue[Me][mt-1>>1]:mt<0&&(Pe=ue[Me][-mt-1>>1].neg()),Pe.type==="affine"?qe=qe.mixedAdd(Pe):qe=qe.add(Pe))}}for(Ae=0;Ae<se;Ae++)ue[Ae]=null;return ie?qe:qe.toP()};function BasePoint(re,ee){this.curve=re,this.type=ee,this.precomputed=null}BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function re(){throw new Error("Not implemented")},BasePoint.prototype.validate=function re(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function re(ee,te){ee=utils_1$1$1.toArray(ee,te);var ne=this.p.byteLength();if((ee[0]===4||ee[0]===6||ee[0]===7)&&ee.length-1===2*ne){ee[0]===6?assert$1(ee[ee.length-1]%2===0):ee[0]===7&&assert$1(ee[ee.length-1]%2===1);var se=this.point(ee.slice(1,1+ne),ee.slice(1+ne,1+2*ne));return se}else if((ee[0]===2||ee[0]===3)&&ee.length-1===ne)return this.pointFromX(ee.slice(1,1+ne),ee[0]===3);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function re(ee){return this.encode(ee,!0)},BasePoint.prototype._encode=function re(ee){var te=this.curve.p.byteLength(),ne=this.getX().toArray("be",te);return ee?[this.getY().isEven()?2:3].concat(ne):[4].concat(ne,this.getY().toArray("be",te))},BasePoint.prototype.encode=function re(ee,te){return utils_1$1$1.encode(this._encode(te),ee)},BasePoint.prototype.precompute=function re(ee){if(this.precomputed)return this;var te={doubles:null,naf:null,beta:null};return te.naf=this._getNAFPoints(8),te.doubles=this._getDoubles(4,ee),te.beta=this._getBeta(),this.precomputed=te,this},BasePoint.prototype._hasDoubles=function re(ee){if(!this.precomputed)return!1;var te=this.precomputed.doubles;return te?te.points.length>=Math.ceil((ee.bitLength()+1)/te.step):!1},BasePoint.prototype._getDoubles=function re(ee,te){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ne=[this],se=this,ie=0;ie<te;ie+=ee){for(var fe=0;fe<ee;fe++)se=se.dbl();ne.push(se)}return{step:ee,points:ne}},BasePoint.prototype._getNAFPoints=function re(ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var te=[this],ne=(1<<ee)-1,se=ne===1?null:this.dbl(),ie=1;ie<ne;ie++)te[ie]=te[ie-1].add(se);return{wnd:ee,points:te}},BasePoint.prototype._getBeta=function re(){return null},BasePoint.prototype.dblp=function re(ee){for(var te=this,ne=0;ne<ee;ne++)te=te.dbl();return te};var inherits_browser=createCommonjsModule(function(re){typeof Object.create=="function"?re.exports=function(te,ne){ne&&(te.super_=ne,te.prototype=Object.create(ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}))}:re.exports=function(te,ne){if(ne){te.super_=ne;var se=function(){};se.prototype=ne.prototype,te.prototype=new se,te.prototype.constructor=te}}}),assert$2=utils_1$1$1.assert;function ShortCurve(re){base.call(this,"short",re),this.a=new BN(re.a,16).toRed(this.red),this.b=new BN(re.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(re),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function re(ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var te,ne;if(ee.beta)te=new BN(ee.beta,16).toRed(this.red);else{var se=this._getEndoRoots(this.p);te=se[0].cmp(se[1])<0?se[0]:se[1],te=te.toRed(this.red)}if(ee.lambda)ne=new BN(ee.lambda,16);else{var ie=this._getEndoRoots(this.n);this.g.mul(ie[0]).x.cmp(this.g.x.redMul(te))===0?ne=ie[0]:(ne=ie[1],assert$2(this.g.mul(ne).x.cmp(this.g.x.redMul(te))===0))}var fe;return ee.basis?fe=ee.basis.map(function(ue){return{a:new BN(ue.a,16),b:new BN(ue.b,16)}}):fe=this._getEndoBasis(ne),{beta:te,lambda:ne,basis:fe}}},ShortCurve.prototype._getEndoRoots=function re(ee){var te=ee===this.p?this.red:BN.mont(ee),ne=new BN(2).toRed(te).redInvm(),se=ne.redNeg(),ie=new BN(3).toRed(te).redNeg().redSqrt().redMul(ne),fe=se.redAdd(ie).fromRed(),ue=se.redSub(ie).fromRed();return[fe,ue]},ShortCurve.prototype._getEndoBasis=function re(ee){for(var te=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ne=ee,se=this.n.clone(),ie=new BN(1),fe=new BN(0),ue=new BN(0),xe=new BN(1),Ee,Ae,Me,Pe,Ne,je,Ue,Ce=0,Be,He;ne.cmpn(0)!==0;){var Oe=se.div(ne);Be=se.sub(Oe.mul(ne)),He=ue.sub(Oe.mul(ie));var Ke=xe.sub(Oe.mul(fe));if(!Me&&Be.cmp(te)<0)Ee=Ue.neg(),Ae=ie,Me=Be.neg(),Pe=He;else if(Me&&++Ce===2)break;Ue=Be,se=ne,ne=Be,ue=ie,ie=He,xe=fe,fe=Ke}Ne=Be.neg(),je=He;var qe=Me.sqr().add(Pe.sqr()),Ve=Ne.sqr().add(je.sqr());return Ve.cmp(qe)>=0&&(Ne=Ee,je=Ae),Me.negative&&(Me=Me.neg(),Pe=Pe.neg()),Ne.negative&&(Ne=Ne.neg(),je=je.neg()),[{a:Me,b:Pe},{a:Ne,b:je}]},ShortCurve.prototype._endoSplit=function re(ee){var te=this.endo.basis,ne=te[0],se=te[1],ie=se.b.mul(ee).divRound(this.n),fe=ne.b.neg().mul(ee).divRound(this.n),ue=ie.mul(ne.a),xe=fe.mul(se.a),Ee=ie.mul(ne.b),Ae=fe.mul(se.b),Me=ee.sub(ue).sub(xe),Pe=Ee.add(Ae).neg();return{k1:Me,k2:Pe}},ShortCurve.prototype.pointFromX=function re(ee,te){ee=new BN(ee,16),ee.red||(ee=ee.toRed(this.red));var ne=ee.redSqr().redMul(ee).redIAdd(ee.redMul(this.a)).redIAdd(this.b),se=ne.redSqrt();if(se.redSqr().redSub(ne).cmp(this.zero)!==0)throw new Error("invalid point");var ie=se.fromRed().isOdd();return(te&&!ie||!te&&ie)&&(se=se.redNeg()),this.point(ee,se)},ShortCurve.prototype.validate=function re(ee){if(ee.inf)return!0;var te=ee.x,ne=ee.y,se=this.a.redMul(te),ie=te.redSqr().redMul(te).redIAdd(se).redIAdd(this.b);return ne.redSqr().redISub(ie).cmpn(0)===0},ShortCurve.prototype._endoWnafMulAdd=function re(ee,te,ne){for(var se=this._endoWnafT1,ie=this._endoWnafT2,fe=0;fe<ee.length;fe++){var ue=this._endoSplit(te[fe]),xe=ee[fe],Ee=xe._getBeta();ue.k1.negative&&(ue.k1.ineg(),xe=xe.neg(!0)),ue.k2.negative&&(ue.k2.ineg(),Ee=Ee.neg(!0)),se[fe*2]=xe,se[fe*2+1]=Ee,ie[fe*2]=ue.k1,ie[fe*2+1]=ue.k2}for(var Ae=this._wnafMulAdd(1,se,ie,fe*2,ne),Me=0;Me<fe*2;Me++)se[Me]=null,ie[Me]=null;return Ae};function Point(re,ee,te,ne){base.BasePoint.call(this,re,"affine"),ee===null&&te===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(ee,16),this.y=new BN(te,16),ne&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base.BasePoint),ShortCurve.prototype.point=function re(ee,te,ne){return new Point(this,ee,te,ne)},ShortCurve.prototype.pointFromJSON=function re(ee,te){return Point.fromJSON(this,ee,te)},Point.prototype._getBeta=function re(){if(!!this.curve.endo){var ee=this.precomputed;if(ee&&ee.beta)return ee.beta;var te=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ee){var ne=this.curve,se=function(ie){return ne.point(ie.x.redMul(ne.endo.beta),ie.y)};ee.beta=te,te.precomputed={beta:null,naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(se)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(se)}}}return te}},Point.prototype.toJSON=function re(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function re(ee,te,ne){typeof te=="string"&&(te=JSON.parse(te));var se=ee.point(te[0],te[1],ne);if(!te[2])return se;function ie(ue){return ee.point(ue[0],ue[1],ne)}var fe=te[2];return se.precomputed={beta:null,doubles:fe.doubles&&{step:fe.doubles.step,points:[se].concat(fe.doubles.points.map(ie))},naf:fe.naf&&{wnd:fe.naf.wnd,points:[se].concat(fe.naf.points.map(ie))}},se},Point.prototype.inspect=function re(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function re(){return this.inf},Point.prototype.add=function re(ee){if(this.inf)return ee;if(ee.inf)return this;if(this.eq(ee))return this.dbl();if(this.neg().eq(ee))return this.curve.point(null,null);if(this.x.cmp(ee.x)===0)return this.curve.point(null,null);var te=this.y.redSub(ee.y);te.cmpn(0)!==0&&(te=te.redMul(this.x.redSub(ee.x).redInvm()));var ne=te.redSqr().redISub(this.x).redISub(ee.x),se=te.redMul(this.x.redSub(ne)).redISub(this.y);return this.curve.point(ne,se)},Point.prototype.dbl=function re(){if(this.inf)return this;var ee=this.y.redAdd(this.y);if(ee.cmpn(0)===0)return this.curve.point(null,null);var te=this.curve.a,ne=this.x.redSqr(),se=ee.redInvm(),ie=ne.redAdd(ne).redIAdd(ne).redIAdd(te).redMul(se),fe=ie.redSqr().redISub(this.x.redAdd(this.x)),ue=ie.redMul(this.x.redSub(fe)).redISub(this.y);return this.curve.point(fe,ue)},Point.prototype.getX=function re(){return this.x.fromRed()},Point.prototype.getY=function re(){return this.y.fromRed()},Point.prototype.mul=function re(ee){return ee=new BN(ee,16),this.isInfinity()?this:this._hasDoubles(ee)?this.curve._fixedNafMul(this,ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[ee]):this.curve._wnafMul(this,ee)},Point.prototype.mulAdd=function re(ee,te,ne){var se=[this,te],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(se,ie):this.curve._wnafMulAdd(1,se,ie,2)},Point.prototype.jmulAdd=function re(ee,te,ne){var se=[this,te],ie=[ee,ne];return this.curve.endo?this.curve._endoWnafMulAdd(se,ie,!0):this.curve._wnafMulAdd(1,se,ie,2,!0)},Point.prototype.eq=function re(ee){return this===ee||this.inf===ee.inf&&(this.inf||this.x.cmp(ee.x)===0&&this.y.cmp(ee.y)===0)},Point.prototype.neg=function re(ee){if(this.inf)return this;var te=this.curve.point(this.x,this.y.redNeg());if(ee&&this.precomputed){var ne=this.precomputed,se=function(ie){return ie.neg()};te.precomputed={naf:ne.naf&&{wnd:ne.naf.wnd,points:ne.naf.points.map(se)},doubles:ne.doubles&&{step:ne.doubles.step,points:ne.doubles.points.map(se)}}}return te},Point.prototype.toJ=function re(){if(this.inf)return this.curve.jpoint(null,null,null);var ee=this.curve.jpoint(this.x,this.y,this.curve.one);return ee};function JPoint(re,ee,te,ne){base.BasePoint.call(this,re,"jacobian"),ee===null&&te===null&&ne===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(ee,16),this.y=new BN(te,16),this.z=new BN(ne,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base.BasePoint),ShortCurve.prototype.jpoint=function re(ee,te,ne){return new JPoint(this,ee,te,ne)},JPoint.prototype.toP=function re(){if(this.isInfinity())return this.curve.point(null,null);var ee=this.z.redInvm(),te=ee.redSqr(),ne=this.x.redMul(te),se=this.y.redMul(te).redMul(ee);return this.curve.point(ne,se)},JPoint.prototype.neg=function re(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function re(ee){if(this.isInfinity())return ee;if(ee.isInfinity())return this;var te=ee.z.redSqr(),ne=this.z.redSqr(),se=this.x.redMul(te),ie=ee.x.redMul(ne),fe=this.y.redMul(te.redMul(ee.z)),ue=ee.y.redMul(ne.redMul(this.z)),xe=se.redSub(ie),Ee=fe.redSub(ue);if(xe.cmpn(0)===0)return Ee.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Ae=xe.redSqr(),Me=Ae.redMul(xe),Pe=se.redMul(Ae),Ne=Ee.redSqr().redIAdd(Me).redISub(Pe).redISub(Pe),je=Ee.redMul(Pe.redISub(Ne)).redISub(fe.redMul(Me)),Ue=this.z.redMul(ee.z).redMul(xe);return this.curve.jpoint(Ne,je,Ue)},JPoint.prototype.mixedAdd=function re(ee){if(this.isInfinity())return ee.toJ();if(ee.isInfinity())return this;var te=this.z.redSqr(),ne=this.x,se=ee.x.redMul(te),ie=this.y,fe=ee.y.redMul(te).redMul(this.z),ue=ne.redSub(se),xe=ie.redSub(fe);if(ue.cmpn(0)===0)return xe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Ee=ue.redSqr(),Ae=Ee.redMul(ue),Me=ne.redMul(Ee),Pe=xe.redSqr().redIAdd(Ae).redISub(Me).redISub(Me),Ne=xe.redMul(Me.redISub(Pe)).redISub(ie.redMul(Ae)),je=this.z.redMul(ue);return this.curve.jpoint(Pe,Ne,je)},JPoint.prototype.dblp=function re(ee){if(ee===0)return this;if(this.isInfinity())return this;if(!ee)return this.dbl();var te;if(this.curve.zeroA||this.curve.threeA){var ne=this;for(te=0;te<ee;te++)ne=ne.dbl();return ne}var se=this.curve.a,ie=this.curve.tinv,fe=this.x,ue=this.y,xe=this.z,Ee=xe.redSqr().redSqr(),Ae=ue.redAdd(ue);for(te=0;te<ee;te++){var Me=fe.redSqr(),Pe=Ae.redSqr(),Ne=Pe.redSqr(),je=Me.redAdd(Me).redIAdd(Me).redIAdd(se.redMul(Ee)),Ue=fe.redMul(Pe),Ce=je.redSqr().redISub(Ue.redAdd(Ue)),Be=Ue.redISub(Ce),He=je.redMul(Be);He=He.redIAdd(He).redISub(Ne);var Oe=Ae.redMul(xe);te+1<ee&&(Ee=Ee.redMul(Ne)),fe=Ce,xe=Oe,Ae=He}return this.curve.jpoint(fe,Ae.redMul(ie),xe)},JPoint.prototype.dbl=function re(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function re(){var ee,te,ne;if(this.zOne){var se=this.x.redSqr(),ie=this.y.redSqr(),fe=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(se).redISub(fe);ue=ue.redIAdd(ue);var xe=se.redAdd(se).redIAdd(se),Ee=xe.redSqr().redISub(ue).redISub(ue),Ae=fe.redIAdd(fe);Ae=Ae.redIAdd(Ae),Ae=Ae.redIAdd(Ae),ee=Ee,te=xe.redMul(ue.redISub(Ee)).redISub(Ae),ne=this.y.redAdd(this.y)}else{var Me=this.x.redSqr(),Pe=this.y.redSqr(),Ne=Pe.redSqr(),je=this.x.redAdd(Pe).redSqr().redISub(Me).redISub(Ne);je=je.redIAdd(je);var Ue=Me.redAdd(Me).redIAdd(Me),Ce=Ue.redSqr(),Be=Ne.redIAdd(Ne);Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),ee=Ce.redISub(je).redISub(je),te=Ue.redMul(je.redISub(ee)).redISub(Be),ne=this.y.redMul(this.z),ne=ne.redIAdd(ne)}return this.curve.jpoint(ee,te,ne)},JPoint.prototype._threeDbl=function re(){var ee,te,ne;if(this.zOne){var se=this.x.redSqr(),ie=this.y.redSqr(),fe=ie.redSqr(),ue=this.x.redAdd(ie).redSqr().redISub(se).redISub(fe);ue=ue.redIAdd(ue);var xe=se.redAdd(se).redIAdd(se).redIAdd(this.curve.a),Ee=xe.redSqr().redISub(ue).redISub(ue);ee=Ee;var Ae=fe.redIAdd(fe);Ae=Ae.redIAdd(Ae),Ae=Ae.redIAdd(Ae),te=xe.redMul(ue.redISub(Ee)).redISub(Ae),ne=this.y.redAdd(this.y)}else{var Me=this.z.redSqr(),Pe=this.y.redSqr(),Ne=this.x.redMul(Pe),je=this.x.redSub(Me).redMul(this.x.redAdd(Me));je=je.redAdd(je).redIAdd(je);var Ue=Ne.redIAdd(Ne);Ue=Ue.redIAdd(Ue);var Ce=Ue.redAdd(Ue);ee=je.redSqr().redISub(Ce),ne=this.y.redAdd(this.z).redSqr().redISub(Pe).redISub(Me);var Be=Pe.redSqr();Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),Be=Be.redIAdd(Be),te=je.redMul(Ue.redISub(ee)).redISub(Be)}return this.curve.jpoint(ee,te,ne)},JPoint.prototype._dbl=function re(){var ee=this.curve.a,te=this.x,ne=this.y,se=this.z,ie=se.redSqr().redSqr(),fe=te.redSqr(),ue=ne.redSqr(),xe=fe.redAdd(fe).redIAdd(fe).redIAdd(ee.redMul(ie)),Ee=te.redAdd(te);Ee=Ee.redIAdd(Ee);var Ae=Ee.redMul(ue),Me=xe.redSqr().redISub(Ae.redAdd(Ae)),Pe=Ae.redISub(Me),Ne=ue.redSqr();Ne=Ne.redIAdd(Ne),Ne=Ne.redIAdd(Ne),Ne=Ne.redIAdd(Ne);var je=xe.redMul(Pe).redISub(Ne),Ue=ne.redAdd(ne).redMul(se);return this.curve.jpoint(Me,je,Ue)},JPoint.prototype.trpl=function re(){if(!this.curve.zeroA)return this.dbl().add(this);var ee=this.x.redSqr(),te=this.y.redSqr(),ne=this.z.redSqr(),se=te.redSqr(),ie=ee.redAdd(ee).redIAdd(ee),fe=ie.redSqr(),ue=this.x.redAdd(te).redSqr().redISub(ee).redISub(se);ue=ue.redIAdd(ue),ue=ue.redAdd(ue).redIAdd(ue),ue=ue.redISub(fe);var xe=ue.redSqr(),Ee=se.redIAdd(se);Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee),Ee=Ee.redIAdd(Ee);var Ae=ie.redIAdd(ue).redSqr().redISub(fe).redISub(xe).redISub(Ee),Me=te.redMul(Ae);Me=Me.redIAdd(Me),Me=Me.redIAdd(Me);var Pe=this.x.redMul(xe).redISub(Me);Pe=Pe.redIAdd(Pe),Pe=Pe.redIAdd(Pe);var Ne=this.y.redMul(Ae.redMul(Ee.redISub(Ae)).redISub(ue.redMul(xe)));Ne=Ne.redIAdd(Ne),Ne=Ne.redIAdd(Ne),Ne=Ne.redIAdd(Ne);var je=this.z.redAdd(ue).redSqr().redISub(ne).redISub(xe);return this.curve.jpoint(Pe,Ne,je)},JPoint.prototype.mul=function re(ee,te){return ee=new BN(ee,te),this.curve._wnafMul(this,ee)},JPoint.prototype.eq=function re(ee){if(ee.type==="affine")return this.eq(ee.toJ());if(this===ee)return!0;var te=this.z.redSqr(),ne=ee.z.redSqr();if(this.x.redMul(ne).redISub(ee.x.redMul(te)).cmpn(0)!==0)return!1;var se=te.redMul(this.z),ie=ne.redMul(ee.z);return this.y.redMul(ie).redISub(ee.y.redMul(se)).cmpn(0)===0},JPoint.prototype.eqXToP=function re(ee){var te=this.z.redSqr(),ne=ee.toRed(this.curve.red).redMul(te);if(this.x.cmp(ne)===0)return!0;for(var se=ee.clone(),ie=this.curve.redN.redMul(te);;){if(se.iadd(this.curve.n),se.cmp(this.curve.p)>=0)return!1;if(ne.redIAdd(ie),this.x.cmp(ne)===0)return!0}},JPoint.prototype.inspect=function re(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function re(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(re,ee){var te=ee;te.base=base,te.short=short_1,te.mont=null,te.edwards=null}),curves_1=createCommonjsModule(function(re,ee){var te=ee,ne=utils_1$1$1.assert;function se(ue){ue.type==="short"?this.curve=new curve_1.short(ue):ue.type==="edwards"?this.curve=new curve_1.edwards(ue):this.curve=new curve_1.mont(ue),this.g=this.curve.g,this.n=this.curve.n,this.hash=ue.hash,ne(this.g.validate(),"Invalid curve"),ne(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}te.PresetCurve=se;function ie(ue,xe){Object.defineProperty(te,ue,{configurable:!0,enumerable:!0,get:function(){var Ee=new se(xe);return Object.defineProperty(te,ue,{configurable:!0,enumerable:!0,value:Ee}),Ee}})}ie("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ie("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ie("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ie("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ie("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ie("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),ie("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var fe;try{fe=null.crash()}catch{fe=void 0}ie("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",fe]})});function HmacDRBG(re){if(!(this instanceof HmacDRBG))return new HmacDRBG(re);this.hash=re.hash,this.predResist=!!re.predResist,this.outLen=this.hash.outSize,this.minEntropy=re.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ee=utils_1$1.toArray(re.entropy,re.entropyEnc||"hex"),te=utils_1$1.toArray(re.nonce,re.nonceEnc||"hex"),ne=utils_1$1.toArray(re.pers,re.persEnc||"hex");minimalisticAssert(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ee,te,ne)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function re(ee,te,ne){var se=ee.concat(te).concat(ne);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ie=0;ie<this.V.length;ie++)this.K[ie]=0,this.V[ie]=1;this._update(se),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function re(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function re(ee){var te=this._hmac().update(this.V).update([0]);ee&&(te=te.update(ee)),this.K=te.digest(),this.V=this._hmac().update(this.V).digest(),ee&&(this.K=this._hmac().update(this.V).update([1]).update(ee).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function re(ee,te,ne,se){typeof te!="string"&&(se=ne,ne=te,te=null),ee=utils_1$1.toArray(ee,te),ne=utils_1$1.toArray(ne,se),minimalisticAssert(ee.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(ee.concat(ne||[])),this._reseed=1},HmacDRBG.prototype.generate=function re(ee,te,ne,se){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof te!="string"&&(se=ne,ne=te,te=null),ne&&(ne=utils_1$1.toArray(ne,se||"hex"),this._update(ne));for(var ie=[];ie.length<ee;)this.V=this._hmac().update(this.V).digest(),ie=ie.concat(this.V);var fe=ie.slice(0,ee);return this._update(ne),this._reseed++,utils_1$1.encode(fe,te)};var assert$3=utils_1$1$1.assert;function KeyPair(re,ee){this.ec=re,this.priv=null,this.pub=null,ee.priv&&this._importPrivate(ee.priv,ee.privEnc),ee.pub&&this._importPublic(ee.pub,ee.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function re(ee,te,ne){return te instanceof KeyPair?te:new KeyPair(ee,{pub:te,pubEnc:ne})},KeyPair.fromPrivate=function re(ee,te,ne){return te instanceof KeyPair?te:new KeyPair(ee,{priv:te,privEnc:ne})},KeyPair.prototype.validate=function re(){var ee=this.getPublic();return ee.isInfinity()?{result:!1,reason:"Invalid public key"}:ee.validate()?ee.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function re(ee,te){return typeof ee=="string"&&(te=ee,ee=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),te?this.pub.encode(te,ee):this.pub},KeyPair.prototype.getPrivate=function re(ee){return ee==="hex"?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function re(ee,te){this.priv=new BN(ee,te||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function re(ee,te){if(ee.x||ee.y){this.ec.curve.type==="mont"?assert$3(ee.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(ee.x&&ee.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(ee.x,ee.y);return}this.pub=this.ec.curve.decodePoint(ee,te)},KeyPair.prototype.derive=function re(ee){return ee.validate()||assert$3(ee.validate(),"public point not validated"),ee.mul(this.priv).getX()},KeyPair.prototype.sign=function re(ee,te,ne){return this.ec.sign(ee,this,te,ne)},KeyPair.prototype.verify=function re(ee,te){return this.ec.verify(ee,te,this)},KeyPair.prototype.inspect=function re(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1$1.assert;function Signature(re,ee){if(re instanceof Signature)return re;this._importDER(re,ee)||(assert$4(re.r&&re.s,"Signature without r or s"),this.r=new BN(re.r,16),this.s=new BN(re.s,16),re.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=re.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(re,ee){var te=re[ee.place++];if(!(te&128))return te;var ne=te&15;if(ne===0||ne>4)return!1;for(var se=0,ie=0,fe=ee.place;ie<ne;ie++,fe++)se<<=8,se|=re[fe],se>>>=0;return se<=127?!1:(ee.place=fe,se)}function rmPadding(re){for(var ee=0,te=re.length-1;!re[ee]&&!(re[ee+1]&128)&&ee<te;)ee++;return ee===0?re:re.slice(ee)}Signature.prototype._importDER=function re(ee,te){ee=utils_1$1$1.toArray(ee,te);var ne=new Position;if(ee[ne.place++]!==48)return!1;var se=getLength(ee,ne);if(se===!1||se+ne.place!==ee.length||ee[ne.place++]!==2)return!1;var ie=getLength(ee,ne);if(ie===!1)return!1;var fe=ee.slice(ne.place,ie+ne.place);if(ne.place+=ie,ee[ne.place++]!==2)return!1;var ue=getLength(ee,ne);if(ue===!1||ee.length!==ue+ne.place)return!1;var xe=ee.slice(ne.place,ue+ne.place);if(fe[0]===0)if(fe[1]&128)fe=fe.slice(1);else return!1;if(xe[0]===0)if(xe[1]&128)xe=xe.slice(1);else return!1;return this.r=new BN(fe),this.s=new BN(xe),this.recoveryParam=null,!0};function constructLength(re,ee){if(ee<128){re.push(ee);return}var te=1+(Math.log(ee)/Math.LN2>>>3);for(re.push(te|128);--te;)re.push(ee>>>(te<<3)&255);re.push(ee)}Signature.prototype.toDER=function re(ee){var te=this.r.toArray(),ne=this.s.toArray();for(te[0]&128&&(te=[0].concat(te)),ne[0]&128&&(ne=[0].concat(ne)),te=rmPadding(te),ne=rmPadding(ne);!ne[0]&&!(ne[1]&128);)ne=ne.slice(1);var se=[2];constructLength(se,te.length),se=se.concat(te),se.push(2),constructLength(se,ne.length);var ie=se.concat(ne),fe=[48];return constructLength(fe,ie.length),fe=fe.concat(ie),utils_1$1$1.encode(fe,ee)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1$1.assert;function EC(re){if(!(this instanceof EC))return new EC(re);typeof re=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,re),"Unknown curve "+re),re=curves_1[re]),re instanceof curves_1.PresetCurve&&(re={curve:re}),this.curve=re.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=re.curve.g,this.g.precompute(re.curve.n.bitLength()+1),this.hash=re.hash||re.curve.hash}var ec=EC;EC.prototype.keyPair=function re(ee){return new key(this,ee)},EC.prototype.keyFromPrivate=function re(ee,te){return key.fromPrivate(this,ee,te)},EC.prototype.keyFromPublic=function re(ee,te){return key.fromPublic(this,ee,te)},EC.prototype.genKeyPair=function re(ee){ee||(ee={});for(var te=new hmacDrbg({hash:this.hash,pers:ee.pers,persEnc:ee.persEnc||"utf8",entropy:ee.entropy||rand(this.hash.hmacStrength),entropyEnc:ee.entropy&&ee.entropyEnc||"utf8",nonce:this.n.toArray()}),ne=this.n.byteLength(),se=this.n.sub(new BN(2));;){var ie=new BN(te.generate(ne));if(!(ie.cmp(se)>0))return ie.iaddn(1),this.keyFromPrivate(ie)}},EC.prototype._truncateToN=function re(ee,te){var ne=ee.byteLength()*8-this.n.bitLength();return ne>0&&(ee=ee.ushrn(ne)),!te&&ee.cmp(this.n)>=0?ee.sub(this.n):ee},EC.prototype.sign=function re(ee,te,ne,se){typeof ne=="object"&&(se=ne,ne=null),se||(se={}),te=this.keyFromPrivate(te,ne),ee=this._truncateToN(new BN(ee,16));for(var ie=this.n.byteLength(),fe=te.getPrivate().toArray("be",ie),ue=ee.toArray("be",ie),xe=new hmacDrbg({hash:this.hash,entropy:fe,nonce:ue,pers:se.pers,persEnc:se.persEnc||"utf8"}),Ee=this.n.sub(new BN(1)),Ae=0;;Ae++){var Me=se.k?se.k(Ae):new BN(xe.generate(this.n.byteLength()));if(Me=this._truncateToN(Me,!0),!(Me.cmpn(1)<=0||Me.cmp(Ee)>=0)){var Pe=this.g.mul(Me);if(!Pe.isInfinity()){var Ne=Pe.getX(),je=Ne.umod(this.n);if(je.cmpn(0)!==0){var Ue=Me.invm(this.n).mul(je.mul(te.getPrivate()).iadd(ee));if(Ue=Ue.umod(this.n),Ue.cmpn(0)!==0){var Ce=(Pe.getY().isOdd()?1:0)|(Ne.cmp(je)!==0?2:0);return se.canonical&&Ue.cmp(this.nh)>0&&(Ue=this.n.sub(Ue),Ce^=1),new signature({r:je,s:Ue,recoveryParam:Ce})}}}}}},EC.prototype.verify=function re(ee,te,ne,se){ee=this._truncateToN(new BN(ee,16)),ne=this.keyFromPublic(ne,se),te=new signature(te,"hex");var ie=te.r,fe=te.s;if(ie.cmpn(1)<0||ie.cmp(this.n)>=0||fe.cmpn(1)<0||fe.cmp(this.n)>=0)return!1;var ue=fe.invm(this.n),xe=ue.mul(ee).umod(this.n),Ee=ue.mul(ie).umod(this.n),Ae;return this.curve._maxwellTrick?(Ae=this.g.jmulAdd(xe,ne.getPublic(),Ee),Ae.isInfinity()?!1:Ae.eqXToP(ie)):(Ae=this.g.mulAdd(xe,ne.getPublic(),Ee),Ae.isInfinity()?!1:Ae.getX().umod(this.n).cmp(ie)===0)},EC.prototype.recoverPubKey=function(re,ee,te,ne){assert$5((3&te)===te,"The recovery param is more than two bits"),ee=new signature(ee,ne);var se=this.n,ie=new BN(re),fe=ee.r,ue=ee.s,xe=te&1,Ee=te>>1;if(fe.cmp(this.curve.p.umod(this.curve.n))>=0&&Ee)throw new Error("Unable to find sencond key candinate");Ee?fe=this.curve.pointFromX(fe.add(this.curve.n),xe):fe=this.curve.pointFromX(fe,xe);var Ae=ee.r.invm(se),Me=se.sub(ie).mul(Ae).umod(se),Pe=ue.mul(Ae).umod(se);return this.g.mulAdd(Me,fe,Pe)},EC.prototype.getKeyRecoveryParam=function(re,ee,te,ne){if(ee=new signature(ee,ne),ee.recoveryParam!==null)return ee.recoveryParam;for(var se=0;se<4;se++){var ie;try{ie=this.recoverPubKey(re,ee,se)}catch{continue}if(ie.eq(te))return se}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(re,ee){var te=ee;te.version="6.5.4",te.utils=utils_1$1$1,te.rand=function(){throw new Error("unsupported")},te.curve=curve_1,te.curves=curves_1,te.ec=ec,te.eddsa=null}),EC$1=elliptic_1.ec;const version$b="signing-key/5.7.0",logger$c=new Logger(version$b);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(ee){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(ee)),hexDataLength(this.privateKey)!==32&&logger$c.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const te=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+te.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+te.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(ee){const te=getCurve().keyFromPublic(arrayify(this.publicKey)),ne=getCurve().keyFromPublic(arrayify(ee));return"0x"+te.pub.add(ne.pub).encodeCompressed("hex")}signDigest(ee){const te=getCurve().keyFromPrivate(arrayify(this.privateKey)),ne=arrayify(ee);ne.length!==32&&logger$c.throwArgumentError("bad digest length","digest",ee);const se=te.sign(ne,{canonical:!0});return splitSignature({recoveryParam:se.recoveryParam,r:hexZeroPad("0x"+se.r.toString(16),32),s:hexZeroPad("0x"+se.s.toString(16),32)})}computeSharedSecret(ee){const te=getCurve().keyFromPrivate(arrayify(this.privateKey)),ne=getCurve().keyFromPublic(arrayify(computePublicKey(ee)));return hexZeroPad("0x"+te.derive(ne.getPublic()).toString(16),32)}static isSigningKey(ee){return!!(ee&&ee._isSigningKey)}}function recoverPublicKey(re,ee){const te=splitSignature(ee),ne={r:arrayify(te.r),s:arrayify(te.s)};return"0x"+getCurve().recoverPubKey(arrayify(re),ne,te.recoveryParam).encode("hex",!1)}function computePublicKey(re,ee){const te=arrayify(re);if(te.length===32){const ne=new SigningKey(te);return ee?"0x"+getCurve().keyFromPrivate(te).getPublic(!0,"hex"):ne.publicKey}else{if(te.length===33)return ee?hexlify(te):"0x"+getCurve().keyFromPublic(te).getPublic(!1,"hex");if(te.length===65)return ee?"0x"+getCurve().keyFromPublic(te).getPublic(!0,"hex"):hexlify(te)}return logger$c.throwArgumentError("invalid public or private key","key","[REDACTED]")}var lib_esm$8=Object.freeze({__proto__:null,SigningKey,recoverPublicKey,computePublicKey});const version$a="transactions/5.7.0",logger$b=new Logger(version$a);var TransactionTypes;(function(re){re[re.legacy=0]="legacy",re[re.eip2930=1]="eip2930",re[re.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(re){return re==="0x"?null:getAddress(re)}function handleNumber(re){return re==="0x"?Zero$1:BigNumber.from(re)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$1={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(re){const ee=computePublicKey(re);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(ee,1)),12))}function recoverAddress(re,ee){return computeAddress(recoverPublicKey(arrayify(re),ee))}function formatNumber(re,ee){const te=stripZeros(BigNumber.from(re).toHexString());return te.length>32&&logger$b.throwArgumentError("invalid length for "+ee,"transaction:"+ee,re),te}function accessSetify(re,ee){return{address:getAddress(re),storageKeys:(ee||[]).map((te,ne)=>(hexDataLength(te)!==32&&logger$b.throwArgumentError("invalid access list storageKey",`accessList[${re}:${ne}]`,te),te.toLowerCase()))}}function accessListify(re){if(Array.isArray(re))return re.map((te,ne)=>Array.isArray(te)?(te.length>2&&logger$b.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${ne}]`,te),accessSetify(te[0],te[1])):accessSetify(te.address,te.storageKeys));const ee=Object.keys(re).map(te=>{const ne=re[te].reduce((se,ie)=>(se[ie]=!0,se),{});return accessSetify(te,Object.keys(ne).sort())});return ee.sort((te,ne)=>te.address.localeCompare(ne.address)),ee}function formatAccessList(re){return accessListify(re).map(ee=>[ee.address,ee.storageKeys])}function _serializeEip1559(re,ee){if(re.gasPrice!=null){const ne=BigNumber.from(re.gasPrice),se=BigNumber.from(re.maxFeePerGas||0);ne.eq(se)||logger$b.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:ne,maxFeePerGas:se})}const te=[formatNumber(re.chainId||0,"chainId"),formatNumber(re.nonce||0,"nonce"),formatNumber(re.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(re.maxFeePerGas||0,"maxFeePerGas"),formatNumber(re.gasLimit||0,"gasLimit"),re.to!=null?getAddress(re.to):"0x",formatNumber(re.value||0,"value"),re.data||"0x",formatAccessList(re.accessList||[])];if(ee){const ne=splitSignature(ee);te.push(formatNumber(ne.recoveryParam,"recoveryParam")),te.push(stripZeros(ne.r)),te.push(stripZeros(ne.s))}return hexConcat(["0x02",encode$1(te)])}function _serializeEip2930(re,ee){const te=[formatNumber(re.chainId||0,"chainId"),formatNumber(re.nonce||0,"nonce"),formatNumber(re.gasPrice||0,"gasPrice"),formatNumber(re.gasLimit||0,"gasLimit"),re.to!=null?getAddress(re.to):"0x",formatNumber(re.value||0,"value"),re.data||"0x",formatAccessList(re.accessList||[])];if(ee){const ne=splitSignature(ee);te.push(formatNumber(ne.recoveryParam,"recoveryParam")),te.push(stripZeros(ne.r)),te.push(stripZeros(ne.s))}return hexConcat(["0x01",encode$1(te)])}function _serialize(re,ee){checkProperties(re,allowedTransactionKeys$1);const te=[];transactionFields.forEach(function(fe){let ue=re[fe.name]||[];const xe={};fe.numeric&&(xe.hexPad="left"),ue=arrayify(hexlify(ue,xe)),fe.length&&ue.length!==fe.length&&ue.length>0&&logger$b.throwArgumentError("invalid length for "+fe.name,"transaction:"+fe.name,ue),fe.maxLength&&(ue=stripZeros(ue),ue.length>fe.maxLength&&logger$b.throwArgumentError("invalid length for "+fe.name,"transaction:"+fe.name,ue)),te.push(hexlify(ue))});let ne=0;if(re.chainId!=null?(ne=re.chainId,typeof ne!="number"&&logger$b.throwArgumentError("invalid transaction.chainId","transaction",re)):ee&&!isBytesLike(ee)&&ee.v>28&&(ne=Math.floor((ee.v-35)/2)),ne!==0&&(te.push(hexlify(ne)),te.push("0x"),te.push("0x")),!ee)return encode$1(te);const se=splitSignature(ee);let ie=27+se.recoveryParam;return ne!==0?(te.pop(),te.pop(),te.pop(),ie+=ne*2+8,se.v>28&&se.v!==ie&&logger$b.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee)):se.v!==ie&&logger$b.throwArgumentError("transaction.chainId/signature.v mismatch","signature",ee),te.push(hexlify(ie)),te.push(stripZeros(arrayify(se.r))),te.push(stripZeros(arrayify(se.s))),encode$1(te)}function serialize(re,ee){if(re.type==null||re.type===0)return re.accessList!=null&&logger$b.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",re),_serialize(re,ee);switch(re.type){case 1:return _serializeEip2930(re,ee);case 2:return _serializeEip1559(re,ee)}return logger$b.throwError(`unsupported transaction type: ${re.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:re.type})}function _parseEipSignature(re,ee,te){try{const ne=handleNumber(ee[0]).toNumber();if(ne!==0&&ne!==1)throw new Error("bad recid");re.v=ne}catch{logger$b.throwArgumentError("invalid v for transaction type: 1","v",ee[0])}re.r=hexZeroPad(ee[1],32),re.s=hexZeroPad(ee[2],32);try{const ne=keccak256$1(te(re));re.from=recoverAddress(ne,{r:re.r,s:re.s,recoveryParam:re.v})}catch{}}function _parseEip1559(re){const ee=decode$1(re.slice(1));ee.length!==9&&ee.length!==12&&logger$b.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(re));const te=handleNumber(ee[2]),ne=handleNumber(ee[3]),se={type:2,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),maxPriorityFeePerGas:te,maxFeePerGas:ne,gasPrice:null,gasLimit:handleNumber(ee[4]),to:handleAddress(ee[5]),value:handleNumber(ee[6]),data:ee[7],accessList:accessListify(ee[8])};return ee.length===9||(se.hash=keccak256$1(re),_parseEipSignature(se,ee.slice(9),_serializeEip1559)),se}function _parseEip2930(re){const ee=decode$1(re.slice(1));ee.length!==8&&ee.length!==11&&logger$b.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(re));const te={type:1,chainId:handleNumber(ee[0]).toNumber(),nonce:handleNumber(ee[1]).toNumber(),gasPrice:handleNumber(ee[2]),gasLimit:handleNumber(ee[3]),to:handleAddress(ee[4]),value:handleNumber(ee[5]),data:ee[6],accessList:accessListify(ee[7])};return ee.length===8||(te.hash=keccak256$1(re),_parseEipSignature(te,ee.slice(8),_serializeEip2930)),te}function _parse(re){const ee=decode$1(re);ee.length!==9&&ee.length!==6&&logger$b.throwArgumentError("invalid raw transaction","rawTransaction",re);const te={nonce:handleNumber(ee[0]).toNumber(),gasPrice:handleNumber(ee[1]),gasLimit:handleNumber(ee[2]),to:handleAddress(ee[3]),value:handleNumber(ee[4]),data:ee[5],chainId:0};if(ee.length===6)return te;try{te.v=BigNumber.from(ee[6]).toNumber()}catch{return te}if(te.r=hexZeroPad(ee[7],32),te.s=hexZeroPad(ee[8],32),BigNumber.from(te.r).isZero()&&BigNumber.from(te.s).isZero())te.chainId=te.v,te.v=0;else{te.chainId=Math.floor((te.v-35)/2),te.chainId<0&&(te.chainId=0);let ne=te.v-27;const se=ee.slice(0,6);te.chainId!==0&&(se.push(hexlify(te.chainId)),se.push("0x"),se.push("0x"),ne-=te.chainId*2+8);const ie=keccak256$1(encode$1(se));try{te.from=recoverAddress(ie,{r:hexlify(te.r),s:hexlify(te.s),recoveryParam:ne})}catch{}te.hash=keccak256$1(re)}return te.type=null,te}function parse(re){const ee=arrayify(re);if(ee[0]>127)return _parse(ee);switch(ee[0]){case 1:return _parseEip2930(ee);case 2:return _parseEip1559(ee)}return logger$b.throwError(`unsupported transaction type: ${ee[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:ee[0]})}var lib_esm$7=Object.freeze({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize,parse});const version$9="wordlists/5.7.0",logger$a=new Logger(version$9);class Wordlist{constructor(ee){logger$a.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",ee)}split(ee){return ee.toLowerCase().split(/ +/g)}join(ee){return ee.join(" ")}static check(ee){const te=[];for(let ne=0;ne<2048;ne++){const se=ee.getWord(ne);if(ne!==ee.getWordIndex(se))return"0x";te.push(se)}return id(te.join(`
`)+`
`)}static register(ee,te){te||(te=ee.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(re){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(re)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(ee){return loadWords(this),wordlist[ee]}getWordIndex(ee){return loadWords(this),wordlist.indexOf(ee)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$8="hdnode/5.7.0",logger$9=new Logger(version$8),N=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(re){return(1<<re)-1<<8-re}function getLowerMask(re){return(1<<re)-1}function bytes32(re){return hexZeroPad(hexlify(re),32)}function base58check(re){return Base58.encode(concat([re,hexDataSlice(sha256$1(sha256$1(re)),0,4)]))}function getWordlist(re){if(re==null)return wordlists.en;if(typeof re=="string"){const ee=wordlists[re];return ee==null&&logger$9.throwArgumentError("unknown locale","wordlist",re),ee}return re}const _constructorGuard={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(ee,te,ne,se,ie,fe,ue,xe){if(ee!==_constructorGuard)throw new Error("HDNode constructor cannot be called directly");if(te){const Ee=new SigningKey(te);defineReadOnly(this,"privateKey",Ee.privateKey),defineReadOnly(this,"publicKey",Ee.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(ne));defineReadOnly(this,"parentFingerprint",se),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160(sha256$1(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",ie),defineReadOnly(this,"index",fe),defineReadOnly(this,"depth",ue),xe==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof xe=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",xe)):(defineReadOnly(this,"mnemonic",xe),defineReadOnly(this,"path",xe.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(ee){if(ee>4294967295)throw new Error("invalid index - "+String(ee));let te=this.path;te&&(te+="/"+(ee&~HardenedBit));const ne=new Uint8Array(37);if(ee&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");ne.set(arrayify(this.privateKey),1),te&&(te+="'")}else ne.set(arrayify(this.publicKey));for(let Me=24;Me>=0;Me-=8)ne[33+(Me>>3)]=ee>>24-Me&255;const se=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,ne)),ie=se.slice(0,32),fe=se.slice(32);let ue=null,xe=null;this.privateKey?ue=bytes32(BigNumber.from(ie).add(this.privateKey).mod(N)):xe=new SigningKey(hexlify(ie))._addPoint(this.publicKey);let Ee=te;const Ae=this.mnemonic;return Ae&&(Ee=Object.freeze({phrase:Ae.phrase,path:te,locale:Ae.locale||"en"})),new HDNode(_constructorGuard,ue,xe,this.fingerprint,bytes32(fe),ee,this.depth+1,Ee)}derivePath(ee){const te=ee.split("/");if(te.length===0||te[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+ee);te[0]==="m"&&te.shift();let ne=this;for(let se=0;se<te.length;se++){const ie=te[se];if(ie.match(/^[0-9]+'$/)){const fe=parseInt(ie.substring(0,ie.length-1));if(fe>=HardenedBit)throw new Error("invalid path index - "+ie);ne=ne._derive(HardenedBit+fe)}else if(ie.match(/^[0-9]+$/)){const fe=parseInt(ie);if(fe>=HardenedBit)throw new Error("invalid path index - "+ie);ne=ne._derive(fe)}else throw new Error("invalid path component - "+ie)}return ne}static _fromSeed(ee,te){const ne=arrayify(ee);if(ne.length<16||ne.length>64)throw new Error("invalid seed");const se=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,ne));return new HDNode(_constructorGuard,bytes32(se.slice(0,32)),null,"0x00000000",bytes32(se.slice(32)),0,0,te)}static fromMnemonic(ee,te,ne){return ne=getWordlist(ne),ee=entropyToMnemonic(mnemonicToEntropy(ee,ne),ne),HDNode._fromSeed(mnemonicToSeed(ee,te),{phrase:ee,path:"m",locale:ne.locale})}static fromSeed(ee){return HDNode._fromSeed(ee,null)}static fromExtendedKey(ee){const te=Base58.decode(ee);(te.length!==82||base58check(te.slice(0,78))!==ee)&&logger$9.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const ne=te[4],se=hexlify(te.slice(5,9)),ie=parseInt(hexlify(te.slice(9,13)).substring(2),16),fe=hexlify(te.slice(13,45)),ue=te.slice(45,78);switch(hexlify(te.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard,null,hexlify(ue),se,fe,ie,ne,null);case"0x0488ade4":case"0x04358394 ":if(ue[0]!==0)break;return new HDNode(_constructorGuard,hexlify(ue.slice(1)),null,se,fe,ie,ne,null)}return logger$9.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(re,ee){ee||(ee="");const te=toUtf8Bytes("mnemonic"+ee,UnicodeNormalizationForm.NFKD);return pbkdf2$1(toUtf8Bytes(re,UnicodeNormalizationForm.NFKD),te,2048,64,"sha512")}function mnemonicToEntropy(re,ee){ee=getWordlist(ee),logger$9.checkNormalize();const te=ee.split(re);if(te.length%3!==0)throw new Error("invalid mnemonic");const ne=arrayify(new Uint8Array(Math.ceil(11*te.length/8)));let se=0;for(let Ee=0;Ee<te.length;Ee++){let Ae=ee.getWordIndex(te[Ee].normalize("NFKD"));if(Ae===-1)throw new Error("invalid mnemonic");for(let Me=0;Me<11;Me++)Ae&1<<10-Me&&(ne[se>>3]|=1<<7-se%8),se++}const ie=32*te.length/3,fe=te.length/3,ue=getUpperMask(fe);if((arrayify(sha256$1(ne.slice(0,ie/8)))[0]&ue)!==(ne[ne.length-1]&ue))throw new Error("invalid checksum");return hexlify(ne.slice(0,ie/8))}function entropyToMnemonic(re,ee){if(ee=getWordlist(ee),re=arrayify(re),re.length%4!==0||re.length<16||re.length>32)throw new Error("invalid entropy");const te=[0];let ne=11;for(let fe=0;fe<re.length;fe++)ne>8?(te[te.length-1]<<=8,te[te.length-1]|=re[fe],ne-=8):(te[te.length-1]<<=ne,te[te.length-1]|=re[fe]>>8-ne,te.push(re[fe]&getLowerMask(8-ne)),ne+=3);const se=re.length/4,ie=arrayify(sha256$1(re))[0]&getUpperMask(se);return te[te.length-1]<<=se,te[te.length-1]|=ie>>8-se,ee.join(te.map(fe=>ee.getWord(fe)))}function isValidMnemonic(re,ee){try{return mnemonicToEntropy(re,ee),!0}catch{}return!1}function getAccountPath(re){return(typeof re!="number"||re<0||re>=HardenedBit||re%1)&&logger$9.throwArgumentError("invalid account index","index",re),`m/44'/60'/${re}'/0/0`}var lib_esm$6=Object.freeze({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath}),require$$6=getAugmentedNamespace(lib_esm$6),aesJs={exports:{}};(function(re,ee){(function(te){function ne(he){return parseInt(he)===he}function se(he){if(!ne(he.length))return!1;for(var ae=0;ae<he.length;ae++)if(!ne(he[ae])||he[ae]<0||he[ae]>255)return!1;return!0}function ie(he,ae){if(he.buffer&&ArrayBuffer.isView(he)&&he.name==="Uint8Array")return ae&&(he.slice?he=he.slice():he=Array.prototype.slice.call(he)),he;if(Array.isArray(he)){if(!se(he))throw new Error("Array contains invalid value: "+he);return new Uint8Array(he)}if(ne(he.length)&&se(he))return new Uint8Array(he);throw new Error("unsupported array-like object")}function fe(he){return new Uint8Array(he)}function ue(he,ae,be,ze,Ie){(ze!=null||Ie!=null)&&(he.slice?he=he.slice(ze,Ie):he=Array.prototype.slice.call(he,ze,Ie)),ae.set(he,be)}var xe=function(){function he(be){var ze=[],Ie=0;for(be=encodeURI(be);Ie<be.length;){var We=be.charCodeAt(Ie++);We===37?(ze.push(parseInt(be.substr(Ie,2),16)),Ie+=2):ze.push(We)}return ie(ze)}function ae(be){for(var ze=[],Ie=0;Ie<be.length;){var We=be[Ie];We<128?(ze.push(String.fromCharCode(We)),Ie++):We>191&&We<224?(ze.push(String.fromCharCode((We&31)<<6|be[Ie+1]&63)),Ie+=2):(ze.push(String.fromCharCode((We&15)<<12|(be[Ie+1]&63)<<6|be[Ie+2]&63)),Ie+=3)}return ze.join("")}return{toBytes:he,fromBytes:ae}}(),Ee=function(){function he(ze){for(var Ie=[],We=0;We<ze.length;We+=2)Ie.push(parseInt(ze.substr(We,2),16));return Ie}var ae="0123456789abcdef";function be(ze){for(var Ie=[],We=0;We<ze.length;We++){var ft=ze[We];Ie.push(ae[(ft&240)>>4]+ae[ft&15])}return Ie.join("")}return{toBytes:he,fromBytes:be}}(),Ae={16:10,24:12,32:14},Me=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Pe=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ne=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],je=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Ue=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Ce=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Be=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],He=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Oe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Ke=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],qe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Ve=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Xe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],rt=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],mt=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Qe(he){for(var ae=[],be=0;be<he.length;be+=4)ae.push(he[be]<<24|he[be+1]<<16|he[be+2]<<8|he[be+3]);return ae}var Se=function(he){if(!(this instanceof Se))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:ie(he,!0)}),this._prepare()};Se.prototype._prepare=function(){var he=Ae[this.key.length];if(he==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var ae=0;ae<=he;ae++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var be=(he+1)*4,ze=this.key.length/4,Ie=Qe(this.key),We,ae=0;ae<ze;ae++)We=ae>>2,this._Ke[We][ae%4]=Ie[ae],this._Kd[he-We][ae%4]=Ie[ae];for(var ft=0,nt=ze,at;nt<be;){if(at=Ie[ze-1],Ie[0]^=Pe[at>>16&255]<<24^Pe[at>>8&255]<<16^Pe[at&255]<<8^Pe[at>>24&255]^Me[ft]<<24,ft+=1,ze!=8)for(var ae=1;ae<ze;ae++)Ie[ae]^=Ie[ae-1];else{for(var ae=1;ae<ze/2;ae++)Ie[ae]^=Ie[ae-1];at=Ie[ze/2-1],Ie[ze/2]^=Pe[at&255]^Pe[at>>8&255]<<8^Pe[at>>16&255]<<16^Pe[at>>24&255]<<24;for(var ae=ze/2+1;ae<ze;ae++)Ie[ae]^=Ie[ae-1]}for(var ae=0,Ht,dt;ae<ze&&nt<be;)Ht=nt>>2,dt=nt%4,this._Ke[Ht][dt]=Ie[ae],this._Kd[he-Ht][dt]=Ie[ae++],nt++}for(var Ht=1;Ht<he;Ht++)for(var dt=0;dt<4;dt++)at=this._Kd[Ht][dt],this._Kd[Ht][dt]=Ve[at>>24&255]^Xe[at>>16&255]^rt[at>>8&255]^mt[at&255]},Se.prototype.encrypt=function(he){if(he.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var ae=this._Ke.length-1,be=[0,0,0,0],ze=Qe(he),Ie=0;Ie<4;Ie++)ze[Ie]^=this._Ke[0][Ie];for(var We=1;We<ae;We++){for(var Ie=0;Ie<4;Ie++)be[Ie]=je[ze[Ie]>>24&255]^Ue[ze[(Ie+1)%4]>>16&255]^Ce[ze[(Ie+2)%4]>>8&255]^Be[ze[(Ie+3)%4]&255]^this._Ke[We][Ie];ze=be.slice()}for(var ft=fe(16),nt,Ie=0;Ie<4;Ie++)nt=this._Ke[ae][Ie],ft[4*Ie]=(Pe[ze[Ie]>>24&255]^nt>>24)&255,ft[4*Ie+1]=(Pe[ze[(Ie+1)%4]>>16&255]^nt>>16)&255,ft[4*Ie+2]=(Pe[ze[(Ie+2)%4]>>8&255]^nt>>8)&255,ft[4*Ie+3]=(Pe[ze[(Ie+3)%4]&255]^nt)&255;return ft},Se.prototype.decrypt=function(he){if(he.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var ae=this._Kd.length-1,be=[0,0,0,0],ze=Qe(he),Ie=0;Ie<4;Ie++)ze[Ie]^=this._Kd[0][Ie];for(var We=1;We<ae;We++){for(var Ie=0;Ie<4;Ie++)be[Ie]=He[ze[Ie]>>24&255]^Oe[ze[(Ie+3)%4]>>16&255]^Ke[ze[(Ie+2)%4]>>8&255]^qe[ze[(Ie+1)%4]&255]^this._Kd[We][Ie];ze=be.slice()}for(var ft=fe(16),nt,Ie=0;Ie<4;Ie++)nt=this._Kd[ae][Ie],ft[4*Ie]=(Ne[ze[Ie]>>24&255]^nt>>24)&255,ft[4*Ie+1]=(Ne[ze[(Ie+3)%4]>>16&255]^nt>>16)&255,ft[4*Ie+2]=(Ne[ze[(Ie+2)%4]>>8&255]^nt>>8)&255,ft[4*Ie+3]=(Ne[ze[(Ie+1)%4]&255]^nt)&255;return ft};var $e=function(he){if(!(this instanceof $e))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Se(he)};$e.prototype.encrypt=function(he){if(he=ie(he),he.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ae=fe(he.length),be=fe(16),ze=0;ze<he.length;ze+=16)ue(he,be,0,ze,ze+16),be=this._aes.encrypt(be),ue(be,ae,ze);return ae},$e.prototype.decrypt=function(he){if(he=ie(he),he.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var ae=fe(he.length),be=fe(16),ze=0;ze<he.length;ze+=16)ue(he,be,0,ze,ze+16),be=this._aes.decrypt(be),ue(be,ae,ze);return ae};var pe=function(he,ae){if(!(this instanceof pe))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!ae)ae=fe(16);else if(ae.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=ie(ae,!0),this._aes=new Se(he)};pe.prototype.encrypt=function(he){if(he=ie(he),he.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var ae=fe(he.length),be=fe(16),ze=0;ze<he.length;ze+=16){ue(he,be,0,ze,ze+16);for(var Ie=0;Ie<16;Ie++)be[Ie]^=this._lastCipherblock[Ie];this._lastCipherblock=this._aes.encrypt(be),ue(this._lastCipherblock,ae,ze)}return ae},pe.prototype.decrypt=function(he){if(he=ie(he),he.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var ae=fe(he.length),be=fe(16),ze=0;ze<he.length;ze+=16){ue(he,be,0,ze,ze+16),be=this._aes.decrypt(be);for(var Ie=0;Ie<16;Ie++)ae[ze+Ie]=be[Ie]^this._lastCipherblock[Ie];ue(he,this._lastCipherblock,0,ze,ze+16)}return ae};var oe=function(he,ae,be){if(!(this instanceof oe))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!ae)ae=fe(16);else if(ae.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");be||(be=1),this.segmentSize=be,this._shiftRegister=ie(ae,!0),this._aes=new Se(he)};oe.prototype.encrypt=function(he){if(he.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var ae=ie(he,!0),be,ze=0;ze<ae.length;ze+=this.segmentSize){be=this._aes.encrypt(this._shiftRegister);for(var Ie=0;Ie<this.segmentSize;Ie++)ae[ze+Ie]^=be[Ie];ue(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ue(ae,this._shiftRegister,16-this.segmentSize,ze,ze+this.segmentSize)}return ae},oe.prototype.decrypt=function(he){if(he.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var ae=ie(he,!0),be,ze=0;ze<ae.length;ze+=this.segmentSize){be=this._aes.encrypt(this._shiftRegister);for(var Ie=0;Ie<this.segmentSize;Ie++)ae[ze+Ie]^=be[Ie];ue(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ue(he,this._shiftRegister,16-this.segmentSize,ze,ze+this.segmentSize)}return ae};var ce=function(he,ae){if(!(this instanceof ce))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!ae)ae=fe(16);else if(ae.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=ie(ae,!0),this._lastPrecipherIndex=16,this._aes=new Se(he)};ce.prototype.encrypt=function(he){for(var ae=ie(he,!0),be=0;be<ae.length;be++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),ae[be]^=this._lastPrecipher[this._lastPrecipherIndex++];return ae},ce.prototype.decrypt=ce.prototype.encrypt;var le=function(he){if(!(this instanceof le))throw Error("Counter must be instanitated with `new`");he!==0&&!he&&(he=1),typeof he=="number"?(this._counter=fe(16),this.setValue(he)):this.setBytes(he)};le.prototype.setValue=function(he){if(typeof he!="number"||parseInt(he)!=he)throw new Error("invalid counter value (must be an integer)");for(var ae=15;ae>=0;--ae)this._counter[ae]=he%256,he=he>>8},le.prototype.setBytes=function(he){if(he=ie(he,!0),he.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=he},le.prototype.increment=function(){for(var he=15;he>=0;he--)if(this._counter[he]===255)this._counter[he]=0;else{this._counter[he]++;break}};var ge=function(he,ae){if(!(this instanceof ge))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",ae instanceof le||(ae=new le(ae)),this._counter=ae,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Se(he)};ge.prototype.encrypt=function(he){for(var ae=ie(he,!0),be=0;be<ae.length;be++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),ae[be]^=this._remainingCounter[this._remainingCounterIndex++];return ae},ge.prototype.decrypt=ge.prototype.encrypt;function ye(he){he=ie(he,!0);var ae=16-he.length%16,be=fe(he.length+ae);ue(he,be);for(var ze=he.length;ze<be.length;ze++)be[ze]=ae;return be}function me(he){if(he=ie(he,!0),he.length<16)throw new Error("PKCS#7 invalid length");var ae=he[he.length-1];if(ae>16)throw new Error("PKCS#7 padding byte out of range");for(var be=he.length-ae,ze=0;ze<ae;ze++)if(he[be+ze]!==ae)throw new Error("PKCS#7 invalid padding byte");var Ie=fe(be);return ue(he,Ie,0,0,be),Ie}var ve={AES:Se,Counter:le,ModeOfOperation:{ecb:$e,cbc:pe,cfb:oe,ofb:ce,ctr:ge},utils:{hex:Ee,utf8:xe},padding:{pkcs7:{pad:ye,strip:me}},_arrayTest:{coerceArray:ie,createArray:fe,copyArray:ue}};re.exports=ve})()})(aesJs);var aes=aesJs.exports;const version$7="json-wallets/5.7.0";function looseArrayify(re){return typeof re=="string"&&re.substring(0,2)!=="0x"&&(re="0x"+re),arrayify(re)}function zpad(re,ee){for(re=String(re);re.length<ee;)re="0"+re;return re}function getPassword(re){return typeof re=="string"?toUtf8Bytes(re,UnicodeNormalizationForm.NFKC):arrayify(re)}function searchPath(re,ee){let te=re;const ne=ee.toLowerCase().split("/");for(let se=0;se<ne.length;se++){let ie=null;for(const fe in te)if(fe.toLowerCase()===ne[se]){ie=te[fe];break}if(ie===null)return null;te=ie}return te}function uuidV4(re){const ee=arrayify(re);ee[6]=ee[6]&15|64,ee[8]=ee[8]&63|128;const te=hexlify(ee);return[te.substring(2,10),te.substring(10,14),te.substring(14,18),te.substring(18,22),te.substring(22,34)].join("-")}const logger$8=new Logger(version$7);class CrowdsaleAccount extends Description{isCrowdsaleAccount(ee){return!!(ee&&ee._isCrowdsaleAccount)}}function decrypt$1(re,ee){const te=JSON.parse(re);ee=getPassword(ee);const ne=getAddress(searchPath(te,"ethaddr")),se=looseArrayify(searchPath(te,"encseed"));(!se||se.length%16!==0)&&logger$8.throwArgumentError("invalid encseed","json",re);const ie=arrayify(pbkdf2$1(ee,ee,2e3,32,"sha256")).slice(0,16),fe=se.slice(0,16),ue=se.slice(16),xe=new aes.ModeOfOperation.cbc(ie,fe),Ee=aes.padding.pkcs7.strip(arrayify(xe.decrypt(ue)));let Ae="";for(let Ne=0;Ne<Ee.length;Ne++)Ae+=String.fromCharCode(Ee[Ne]);const Me=toUtf8Bytes(Ae),Pe=keccak256$1(Me);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:ne,privateKey:Pe})}function isCrowdsaleWallet(re){let ee=null;try{ee=JSON.parse(re)}catch{return!1}return ee.encseed&&ee.ethaddr}function isKeystoreWallet(re){let ee=null;try{ee=JSON.parse(re)}catch{return!1}return!(!ee.version||parseInt(ee.version)!==ee.version||parseInt(ee.version)!==3)}function getJsonWalletAddress(re){if(isCrowdsaleWallet(re))try{return getAddress(JSON.parse(re).ethaddr)}catch{return null}if(isKeystoreWallet(re))try{return getAddress(JSON.parse(re).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(re,ee){(function(te){function se(Ue){const Ce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let Be=1779033703,He=3144134277,Oe=1013904242,Ke=2773480762,qe=1359893119,Ve=2600822924,Xe=528734635,rt=1541459225;const mt=new Uint32Array(64);function Qe(ge){let ye=0,me=ge.length;for(;me>=64;){let ve=Be,he=He,ae=Oe,be=Ke,ze=qe,Ie=Ve,We=Xe,ft=rt,nt,at,Ht,dt,gt;for(at=0;at<16;at++)Ht=ye+at*4,mt[at]=(ge[Ht]&255)<<24|(ge[Ht+1]&255)<<16|(ge[Ht+2]&255)<<8|ge[Ht+3]&255;for(at=16;at<64;at++)nt=mt[at-2],dt=(nt>>>17|nt<<32-17)^(nt>>>19|nt<<32-19)^nt>>>10,nt=mt[at-15],gt=(nt>>>7|nt<<32-7)^(nt>>>18|nt<<32-18)^nt>>>3,mt[at]=(dt+mt[at-7]|0)+(gt+mt[at-16]|0)|0;for(at=0;at<64;at++)dt=(((ze>>>6|ze<<32-6)^(ze>>>11|ze<<32-11)^(ze>>>25|ze<<32-25))+(ze&Ie^~ze&We)|0)+(ft+(Ce[at]+mt[at]|0)|0)|0,gt=((ve>>>2|ve<<32-2)^(ve>>>13|ve<<32-13)^(ve>>>22|ve<<32-22))+(ve&he^ve&ae^he&ae)|0,ft=We,We=Ie,Ie=ze,ze=be+dt|0,be=ae,ae=he,he=ve,ve=dt+gt|0;Be=Be+ve|0,He=He+he|0,Oe=Oe+ae|0,Ke=Ke+be|0,qe=qe+ze|0,Ve=Ve+Ie|0,Xe=Xe+We|0,rt=rt+ft|0,ye+=64,me-=64}}Qe(Ue);let Se,$e=Ue.length%64,pe=Ue.length/536870912|0,oe=Ue.length<<3,ce=$e<56?56:120,le=Ue.slice(Ue.length-$e,Ue.length);for(le.push(128),Se=$e+1;Se<ce;Se++)le.push(0);return le.push(pe>>>24&255),le.push(pe>>>16&255),le.push(pe>>>8&255),le.push(pe>>>0&255),le.push(oe>>>24&255),le.push(oe>>>16&255),le.push(oe>>>8&255),le.push(oe>>>0&255),Qe(le),[Be>>>24&255,Be>>>16&255,Be>>>8&255,Be>>>0&255,He>>>24&255,He>>>16&255,He>>>8&255,He>>>0&255,Oe>>>24&255,Oe>>>16&255,Oe>>>8&255,Oe>>>0&255,Ke>>>24&255,Ke>>>16&255,Ke>>>8&255,Ke>>>0&255,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe>>>0&255,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,Ve>>>0&255,Xe>>>24&255,Xe>>>16&255,Xe>>>8&255,Xe>>>0&255,rt>>>24&255,rt>>>16&255,rt>>>8&255,rt>>>0&255]}function ie(Ue,Ce,Be){Ue=Ue.length<=64?Ue:se(Ue);const He=64+Ce.length+4,Oe=new Array(He),Ke=new Array(64);let qe,Ve=[];for(qe=0;qe<64;qe++)Oe[qe]=54;for(qe=0;qe<Ue.length;qe++)Oe[qe]^=Ue[qe];for(qe=0;qe<Ce.length;qe++)Oe[64+qe]=Ce[qe];for(qe=He-4;qe<He;qe++)Oe[qe]=0;for(qe=0;qe<64;qe++)Ke[qe]=92;for(qe=0;qe<Ue.length;qe++)Ke[qe]^=Ue[qe];function Xe(){for(let rt=He-1;rt>=He-4;rt--){if(Oe[rt]++,Oe[rt]<=255)return;Oe[rt]=0}}for(;Be>=32;)Xe(),Ve=Ve.concat(se(Ke.concat(se(Oe)))),Be-=32;return Be>0&&(Xe(),Ve=Ve.concat(se(Ke.concat(se(Oe))).slice(0,Be))),Ve}function fe(Ue,Ce,Be,He,Oe){let Ke;for(Ae(Ue,(2*Be-1)*16,Oe,0,16),Ke=0;Ke<2*Be;Ke++)Ee(Ue,Ke*16,Oe,16),xe(Oe,He),Ae(Oe,0,Ue,Ce+Ke*16,16);for(Ke=0;Ke<Be;Ke++)Ae(Ue,Ce+Ke*2*16,Ue,Ke*16,16);for(Ke=0;Ke<Be;Ke++)Ae(Ue,Ce+(Ke*2+1)*16,Ue,(Ke+Be)*16,16)}function ue(Ue,Ce){return Ue<<Ce|Ue>>>32-Ce}function xe(Ue,Ce){Ae(Ue,0,Ce,0,16);for(let Be=8;Be>0;Be-=2)Ce[4]^=ue(Ce[0]+Ce[12],7),Ce[8]^=ue(Ce[4]+Ce[0],9),Ce[12]^=ue(Ce[8]+Ce[4],13),Ce[0]^=ue(Ce[12]+Ce[8],18),Ce[9]^=ue(Ce[5]+Ce[1],7),Ce[13]^=ue(Ce[9]+Ce[5],9),Ce[1]^=ue(Ce[13]+Ce[9],13),Ce[5]^=ue(Ce[1]+Ce[13],18),Ce[14]^=ue(Ce[10]+Ce[6],7),Ce[2]^=ue(Ce[14]+Ce[10],9),Ce[6]^=ue(Ce[2]+Ce[14],13),Ce[10]^=ue(Ce[6]+Ce[2],18),Ce[3]^=ue(Ce[15]+Ce[11],7),Ce[7]^=ue(Ce[3]+Ce[15],9),Ce[11]^=ue(Ce[7]+Ce[3],13),Ce[15]^=ue(Ce[11]+Ce[7],18),Ce[1]^=ue(Ce[0]+Ce[3],7),Ce[2]^=ue(Ce[1]+Ce[0],9),Ce[3]^=ue(Ce[2]+Ce[1],13),Ce[0]^=ue(Ce[3]+Ce[2],18),Ce[6]^=ue(Ce[5]+Ce[4],7),Ce[7]^=ue(Ce[6]+Ce[5],9),Ce[4]^=ue(Ce[7]+Ce[6],13),Ce[5]^=ue(Ce[4]+Ce[7],18),Ce[11]^=ue(Ce[10]+Ce[9],7),Ce[8]^=ue(Ce[11]+Ce[10],9),Ce[9]^=ue(Ce[8]+Ce[11],13),Ce[10]^=ue(Ce[9]+Ce[8],18),Ce[12]^=ue(Ce[15]+Ce[14],7),Ce[13]^=ue(Ce[12]+Ce[15],9),Ce[14]^=ue(Ce[13]+Ce[12],13),Ce[15]^=ue(Ce[14]+Ce[13],18);for(let Be=0;Be<16;++Be)Ue[Be]+=Ce[Be]}function Ee(Ue,Ce,Be,He){for(let Oe=0;Oe<He;Oe++)Be[Oe]^=Ue[Ce+Oe]}function Ae(Ue,Ce,Be,He,Oe){for(;Oe--;)Be[He++]=Ue[Ce++]}function Me(Ue){if(!Ue||typeof Ue.length!="number")return!1;for(let Ce=0;Ce<Ue.length;Ce++){const Be=Ue[Ce];if(typeof Be!="number"||Be%1||Be<0||Be>=256)return!1}return!0}function Pe(Ue,Ce){if(typeof Ue!="number"||Ue%1)throw new Error("invalid "+Ce);return Ue}function Ne(Ue,Ce,Be,He,Oe,Ke,qe){if(Be=Pe(Be,"N"),He=Pe(He,"r"),Oe=Pe(Oe,"p"),Ke=Pe(Ke,"dkLen"),Be===0||(Be&Be-1)!==0)throw new Error("N must be power of 2");if(Be>2147483647/128/He)throw new Error("N too large");if(He>2147483647/128/Oe)throw new Error("r too large");if(!Me(Ue))throw new Error("password must be an array or buffer");if(Ue=Array.prototype.slice.call(Ue),!Me(Ce))throw new Error("salt must be an array or buffer");Ce=Array.prototype.slice.call(Ce);let Ve=ie(Ue,Ce,Oe*128*He);const Xe=new Uint32Array(Oe*32*He);for(let ze=0;ze<Xe.length;ze++){const Ie=ze*4;Xe[ze]=(Ve[Ie+3]&255)<<24|(Ve[Ie+2]&255)<<16|(Ve[Ie+1]&255)<<8|(Ve[Ie+0]&255)<<0}const rt=new Uint32Array(64*He),mt=new Uint32Array(32*He*Be),Qe=32*He,Se=new Uint32Array(16),$e=new Uint32Array(16),pe=Oe*Be*2;let oe=0,ce=null,le=!1,ge=0,ye=0,me,ve;const he=qe?parseInt(1e3/He):4294967295,ae=typeof setImmediate<"u"?setImmediate:setTimeout,be=function(){if(le)return qe(new Error("cancelled"),oe/pe);let ze;switch(ge){case 0:ve=ye*32*He,Ae(Xe,ve,rt,0,Qe),ge=1,me=0;case 1:ze=Be-me,ze>he&&(ze=he);for(let We=0;We<ze;We++)Ae(rt,0,mt,(me+We)*Qe,Qe),fe(rt,Qe,He,Se,$e);if(me+=ze,oe+=ze,qe){const We=parseInt(1e3*oe/pe);if(We!==ce){if(le=qe(null,oe/pe),le)break;ce=We}}if(me<Be)break;me=0,ge=2;case 2:ze=Be-me,ze>he&&(ze=he);for(let We=0;We<ze;We++){const ft=(2*He-1)*16,nt=rt[ft]&Be-1;Ee(mt,nt*Qe,rt,Qe),fe(rt,Qe,He,Se,$e)}if(me+=ze,oe+=ze,qe){const We=parseInt(1e3*oe/pe);if(We!==ce){if(le=qe(null,oe/pe),le)break;ce=We}}if(me<Be)break;if(Ae(rt,0,Xe,ve,Qe),ye++,ye<Oe){ge=0;break}Ve=[];for(let We=0;We<Xe.length;We++)Ve.push(Xe[We]>>0&255),Ve.push(Xe[We]>>8&255),Ve.push(Xe[We]>>16&255),Ve.push(Xe[We]>>24&255);const Ie=ie(Ue,Ve,Ke);return qe&&qe(null,1,Ie),Ie}qe&&ae(be)};if(!qe)for(;;){const ze=be();if(ze!=null)return ze}be()}const je={scrypt:function(Ue,Ce,Be,He,Oe,Ke,qe){return new Promise(function(Ve,Xe){let rt=0;qe&&qe(0),Ne(Ue,Ce,Be,He,Oe,Ke,function(mt,Qe,Se){if(mt)Xe(mt);else if(Se)qe&&rt!==1&&qe(1),Ve(new Uint8Array(Se));else if(qe&&Qe!==rt)return rt=Qe,qe(Qe)})})},syncScrypt:function(Ue,Ce,Be,He,Oe,Ke){return new Uint8Array(Ne(Ue,Ce,Be,He,Oe,Ke))}};re.exports=je})()})(scrypt$1);var scrypt=scrypt$1.exports;const version$6="random/5.7.0",logger$7=new Logger(version$6);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$1=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$1||!crypto$1.getRandomValues)&&(logger$7.warn("WARNING: Missing strong random number source"),crypto$1={getRandomValues:function(re){return logger$7.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes(re){(re<=0||re>1024||re%1||re!=re)&&logger$7.throwArgumentError("invalid length","length",re);const ee=new Uint8Array(re);return crypto$1.getRandomValues(ee),arrayify(ee)}function shuffled(re){re=re.slice();for(let ee=re.length-1;ee>0;ee--){const te=Math.floor(Math.random()*(ee+1)),ne=re[ee];re[ee]=re[te],re[te]=ne}return re}var lib_esm$5=Object.freeze({__proto__:null,randomBytes,shuffled}),__awaiter$5=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$6=new Logger(version$7);function hasMnemonic$1(re){return re!=null&&re.mnemonic&&re.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(ee){return!!(ee&&ee._isKeystoreAccount)}}function _decrypt(re,ee,te){if(searchPath(re,"crypto/cipher")==="aes-128-ctr"){const se=looseArrayify(searchPath(re,"crypto/cipherparams/iv")),ie=new aes.Counter(se),fe=new aes.ModeOfOperation.ctr(ee,ie);return arrayify(fe.decrypt(te))}return null}function _getAccount(re,ee){const te=looseArrayify(searchPath(re,"crypto/ciphertext"));if(hexlify(keccak256$1(concat([ee.slice(16,32),te]))).substring(2)!==searchPath(re,"crypto/mac").toLowerCase())throw new Error("invalid password");const se=_decrypt(re,ee.slice(0,16),te);se||logger$6.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const ie=ee.slice(32,64),fe=computeAddress(se);if(re.address){let xe=re.address.toLowerCase();if(xe.substring(0,2)!=="0x"&&(xe="0x"+xe),getAddress(xe)!==fe)throw new Error("address mismatch")}const ue={_isKeystoreAccount:!0,address:fe,privateKey:hexlify(se)};if(searchPath(re,"x-ethers/version")==="0.1"){const xe=looseArrayify(searchPath(re,"x-ethers/mnemonicCiphertext")),Ee=looseArrayify(searchPath(re,"x-ethers/mnemonicCounter")),Ae=new aes.Counter(Ee),Me=new aes.ModeOfOperation.ctr(ie,Ae),Pe=searchPath(re,"x-ethers/path")||defaultPath,Ne=searchPath(re,"x-ethers/locale")||"en",je=arrayify(Me.decrypt(xe));try{const Ue=entropyToMnemonic(je,Ne),Ce=HDNode.fromMnemonic(Ue,null,Ne).derivePath(Pe);if(Ce.privateKey!=ue.privateKey)throw new Error("mnemonic mismatch");ue.mnemonic=Ce.mnemonic}catch(Ue){if(Ue.code!==Logger.errors.INVALID_ARGUMENT||Ue.argument!=="wordlist")throw Ue}}return new KeystoreAccount(ue)}function pbkdf2Sync(re,ee,te,ne,se){return arrayify(pbkdf2$1(re,ee,te,ne,se))}function pbkdf2(re,ee,te,ne,se){return Promise.resolve(pbkdf2Sync(re,ee,te,ne,se))}function _computeKdfKey(re,ee,te,ne,se){const ie=getPassword(ee),fe=searchPath(re,"crypto/kdf");if(fe&&typeof fe=="string"){const ue=function(xe,Ee){return logger$6.throwArgumentError("invalid key-derivation function parameters",xe,Ee)};if(fe.toLowerCase()==="scrypt"){const xe=looseArrayify(searchPath(re,"crypto/kdfparams/salt")),Ee=parseInt(searchPath(re,"crypto/kdfparams/n")),Ae=parseInt(searchPath(re,"crypto/kdfparams/r")),Me=parseInt(searchPath(re,"crypto/kdfparams/p"));(!Ee||!Ae||!Me)&&ue("kdf",fe),(Ee&Ee-1)!==0&&ue("N",Ee);const Pe=parseInt(searchPath(re,"crypto/kdfparams/dklen"));return Pe!==32&&ue("dklen",Pe),ne(ie,xe,Ee,Ae,Me,64,se)}else if(fe.toLowerCase()==="pbkdf2"){const xe=looseArrayify(searchPath(re,"crypto/kdfparams/salt"));let Ee=null;const Ae=searchPath(re,"crypto/kdfparams/prf");Ae==="hmac-sha256"?Ee="sha256":Ae==="hmac-sha512"?Ee="sha512":ue("prf",Ae);const Me=parseInt(searchPath(re,"crypto/kdfparams/c")),Pe=parseInt(searchPath(re,"crypto/kdfparams/dklen"));return Pe!==32&&ue("dklen",Pe),te(ie,xe,Me,Pe,Ee)}}return logger$6.throwArgumentError("unsupported key-derivation function","kdf",fe)}function decryptSync(re,ee){const te=JSON.parse(re),ne=_computeKdfKey(te,ee,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(te,ne)}function decrypt(re,ee,te){return __awaiter$5(this,void 0,void 0,function*(){const ne=JSON.parse(re),se=yield _computeKdfKey(ne,ee,pbkdf2,scrypt.scrypt,te);return _getAccount(ne,se)})}function encrypt(re,ee,te,ne){try{if(getAddress(re.address)!==computeAddress(re.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(re)){const Ce=re.mnemonic;if(HDNode.fromMnemonic(Ce.phrase,null,Ce.locale).derivePath(Ce.path||defaultPath).privateKey!=re.privateKey)throw new Error("mnemonic mismatch")}}catch(Ce){return Promise.reject(Ce)}typeof te=="function"&&!ne&&(ne=te,te={}),te||(te={});const se=arrayify(re.privateKey),ie=getPassword(ee);let fe=null,ue=null,xe=null;if(hasMnemonic$1(re)){const Ce=re.mnemonic;fe=arrayify(mnemonicToEntropy(Ce.phrase,Ce.locale||"en")),ue=Ce.path||defaultPath,xe=Ce.locale||"en"}let Ee=te.client;Ee||(Ee="ethers.js");let Ae=null;te.salt?Ae=arrayify(te.salt):Ae=randomBytes(32);let Me=null;if(te.iv){if(Me=arrayify(te.iv),Me.length!==16)throw new Error("invalid iv")}else Me=randomBytes(16);let Pe=null;if(te.uuid){if(Pe=arrayify(te.uuid),Pe.length!==16)throw new Error("invalid uuid")}else Pe=randomBytes(16);let Ne=1<<17,je=8,Ue=1;return te.scrypt&&(te.scrypt.N&&(Ne=te.scrypt.N),te.scrypt.r&&(je=te.scrypt.r),te.scrypt.p&&(Ue=te.scrypt.p)),scrypt.scrypt(ie,Ae,Ne,je,Ue,64,ne).then(Ce=>{Ce=arrayify(Ce);const Be=Ce.slice(0,16),He=Ce.slice(16,32),Oe=Ce.slice(32,64),Ke=new aes.Counter(Me),qe=new aes.ModeOfOperation.ctr(Be,Ke),Ve=arrayify(qe.encrypt(se)),Xe=keccak256$1(concat([He,Ve])),rt={address:re.address.substring(2).toLowerCase(),id:uuidV4(Pe),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(Me).substring(2)},ciphertext:hexlify(Ve).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(Ae).substring(2),n:Ne,dklen:32,p:Ue,r:je},mac:Xe.substring(2)}};if(fe){const mt=randomBytes(16),Qe=new aes.Counter(mt),Se=new aes.ModeOfOperation.ctr(Oe,Qe),$e=arrayify(Se.encrypt(fe)),pe=new Date,oe=pe.getUTCFullYear()+"-"+zpad(pe.getUTCMonth()+1,2)+"-"+zpad(pe.getUTCDate(),2)+"T"+zpad(pe.getUTCHours(),2)+"-"+zpad(pe.getUTCMinutes(),2)+"-"+zpad(pe.getUTCSeconds(),2)+".0Z";rt["x-ethers"]={client:Ee,gethFilename:"UTC--"+oe+"--"+rt.address,mnemonicCounter:hexlify(mt).substring(2),mnemonicCiphertext:hexlify($e).substring(2),path:ue,locale:xe,version:"0.1"}}return JSON.stringify(rt)})}function decryptJsonWallet(re,ee,te){if(isCrowdsaleWallet(re)){te&&te(0);const ne=decrypt$1(re,ee);return te&&te(1),Promise.resolve(ne)}return isKeystoreWallet(re)?decrypt(re,ee,te):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(re,ee){if(isCrowdsaleWallet(re))return decrypt$1(re,ee);if(isKeystoreWallet(re))return decryptSync(re,ee);throw new Error("invalid JSON wallet")}var lib_esm$4=Object.freeze({__proto__:null,decryptCrowdsale:decrypt$1,decryptKeystore:decrypt,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync}),require$$7=getAugmentedNamespace(lib_esm$4),require$$8=getAugmentedNamespace(lib_esm$h),require$$9=getAugmentedNamespace(lib_esm$k),require$$10=getAugmentedNamespace(lib_esm$9);const version$5="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$5=new Logger(version$5);function _pack(re,ee,te){switch(re){case"address":return te?zeroPad(ee,32):arrayify(ee);case"string":return toUtf8Bytes(ee);case"bytes":return arrayify(ee);case"bool":return ee=ee?"0x01":"0x00",te?zeroPad(ee,32):arrayify(ee)}let ne=re.match(regexNumber);if(ne){let se=parseInt(ne[2]||"256");return(ne[2]&&String(se)!==ne[2]||se%8!==0||se===0||se>256)&&logger$5.throwArgumentError("invalid number type","type",re),te&&(se=256),ee=BigNumber.from(ee).toTwos(se),zeroPad(ee,se/8)}if(ne=re.match(regexBytes),ne){const se=parseInt(ne[1]);return(String(se)!==ne[1]||se===0||se>32)&&logger$5.throwArgumentError("invalid bytes type","type",re),arrayify(ee).byteLength!==se&&logger$5.throwArgumentError(`invalid value for ${re}`,"value",ee),te?arrayify((ee+Zeros).substring(0,66)):ee}if(ne=re.match(regexArray),ne&&Array.isArray(ee)){const se=ne[1];parseInt(ne[2]||String(ee.length))!=ee.length&&logger$5.throwArgumentError(`invalid array length for ${re}`,"value",ee);const fe=[];return ee.forEach(function(ue){fe.push(_pack(se,ue,!0))}),concat(fe)}return logger$5.throwArgumentError("invalid type","type",re)}function pack(re,ee){re.length!=ee.length&&logger$5.throwArgumentError("wrong number of values; expected ${ types.length }","values",ee);const te=[];return re.forEach(function(ne,se){te.push(_pack(ne,ee[se]))}),hexlify(concat(te))}function keccak256(re,ee){return keccak256$1(pack(re,ee))}function sha256(re,ee){return sha256$1(pack(re,ee))}var lib_esm$3=Object.freeze({__proto__:null,pack,keccak256,sha256}),require$$11=getAugmentedNamespace(lib_esm$3),require$$12=getAugmentedNamespace(lib_esm$5),require$$13=getAugmentedNamespace(lib_esm$i),require$$14=getAugmentedNamespace(lib_esm$g),require$$15=getAugmentedNamespace(lib_esm$8),require$$16=getAugmentedNamespace(lib_esm$e),require$$17=getAugmentedNamespace(lib_esm$7);const version$4="units/5.7.0",logger$4=new Logger(version$4),names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(re){const ee=String(re).split(".");(ee.length>2||!ee[0].match(/^-?[0-9]*$/)||ee[1]&&!ee[1].match(/^[0-9]*$/)||re==="."||re==="-.")&&logger$4.throwArgumentError("invalid value","value",re);let te=ee[0],ne="";for(te.substring(0,1)==="-"&&(ne="-",te=te.substring(1));te.substring(0,1)==="0";)te=te.substring(1);te===""&&(te="0");let se="";for(ee.length===2&&(se="."+(ee[1]||"0"));se.length>2&&se[se.length-1]==="0";)se=se.substring(0,se.length-1);const ie=[];for(;te.length;)if(te.length<=3){ie.unshift(te);break}else{const fe=te.length-3;ie.unshift(te.substring(fe)),te=te.substring(0,fe)}return ne+ie.join(",")+se}function formatUnits(re,ee){if(typeof ee=="string"){const te=names.indexOf(ee);te!==-1&&(ee=3*te)}return formatFixed(re,ee??18)}function parseUnits(re,ee){if(typeof re!="string"&&logger$4.throwArgumentError("value must be a string","value",re),typeof ee=="string"){const te=names.indexOf(ee);te!==-1&&(ee=3*te)}return parseFixed(re,ee??18)}function formatEther(re){return formatUnits(re,18)}function parseEther(re){return parseUnits(re,18)}var lib_esm$2=Object.freeze({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther}),require$$18=getAugmentedNamespace(lib_esm$2);const version$3="abstract-provider/5.7.0";var __awaiter$4=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$3=new Logger(version$3);class Provider$1{constructor(){logger$3.checkAbstract(new.target,Provider$1),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$4(this,void 0,void 0,function*(){const{block:ee,gasPrice:te}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(fe=>null)});let ne=null,se=null,ie=null;return ee&&ee.baseFeePerGas&&(ne=ee.baseFeePerGas,ie=BigNumber.from("1500000000"),se=ee.baseFeePerGas.mul(2).add(ie)),{lastBaseFeePerGas:ne,maxFeePerGas:se,maxPriorityFeePerGas:ie,gasPrice:te}})}addListener(ee,te){return this.on(ee,te)}removeListener(ee,te){return this.off(ee,te)}static isProvider(ee){return!!(ee&&ee._isProvider)}}const version$2="abstract-signer/5.7.0";var __awaiter$3=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$2=new Logger(version$2),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$2.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(ee){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),ee)})}getTransactionCount(ee){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),ee)})}estimateGas(ee){return __awaiter$3(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const te=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.estimateGas(te)})}call(ee,te){return __awaiter$3(this,void 0,void 0,function*(){this._checkProvider("call");const ne=yield resolveProperties(this.checkTransaction(ee));return yield this.provider.call(ne,te)})}sendTransaction(ee){return __awaiter$3(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const te=yield this.populateTransaction(ee),ne=yield this.signTransaction(te);return yield this.provider.sendTransaction(ne)})}getChainId(){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(ee){return __awaiter$3(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(ee)})}checkTransaction(ee){for(const ne in ee)allowedTransactionKeys.indexOf(ne)===-1&&logger$2.throwArgumentError("invalid transaction key: "+ne,"transaction",ee);const te=shallowCopy(ee);return te.from==null?te.from=this.getAddress():te.from=Promise.all([Promise.resolve(te.from),this.getAddress()]).then(ne=>(ne[0].toLowerCase()!==ne[1].toLowerCase()&&logger$2.throwArgumentError("from address mismatch","transaction",ee),ne[0])),te}populateTransaction(ee){return __awaiter$3(this,void 0,void 0,function*(){const te=yield resolveProperties(this.checkTransaction(ee));te.to!=null&&(te.to=Promise.resolve(te.to).then(se=>__awaiter$3(this,void 0,void 0,function*(){if(se==null)return null;const ie=yield this.resolveName(se);return ie==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",se),ie})),te.to.catch(se=>{}));const ne=te.maxFeePerGas!=null||te.maxPriorityFeePerGas!=null;if(te.gasPrice!=null&&(te.type===2||ne)?logger$2.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",ee):(te.type===0||te.type===1)&&ne&&logger$2.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",ee),(te.type===2||te.type==null)&&te.maxFeePerGas!=null&&te.maxPriorityFeePerGas!=null)te.type=2;else if(te.type===0||te.type===1)te.gasPrice==null&&(te.gasPrice=this.getGasPrice());else{const se=yield this.getFeeData();if(te.type==null)if(se.maxFeePerGas!=null&&se.maxPriorityFeePerGas!=null)if(te.type=2,te.gasPrice!=null){const ie=te.gasPrice;delete te.gasPrice,te.maxFeePerGas=ie,te.maxPriorityFeePerGas=ie}else te.maxFeePerGas==null&&(te.maxFeePerGas=se.maxFeePerGas),te.maxPriorityFeePerGas==null&&(te.maxPriorityFeePerGas=se.maxPriorityFeePerGas);else se.gasPrice!=null?(ne&&logger$2.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),te.gasPrice==null&&(te.gasPrice=se.gasPrice),te.type=0):logger$2.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else te.type===2&&(te.maxFeePerGas==null&&(te.maxFeePerGas=se.maxFeePerGas),te.maxPriorityFeePerGas==null&&(te.maxPriorityFeePerGas=se.maxPriorityFeePerGas))}return te.nonce==null&&(te.nonce=this.getTransactionCount("pending")),te.gasLimit==null&&(te.gasLimit=this.estimateGas(te).catch(se=>{if(forwardErrors.indexOf(se.code)>=0)throw se;return logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:se,tx:te})})),te.chainId==null?te.chainId=this.getChainId():te.chainId=Promise.all([Promise.resolve(te.chainId),this.getChainId()]).then(se=>(se[1]!==0&&se[0]!==se[1]&&logger$2.throwArgumentError("chainId address mismatch","transaction",ee),se[0])),yield resolveProperties(te)})}_checkProvider(ee){this.provider||logger$2.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:ee||"_checkProvider"})}static isSigner(ee){return!!(ee&&ee._isSigner)}}const version$1="wallet/5.7.0";var __awaiter$2=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger$1=new Logger(version$1);function isAccount(re){return re!=null&&isHexString(re.privateKey,32)&&re.address!=null}function hasMnemonic(re){const ee=re.mnemonic;return ee&&ee.phrase}class Wallet$1 extends Signer{constructor(ee,te){if(super(),isAccount(ee)){const ne=new SigningKey(ee.privateKey);if(defineReadOnly(this,"_signingKey",()=>ne),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(ee.address)&&logger$1.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(ee)){const se=ee.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:se.phrase,path:se.path||defaultPath,locale:se.locale||"en"}));const ie=this.mnemonic,fe=HDNode.fromMnemonic(ie.phrase,null,ie.locale).derivePath(ie.path);computeAddress(fe.privateKey)!==this.address&&logger$1.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(ee))ee.curve!=="secp256k1"&&logger$1.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>ee);else{typeof ee=="string"&&ee.match(/^[0-9a-f]*$/i)&&ee.length===64&&(ee="0x"+ee);const ne=new SigningKey(ee);defineReadOnly(this,"_signingKey",()=>ne)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}te&&!Provider$1.isProvider(te)&&logger$1.throwArgumentError("invalid provider","provider",te),defineReadOnly(this,"provider",te||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(ee){return new Wallet$1(this,ee)}signTransaction(ee){return resolveProperties(ee).then(te=>{te.from!=null&&(getAddress(te.from)!==this.address&&logger$1.throwArgumentError("transaction from address mismatch","transaction.from",ee.from),delete te.from);const ne=this._signingKey().signDigest(keccak256$1(serialize(te)));return serialize(te,ne)})}signMessage(ee){return __awaiter$2(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(ee)))})}_signTypedData(ee,te,ne){return __awaiter$2(this,void 0,void 0,function*(){const se=yield TypedDataEncoder.resolveNames(ee,te,ne,ie=>(this.provider==null&&logger$1.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:ie}),this.provider.resolveName(ie)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(se.domain,te,se.value)))})}encrypt(ee,te,ne){if(typeof te=="function"&&!ne&&(ne=te,te={}),ne&&typeof ne!="function")throw new Error("invalid callback");return te||(te={}),encrypt(this,ee,te,ne)}static createRandom(ee){let te=randomBytes(16);ee||(ee={}),ee.extraEntropy&&(te=arrayify(hexDataSlice(keccak256$1(concat([te,ee.extraEntropy])),0,16)));const ne=entropyToMnemonic(te,ee.locale);return Wallet$1.fromMnemonic(ne,ee.path,ee.locale)}static fromEncryptedJson(ee,te,ne){return decryptJsonWallet(ee,te,ne).then(se=>new Wallet$1(se))}static fromEncryptedJsonSync(ee,te){return new Wallet$1(decryptJsonWalletSync(ee,te))}static fromMnemonic(ee,te,ne){return te||(te=defaultPath),new Wallet$1(HDNode.fromMnemonic(ee,null,ne).derivePath(te))}}function verifyMessage(re,ee){return recoverAddress(hashMessage(re),ee)}function verifyTypedData(re,ee,te,ne){return recoverAddress(TypedDataEncoder.hash(re,ee,te),ne)}var lib_esm$1=Object.freeze({__proto__:null,Wallet:Wallet$1,verifyMessage,verifyTypedData}),require$$19=getAugmentedNamespace(lib_esm$1);const version="web/5.7.1";var __awaiter$1=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};function getUrl(re,ee){return __awaiter$1(this,void 0,void 0,function*(){ee==null&&(ee={});const te={method:ee.method||"GET",headers:ee.headers||{},body:ee.body||void 0};if(ee.skipFetchSetup!==!0&&(te.mode="cors",te.cache="no-cache",te.credentials="same-origin",te.redirect="follow",te.referrer="client"),ee.fetchOptions!=null){const fe=ee.fetchOptions;fe.mode&&(te.mode=fe.mode),fe.cache&&(te.cache=fe.cache),fe.credentials&&(te.credentials=fe.credentials),fe.redirect&&(te.redirect=fe.redirect),fe.referrer&&(te.referrer=fe.referrer)}const ne=yield fetch(re,te),se=yield ne.arrayBuffer(),ie={};return ne.headers.forEach?ne.headers.forEach((fe,ue)=>{ie[ue.toLowerCase()]=fe}):ne.headers.keys().forEach(fe=>{ie[fe.toLowerCase()]=ne.headers.get(fe)}),{headers:ie,statusCode:ne.status,statusMessage:ne.statusText,body:arrayify(new Uint8Array(se))}})}var __awaiter=function(re,ee,te,ne){function se(ie){return ie instanceof te?ie:new te(function(fe){fe(ie)})}return new(te||(te=Promise))(function(ie,fe){function ue(Ae){try{Ee(ne.next(Ae))}catch(Me){fe(Me)}}function xe(Ae){try{Ee(ne.throw(Ae))}catch(Me){fe(Me)}}function Ee(Ae){Ae.done?ie(Ae.value):se(Ae.value).then(ue,xe)}Ee((ne=ne.apply(re,ee||[])).next())})};const logger=new Logger(version);function staller(re){return new Promise(ee=>{setTimeout(ee,re)})}function bodyify(re,ee){if(re==null)return null;if(typeof re=="string")return re;if(isBytesLike(re)){if(ee&&(ee.split("/")[0]==="text"||ee.split(";")[0].trim()==="application/json"))try{return toUtf8String(re)}catch{}return hexlify(re)}return re}function unpercent(re){return toUtf8Bytes(re.replace(/%([0-9a-f][0-9a-f])/gi,(ee,te)=>String.fromCharCode(parseInt(te,16))))}function _fetchData(re,ee,te){const ne=typeof re=="object"&&re.throttleLimit!=null?re.throttleLimit:12;logger.assertArgument(ne>0&&ne%1===0,"invalid connection throttle limit","connection.throttleLimit",ne);const se=typeof re=="object"?re.throttleCallback:null,ie=typeof re=="object"&&typeof re.throttleSlotInterval=="number"?re.throttleSlotInterval:100;logger.assertArgument(ie>0&&ie%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",ie);const fe=typeof re=="object"?!!re.errorPassThrough:!1,ue={};let xe=null;const Ee={method:"GET"};let Ae=!1,Me=2*60*1e3;if(typeof re=="string")xe=re;else if(typeof re=="object"){if((re==null||re.url==null)&&logger.throwArgumentError("missing URL","connection.url",re),xe=re.url,typeof re.timeout=="number"&&re.timeout>0&&(Me=re.timeout),re.headers)for(const Be in re.headers)ue[Be.toLowerCase()]={key:Be,value:String(re.headers[Be])},["if-none-match","if-modified-since"].indexOf(Be.toLowerCase())>=0&&(Ae=!0);if(Ee.allowGzip=!!re.allowGzip,re.user!=null&&re.password!=null){xe.substring(0,6)!=="https:"&&re.allowInsecureAuthentication!==!0&&logger.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:xe,user:re.user,password:"[REDACTED]"});const Be=re.user+":"+re.password;ue.authorization={key:"Authorization",value:"Basic "+encode(toUtf8Bytes(Be))}}re.skipFetchSetup!=null&&(Ee.skipFetchSetup=!!re.skipFetchSetup),re.fetchOptions!=null&&(Ee.fetchOptions=shallowCopy(re.fetchOptions))}const Pe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Ne=xe?xe.match(Pe):null;if(Ne)try{const Be={statusCode:200,statusMessage:"OK",headers:{"content-type":Ne[1]||"text/plain"},body:Ne[2]?decode(Ne[3]):unpercent(Ne[3])};let He=Be.body;return te&&(He=te(Be.body,Be)),Promise.resolve(He)}catch(Be){logger.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(Ne[1],Ne[2]),error:Be,requestBody:null,requestMethod:"GET",url:xe})}ee&&(Ee.method="POST",Ee.body=ee,ue["content-type"]==null&&(ue["content-type"]={key:"Content-Type",value:"application/octet-stream"}),ue["content-length"]==null&&(ue["content-length"]={key:"Content-Length",value:String(ee.length)}));const je={};Object.keys(ue).forEach(Be=>{const He=ue[Be];je[He.key]=He.value}),Ee.headers=je;const Ue=function(){let Be=null;return{promise:new Promise(function(Ke,qe){Me&&(Be=setTimeout(()=>{Be!=null&&(Be=null,qe(logger.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(Ee.body,je["content-type"]),requestMethod:Ee.method,timeout:Me,url:xe})))},Me))}),cancel:function(){Be!=null&&(clearTimeout(Be),Be=null)}}}(),Ce=function(){return __awaiter(this,void 0,void 0,function*(){for(let Be=0;Be<ne;Be++){let He=null;try{if(He=yield getUrl(xe,Ee),Be<ne){if(He.statusCode===301||He.statusCode===302){const Ke=He.headers.location||"";if(Ee.method==="GET"&&Ke.match(/^https:/)){xe=He.headers.location;continue}}else if(He.statusCode===429){let Ke=!0;if(se&&(Ke=yield se(Be,xe)),Ke){let qe=0;const Ve=He.headers["retry-after"];typeof Ve=="string"&&Ve.match(/^[1-9][0-9]*$/)?qe=parseInt(Ve)*1e3:qe=ie*parseInt(String(Math.random()*Math.pow(2,Be))),yield staller(qe);continue}}}}catch(Ke){He=Ke.response,He==null&&(Ue.cancel(),logger.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(Ee.body,je["content-type"]),requestMethod:Ee.method,serverError:Ke,url:xe}))}let Oe=He.body;if(Ae&&He.statusCode===304?Oe=null:!fe&&(He.statusCode<200||He.statusCode>=300)&&(Ue.cancel(),logger.throwError("bad response",Logger.errors.SERVER_ERROR,{status:He.statusCode,headers:He.headers,body:bodyify(Oe,He.headers?He.headers["content-type"]:null),requestBody:bodyify(Ee.body,je["content-type"]),requestMethod:Ee.method,url:xe})),te)try{const Ke=yield te(Oe,He);return Ue.cancel(),Ke}catch(Ke){if(Ke.throttleRetry&&Be<ne){let qe=!0;if(se&&(qe=yield se(Be,xe)),qe){const Ve=ie*parseInt(String(Math.random()*Math.pow(2,Be)));yield staller(Ve);continue}}Ue.cancel(),logger.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(Oe,He.headers?He.headers["content-type"]:null),error:Ke,requestBody:bodyify(Ee.body,je["content-type"]),requestMethod:Ee.method,url:xe})}return Ue.cancel(),Oe}return logger.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(Ee.body,je["content-type"]),requestMethod:Ee.method,url:xe})})}();return Promise.race([Ue.promise,Ce])}function fetchJson(re,ee,te){let ne=(ie,fe)=>{let ue=null;if(ie!=null)try{ue=JSON.parse(toUtf8String(ie))}catch(xe){logger.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:ie,error:xe})}return te&&(ue=te(ue,fe)),ue},se=null;if(ee!=null){se=toUtf8Bytes(ee);const ie=typeof re=="string"?{url:re}:shallowCopy(re);ie.headers?Object.keys(ie.headers).filter(ue=>ue.toLowerCase()==="content-type").length!==0||(ie.headers=shallowCopy(ie.headers),ie.headers["content-type"]="application/json"):ie.headers={"content-type":"application/json"},re=ie}return _fetchData(re,se,ne)}function poll(re,ee){return ee||(ee={}),ee=shallowCopy(ee),ee.floor==null&&(ee.floor=0),ee.ceiling==null&&(ee.ceiling=1e4),ee.interval==null&&(ee.interval=250),new Promise(function(te,ne){let se=null,ie=!1;const fe=()=>ie?!1:(ie=!0,se&&clearTimeout(se),!0);ee.timeout&&(se=setTimeout(()=>{fe()&&ne(new Error("timeout"))},ee.timeout));const ue=ee.retryLimit;let xe=0;function Ee(){return re().then(function(Ae){if(Ae!==void 0)fe()&&te(Ae);else if(ee.oncePoll)ee.oncePoll.once("poll",Ee);else if(ee.onceBlock)ee.onceBlock.once("block",Ee);else if(!ie){if(xe++,xe>ue){fe()&&ne(new Error("retry limit reached"));return}let Me=ee.interval*parseInt(String(Math.random()*Math.pow(2,xe)));Me<ee.floor&&(Me=ee.floor),Me>ee.ceiling&&(Me=ee.ceiling),setTimeout(Ee,Me)}return null},function(Ae){fe()&&ne(Ae)})}Ee()})}var lib_esm=Object.freeze({__proto__:null,_fetchData,fetchJson,poll}),require$$20=getAugmentedNamespace(lib_esm);(function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Se,$e,pe,oe){oe===void 0&&(oe=pe),Object.defineProperty(Se,oe,{enumerable:!0,get:function(){return $e[pe]}})}:function(Se,$e,pe,oe){oe===void 0&&(oe=pe),Se[oe]=$e[pe]}),te=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Se,$e){Object.defineProperty(Se,"default",{enumerable:!0,value:$e})}:function(Se,$e){Se.default=$e}),ne=commonjsGlobal&&commonjsGlobal.__importStar||function(Se){if(Se&&Se.__esModule)return Se;var $e={};if(Se!=null)for(var pe in Se)pe!=="default"&&Object.prototype.hasOwnProperty.call(Se,pe)&&ee($e,Se,pe);return te($e,Se),$e};Object.defineProperty(re,"__esModule",{value:!0}),re.formatBytes32String=re.Utf8ErrorFuncs=re.toUtf8String=re.toUtf8CodePoints=re.toUtf8Bytes=re._toEscapedUtf8String=re.nameprep=re.hexDataSlice=re.hexDataLength=re.hexZeroPad=re.hexValue=re.hexStripZeros=re.hexConcat=re.isHexString=re.hexlify=re.base64=re.base58=re.TransactionDescription=re.LogDescription=re.Interface=re.SigningKey=re.HDNode=re.defaultPath=re.isBytesLike=re.isBytes=re.zeroPad=re.stripZeros=re.concat=re.arrayify=re.shallowCopy=re.resolveProperties=re.getStatic=re.defineReadOnly=re.deepCopy=re.checkProperties=re.poll=re.fetchJson=re._fetchData=re.RLP=re.Logger=re.checkResultErrors=re.FormatTypes=re.ParamType=re.FunctionFragment=re.EventFragment=re.ErrorFragment=re.ConstructorFragment=re.Fragment=re.defaultAbiCoder=re.AbiCoder=void 0,re.Indexed=re.Utf8ErrorReason=re.UnicodeNormalizationForm=re.SupportedAlgorithm=re.mnemonicToSeed=re.isValidMnemonic=re.entropyToMnemonic=re.mnemonicToEntropy=re.getAccountPath=re.verifyTypedData=re.verifyMessage=re.recoverPublicKey=re.computePublicKey=re.recoverAddress=re.computeAddress=re.getJsonWalletAddress=re.TransactionTypes=re.serializeTransaction=re.parseTransaction=re.accessListify=re.joinSignature=re.splitSignature=re.soliditySha256=re.solidityKeccak256=re.solidityPack=re.shuffled=re.randomBytes=re.sha512=re.sha256=re.ripemd160=re.keccak256=re.computeHmac=re.commify=re.parseUnits=re.formatUnits=re.parseEther=re.formatEther=re.isAddress=re.getCreate2Address=re.getContractAddress=re.getIcapAddress=re.getAddress=re._TypedDataEncoder=re.id=re.isValidName=re.namehash=re.hashMessage=re.dnsEncode=re.parseBytes32String=void 0;var se=require$$0;Object.defineProperty(re,"AbiCoder",{enumerable:!0,get:function(){return se.AbiCoder}}),Object.defineProperty(re,"checkResultErrors",{enumerable:!0,get:function(){return se.checkResultErrors}}),Object.defineProperty(re,"ConstructorFragment",{enumerable:!0,get:function(){return se.ConstructorFragment}}),Object.defineProperty(re,"defaultAbiCoder",{enumerable:!0,get:function(){return se.defaultAbiCoder}}),Object.defineProperty(re,"ErrorFragment",{enumerable:!0,get:function(){return se.ErrorFragment}}),Object.defineProperty(re,"EventFragment",{enumerable:!0,get:function(){return se.EventFragment}}),Object.defineProperty(re,"FormatTypes",{enumerable:!0,get:function(){return se.FormatTypes}}),Object.defineProperty(re,"Fragment",{enumerable:!0,get:function(){return se.Fragment}}),Object.defineProperty(re,"FunctionFragment",{enumerable:!0,get:function(){return se.FunctionFragment}}),Object.defineProperty(re,"Indexed",{enumerable:!0,get:function(){return se.Indexed}}),Object.defineProperty(re,"Interface",{enumerable:!0,get:function(){return se.Interface}}),Object.defineProperty(re,"LogDescription",{enumerable:!0,get:function(){return se.LogDescription}}),Object.defineProperty(re,"ParamType",{enumerable:!0,get:function(){return se.ParamType}}),Object.defineProperty(re,"TransactionDescription",{enumerable:!0,get:function(){return se.TransactionDescription}});var ie=require$$1;Object.defineProperty(re,"getAddress",{enumerable:!0,get:function(){return ie.getAddress}}),Object.defineProperty(re,"getCreate2Address",{enumerable:!0,get:function(){return ie.getCreate2Address}}),Object.defineProperty(re,"getContractAddress",{enumerable:!0,get:function(){return ie.getContractAddress}}),Object.defineProperty(re,"getIcapAddress",{enumerable:!0,get:function(){return ie.getIcapAddress}}),Object.defineProperty(re,"isAddress",{enumerable:!0,get:function(){return ie.isAddress}});var fe=ne(require$$2);re.base64=fe;var ue=require$$3;Object.defineProperty(re,"base58",{enumerable:!0,get:function(){return ue.Base58}});var xe=require$$4;Object.defineProperty(re,"arrayify",{enumerable:!0,get:function(){return xe.arrayify}}),Object.defineProperty(re,"concat",{enumerable:!0,get:function(){return xe.concat}}),Object.defineProperty(re,"hexConcat",{enumerable:!0,get:function(){return xe.hexConcat}}),Object.defineProperty(re,"hexDataSlice",{enumerable:!0,get:function(){return xe.hexDataSlice}}),Object.defineProperty(re,"hexDataLength",{enumerable:!0,get:function(){return xe.hexDataLength}}),Object.defineProperty(re,"hexlify",{enumerable:!0,get:function(){return xe.hexlify}}),Object.defineProperty(re,"hexStripZeros",{enumerable:!0,get:function(){return xe.hexStripZeros}}),Object.defineProperty(re,"hexValue",{enumerable:!0,get:function(){return xe.hexValue}}),Object.defineProperty(re,"hexZeroPad",{enumerable:!0,get:function(){return xe.hexZeroPad}}),Object.defineProperty(re,"isBytes",{enumerable:!0,get:function(){return xe.isBytes}}),Object.defineProperty(re,"isBytesLike",{enumerable:!0,get:function(){return xe.isBytesLike}}),Object.defineProperty(re,"isHexString",{enumerable:!0,get:function(){return xe.isHexString}}),Object.defineProperty(re,"joinSignature",{enumerable:!0,get:function(){return xe.joinSignature}}),Object.defineProperty(re,"zeroPad",{enumerable:!0,get:function(){return xe.zeroPad}}),Object.defineProperty(re,"splitSignature",{enumerable:!0,get:function(){return xe.splitSignature}}),Object.defineProperty(re,"stripZeros",{enumerable:!0,get:function(){return xe.stripZeros}});var Ee=require$$5;Object.defineProperty(re,"_TypedDataEncoder",{enumerable:!0,get:function(){return Ee._TypedDataEncoder}}),Object.defineProperty(re,"dnsEncode",{enumerable:!0,get:function(){return Ee.dnsEncode}}),Object.defineProperty(re,"hashMessage",{enumerable:!0,get:function(){return Ee.hashMessage}}),Object.defineProperty(re,"id",{enumerable:!0,get:function(){return Ee.id}}),Object.defineProperty(re,"isValidName",{enumerable:!0,get:function(){return Ee.isValidName}}),Object.defineProperty(re,"namehash",{enumerable:!0,get:function(){return Ee.namehash}});var Ae=require$$6;Object.defineProperty(re,"defaultPath",{enumerable:!0,get:function(){return Ae.defaultPath}}),Object.defineProperty(re,"entropyToMnemonic",{enumerable:!0,get:function(){return Ae.entropyToMnemonic}}),Object.defineProperty(re,"getAccountPath",{enumerable:!0,get:function(){return Ae.getAccountPath}}),Object.defineProperty(re,"HDNode",{enumerable:!0,get:function(){return Ae.HDNode}}),Object.defineProperty(re,"isValidMnemonic",{enumerable:!0,get:function(){return Ae.isValidMnemonic}}),Object.defineProperty(re,"mnemonicToEntropy",{enumerable:!0,get:function(){return Ae.mnemonicToEntropy}}),Object.defineProperty(re,"mnemonicToSeed",{enumerable:!0,get:function(){return Ae.mnemonicToSeed}});var Me=require$$7;Object.defineProperty(re,"getJsonWalletAddress",{enumerable:!0,get:function(){return Me.getJsonWalletAddress}});var Pe=require$$8;Object.defineProperty(re,"keccak256",{enumerable:!0,get:function(){return Pe.keccak256}});var Ne=require$$9;Object.defineProperty(re,"Logger",{enumerable:!0,get:function(){return Ne.Logger}});var je=require$$10;Object.defineProperty(re,"computeHmac",{enumerable:!0,get:function(){return je.computeHmac}}),Object.defineProperty(re,"ripemd160",{enumerable:!0,get:function(){return je.ripemd160}}),Object.defineProperty(re,"sha256",{enumerable:!0,get:function(){return je.sha256}}),Object.defineProperty(re,"sha512",{enumerable:!0,get:function(){return je.sha512}});var Ue=require$$11;Object.defineProperty(re,"solidityKeccak256",{enumerable:!0,get:function(){return Ue.keccak256}}),Object.defineProperty(re,"solidityPack",{enumerable:!0,get:function(){return Ue.pack}}),Object.defineProperty(re,"soliditySha256",{enumerable:!0,get:function(){return Ue.sha256}});var Ce=require$$12;Object.defineProperty(re,"randomBytes",{enumerable:!0,get:function(){return Ce.randomBytes}}),Object.defineProperty(re,"shuffled",{enumerable:!0,get:function(){return Ce.shuffled}});var Be=require$$13;Object.defineProperty(re,"checkProperties",{enumerable:!0,get:function(){return Be.checkProperties}}),Object.defineProperty(re,"deepCopy",{enumerable:!0,get:function(){return Be.deepCopy}}),Object.defineProperty(re,"defineReadOnly",{enumerable:!0,get:function(){return Be.defineReadOnly}}),Object.defineProperty(re,"getStatic",{enumerable:!0,get:function(){return Be.getStatic}}),Object.defineProperty(re,"resolveProperties",{enumerable:!0,get:function(){return Be.resolveProperties}}),Object.defineProperty(re,"shallowCopy",{enumerable:!0,get:function(){return Be.shallowCopy}});var He=ne(require$$14);re.RLP=He;var Oe=require$$15;Object.defineProperty(re,"computePublicKey",{enumerable:!0,get:function(){return Oe.computePublicKey}}),Object.defineProperty(re,"recoverPublicKey",{enumerable:!0,get:function(){return Oe.recoverPublicKey}}),Object.defineProperty(re,"SigningKey",{enumerable:!0,get:function(){return Oe.SigningKey}});var Ke=require$$16;Object.defineProperty(re,"formatBytes32String",{enumerable:!0,get:function(){return Ke.formatBytes32String}}),Object.defineProperty(re,"nameprep",{enumerable:!0,get:function(){return Ke.nameprep}}),Object.defineProperty(re,"parseBytes32String",{enumerable:!0,get:function(){return Ke.parseBytes32String}}),Object.defineProperty(re,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Ke._toEscapedUtf8String}}),Object.defineProperty(re,"toUtf8Bytes",{enumerable:!0,get:function(){return Ke.toUtf8Bytes}}),Object.defineProperty(re,"toUtf8CodePoints",{enumerable:!0,get:function(){return Ke.toUtf8CodePoints}}),Object.defineProperty(re,"toUtf8String",{enumerable:!0,get:function(){return Ke.toUtf8String}}),Object.defineProperty(re,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Ke.Utf8ErrorFuncs}});var qe=require$$17;Object.defineProperty(re,"accessListify",{enumerable:!0,get:function(){return qe.accessListify}}),Object.defineProperty(re,"computeAddress",{enumerable:!0,get:function(){return qe.computeAddress}}),Object.defineProperty(re,"parseTransaction",{enumerable:!0,get:function(){return qe.parse}}),Object.defineProperty(re,"recoverAddress",{enumerable:!0,get:function(){return qe.recoverAddress}}),Object.defineProperty(re,"serializeTransaction",{enumerable:!0,get:function(){return qe.serialize}}),Object.defineProperty(re,"TransactionTypes",{enumerable:!0,get:function(){return qe.TransactionTypes}});var Ve=require$$18;Object.defineProperty(re,"commify",{enumerable:!0,get:function(){return Ve.commify}}),Object.defineProperty(re,"formatEther",{enumerable:!0,get:function(){return Ve.formatEther}}),Object.defineProperty(re,"parseEther",{enumerable:!0,get:function(){return Ve.parseEther}}),Object.defineProperty(re,"formatUnits",{enumerable:!0,get:function(){return Ve.formatUnits}}),Object.defineProperty(re,"parseUnits",{enumerable:!0,get:function(){return Ve.parseUnits}});var Xe=require$$19;Object.defineProperty(re,"verifyMessage",{enumerable:!0,get:function(){return Xe.verifyMessage}}),Object.defineProperty(re,"verifyTypedData",{enumerable:!0,get:function(){return Xe.verifyTypedData}});var rt=require$$20;Object.defineProperty(re,"_fetchData",{enumerable:!0,get:function(){return rt._fetchData}}),Object.defineProperty(re,"fetchJson",{enumerable:!0,get:function(){return rt.fetchJson}}),Object.defineProperty(re,"poll",{enumerable:!0,get:function(){return rt.poll}});var mt=require$$10;Object.defineProperty(re,"SupportedAlgorithm",{enumerable:!0,get:function(){return mt.SupportedAlgorithm}});var Qe=require$$16;Object.defineProperty(re,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Qe.UnicodeNormalizationForm}}),Object.defineProperty(re,"Utf8ErrorReason",{enumerable:!0,get:function(){return Qe.Utf8ErrorReason}})})(utils$a),Object.defineProperty(SolanaProvider$1,"__esModule",{value:!0}),SolanaProvider$1.SolanaProvider=void 0;const face_types_1$2=dist,web3_js_1=require$$1$1,utils_1=utils$a;class SolanaProvider{constructor(ee){this.internal=ee}async getPublicKeys(){return(await this.internal.getAddresses(face_types_1$2.Blockchain.SOLANA)).map(te=>new web3_js_1.PublicKey(utils_1.base58.decode(te)))}async signAndSendTransaction(ee){const te={serializedHex:ee.serialize({requireAllSignatures:!1,verifySignatures:!1}).toString("hex")};return await this.internal.sendRpc({method:"solana_sendTransaction",params:[te]})}}SolanaProvider$1.SolanaProvider=SolanaProvider,Object.defineProperty(Solana$1,"__esModule",{value:!0}),Solana$1.Solana=void 0;const SolanaProvider_1=SolanaProvider$1;class Solana{constructor(ee){this.internal=ee}getProvider(){return new SolanaProvider_1.SolanaProvider(this.internal)}}Solana$1.Solana=Solana;var internal={},iframe={};Object.defineProperty(iframe,"__esModule",{value:!0}),iframe.Iframe=void 0;const face_types_1$1=dist,overlayStyles={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};function applyOverlayStyles(re){for(const[ee,te]of Object.entries(overlayStyles))re.style[ee]=te}class Ready{constructor(){this._isCompleted=!1,this._eventListeners=Array(),this.complete=()=>{this._isCompleted=!0,this._eventListeners.forEach(ee=>ee())},this.add=ee=>{this._eventListeners.push(ee)},this.isCompleted=()=>this._isCompleted}}class Iframe{constructor(ee,te,ne,se){this._ready=new Ready,this.requestIndex=0,this.activeElement=null,this._blockchain=te,this._env=ne;const ie=Math.random().toString();if(this.randomPrefix=ie.substring(ie.length-6),document.getElementById("face-iframe"))throw new Error("Face is already initialized, Face can be initialized once.");window.addEventListener("message",async fe=>{fe.origin===se&&await this.processMessage(fe.data)}),this._iframe=new Promise(fe=>{const ue=()=>{if(!document.getElementById("face-iframe")){const xe=document.createElement("iframe");xe.id="face-iframe",xe.title="Secure Modal",xe.src=new URL(`${se}?api_key=${ee}&blockchain=${te}&env=${ne}`).href,xe.allow="clipboard-read; clipboard-write",applyOverlayStyles(xe),document.body.appendChild(xe),fe(xe)}};["loaded","interactive","complete"].includes(document.readyState)?ue():window.addEventListener("load",ue,!1)})}async sendChildMessage(ee){var te,ne;await this.ready(),this.requestIndex+=1;const se=`${this.randomPrefix}-${this.requestIndex}`;return ee.id=se,ee.from=face_types_1$1.JsonRpcSource.FACE_SDK,(ne=(te=await this._iframe)===null||te===void 0?void 0:te.contentWindow)===null||ne===void 0||ne.postMessage(ee,"*"),se}waitForResponse(ee){return new Promise((te,ne)=>{const se=ie=>{const fe=ie.data;ee&&fe.id!==ee||(window.removeEventListener("message",se),fe.error&&ne(fe.error),te(fe.result))};window.addEventListener("message",se)})}async processMessage(ee){switch(ee.method){case face_types_1$1.JsonRpcMethod.face_ready:this._ready.complete();break;case face_types_1$1.JsonRpcMethod.face_openIframe:await this.showOverlay();break;case face_types_1$1.JsonRpcMethod.face_closeIframe:await this.hideOverlay();break}}async ready(){return new Promise(async ee=>{if(this._ready.isCompleted()){ee();return}this._ready.add(()=>{ee()})})}async showOverlay(){await this.ready();const ee=await this._iframe;ee.style.display="block",this.activeElement=document.activeElement,ee.focus()}async hideOverlay(){var ee;await this.ready();const te=await this._iframe;te.style.display="none",!((ee=this.activeElement)===null||ee===void 0)&&ee.focus&&this.activeElement.focus(),this.activeElement=null}setBlockchain(ee){this._blockchain=ee}}iframe.Iframe=Iframe;var hasRequiredInternal;function requireInternal(){if(hasRequiredInternal)return internal;hasRequiredInternal=1,Object.defineProperty(internal,"__esModule",{value:!0}),internal.Internal=void 0;const re=dist,ee=require$$1$4,te=requireFace(),ne=iframe,se=ee.BigNumber.from(1e5).toHexString();class ie{constructor({apiKey:ue,network:xe,env:Ee,iframeUrl:Ae,face:Me}){const Pe=this.getBlockchainFromNetwork(xe),Ne=Ee??this.getDefaultEnv(xe);this.iframe=new ne.Iframe(ue,Pe,Ne,this.getIframeUrl(Ne,Ae)),this.face=Me}async getAddresses(ue){const xe=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_accounts,params:[ue]}),Ee=await this.iframe.waitForResponse(xe);return Ee||Promise.reject(new Error("get address failed"))}async estimateGas(ue){return await Promise.all(ue.params.map(async xe=>{if(xe.from)if(xe.data){const Ee=["function transfer(address to, uint256 value) public returns (bool success)"],{name:Ae,args:Me}=await this.decodeData(xe.data,Ee).catch(()=>({}));if(Me?.to&&Me?.value){const Pe=await this.getBalance(xe.from,xe.to),Ne={to:Me.to,value:Me.value};Pe.sub(Ne.value).lt(0)&&(Ne.value="0x0"),xe.data=await this.encodeData(Ee,Ae,[Ne.to,Ne.value])}}else(await this.getBalance(xe.from)).sub(xe.value).lt(0)&&(xe.value="0x0")})),await this.sendRpc(ue).catch(()=>se)}async getBalance(ue,xe){if(xe){const Ee=await this.encodeData(["function balanceOf(address owner) view returns (uint256)"],"balanceOf",[ue]),Ae=await this.sendRpc({method:re.JsonRpcMethod.eth_call,params:[{to:xe,data:Ee},"latest"]});return ee.BigNumber.from(Ae)}return ee.BigNumber.from(await this.sendRpc({method:re.JsonRpcMethod.eth_getBalance,params:[ue,"latest"]}))}async ownerOf(ue,xe){const Ee=await this.encodeData(["function ownerOf(uint256 tokenId) view returns (address)"],"ownerOf",[xe]),Ae=await this.sendRpc({method:re.JsonRpcMethod.eth_call,params:[{to:ue,data:Ee},"latest"]});return("0x"+Ae.substring(26)).toLowerCase()}async logout(){const ue=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_logOut});await this.iframe.waitForResponse(ue)}async getCurrentUser(){const ue=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_currentUser});return await this.iframe.waitForResponse(ue)}async isLoggedIn(){await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_loggedIn});const ue=await this.iframe.waitForResponse();return ue||!1}async ready(){return this.iframe.ready()}async loginWithCredential(){const ue=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_logInSignUp});return await this.iframe.waitForResponse(ue)}async directSocialLogin(ue){const xe=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_directSocialLogin,params:[ue]});return await this.iframe.waitForResponse(xe)}async loginWithIdToken(ue){const xe=await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_loginWithIdToken,params:[ue]});return await this.iframe.waitForResponse(xe)}async openWalletConnect(ue,xe){await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_openWalletConnect,params:[ue,xe]})}async openHome(){await this.iframe.sendChildMessage({method:re.JsonRpcMethod.face_openHome})}async sendRpc(ue){const xe=await this.iframe.sendChildMessage(ue);return await this.iframe.waitForResponse(xe)}getBlockchainFromNetwork(ue){switch(ue){case te.Network.ETHEREUM:case te.Network.GOERLI:return re.Blockchain.ETHEREUM;case te.Network.POLYGON:case te.Network.MUMBAI:return re.Blockchain.POLYGON;case te.Network.BNB_SMART_CHAIN:case te.Network.BNB_SMART_CHAIN_TESTNET:return re.Blockchain.BNB_SMART_CHAIN;case te.Network.KLAYTN:case te.Network.BAOBAB:return re.Blockchain.KLAYTN;case te.Network.SOLANA:case te.Network.SOLANA_DEVNET:return re.Blockchain.SOLANA;case te.Network.BORA:case te.Network.BORA_TESTNET:return re.Blockchain.BORA;case te.Network.NEAR:case te.Network.NEAR_TESTNET:return re.Blockchain.NEAR;default:return re.Blockchain.ETHEREUM}}getIframeUrl(ue,xe){if(xe!=null)return xe;switch(ue){case re.Env.Local:return"http://localhost:3333";case re.Env.Dev:return"https://app.dev.facewallet.xyz";case re.Env.StageTest:return"https://app.stage-test.facewallet.xyz";case re.Env.ProdTest:return"https://app.test.facewallet.xyz";case re.Env.StageMainnet:return"https://app.stage.facewallet.xyz";case re.Env.ProdMainnet:return"https://app.facewallet.xyz";default:return"https://app.facewallet.xyz"}}getDefaultEnv(ue){return ue&&(ue===te.Network.GOERLI||ue===te.Network.MUMBAI||ue===te.Network.BAOBAB||ue===te.Network.BNB_SMART_CHAIN_TESTNET||ue===te.Network.BORA_TESTNET||ue===te.Network.SOLANA_DEVNET||ue===te.Network.NEAR_TESTNET)?re.Env.ProdTest:re.Env.ProdMainnet}async decodeData(ue,xe){const Ee=new ee.ethers.utils.Interface(xe),{name:Ae,args:Me}=Ee.parseTransaction({data:ue});return{name:Ae,args:Me}}async encodeData(ue,xe,Ee){return new ee.ethers.utils.Interface(ue).encodeFunctionData(xe,Ee)}async switchNetwork(ue){const xe=this.getBlockchainFromNetwork(ue),Ee={method:re.JsonRpcMethod.face_switchNetwork,params:[{blockchain:xe}]},Ae=await this.sendRpc(Ee);return this.face.setNetwork(ue),this.iframe.setBlockchain(xe),Ae}}return internal.Internal=ie,internal}var provider={};Object.defineProperty(provider,"__esModule",{value:!0}),provider.Provider=void 0;const face_types_1=dist;class ProviderTemplate{constructor(){this.sendAsync=(ee,te)=>{}}}class Provider extends ProviderTemplate{constructor(ee){super(),this.internal=ee}async request(ee){if(Array.isArray(ee))return Promise.all(ee.map(te=>this.internal.sendRpc(te)));switch(ee.method){case face_types_1.JsonRpcMethod.wallet_switchEthereumChain:const te=face_types_1.NetworkChainIdMap[ee.params[0].chainId];return this.internal.switchNetwork(te);case face_types_1.JsonRpcMethod.eth_estimateGas:return this.internal.estimateGas(ee);case"personal_listAccounts":case"eth_accounts":return this.internal.getAddresses();default:return this.internal.sendRpc(ee)}}}provider.Provider=Provider;var wallet={};Object.defineProperty(wallet,"__esModule",{value:!0}),wallet.Wallet=void 0;class Wallet{constructor(ee){this.internal=ee}close(){this.internal.iframe.hideOverlay()}async home(){return this.internal.openHome()}}wallet.Wallet=Wallet;var walletConnect={};Object.defineProperty(walletConnect,"__esModule",{value:!0}),walletConnect.WalletConnect=void 0;class WalletConnect{constructor(ee){this.internal=ee}async connectOpensea(ee){await this.connect("OpenSea",ee?"https://opensea.io/collection/"+ee:"https://opensea.io")}async connect(ee,te){await this.internal.openWalletConnect(ee,te)}}walletConnect.WalletConnect=WalletConnect;var hasRequiredFace;function requireFace(){return hasRequiredFace||(hasRequiredFace=1,function(re){var ee=commonjsGlobal&&commonjsGlobal.__rest||function(Me,Pe){var Ne={};for(var je in Me)Object.prototype.hasOwnProperty.call(Me,je)&&Pe.indexOf(je)<0&&(Ne[je]=Me[je]);if(Me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ue=0,je=Object.getOwnPropertySymbols(Me);Ue<je.length;Ue++)Pe.indexOf(je[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Me,je[Ue])&&(Ne[je[Ue]]=Me[je[Ue]]);return Ne};Object.defineProperty(re,"__esModule",{value:!0}),re.Face=re.Network=void 0;const te=dist;Object.defineProperty(re,"Network",{enumerable:!0,get:function(){return te.Network}});const ne=auth,se=Near$1,ie=Solana$1,fe=requireInternal(),ue=provider,xe=wallet,Ee=walletConnect;class Ae{constructor(Pe){var{apiKey:Ne,network:je}=Pe,Ue=ee(Pe,["apiKey","network"]);if(this.getAddresses=async Ce=>await this.internal.getAddresses(Ce),this.setNetwork=Ce=>{this.network=Ce},this.getNetwork=()=>this.network,this.getChainId=async()=>Number(await this.internal.sendRpc({method:"eth_chainId",params:[]})),je=je||te.Network.ETHEREUM,!(0,te.isSupportedNetwork)(je))throw(0,te.unsupportedChainError)();this.network=je,this.internal=new fe.Internal({apiKey:Ne,network:je,env:Ue.env,iframeUrl:Ue.iframeUrl,face:this}),this.auth=new ne.Auth(this.internal),this.wc=new Ee.WalletConnect(this.internal),this.solana=new ie.Solana(this.internal),this.near=new se.Near(this.internal),this.wallet=new xe.Wallet(this.internal)}async ready(){return this.internal.ready()}getEthLikeProvider(){return new ue.Provider(this.internal)}async switchNetwork(Pe){return this.internal.switchNetwork(Pe)}}re.Face=Ae}(face)),face}(function(re){var ee=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ne,se,ie,fe){fe===void 0&&(fe=ie);var ue=Object.getOwnPropertyDescriptor(se,ie);(!ue||("get"in ue?!se.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return se[ie]}}),Object.defineProperty(ne,fe,ue)}:function(ne,se,ie,fe){fe===void 0&&(fe=ie),ne[fe]=se[ie]}),te=commonjsGlobal&&commonjsGlobal.__exportStar||function(ne,se){for(var ie in ne)ie!=="default"&&!Object.prototype.hasOwnProperty.call(se,ie)&&ee(se,ne,ie)};Object.defineProperty(re,"__esModule",{value:!0}),te(requireFace(),re)})(dist$1);const a=re=>{if(re===1)return dist$1.Network.ETHEREUM;if(re===80001)return dist$1.Network.MUMBAI;if(re===5)return dist$1.Network.GOERLI;throw new Error(`Unknow chain id: ${re}`)};class FaceWalletConnector extends BaseConnector{constructor({logger:ee,chains:te,testnetApiKey:ne,mainnetApiKey:se}){if(super(ee,ConnectorNames.FaceWallet,te),this.resolveApiKey=ie=>{switch(ie){case dist$1.Network.ETHEREUM:case dist$1.Network.POLYGON:case dist$1.Network.BNB_SMART_CHAIN:case dist$1.Network.KLAYTN:case dist$1.Network.BORA:{if(!this._mainnetApiKey)throw new Error("No API key for mainnet");return this._mainnetApiKey}case dist$1.Network.GOERLI:case dist$1.Network.MUMBAI:case dist$1.Network.BNB_SMART_CHAIN_TESTNET:case dist$1.Network.BAOBAB:case dist$1.Network.BORA_TESTNET:{if(!this._testnetApiKey)throw new Error("No API key for testnet");return this._testnetApiKey}default:throw new Error("unsupported network error")}},!ne&&!se)throw new Error("Set value for testnetApiKey or mainnetApiKey or both");this._mainnetApiKey=se,this._testnetApiKey=ne}async disconnect(){await this.face.auth.logout()}get canSwitchChain(){return!0}async switchChain(ee){const te=a(ee);return await this.face.switchNetwork(te),!0}get isConnected(){return this._face?this._face.auth.isLoggedIn():Promise.resolve(!1)}get isInstalled(){return!0}get installUrl(){return""}async connect(ee){if(!this._face){const te=a(ee);this._face=new dist$1.Face({network:te,apiKey:this.resolveApiKey(te)})}return await this.face.auth.isLoggedIn()||await this.face.auth.login(),!0}getRawProvider(){return Promise.resolve(this.face.getEthLikeProvider())}get face(){if(!this._face)throw new Error("Provider not connected. Call FaceWalletConnector.connect first");return this._face}}export{BaseConnector,ConnectorNames,ConnectorProvider,FaceWalletConnector,InjectedConnector,WalletConnectConnector};
//# sourceMappingURL=index.es.js.map
