{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["export enum LogLevel {\r\n    Trace =\t0,\r\n    Debug =\t1,\r\n    Info = 2,\r\n    Warn = 3,\r\n    Error = 4\r\n}\r\n\r\nexport interface ILogger {\r\n    log: (level: LogLevel, message: string) => void\r\n    trace: (message: string) => void\r\n    debug: (message: string) => void\r\n    info: (message: string) => void\r\n    warn: (message: string) => void\r\n    error: (message: any) => void\r\n};\r\n\r\nclass ConsoleLogger implements ILogger {\r\n\r\n    private readonly _curLogLevel: LogLevel\r\n\r\n    constructor(logLevel: LogLevel = LogLevel.Info) {\r\n        this._curLogLevel = logLevel\r\n    }\r\n   \r\n    log = (level: LogLevel, message: any) => {\r\n        if(level >= this._curLogLevel) {\r\n            const messageWithLayout = `${new Date(Date.now()).toISOString()} ${message}`\r\n            switch(level) {\r\n                case LogLevel.Error:\r\n                    console.error(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Warn:\r\n                    console.warn(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Info:\r\n                    console.info(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Debug:\r\n                    console.log(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Trace:\r\n                    console.trace(messageWithLayout)\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    trace = (message: string) => this.log(LogLevel.Trace, message)\r\n    debug = (message: string) => this.log(LogLevel.Debug, message)\r\n    info = (message: string) => this.log(LogLevel.Info, message)\r\n    warn = (message: string) => this.log(LogLevel.Warn, message)\r\n    error = (message: any) => this.log(LogLevel.Error, message)\r\n}\r\n\r\n\r\nconst parseLogLevel = (str: string): LogLevel => {\r\n    str = str.toLowerCase()\r\n    if(str === \"trace\") { return LogLevel.Trace }\r\n    if(str === \"debug\") { return LogLevel.Debug }\r\n    if(str === \"info\") { return LogLevel.Info }\r\n    if(str === \"warn\") { return LogLevel.Warn }\r\n    if(str === \"error\") { return LogLevel.Error }\r\n    throw new Error(`Unknown LogLevel: ${str}`)\r\n}\r\n\r\nconst LOG_LEVEL_KEY = 'logLevel'\r\nfunction getCurLogLevel(): LogLevel {\r\n    let str: string | null = localStorage.getItem(LOG_LEVEL_KEY)\r\n    if(str) {\r\n        return parseLogLevel(str)\r\n    }\r\n    let result: LogLevel = LogLevel.Info;\r\n    localStorage.setItem(LOG_LEVEL_KEY, LogLevel[result].toLowerCase())\r\n    return result\r\n}\r\n\r\nexport const logger: ILogger = new ConsoleLogger(getCurLogLevel())"],"names":["LogLevel","ConsoleLogger","logLevel","level","message","messageWithLayout","parseLogLevel","str","LOG_LEVEL_KEY","getCurLogLevel","result"],"mappings":"AAAY,IAAA,QAAA,CAAA,CAAAA,IACRA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAQ,GAAR,OACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,KAAQ,CAAA,CAAA,CAAA,CAAR,OACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,KAAO,CAAP,CAAA,CAAA,MAAA,CACAA,IAAA,IAAO,CAAA,CAAA,CAAA,CAAP,OACAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAQ,CAAR,CAAA,CAAA,OAAA,CALQA,CAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAiBZ,MAAMC,CAAiC,CAInC,YAAYC,CAAqB,CAAA,CAAA,CAAe,CAIhD,IAAM,CAAA,GAAA,CAAA,CAACC,CAAiBC,CAAAA,CAAAA,GAAiB,CACrC,GAAGD,GAAS,IAAK,CAAA,YAAA,CAAc,CAC3B,MAAME,CAAoB,CAAA,CAAA,EAAG,IAAI,IAAK,CAAA,IAAA,CAAK,GAAI,EAAC,CAAE,CAAA,WAAA,MAAiBD,CACnE,CAAA,CAAA,CAAA,OAAOD,GACH,OACI,OAAQ,CAAA,KAAA,CAAME,CAAiB,CAAA,CAC/B,MACJ,OACI,OAAQ,CAAA,IAAA,CAAKA,CAAiB,CAC9B,CAAA,MACJ,KACI,CAAA,CAAA,OAAA,CAAQ,IAAKA,CAAAA,CAAiB,CAC9B,CAAA,MACJ,KACI,CAAA,CAAA,OAAA,CAAQ,IAAIA,CAAiB,CAAA,CAC7B,MACJ,KAAK,CAAA,CACD,OAAQ,CAAA,KAAA,CAAMA,CAAiB,CAAA,CAC/B,KACR,CACJ,CACJ,CAEA,CAAA,IAAA,CAAA,KAAA,CAASD,CAAoB,EAAA,IAAA,CAAK,IAAI,CAAgBA,CAAAA,CAAO,CAC7D,CAAA,IAAA,CAAA,KAAA,CAASA,CAAoB,EAAA,IAAA,CAAK,IAAI,CAAgBA,CAAAA,CAAO,EAC7D,IAAQA,CAAAA,IAAAA,CAAAA,CAAAA,EAAoB,KAAK,GAAI,CAAA,CAAA,CAAeA,CAAO,CAAA,CAC3D,IAAQA,CAAAA,IAAAA,CAAAA,CAAAA,EAAoB,KAAK,GAAI,CAAA,CAAA,CAAeA,CAAO,CAC3D,CAAA,IAAA,CAAA,KAAA,CAASA,GAAiB,IAAK,CAAA,GAAA,CAAI,CAAgBA,CAAAA,CAAO,CA9BtD,CAAA,IAAA,CAAK,aAAeF,EACxB,CA8BJ,CAGA,MAAMI,CAAAA,CAAiBC,GAA0B,CAE7C,GADAA,CAAMA,CAAAA,CAAAA,CAAI,WAAY,EAAA,CACnBA,IAAQ,OAAW,CAAA,OACtB,CAAA,CAAA,GAAGA,CAAQ,GAAA,OAAA,CAAW,OACtB,CAAA,CAAA,GAAGA,CAAQ,GAAA,MAAA,CAAU,OAAO,CAAA,CAC5B,GAAGA,CAAQ,GAAA,MAAA,CAAU,OACrB,CAAA,CAAA,GAAGA,IAAQ,OAAW,CAAA,OACtB,CAAA,CAAA,MAAM,IAAI,KAAA,CAAM,qBAAqBA,CAAK,CAAA,CAAA,CAC9C,CAEMC,CAAAA,CAAAA,CAAgB,UACtB,CAAA,SAASC,GAA2B,CAChC,IAAIF,CAAqB,CAAA,YAAA,CAAa,OAAQC,CAAAA,CAAa,EAC3D,GAAGD,CAAAA,CACC,OAAOD,CAAcC,CAAAA,CAAG,EAE5B,IAAIG,CAAAA,CAAmB,CACvB,CAAA,OAAA,YAAA,CAAa,OAAQF,CAAAA,CAAAA,CAAe,SAASE,CAAQ,CAAA,CAAA,WAAA,EAAa,CAAA,CAC3DA,CACX,OAEa,MAAkB,CAAA,IAAIT,CAAcQ,CAAAA,CAAAA,EAAgB;;;;"}