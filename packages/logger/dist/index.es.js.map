{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["export enum LogLevel {\r\n    Trace =\t0,\r\n    Debug =\t1,\r\n    Info = 2,\r\n    Warn = 3,\r\n    Error = 4\r\n}\r\n\r\nexport interface ILogger {\r\n    log: (level: LogLevel, message: string) => void\r\n    trace: (message: string) => void\r\n    debug: (message: string) => void\r\n    info: (message: string) => void\r\n    warn: (message: string) => void\r\n    error: (message: any) => void\r\n};\r\n\r\nclass ConsoleLogger implements ILogger {\r\n\r\n    private readonly _curLogLevel: LogLevel\r\n\r\n    constructor(logLevel: LogLevel = LogLevel.Info) {\r\n        this._curLogLevel = logLevel\r\n    }\r\n   \r\n    log = (level: LogLevel, message: any) => {\r\n        if(level >= this._curLogLevel) {\r\n            const messageWithLayout = `${new Date(Date.now()).toISOString()} ${message}`\r\n            switch(level) {\r\n                case LogLevel.Error:\r\n                    console.error(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Warn:\r\n                    console.warn(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Info:\r\n                    console.info(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Debug:\r\n                    console.log(messageWithLayout)\r\n                    break;\r\n                case LogLevel.Trace:\r\n                    console.trace(messageWithLayout)\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    trace = (message: string) => this.log(LogLevel.Trace, message)\r\n    debug = (message: string) => this.log(LogLevel.Debug, message)\r\n    info = (message: string) => this.log(LogLevel.Info, message)\r\n    warn = (message: string) => this.log(LogLevel.Warn, message)\r\n    error = (message: any) => this.log(LogLevel.Error, message)\r\n}\r\n\r\n\r\nconst parseLogLevel = (str: string): LogLevel => {\r\n    str = str.toLowerCase()\r\n    if(str === \"trace\") { return LogLevel.Trace }\r\n    if(str === \"debug\") { return LogLevel.Debug }\r\n    if(str === \"info\") { return LogLevel.Info }\r\n    if(str === \"warn\") { return LogLevel.Warn }\r\n    if(str === \"error\") { return LogLevel.Error }\r\n    throw new Error(`Unknown LogLevel: ${str}`)\r\n}\r\n\r\nconst LOG_LEVEL_KEY = 'logLevel'\r\nfunction getCurLogLevel(): LogLevel {\r\n    let str: string | null = localStorage.getItem(LOG_LEVEL_KEY)\r\n    if(str) {\r\n        return parseLogLevel(str)\r\n    }\r\n    let result: LogLevel = LogLevel.Info;\r\n    localStorage.setItem(LOG_LEVEL_KEY, LogLevel[result].toLowerCase())\r\n    return result\r\n}\r\n\r\nexport const logger: ILogger = new ConsoleLogger(getCurLogLevel())"],"names":["LogLevel","ConsoleLogger","logLevel","level","message","messageWithLayout","parseLogLevel","str","LOG_LEVEL_KEY","getCurLogLevel","result"],"mappings":"AAAY,IAAA,QAAA,CAAA,CAAAA,IACRA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAQ,GAAR,OACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,MAAQ,CAAR,CAAA,CAAA,OAAA,CACAA,IAAA,IAAO,CAAA,CAAA,CAAA,CAAP,OACAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAO,GAAP,MACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,KAAQ,CAAA,CAAA,CAAA,CAAR,OALQA,CAAAA,CAAAA,CAAAA,EAAA,cAiBZ,MAAMC,CAAiC,CAInC,WAAYC,CAAAA,CAAAA,CAAqB,EAAe,CAIhD,IAAA,CAAA,GAAA,CAAM,CAACC,CAAAA,CAAiBC,CAAiB,GAAA,CACrC,GAAGD,CAAS,EAAA,IAAA,CAAK,aAAc,CAC3B,MAAME,EAAoB,CAAG,EAAA,IAAI,IAAK,CAAA,IAAA,CAAK,GAAI,EAAC,EAAE,WAAY,EAAA,CAAA,CAAA,EAAKD,IACnE,OAAOD,CAAAA,EAAAA,OAEC,OAAQ,CAAA,KAAA,CAAME,CAAiB,CAAA,CAC/B,MACC,KAAA,CAAA,CACD,QAAQ,IAAKA,CAAAA,CAAiB,EAC9B,MACC,KAAA,CAAA,CACD,QAAQ,IAAKA,CAAAA,CAAiB,CAC9B,CAAA,MAAA,KAEA,CAAA,CAAA,OAAA,CAAQ,IAAIA,CAAiB,CAAA,CAC7B,WAEA,CAAA,CAAA,OAAA,CAAQ,MAAMA,CAAiB,CAAA,CAC/B,KAEZ,CAAA,CACJ,CAEA,CAAA,IAAA,CAAA,KAAA,CAASD,GAAoB,IAAK,CAAA,GAAA,CAAI,EAAgBA,CAAO,CAAA,CAC7D,WAASA,CAAoB,EAAA,IAAA,CAAK,GAAI,CAAA,CAAA,CAAgBA,CAAO,CAAA,CAC7D,UAAQA,CAAoB,EAAA,IAAA,CAAK,IAAI,CAAeA,CAAAA,CAAO,EAC3D,IAAQA,CAAAA,IAAAA,CAAAA,CAAAA,EAAoB,KAAK,GAAI,CAAA,CAAA,CAAeA,CAAO,CAC3D,CAAA,IAAA,CAAA,KAAA,CAASA,GAAiB,IAAK,CAAA,GAAA,CAAI,EAAgBA,CAAO,CAAA,CA9BtD,IAAK,CAAA,YAAA,CAAeF,EACxB,CA8BJ,CAGA,MAAMI,CAAAA,CAAiBC,GAA0B,CAE7C,GADAA,EAAMA,CAAI,CAAA,WAAA,EACPA,CAAAA,CAAAA,GAAQ,OAAW,CAAA,SACtB,GAAGA,CAAAA,GAAQ,QAAW,OAAO,CAAA,CAC7B,GAAGA,CAAQ,GAAA,MAAA,CAAU,OAAO,CAAA,CAC5B,GAAGA,CAAAA,GAAQ,OAAU,OAAO,CAAA,CAC5B,GAAGA,CAAQ,GAAA,OAAA,CAAW,OACtB,CAAA,CAAA,MAAM,IAAI,KAAA,CAAM,CAAqBA,kBAAAA,EAAAA,CAAAA,CAAAA,CAAK,CAC9C,CAEMC,CAAAA,CAAAA,CAAgB,WACtB,SAASC,CAAAA,EAA2B,CAChC,IAAIF,CAAAA,CAAqB,YAAa,CAAA,OAAA,CAAQC,CAAa,CAAA,CAC3D,GAAGD,CACC,CAAA,OAAOD,EAAcC,CAAG,CAAA,CAE5B,IAAIG,CAAmB,CAAA,CAAA,CACvB,OAAa,YAAA,CAAA,OAAA,CAAQF,CAAe,CAAA,QAAA,CAASE,GAAQ,WAAY,EAAC,EAC3DA,CACX,OAEa,MAAkB,CAAA,IAAIT,CAAcQ,CAAAA,CAAAA,EAAgB;;;;"}