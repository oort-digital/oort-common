{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["export enum LogLevel {\n    Trace =\t0,\n    Debug =\t1,\n    Info = 2,\n    Warn = 3,\n    Error = 4\n}\n\nexport interface ILogger {\n    log: (level: LogLevel, message: string) => void\n    trace: (message: string) => void\n    debug: (message: string) => void\n    info: (message: string) => void\n    warn: (message: string) => void\n    error: (message: any) => void\n};\n\nclass ConsoleLogger implements ILogger {\n\n    private readonly _curLogLevel: LogLevel\n\n    constructor(logLevel: LogLevel = LogLevel.Info) {\n        this._curLogLevel = logLevel\n    }\n   \n    log = (level: LogLevel, message: any) => {\n        if(level >= this._curLogLevel) {\n            const messageWithLayout = `${new Date(Date.now()).toISOString()} ${message}`\n            switch(level) {\n                case LogLevel.Error:\n                    console.error(messageWithLayout)\n                    break;\n                case LogLevel.Warn:\n                    console.warn(messageWithLayout)\n                    break;\n                case LogLevel.Info:\n                    console.info(messageWithLayout)\n                    break;\n                case LogLevel.Debug:\n                    console.log(messageWithLayout)\n                    break;\n                case LogLevel.Trace:\n                    console.trace(messageWithLayout)\n                    break;\n            }\n        }\n    }\n\n    trace = (message: string) => this.log(LogLevel.Trace, message)\n    debug = (message: string) => this.log(LogLevel.Debug, message)\n    info = (message: string) => this.log(LogLevel.Info, message)\n    warn = (message: string) => this.log(LogLevel.Warn, message)\n    error = (message: any) => this.log(LogLevel.Error, message)\n}\n\n\nconst parseLogLevel = (str: string): LogLevel => {\n    str = str.toLowerCase()\n    if(str === \"trace\") { return LogLevel.Trace }\n    if(str === \"debug\") { return LogLevel.Debug }\n    if(str === \"info\") { return LogLevel.Info }\n    if(str === \"warn\") { return LogLevel.Warn }\n    if(str === \"error\") { return LogLevel.Error }\n    throw new Error(`Unknown LogLevel: ${str}`)\n}\n\nconst LOG_LEVEL_KEY = 'logLevel'\nfunction getCurLogLevel(): LogLevel {\n    let str: string | null = localStorage.getItem(LOG_LEVEL_KEY)\n    if(str) {\n        return parseLogLevel(str)\n    }\n    let result: LogLevel = LogLevel.Info;\n    localStorage.setItem(LOG_LEVEL_KEY, LogLevel[result].toLowerCase())\n    return result\n}\n\nexport const logger: ILogger = new ConsoleLogger(getCurLogLevel())"],"names":["LogLevel","ConsoleLogger","logLevel","level","message","messageWithLayout","parseLogLevel","str","LOG_LEVEL_KEY","getCurLogLevel","result"],"mappings":"AAAY,IAAA,QAAA,CAAA,CAAAA,IACRA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAQ,GAAR,OACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,MAAQ,CAAR,CAAA,CAAA,OAAA,CACAA,IAAA,IAAO,CAAA,CAAA,CAAA,CAAP,OACAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAO,GAAP,MACAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAA,KAAQ,CAAA,CAAA,CAAA,CAAR,OALQA,CAAAA,CAAAA,CAAAA,EAAA,cAiBZ,MAAMC,CAAiC,CAInC,WAAYC,CAAAA,CAAAA,CAAqB,EAAe,CAIhD,IAAA,CAAA,GAAA,CAAM,CAACC,CAAAA,CAAiBC,CAAiB,GAAA,CACrC,GAAGD,CAAS,EAAA,IAAA,CAAK,aAAc,CAC3B,MAAME,EAAoB,CAAG,EAAA,IAAI,IAAK,CAAA,IAAA,CAAK,GAAI,EAAC,EAAE,WAAY,EAAA,CAAA,CAAA,EAAKD,IACnE,OAAOD,CAAAA,EAAAA,OAEC,OAAQ,CAAA,KAAA,CAAME,CAAiB,CAAA,CAC/B,MACC,KAAA,CAAA,CACD,QAAQ,IAAKA,CAAAA,CAAiB,EAC9B,MACC,KAAA,CAAA,CACD,QAAQ,IAAKA,CAAAA,CAAiB,CAC9B,CAAA,MAAA,KAEA,CAAA,CAAA,OAAA,CAAQ,IAAIA,CAAiB,CAAA,CAC7B,WAEA,CAAA,CAAA,OAAA,CAAQ,MAAMA,CAAiB,CAAA,CAC/B,KAEZ,CAAA,CACJ,CAEA,CAAA,IAAA,CAAA,KAAA,CAASD,GAAoB,IAAK,CAAA,GAAA,CAAI,EAAgBA,CAAO,CAAA,CAC7D,WAASA,CAAoB,EAAA,IAAA,CAAK,GAAI,CAAA,CAAA,CAAgBA,CAAO,CAAA,CAC7D,UAAQA,CAAoB,EAAA,IAAA,CAAK,IAAI,CAAeA,CAAAA,CAAO,EAC3D,IAAQA,CAAAA,IAAAA,CAAAA,CAAAA,EAAoB,KAAK,GAAI,CAAA,CAAA,CAAeA,CAAO,CAC3D,CAAA,IAAA,CAAA,KAAA,CAASA,GAAiB,IAAK,CAAA,GAAA,CAAI,EAAgBA,CAAO,CAAA,CA9BtD,IAAK,CAAA,YAAA,CAAeF,EACxB,CA8BJ,CAGA,MAAMI,CAAAA,CAAiBC,GAA0B,CAE7C,GADAA,EAAMA,CAAI,CAAA,WAAA,EACPA,CAAAA,CAAAA,GAAQ,OAAW,CAAA,SACtB,GAAGA,CAAAA,GAAQ,QAAW,OAAO,CAAA,CAC7B,GAAGA,CAAQ,GAAA,MAAA,CAAU,OAAO,CAAA,CAC5B,GAAGA,CAAAA,GAAQ,OAAU,OAAO,CAAA,CAC5B,GAAGA,CAAQ,GAAA,OAAA,CAAW,OACtB,CAAA,CAAA,MAAM,IAAI,KAAA,CAAM,CAAqBA,kBAAAA,EAAAA,CAAAA,CAAAA,CAAK,CAC9C,CAEMC,CAAAA,CAAAA,CAAgB,WACtB,SAASC,CAAAA,EAA2B,CAChC,IAAIF,CAAAA,CAAqB,YAAa,CAAA,OAAA,CAAQC,CAAa,CAAA,CAC3D,GAAGD,CACC,CAAA,OAAOD,EAAcC,CAAG,CAAA,CAE5B,IAAIG,CAAmB,CAAA,CAAA,CACvB,OAAa,YAAA,CAAA,OAAA,CAAQF,CAAe,CAAA,QAAA,CAASE,GAAQ,WAAY,EAAC,EAC3DA,CACX,OAEa,MAAkB,CAAA,IAAIT,CAAcQ,CAAAA,CAAAA,EAAgB;;;;"}