"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var R=require("axios");function _(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var o=_(R);function k(a){const g=a;return g.isAuthRequest=!0,g}function h(a,g,t){const e={signal:g};return t&&(e.params=t),a?k(e):e}class N{constructor({apiUrl:g}){this.dashboard=async t=>(await o.default.get(`${this._apiUrl}/dashboard/`,{signal:t})).data,this.nfts=async({pageNum:t,pageSize:e,chains:i,keywords:s,games:d,twitterFollowersRange:l,discordFollowersRange:f,floorPriceRange:b,marketCapRange:p,volumeRange:u,tradersRange:m,totalSupplyRange:c,orders:n,orderDirections:S,gamesOnly:P},w)=>{const r=new URLSearchParams([["filter-games",`${P}`]]);this.addPagingParams({pageNum:t,pageSize:e},r),s&&r.append("keywords",`${s}`),this.addArrParam(r,"block-chains",i),this.addArrParam(r,"game-ids",d),l&&l[0]&&l[1]&&(r.append("number-filter-starts",l[0].toString()),r.append("number-filter-ends",l[1].toString()),r.append("number-filters","twitterFollowers")),f&&f[0]&&f[1]&&(r.append("number-filter-starts",f[0].toString()),r.append("number-filter-ends",f[1].toString()),r.append("number-filters","discordFollowers")),b&&b[0]&&b[1]&&(r.append("number-filter-starts",b[0].toString()),r.append("number-filter-ends",b[1].toString()),r.append("number-filters","floorPrice")),u&&u[0]&&u[1]&&(r.append("number-filter-starts",u[0].toString()),r.append("number-filter-ends",u[1].toString()),r.append("number-filters","volume")),p&&p[0]&&p[1]&&(r.append("number-filter-starts",p[0].toString()),r.append("number-filter-ends",p[1].toString()),r.append("number-filters","marketCap")),m&&m[0]&&m[1]&&(r.append("number-filter-starts",m[0].toString()),r.append("number-filter-ends",m[1].toString()),r.append("number-filters","traders")),c&&c[0]&&c[1]&&(r.append("number-filter-starts",c[0].toString()),r.append("number-filter-ends",c[1].toString()),r.append("number-filters","totalSupply")),n&&n.length&&S&&S.length&&(this.addArrParam(r,"orders",n),this.addArrParam(r,"order-directions",S));const $=await o.default.get(`${this._apiUrl}/game-hub/nft-collections`,{params:r,signal:w});return w.aborted?{dataList:[],pageNum:0,pageSize:0,totalPage:0,totalNum:0}:$.data},this.games=async({pageNum:t,pageSize:e,chains:i,collectionIds:s,keywords:d,devices:l,status:f,genre:b,ratingRange:p,orders:u,orderDirections:m},c)=>{const n=this.addPagingParams({pageNum:t,pageSize:e});d&&n.append("keywords",d),s&&s.length&&this.addArrParam(n,"nft-collection-ids",s);const S=[],P=[],w=($,v)=>{v.length&&(S.push($),P.push(v.join(",")))};w("devices",l),w("status",f),w("genre",b),S.length&&P.length&&(this.addArrParam(n,"string-filters",S),this.addArrParam(n,"string-values",P)),p&&p[0]&&p[1]&&(this.addArrParam(n,"number-filter-starts",[p[0]]),this.addArrParam(n,"number-filter-ends",[p[1]]),this.addArrParam(n,"number-filters",["rating"])),u&&u.length&&m&&m.length&&(this.addArrParam(n,"orders",u),this.addArrParam(n,"order-directions",m)),this.addArrParam(n,"block-chains",i);const r=await o.default.get(`${this._apiUrl}/game-hub/games`,{params:n,signal:c});return c.aborted?{dataList:[],pageNum:0,pageSize:0,totalNum:0,totalPage:0}:r.data},this.gameDetail=async({gameUri:t},e)=>(await o.default.get(`${this._apiUrl}/game-hub/games/${t}`,h(!1,e,void 0))).data,this.nftDetail=async({nftCollectionId:t},e)=>(await o.default.get(`${this._apiUrl}/game-hub/nft-collections/${t}`,h(!1,e))).data,this.getSearch=async({keywords:t,url:e,pageSize:i,pageNum:s},d)=>{const l=this.addPagingParams({pageSize:i,pageNum:s});return t&&l.append("keywords",t),(await o.default.get(`${this._apiUrl}/game-hub/${e}`,{params:l,signal:d})).data},this.likeGame=async({gameUri:t,action:e},i)=>{const s=new URLSearchParams([["action",`${e}`]]);await o.default.put(`${this._apiUrl}/game-hub/games/${t}/like`,null,h(!0,i,s))},this.likeReview=async({gameUri:t,reviewId:e,action:i},s)=>{const d=new URLSearchParams([["action",`${i}`]]);await o.default.put(`${this._apiUrl}/game-hub/${t}/reviews/${e}/like`,null,h(!0,s,d))},this.saveReview=({content:t,gameUri:e},i)=>o.default.put(`${this._apiUrl}/game-hub/games/${e}/reviews`,{content:t},h(!0,i,void 0)),this.saveFeedback=({gameUri:t,isGameFun:e,isGameProfitable:i,rating:s},d)=>{const l=new URLSearchParams([["isGameFun",`${e}`],["isGameProfitable",`${i}`],["rating",`${s}`]]);return o.default.put(`${this._apiUrl}/game-hub/games/${t}/feedback`,null,h(!0,d,l))},this.getReviews=async({pageNum:t,pageSize:e,gameUri:i},s)=>{const d=this.addPagingParams({pageSize:e,pageNum:t});return(await o.default.get(`${this._apiUrl}/game-hub/games/${i}/reviews`,h(!1,s,d))).data},this.getCurrentUserReview=async(t,e)=>(await o.default.get(`${this._apiUrl}/game-hub/games/${t}/reviews/cur-user-review`,h(!0,e))).data,this._apiUrl=g}addArrParam(g,t,e){e.length&&e.forEach(i=>{g.append(t,i.toString())})}addPagingParams({pageNum:g,pageSize:t},e){return e=e||new URLSearchParams,e.append("page-num",`${g}`),e.append("page-size",`${t}`),e}}var y=(a=>(a.Live="Live",a.Alpha="Alpha",a.Beta="Beta",a.Development="Development",a.Cancelled="Cancelled",a.Presale="Presale",a))(y||{}),U=(a=>(a.Toturial="Toturial",a.Tournament="Tournament",a.Airdrop="Airdrop",a.IDO="IDO",a.INO="INO",a.MerchandiseSale="Merchandise Sale",a.DiscountOffer="Discount Offer",a))(U||{}),A=(a=>(a.SearchGames="search-games",a.searchNFTCollections="search-nft-collections",a))(A||{});exports.GameStatusEnum=y,exports.MissionType=U,exports.OortClient=N,exports.SearchGameHubType=A;
//# sourceMappingURL=index.cjs.js.map
