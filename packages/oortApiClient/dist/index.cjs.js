"use strict";var d=require("axios");function R(r){const p=r;return p.isAuthRequest=!0,p}function c(r,p,a){const e={signal:p};return a&&(e.params=a),r?R(e):e}class k{constructor({apiUrl:p}){this.dashboard=async a=>(await d.get(`${this._apiUrl}/dashboard/`,{signal:a})).data,this.nfts=async({pageNum:a,pageSize:e,chains:i,keywords:s,games:l,twitterFollowersRange:o,discordFollowersRange:b,floorPriceRange:f,marketCapRange:g,volumeRange:m,tradersRange:u,totalSupplyRange:h,orders:n,orderDirections:S,gamesOnly:P},w)=>{const t=new URLSearchParams([["filter-games",`${P}`]]);this.addPagingParams({pageNum:a,pageSize:e},t),s&&t.append("keywords",`${s}`),this.addArrParam(t,"block-chains",i),this.addArrParam(t,"game-ids",l),o&&o[0]&&o[1]&&(t.append("number-filter-starts",o[0].toString()),t.append("number-filter-ends",o[1].toString()),t.append("number-filters","twitterFollowers")),b&&b[0]&&b[1]&&(t.append("number-filter-starts",b[0].toString()),t.append("number-filter-ends",b[1].toString()),t.append("number-filters","discordFollowers")),f&&f[0]&&f[1]&&(t.append("number-filter-starts",f[0].toString()),t.append("number-filter-ends",f[1].toString()),t.append("number-filters","floorPrice")),m&&m[0]&&m[1]&&(t.append("number-filter-starts",m[0].toString()),t.append("number-filter-ends",m[1].toString()),t.append("number-filters","volume")),g&&g[0]&&g[1]&&(t.append("number-filter-starts",g[0].toString()),t.append("number-filter-ends",g[1].toString()),t.append("number-filters","marketCap")),u&&u[0]&&u[1]&&(t.append("number-filter-starts",u[0].toString()),t.append("number-filter-ends",u[1].toString()),t.append("number-filters","traders")),h&&h[0]&&h[1]&&(t.append("number-filter-starts",h[0].toString()),t.append("number-filter-ends",h[1].toString()),t.append("number-filters","totalSupply")),n&&n.length&&S&&S.length&&(this.addArrParam(t,"orders",n),this.addArrParam(t,"order-directions",S));const $=await d.get(`${this._apiUrl}/game-hub/nft-collections`,{params:t,signal:w});return w.aborted?{dataList:[],pageNum:0,pageSize:0,totalPage:0,totalNum:0}:$.data},this.games=async({pageNum:a,pageSize:e,chains:i,collectionIds:s,keywords:l,devices:o,status:b,genre:f,ratingRange:g,orders:m,orderDirections:u},h)=>{const n=this.addPagingParams({pageNum:a,pageSize:e});l&&n.append("keywords",l),s&&s.length&&this.addArrParam(n,"nft-collection-ids",s);const S=[],P=[],w=($,U)=>{U.length&&(S.push($),P.push(U.join(",")))};w("devices",o),w("status",b),w("genre",f),S.length&&P.length&&(this.addArrParam(n,"string-filters",S),this.addArrParam(n,"string-values",P)),g&&g[0]&&g[1]&&(this.addArrParam(n,"number-filter-starts",[g[0]]),this.addArrParam(n,"number-filter-ends",[g[1]]),this.addArrParam(n,"number-filters",["rating"])),m&&m.length&&u&&u.length&&(this.addArrParam(n,"orders",m),this.addArrParam(n,"order-directions",u)),this.addArrParam(n,"block-chains",i);const t=await d.get(`${this._apiUrl}/game-hub/games`,{params:n,signal:h});return h.aborted?{dataList:[],pageNum:0,pageSize:0,totalNum:0,totalPage:0}:t.data},this.gameDetail=async({gameUri:a},e)=>(await d.get(`${this._apiUrl}/game-hub/games/${a}`,c(!1,e,void 0))).data,this.nftDetail=async({nftCollectionId:a},e)=>(await d.get(`${this._apiUrl}/game-hub/nft-collections/${a}`,c(!1,e))).data,this.nftDetailByAddress=async({collectionAddress:a},e)=>(await d.get(`${this._apiUrl}/game-hub/nft-collections/address/${a}`,c(!1,e))).data,this.getSearch=async({keywords:a,url:e,pageSize:i,pageNum:s},l)=>{const o=this.addPagingParams({pageSize:i,pageNum:s});return a&&o.append("keywords",a),(await d.get(`${this._apiUrl}/game-hub/${e}`,{params:o,signal:l})).data},this.likeGame=async({gameUri:a,action:e},i)=>{const s=new URLSearchParams([["action",`${e}`]]);await d.put(`${this._apiUrl}/game-hub/games/${a}/like`,null,c(!0,i,s))},this.likeReview=async({gameUri:a,reviewId:e,action:i},s)=>{const l=new URLSearchParams([["action",`${i}`]]);await d.put(`${this._apiUrl}/game-hub/${a}/reviews/${e}/like`,null,c(!0,s,l))},this.saveReview=({content:a,gameUri:e},i)=>d.put(`${this._apiUrl}/game-hub/games/${e}/reviews`,{content:a},c(!0,i,void 0)),this.saveFeedback=({gameUri:a,isGameFun:e,isGameProfitable:i,rating:s},l)=>{const o=new URLSearchParams([["isGameFun",`${e}`],["isGameProfitable",`${i}`],["rating",`${s}`]]);return d.put(`${this._apiUrl}/game-hub/games/${a}/feedback`,null,c(!0,l,o))},this.getReviews=async({pageNum:a,pageSize:e,gameUri:i},s)=>{const l=this.addPagingParams({pageSize:e,pageNum:a});return(await d.get(`${this._apiUrl}/game-hub/games/${i}/reviews`,c(!1,s,l))).data},this.getCurrentUserReview=async(a,e)=>(await d.get(`${this._apiUrl}/game-hub/games/${a}/reviews/cur-user-review`,c(!0,e))).data,this._apiUrl=p}addArrParam(p,a,e){e.length&&e.forEach(i=>{p.append(a,i.toString())})}addPagingParams({pageNum:p,pageSize:a},e){return e=e||new URLSearchParams,e.append("page-num",`${p}`),e.append("page-size",`${a}`),e}}var v=(r=>(r.Live="Live",r.Alpha="Alpha",r.Beta="Beta",r.Development="Development",r.Cancelled="Cancelled",r.Presale="Presale",r))(v||{}),y=(r=>(r.Toturial="Toturial",r.Tournament="Tournament",r.Airdrop="Airdrop",r.IDO="IDO",r.INO="INO",r.MerchandiseSale="Merchandise Sale",r.DiscountOffer="Discount Offer",r))(y||{}),A=(r=>(r.SearchGames="search-games",r.searchNFTCollections="search-nft-collections",r))(A||{});exports.GameStatusEnum=v,exports.MissionType=y,exports.OortClient=k,exports.SearchGameHubType=A;
//# sourceMappingURL=index.cjs.js.map
